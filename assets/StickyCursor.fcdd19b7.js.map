{"version":3,"file":"StickyCursor.fcdd19b7.js","sources":["../../src/components/StickyCursor/StickyCursor.jsx"],"sourcesContent":["/**\n * @file StickyCursor.js\n */\nimport { memo, Children, useRef, isValidElement } from 'react'\nimport { useCursorStyle } from '@fomolol/tacklebox'\n\nexport const StickyCursor = ({ children: childrenProp, sticky = true }) => {\n  const childRef = useRef(null)\n  const { lockCursorPosition } = useCursorStyle()\n\n  const children = Children.map(childrenProp, (child) => {\n    if (!isValidElement(child)) {\n      return null\n    }\n\n    const { onMouseEnter, onMouseLeave } = child.props\n\n    const handleMouseEnter = (event) => {\n      if (!childRef.current) return\n\n      const position = childRef.current.getBoundingClientRect()\n\n      const x = position.width / 2 + position.left\n      const y = position.height / 2 + position.top\n      lockCursorPosition({ x, y })\n\n      if (onMouseEnter) {\n        onMouseEnter(event)\n      }\n    }\n\n    const handleMouseLeave = (event) => {\n      if (!childRef.current) return\n\n      lockCursorPosition(null)\n\n      if (onMouseLeave) {\n        onMouseLeave(event)\n      }\n    }\n\n    const handleRef = (node) => {\n      // Keep your own reference\n      childRef.current = node\n\n      // Call the original ref, if any\n      const { ref } = child\n\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref !== null) {\n        ref.current = node\n      }\n    }\n\n    return cloneElement(child, {\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      ref: handleRef,\n    })\n  })\n\n  return sticky ? children : childrenProp\n}\n\nexport default memo(StickyCursor)\n"],"names":["StickyCursor","__name","children","childrenProp","sticky","childRef","useRef","lockCursorPosition","useCursorStyle","Children","map","child","isValidElement","onMouseEnter","onMouseLeave","props","handleMouseEnter","event","current","position","getBoundingClientRect","x","width","left","y","height","top","handleMouseLeave","handleRef","node","ref","cloneElement","memo"],"mappings":"+JAMO,MAAMA,EAAeC,EAAA,CAAC,CAAEC,SAAUC,EAAcC,OAAAA,EAAS,EAAK,IAAM,CACnEC,MAAAA,EAAWC,iBAAO,IAAI,EACtB,CAAEC,mBAAAA,GAAuBC,EAAgB,EAEzCN,EAAWO,EAAAA,QAAAA,SAASC,IAAIP,EAAyBQ,GAAA,CACjD,GAAA,CAACC,EAAAA,QAAAA,eAAeD,CAAK,EAChB,OAAA,KAGH,KAAA,CAAEE,aAAAA,EAAcC,aAAAA,CAAAA,EAAiBH,EAAMI,MAEvCC,EAAoBC,EAAUA,GAAA,CAClC,GAAI,CAACZ,EAASa,QAAS,OAEjBC,MAAAA,EAAWd,EAASa,QAAQE,sBAAuB,EAEnDC,EAAIF,EAASG,MAAQ,EAAIH,EAASI,KAClCC,EAAIL,EAASM,OAAS,EAAIN,EAASO,IACtBnB,EAAA,CAAEc,EAAGG,EAAAA,CAAAA,CAAG,EAEvBX,GACFA,EAAaI,CAAK,CACpB,EAXwBA,oBAcpBU,EAAoBV,EAAUA,GAAA,CAC9B,CAACZ,EAASa,UAEdX,EAAmB,IAAI,EAEnBO,GACFA,EAAaG,CAAK,EACpB,EAPwBA,oBAUpBW,EAAaC,EAASA,GAAA,CAE1BxB,EAASa,QAAUW,EAGb,KAAA,CAAEC,IAAAA,CAAQnB,EAAAA,EAEZ,OAAOmB,GAAQ,WACjBA,EAAID,CAAI,EACCC,IAAQ,OACjBA,EAAIZ,QAAUW,EAChB,EAXiBA,aAcnB,OAAOE,aAAapB,EAAO,CACzBE,aAAcG,EACdF,aAAca,EACdG,IAAKF,CAAAA,CACN,CAAA,CACF,EAED,OAAOxB,EAASF,EAAWC,CAC7B,EAzD4B,gBA2Db6B,EAAAA,EAAAA,QAAAA,KAAKhC,CAAY"}