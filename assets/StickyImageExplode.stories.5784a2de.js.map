{"version":3,"file":"StickyImageExplode.stories.5784a2de.js","sources":["../../src/components/StickyImageExplode/StickyImageExplode.jsx"],"sourcesContent":["/**\n * @file StickyImageExplode.js\n */\nimport { useRef } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  useScroll,\n  useTransform,\n  motion,\n  useMotionTemplate,\n} from 'framer-motion'\n\nimport s from './StickyImageExplode.module.css'\n\nconst Placeholder = () => {\n  return (\n    <div\n      className=\"absolute bottom-0 left-0 w-full pointer-events-none\"\n      style={{\n        height: `calc(100% - 100vh)`,\n      }}\n    />\n  )\n}\n\nconst ImageContainer = ({\n  className = 'bg-[#4E6868] bg-[url(\"/img/fpo-bg1.jpeg\")]',\n  borderRadius = '20vw',\n  transform = 'translate(0px, 244.543px) scale(0.26, 0.26)',\n  children = '',\n}) => {\n  return (\n    <motion.div\n      className={`sticky left-[5px] top-[5px] bg-cover bg-center bg-no-repeat duration-200 ease-[cubic-bezier(0,1,0,1)] will-change-transform ${className}`}\n      style={{\n        borderRadius,\n        transform,\n        transformOrigin: 'top center',\n        width: `calc(100% - 10px)`,\n        height: `calc(150rem - 10px)`,\n      }}\n    >\n      {children}\n    </motion.div>\n  )\n}\n\nconst ImageContainerInner = ({\n  borderRadius = '20vw',\n  transform = 'rotate(25deg) scale(0.63, 0.63)',\n  className = 'bg-[#4E6868] bg-[url(\"/img/fpo-bg1.jpeg\")]',\n}) => {\n  return (\n    <motion.div\n      className={`absolute left-0 top-0 h-full w-full origin-center bg-cover bg-center bg-no-repeat duration-200 ease-[cubic-bezier(0,1,0,1)] will-change-transform ${className}`}\n      style={{\n        borderRadius,\n        transform,\n      }}\n    />\n  )\n}\n\nconst StickyImageExplode = ({\n  tagName: Tag = 'div',\n  className = 'absolute flex flex-col items-center justify-center w-full h-screen overflow-hidden',\n  variant = 'default',\n}) => {\n  const ref = useRef()\n  const { scrollYProgress } = useScroll({\n    container: ref,\n  })\n  const borderRadiusT = useTransform(scrollYProgress, [0, 0.35], [20, 2])\n  const borderRadius = useMotionTemplate`${borderRadiusT}vw`\n\n  const scaleContainerT = useTransform(scrollYProgress, [0, 0.35], [0.26, 1])\n  const translateContainerT = useTransform(\n    scrollYProgress,\n    [0, 0.35],\n    [244.543, 0]\n  )\n  const scaleInner0T = useTransform(\n    scrollYProgress,\n    [0, 0.35, 0.55],\n    [0.63, 1, 0.85]\n  )\n  const scaleInner1T = useTransform(\n    scrollYProgress,\n    [0, 0.35, 0.55],\n    [0.37, 1, 0.75]\n  )\n  const scaleInner2T = useTransform(\n    scrollYProgress,\n    [0, 0.35, 0.55],\n    [0, 1, 0.65]\n  )\n\n  const rotateInner0T = useTransform(\n    scrollYProgress,\n    [0, 0.5],\n    ['25deg', '0deg']\n  )\n  const rotateInner1T = useTransform(\n    scrollYProgress,\n    [0, 0.5],\n    ['50deg', '0deg']\n  )\n  const rotateInner2T = useTransform(\n    scrollYProgress,\n    [0, 0.5],\n    ['75deg', '0deg']\n  )\n\n  const transformContainer = useMotionTemplate`translate(0px, ${translateContainerT}px) scale(${scaleContainerT}, ${scaleContainerT})`\n  const transformInner0 = useMotionTemplate`translate3d(0px, 0px, 0px) rotate(${rotateInner0T}) scale(${scaleInner0T}, ${scaleInner0T})`\n  const transformInner1 = useMotionTemplate`translate3d(0px, 0px, 0px) rotate(${rotateInner1T}) scale(${scaleInner1T}, ${scaleInner1T})`\n  const transformInner2 = useMotionTemplate`translate3d(0px, 0px, 0px) rotate(${rotateInner2T}) scale(${scaleInner2T}, ${scaleInner2T})`\n\n  return (\n    <Tag\n      className={`${s.sticky_image_explode} ${\n        s[`sticky_image_explode__${variant}`]\n      } ${className}`}\n    >\n      <div className=\"relative w-full h-full\">\n        <div\n          className=\"absolute top-0 left-0 w-full h-screen overflow-scroll overflow-touch snap-y snap-proximity\"\n          ref={ref}\n        >\n          {/* Handles adjusting the height for scroll */}\n          <Placeholder />\n          <ImageContainer\n            borderRadius={borderRadius}\n            transform={transformContainer}\n          >\n            <ImageContainerInner\n              borderRadius={borderRadius}\n              transform={transformInner0}\n            />\n            <ImageContainerInner\n              borderRadius={borderRadius}\n              transform={transformInner1}\n            />\n            <ImageContainerInner\n              borderRadius={borderRadius}\n              transform={transformInner2}\n            />\n          </ImageContainer>\n        </div>\n      </div>\n      <style jsx>{`\n        .overflow-touch {\n          -webkit-overflow-scrolling: touch;\n        }\n      `}</style>\n    </Tag>\n  )\n}\n\nStickyImageExplode.propTypes = {\n  tagName: PropTypes.string,\n  className: PropTypes.string,\n  variant: PropTypes.oneOf(['default']),\n  children: PropTypes.node,\n}\n\nexport default StickyImageExplode\n"],"names":["Placeholder","__name","height","ImageContainer","className","borderRadius","transform","children","_jsx","motion","transformOrigin","width","ImageContainerInner","StickyImageExplode","tagName","Tag","variant","ref","useRef","scrollYProgress","useScroll","container","borderRadiusT","useTransform","useMotionTemplate","scaleContainerT","translateContainerT","scaleInner0T","scaleInner1T","scaleInner2T","rotateInner0T","rotateInner1T","rotateInner2T","transformContainer","transformInner0","transformInner1","transformInner2","s","sticky_image_explode","propTypes","PropTypes","string","oneOf","node","StickyImageExplode$1"],"mappings":"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"}