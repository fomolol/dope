{"version":3,"file":"UnsupportedOrientation.stories.0536c7a3.js","sources":["../../src/components/UnsupportedOrientation/UnsupportedOrientation.jsx"],"sourcesContent":["/**\n * @file UnsupportedOrientation.js\n */\nimport { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  osName,\n  isTablet,\n  isMobileOnly,\n  useMobileOrientation,\n} from 'react-device-detect'\nimport { useWindowSize } from '@fomolol/tacklebox'\n\nimport styles from './UnsupportedOrientation.module.css'\n\nconst UnsupportedOrientation = ({\n  tagName: Tag = 'div',\n  className = 'fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center w-screen min-h-screen',\n  variant = 'default',\n}) => {\n  const { height, width } = useWindowSize()\n  const [supportedDevice, setSupportedDevice] = useState(true)\n  const { isLandscape } = useMobileOrientation()\n\n  useEffect(() => {\n    // Window pixel ratio\n    const dpr = window.devicePixelRatio\n    // to be safe we default to true\n    // so we only show unsupported screen if fails specific tests\n    let supported = true\n    // if (osName === 'iOS' && !isDesktop && !isTablet) {\n    //   if (parseFloat(osVersion) < 12) {\n    //     supported = false;\n    //   }\n    // }\n\n    if (osName === 'iOS') {\n      if (isMobileOnly && isLandscape) {\n        supported = false\n      }\n      // // iPhone 7 viewport area.\n      // if (height && height < 667 && dpr < 3) {\n      //   supported = false;\n      // }\n    }\n\n    if (isTablet && isLandscape) {\n      supported = false\n    }\n\n    // set body style to lock mobile down\n    if (!supported) {\n      document.body.style.overflow = 'hidden'\n      document.body.style.pointerEvents = 'none'\n    } else {\n      document.body.style.overflow = 'auto'\n      document.body.style.pointerEvents = 'auto'\n    }\n\n    // set state for UnsupportedOrientation component visibility\n    setSupportedDevice(supported)\n  }, [height, width, isLandscape])\n\n  return !supportedDevice && (isMobileOnly || isTablet) ? (\n    <Tag\n      className={`${styles.unsupported_orientation} ${\n        styles[`unsupported_orientation__${variant}`]\n      } ${className}`}\n      style={{\n        height: `${height}px`,\n        minHeight: `${height}px`,\n        zIndex: 10000,\n      }}\n    >\n      <div className=\"relative flex flex-col items-center justify-center flex-grow w-screen h-screen text-center bg-black\">\n        <div className=\"flex flex-col items-center justify-center w-full h-full leading-none tracking-wide\">\n          <div className=\"mb-8 h-[71px] w-[119px] lg:mb-40 lg:h-[71px] lg:w-[119px]\">\n            <svg\n              width=\"119\"\n              height=\"71\"\n              viewBox=\"0 0 119 71\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <g opacity=\"0.2\">\n                <rect\n                  x=\"118.5\"\n                  y=\"30.502\"\n                  width=\"39\"\n                  height=\"69\"\n                  rx=\"5.5\"\n                  transform=\"rotate(90 118.5 30.502)\"\n                  stroke=\"white\"\n                />\n                <ellipse\n                  cx=\"61.25\"\n                  cy=\"50.0018\"\n                  rx=\"3.2\"\n                  ry=\"3.5\"\n                  transform=\"rotate(90 61.25 50.0018)\"\n                  fill=\"white\"\n                />\n              </g>\n              <rect\n                x=\"0.5\"\n                y=\"0.506836\"\n                width=\"39\"\n                height=\"69\"\n                rx=\"5.5\"\n                stroke=\"white\"\n              />\n              <ellipse cx=\"20\" cy=\"57.7568\" rx=\"3.2\" ry=\"3.5\" fill=\"white\" />\n            </svg>\n          </div>\n          <p className=\"text-center font-sora text-[12px] normal-case text-white lg:text-[23px]\">\n            Site is best viewed in portrait mode\n          </p>\n        </div>\n      </div>\n    </Tag>\n  ) : (\n    <></>\n  )\n}\n\nUnsupportedOrientation.propTypes = {\n  tagName: PropTypes.string,\n  className: PropTypes.string,\n  variant: PropTypes.oneOf(['default']),\n  children: PropTypes.node,\n}\n\nexport default UnsupportedOrientation\n"],"names":["UnsupportedOrientation","__name","tagName","Tag","className","variant","height","width","useWindowSize","supportedDevice","setSupportedDevice","useState","isLandscape","useMobileOrientation","useEffect","supported","osName","isMobileOnly","isTablet","body","style","overflow","pointerEvents","styles","unsupported_orientation","minHeight","zIndex","_jsx","_jsxs","_Fragment","propTypes","PropTypes","string","oneOf","children","node","UnsupportedOrientation$1"],"mappings":"2sBAeAA,EAAAC,EAAA,CAAA,CACAC,QAAAC,EAAA,MACAC,UAAAA,EAAA,6FACAC,QAAAA,EAAA,SACA,IAAA,CACA,KAAA,CAAAC,OAAAA,EAAAC,MAAAA,GAAAC,EAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,mBAAA,EAAA,EACA,CAAAC,YAAAA,GAAAC,EAAA,EAEAC,iBAAA,IAAA,CAKA,IAAAC,EAAA,GAOAC,IAAA,OACAC,GAAAL,IACAG,EAAA,IAQAG,GAAAN,IACAG,EAAA,IAIAA,GAIAI,SAAAA,KAAAC,MAAAC,SAAA,OACAF,SAAAA,KAAAC,MAAAE,cAAA,SAJAH,SAAAA,KAAAC,MAAAC,SAAA,SACAF,SAAAA,KAAAC,MAAAE,cAAA,QAOAZ,EAAAK,CAAA,CACA,EAAA,CAAAT,EAAAC,EAAAK,CAAA,CAAA,EAEA,CAAAH,IAAAQ,GAAAC,KACAf,EAAA,CACA,UAAA,GAAAoB,EAAAC,2BACAD,EAAA,4BAAAlB,QACAD,IACA,MAAA,CACAE,OAAA,GAAAA,MACAmB,UAAA,GAAAnB,MACAoB,OAAA,GACA,EAAA,WAEA,MAAA,CAAA,UAAA,sGAAA,WACA,MAAA,CAAA,UAAA,qFAAA,SACA,CAAAC,EAAA,MAAA,CAAA,UAAA,4DAAA,WACA,MAAA,CACA,MAAA,MACA,OAAA,KACA,QAAA,aACA,KAAA,OACA,MAAA,6BAAA,SAEA,CAAAC,EAAA,IAAA,CAAA,QAAA,MAAA,SACA,CAAAD,EAAA,OAAA,CACA,EAAA,QACA,EAAA,SACA,MAAA,KACA,OAAA,KACA,GAAA,MACA,UAAA,0BACA,OAAA,OAAA,CAAA,EAEAA,EAAA,UAAA,CACA,GAAA,QACA,GAAA,UACA,GAAA,MACA,GAAA,MACA,UAAA,2BACA,KAAA,OAAA,CACA,CAAA,CAAA,CAAA,EAEAA,EAAA,OAAA,CACA,EAAA,MACA,EAAA,WACA,MAAA,KACA,OAAA,KACA,GAAA,MACA,OAAA,OAAA,CAAA,EAEAA,EAAA,UAAA,CAAA,GAAA,KAAA,GAAA,UAAA,GAAA,MAAA,GAAA,MAAA,KAAA,OAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACA,EAEAA,EAAA,IAAA,CAAA,UAAA,0EAAA,SAAA,sCAAA,CAEA,CAAA,CAAA,CAAA,CAAA,CACA,CACA,CAAA,EAIAA,EAAAE,EAAA,CAAA,CAAA,CACA,EA5GA,0BA8GA7B,EAAA8B,UAAA,CACA5B,QAAA6B,EAAAC,QAAAA,OACA5B,UAAA2B,EAAAC,QAAAA,OACA3B,QAAA0B,EAAAA,QAAAE,MAAA,CAAA,SAAA,CAAA,EACAC,SAAAH,EAAAI,QAAAA,IACA,EAEA,MAAAC,EAAApC;;;;;;;;;;;;;;;;;;;;"}