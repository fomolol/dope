var F=Object.defineProperty;var n=(e,t)=>F(e,"name",{value:t,configurable:!0});import{r as u}from"./index.6015db55.js";import{p as y}from"./index.3c944792.js";import{a as N,b as O}from"./lib.3f83904a.js";import{L as S}from"./index.132c8052.js";import{b as w,F as R,j as l}from"./jsx-runtime.547177f5.js";import"./iframe.1f35fd3c.js";import"./script.3a7fbfff.js";import"./index.9cd4b3d6.js";import"./client.94e99853.js";import"./acorn.18367aad.js";import"./use-motion-template.e5260baa.js";import"./animate.aee8590b.js";import"./tslib.ee338f4c.js";/*! npm.im/intervalometer */function U(e,t,r,a){var o,i;function d(s){o=t(d,a),e(s-(i||s)),i=s}return n(d,"loop"),{start:n(function(){o||d(0)},"start"),stop:n(function(){r(o),o=null,i=0},"stop")}}n(U,"intervalometer");function C(e){return U(e,requestAnimationFrame,cancelAnimationFrame)}n(C,"frameIntervalometer");/*! npm.im/iphone-inline-video 2.2.2 */function b(e,t,r){function a(o){(!r||r(e,t))&&o.stopImmediatePropagation()}return n(a,"handler"),e.addEventListener(t,a),a}n(b,"preventEvent");function c(e,t,r,a){function o(){return r[t]}n(o,"get");function i(d){r[t]=d}n(i,"set"),a&&i(e[t]),Object.defineProperty(e,t,{get:o,set:i})}n(c,"proxyProperty");function x(e,t,r){r.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}n(x,"proxyEvent");function p(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}n(p,"dispatchEventAsync");var z=typeof document=="object"&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,m="bfred-it:iphone-inline-video",f="bfred-it:iphone-inline-video:event",V="bfred-it:iphone-inline-video:nativeplay",j="bfred-it:iphone-inline-video:nativepause";function H(e){var t=new Audio;return x(e,"play",t),x(e,"playing",t),x(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}n(H,"getAudioFromVideo");var A=[],M=0,T;function g(e,t,r){(T||0)+200<Date.now()&&(e[f]=!0,T=Date.now()),r||(e.currentTime=t),A[++M%3]=t*100|0/100}n(g,"setTime");function E(e){return e.driver.currentTime>=e.video.duration}n(E,"isPlayerEnded");function W(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&E(t)&&(t.driver.currentTime=0)),g(t.video,t.driver.currentTime)):t.video.networkState===t.video.NETWORK_IDLE&&t.video.buffered.length===0&&t.video.load(),t.video.ended&&(delete t.video[f],t.video.pause(!0))}n(W,"update");function $(){var e=this,t=e[m];if(e.webkitDisplayingFullscreen){e[V]();return}t.driver.src!=="data:"&&t.driver.src!==e.src&&(g(e,0,!0),t.driver.src=e.src),e.paused&&(t.paused=!1,e.buffered.length===0&&e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(p(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&p(e,"playing")))}n($,"play");function G(e){var t=this,r=t[m];r.driver.pause(),r.updater.stop(),t.webkitDisplayingFullscreen&&t[j](),!(r.paused&&!e)&&(r.paused=!0,r.hasAudio||p(t,"pause"),t.ended&&!t.webkitDisplayingFullscreen&&(t[f]=!0,p(t,"ended")))}n(G,"pause");function K(e,t){var r={};e[m]=r,r.paused=!0,r.hasAudio=t,r.video=e,r.updater=C(W.bind(r)),t?r.driver=H(e):(e.addEventListener("canplay",function(){e.paused||p(e,"playing")}),r.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){r.driver.paused=!0},play:function(){r.driver.paused=!1,E(r)&&g(e,0)},get ended(){return E(r)}}),e.addEventListener("emptied",function(){var a=!r.driver.src||r.driver.src==="data:";r.driver.src&&r.driver.src!==e.src&&(g(e,0,!0),r.driver.src=e.src,a||!t&&e.autoplay?r.driver.play():r.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?t&&r.driver.buffered.length===0&&r.driver.load():(e.pause(),e[V]())}),t&&(e.addEventListener("webkitendfullscreen",function(){r.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){A.indexOf(e.currentTime*100|0/100)<0&&(r.driver.currentTime=e.currentTime)}))}n(K,"addPlayer");function L(e){var t=e[f];return delete e[f],!e.webkitDisplayingFullscreen&&!t}n(L,"preventWithPropOrFullscreen");function Y(e){var t=e[m];e[V]=e.play,e[j]=e.pause,e.play=$,e.pause=G,c(e,"paused",t.driver),c(e,"muted",t.driver,!0),c(e,"playbackRate",t.driver,!0),c(e,"ended",t.driver),c(e,"loop",t.driver,!0),b(e,"seeking",function(r){return!r.webkitDisplayingFullscreen}),b(e,"seeked",function(r){return!r.webkitDisplayingFullscreen}),b(e,"timeupdate",L),b(e,"ended",L)}n(Y,"overloadAPI");function J(e,t){if(t===void 0&&(t={}),!e[m]&&!(!t.everywhere&&(!z||!(t.iPad||t.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent)))){e.pause();var r=e.autoplay;e.autoplay=!1,K(e,!e.muted),Y(e),e.classList.add("IIV"),e.muted&&r&&(e.play(),e.addEventListener("playing",n(function a(){e.autoplay=!0,e.removeEventListener("playing",a)},"restoreAutoplay"))),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}n(J,"enableInlineVideo");const h=n(({className:e="absolute inset-0 z-0 object-cover w-screen h-screen min-h-screen overflow-hidden min-w-screen mix-blend-normal brightness-125",src:t={mobile:"/video/2890361953_mobile",tablet:"/video/2890361919_ipad_768x1024_1",desktop:"/video/2890361919_desktop"},style:r={},loop:a=!0,forcePlay:o=!1})=>{const i=u.exports.useRef(),[d,s]=u.exports.useState(t==null?void 0:t.desktop);u.exports.useEffect(()=>{i!=null&&i.current&&J(i.current,{iPad:!0})},[d,i]);let{mobile:D,tablet:v,desktop:P}=t;v||(v=P);const q=n(Q=>{},"onLoadedData");S(()=>{N&&s(D),O&&s(v)},[t,P,D,v]);const _=u.exports.useCallback(()=>{!i||!i.current||a&&i.current.play()},[a]),k=u.exports.useCallback(()=>{!i||!i.current||a||(i.current.currentTime=i.current.duration-.5,i.current.pause())},[a]);return u.exports.useEffect(()=>(o&&(window.addEventListener("focus",_),window.addEventListener("blur",k)),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",k)}),[o,k,_]),w(R,{children:[w("video",{ref:i,playsInline:!0,autoPlay:!0,muted:!0,loop:a,className:e,style:r,onLoadedData:q,children:[l("source",{src:`${d}.mp4`,type:"video/mp4"}),l("p",{className:"flex items-center justify-center text-xl text-white max-w-1/2",children:"Your browser does not support the video tag."})]}),l("div",{className:"absolute inset-0 flex items-center justify-center font-sans",children:w("p",{className:"flex h-[10vw] w-[50vw] flex-col items-center justify-center bg-black text-center leading-none",children:[l("span",{className:"text-[7rem] font-black leading-none tracking-widest text-white",children:"CENSORED"}),l("span",{className:"text-[1.5rem] font-light tracking-normal text-white/50",children:"(watermarks)"})]})})]})},"VideoBackground");h.propTypes={src:y.exports.object,style:y.exports.object,loop:y.exports.bool,className:y.exports.string};const B=h;h.__docgenInfo={description:"",methods:[],displayName:"VideoBackground",props:{className:{defaultValue:{value:"'absolute inset-0 z-0 object-cover w-screen h-screen min-h-screen overflow-hidden min-w-screen mix-blend-normal brightness-125'",computed:!1},type:{name:"string"},required:!1,description:""},src:{defaultValue:{value:`{
  mobile: '/video/2890361953_mobile',
  tablet: '/video/2890361919_ipad_768x1024_1',
  desktop: '/video/2890361919_desktop',
}`,computed:!1},type:{name:"object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},loop:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},forcePlay:{defaultValue:{value:"false",computed:!1},required:!1}}};h.__docgenInfo={description:"",methods:[],displayName:"VideoBackground",props:{className:{defaultValue:{value:"'absolute inset-0 z-0 object-cover w-screen h-screen min-h-screen overflow-hidden min-w-screen mix-blend-normal brightness-125'",computed:!1},type:{name:"string"},required:!1,description:""},src:{defaultValue:{value:`{
  mobile: '/video/2890361953_mobile',
  tablet: '/video/2890361919_ipad_768x1024_1',
  desktop: '/video/2890361919_desktop',
}`,computed:!1},type:{name:"object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},loop:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},forcePlay:{defaultValue:{value:"false",computed:!1},required:!1}}};const pe={title:"VideoBackground",component:B,parameters:{storySource:{source:`/**
 * VideoBackground.jsx
 */
 import * as React from 'react';

 // Component(s)
 import VideoBackground from './VideoBackground';

 export default {
   title: 'VideoBackground',
   component: VideoBackground,
   // Sets the layout parameter component wide.
   parameters: {
     layout: 'centered',
   },
 };

 export const Default = () => <VideoBackground />;

 Default.storyName = 'default';
;Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"};Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"}`,locationsMap:{default:{startLoc:{col:24,line:18},endLoc:{col:49,line:18},startBody:{col:24,line:18},endBody:{col:49,line:18}}}},layout:"centered"}},I=n(()=>l(B,{}),"Default");I.storyName="default";I.__docgenInfo={description:"",methods:[],displayName:"Default"};I.__docgenInfo={description:"",methods:[],displayName:"Default"};const fe=["Default"];export{I as Default,fe as __namedExportsOrder,pe as default};
//# sourceMappingURL=VideoBackground.stories.1aa7b389.js.map
