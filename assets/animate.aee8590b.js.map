{"version":3,"file":"animate.aee8590b.js","sources":["../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/is-browser.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/use-constant.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/value/utils/is-motion-value.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/utils.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/index.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/numbers/units.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/utils.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hsla.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/rgba.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/hex.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/color/index.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/complex/index.mjs","../../node_modules/.pnpm/style-value-types@5.1.2/node_modules/style-value-types/dist/es/complex/filter.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/render/dom/value-types/type-int.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/render/dom/value-types/number.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/utils/is-keyframes-target.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/resolve-value.mjs","../../node_modules/.pnpm/hey-listen@1.0.8/node_modules/hey-listen/dist/hey-listen.es.js","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/clamp.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/find-spring.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/spring.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/progress.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/hsla-to-rgba.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-color.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/inc.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/pipe.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/mix-complex.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/interpolate.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/utils.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/index.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/keyframes.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/generators/decay.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/detect-animation-from-options.mjs","../../node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/on-next-frame.mjs","../../node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/create-render-step.mjs","../../node_modules/.pnpm/framesync@6.1.2/node_modules/framesync/dist/es/index.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/utils/elapsed.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/index.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/utils/velocity-per-second.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/animations/inertia.mjs","../../node_modules/.pnpm/popmotion@11.0.5/node_modules/popmotion/dist/es/easing/cubic-bezier.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/time-conversion.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/utils/easing.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/utils/is-animatable.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/utils/default-transitions.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/render/dom/value-types/defaults.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/render/dom/value-types/animatable-none.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/use-instant-transition-state.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/delay.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/utils/transitions.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/array.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/subscription-manager.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/value/index.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/animation/animate.mjs"],"sourcesContent":["import { createContext } from 'react';\n\n/**\n * @public\n */\nconst MotionConfigContext = createContext({\n    transformPagePoint: (p) => p,\n    isStatic: false,\n    reducedMotion: \"never\",\n});\n\nexport { MotionConfigContext };\n","const isBrowser = typeof document !== \"undefined\";\n\nexport { isBrowser };\n","import { useLayoutEffect, useEffect } from 'react';\nimport { isBrowser } from './is-browser.mjs';\n\nconst useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n","import { useRef } from 'react';\n\n/**\n * Creates a constant value over the lifecycle of a component.\n *\n * Even if `useMemo` is provided an empty array as its final argument, it doesn't offer\n * a guarantee that it won't re-run for performance reasons later on. By using `useConstant`\n * you can ensure that initialisers don't execute twice or more.\n */\nfunction useConstant(init) {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        ref.current = init();\n    }\n    return ref.current;\n}\n\nexport { useConstant };\n","const isMotionValue = (value) => !!(value === null || value === void 0 ? void 0 : value.getVelocity);\n\nexport { isMotionValue };\n","const clamp = (min, max) => (v) => Math.max(Math.min(v, max), min);\nconst sanitize = (v) => (v % 1 ? Number(v.toFixed(5)) : v);\nconst floatRegex = /(-)?([\\d]*\\.?[\\d])+/g;\nconst colorRegex = /(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))/gi;\nconst singleColorRegex = /^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\\((-?[\\d\\.]+%?[,\\s]+){2}(-?[\\d\\.]+%?)\\s*[\\,\\/]?\\s*[\\d\\.]*%?\\))$/i;\nfunction isString(v) {\n    return typeof v === 'string';\n}\n\nexport { clamp, colorRegex, floatRegex, isString, sanitize, singleColorRegex };\n","import { clamp } from '../utils.mjs';\n\nconst number = {\n    test: (v) => typeof v === 'number',\n    parse: parseFloat,\n    transform: (v) => v,\n};\nconst alpha = Object.assign(Object.assign({}, number), { transform: clamp(0, 1) });\nconst scale = Object.assign(Object.assign({}, number), { default: 1 });\n\nexport { alpha, number, scale };\n","import { isString } from '../utils.mjs';\n\nconst createUnitType = (unit) => ({\n    test: (v) => isString(v) && v.endsWith(unit) && v.split(' ').length === 1,\n    parse: parseFloat,\n    transform: (v) => `${v}${unit}`,\n});\nconst degrees = createUnitType('deg');\nconst percent = createUnitType('%');\nconst px = createUnitType('px');\nconst vh = createUnitType('vh');\nconst vw = createUnitType('vw');\nconst progressPercentage = Object.assign(Object.assign({}, percent), { parse: (v) => percent.parse(v) / 100, transform: (v) => percent.transform(v * 100) });\n\nexport { degrees, percent, progressPercentage, px, vh, vw };\n","import { isString, singleColorRegex, floatRegex } from '../utils.mjs';\n\nconst isColorString = (type, testProp) => (v) => {\n    return Boolean((isString(v) && singleColorRegex.test(v) && v.startsWith(type)) ||\n        (testProp && Object.prototype.hasOwnProperty.call(v, testProp)));\n};\nconst splitColor = (aName, bName, cName) => (v) => {\n    if (!isString(v))\n        return v;\n    const [a, b, c, alpha] = v.match(floatRegex);\n    return {\n        [aName]: parseFloat(a),\n        [bName]: parseFloat(b),\n        [cName]: parseFloat(c),\n        alpha: alpha !== undefined ? parseFloat(alpha) : 1,\n    };\n};\n\nexport { isColorString, splitColor };\n","import { alpha } from '../numbers/index.mjs';\nimport { percent } from '../numbers/units.mjs';\nimport { sanitize } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst hsla = {\n    test: isColorString('hsl', 'hue'),\n    parse: splitColor('hue', 'saturation', 'lightness'),\n    transform: ({ hue, saturation, lightness, alpha: alpha$1 = 1 }) => {\n        return ('hsla(' +\n            Math.round(hue) +\n            ', ' +\n            percent.transform(sanitize(saturation)) +\n            ', ' +\n            percent.transform(sanitize(lightness)) +\n            ', ' +\n            sanitize(alpha.transform(alpha$1)) +\n            ')');\n    },\n};\n\nexport { hsla };\n","import { number, alpha } from '../numbers/index.mjs';\nimport { sanitize, clamp } from '../utils.mjs';\nimport { isColorString, splitColor } from './utils.mjs';\n\nconst clampRgbUnit = clamp(0, 255);\nconst rgbUnit = Object.assign(Object.assign({}, number), { transform: (v) => Math.round(clampRgbUnit(v)) });\nconst rgba = {\n    test: isColorString('rgb', 'red'),\n    parse: splitColor('red', 'green', 'blue'),\n    transform: ({ red, green, blue, alpha: alpha$1 = 1 }) => 'rgba(' +\n        rgbUnit.transform(red) +\n        ', ' +\n        rgbUnit.transform(green) +\n        ', ' +\n        rgbUnit.transform(blue) +\n        ', ' +\n        sanitize(alpha.transform(alpha$1)) +\n        ')',\n};\n\nexport { rgbUnit, rgba };\n","import { rgba } from './rgba.mjs';\nimport { isColorString } from './utils.mjs';\n\nfunction parseHex(v) {\n    let r = '';\n    let g = '';\n    let b = '';\n    let a = '';\n    if (v.length > 5) {\n        r = v.substr(1, 2);\n        g = v.substr(3, 2);\n        b = v.substr(5, 2);\n        a = v.substr(7, 2);\n    }\n    else {\n        r = v.substr(1, 1);\n        g = v.substr(2, 1);\n        b = v.substr(3, 1);\n        a = v.substr(4, 1);\n        r += r;\n        g += g;\n        b += b;\n        a += a;\n    }\n    return {\n        red: parseInt(r, 16),\n        green: parseInt(g, 16),\n        blue: parseInt(b, 16),\n        alpha: a ? parseInt(a, 16) / 255 : 1,\n    };\n}\nconst hex = {\n    test: isColorString('#'),\n    parse: parseHex,\n    transform: rgba.transform,\n};\n\nexport { hex };\n","import { isString } from '../utils.mjs';\nimport { hex } from './hex.mjs';\nimport { hsla } from './hsla.mjs';\nimport { rgba } from './rgba.mjs';\n\nconst color = {\n    test: (v) => rgba.test(v) || hex.test(v) || hsla.test(v),\n    parse: (v) => {\n        if (rgba.test(v)) {\n            return rgba.parse(v);\n        }\n        else if (hsla.test(v)) {\n            return hsla.parse(v);\n        }\n        else {\n            return hex.parse(v);\n        }\n    },\n    transform: (v) => {\n        return isString(v)\n            ? v\n            : v.hasOwnProperty('red')\n                ? rgba.transform(v)\n                : hsla.transform(v);\n    },\n};\n\nexport { color };\n","import { color } from '../color/index.mjs';\nimport { number } from '../numbers/index.mjs';\nimport { isString, floatRegex, colorRegex, sanitize } from '../utils.mjs';\n\nconst colorToken = '${c}';\nconst numberToken = '${n}';\nfunction test(v) {\n    var _a, _b, _c, _d;\n    return (isNaN(v) &&\n        isString(v) &&\n        ((_b = (_a = v.match(floatRegex)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = v.match(colorRegex)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0) > 0);\n}\nfunction analyse(v) {\n    if (typeof v === 'number')\n        v = `${v}`;\n    const values = [];\n    let numColors = 0;\n    const colors = v.match(colorRegex);\n    if (colors) {\n        numColors = colors.length;\n        v = v.replace(colorRegex, colorToken);\n        values.push(...colors.map(color.parse));\n    }\n    const numbers = v.match(floatRegex);\n    if (numbers) {\n        v = v.replace(floatRegex, numberToken);\n        values.push(...numbers.map(number.parse));\n    }\n    return { values, numColors, tokenised: v };\n}\nfunction parse(v) {\n    return analyse(v).values;\n}\nfunction createTransformer(v) {\n    const { values, numColors, tokenised } = analyse(v);\n    const numValues = values.length;\n    return (v) => {\n        let output = tokenised;\n        for (let i = 0; i < numValues; i++) {\n            output = output.replace(i < numColors ? colorToken : numberToken, i < numColors ? color.transform(v[i]) : sanitize(v[i]));\n        }\n        return output;\n    };\n}\nconst convertNumbersToZero = (v) => typeof v === 'number' ? 0 : v;\nfunction getAnimatableNone(v) {\n    const parsed = parse(v);\n    const transformer = createTransformer(v);\n    return transformer(parsed.map(convertNumbersToZero));\n}\nconst complex = { test, parse, createTransformer, getAnimatableNone };\n\nexport { complex };\n","import { complex } from './index.mjs';\nimport { floatRegex } from '../utils.mjs';\n\nconst maxDefaults = new Set(['brightness', 'contrast', 'saturate', 'opacity']);\nfunction applyDefaultFilter(v) {\n    let [name, value] = v.slice(0, -1).split('(');\n    if (name === 'drop-shadow')\n        return v;\n    const [number] = value.match(floatRegex) || [];\n    if (!number)\n        return v;\n    const unit = value.replace(number, '');\n    let defaultValue = maxDefaults.has(name) ? 1 : 0;\n    if (number !== value)\n        defaultValue *= 100;\n    return name + '(' + defaultValue + unit + ')';\n}\nconst functionRegex = /([a-z-]*)\\(.*?\\)/g;\nconst filter = Object.assign(Object.assign({}, complex), { getAnimatableNone: (v) => {\n        const functions = v.match(functionRegex);\n        return functions ? functions.map(applyDefaultFilter).join(' ') : v;\n    } });\n\nexport { filter };\n","import { number } from 'style-value-types';\n\nconst int = {\n    ...number,\n    transform: Math.round,\n};\n\nexport { int };\n","import { px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { int } from './type-int.mjs';\n\nconst numberValueTypes = {\n    // Border props\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    // Positioning props\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    // Spacing props\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    // Transform props\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    transformPerspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    // Misc\n    zIndex: int,\n    // SVG\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int,\n};\n\nexport { numberValueTypes };\n","const isKeyframesTarget = (v) => {\n    return Array.isArray(v);\n};\n\nexport { isKeyframesTarget };\n","import { isKeyframesTarget } from '../animation/utils/is-keyframes-target.mjs';\n\nconst isCustomValue = (v) => {\n    return Boolean(v && typeof v === \"object\" && v.mix && v.toValue);\n};\nconst resolveFinalValueInKeyframes = (v) => {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n};\n\nexport { isCustomValue, resolveFinalValueInKeyframes };\n","var warning = function () { };\r\nvar invariant = function () { };\r\nif (process.env.NODE_ENV !== 'production') {\r\n    warning = function (check, message) {\r\n        if (!check && typeof console !== 'undefined') {\r\n            console.warn(message);\r\n        }\r\n    };\r\n    invariant = function (check, message) {\r\n        if (!check) {\r\n            throw new Error(message);\r\n        }\r\n    };\r\n}\n\nexport { invariant, warning };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","import { warning } from 'hey-listen';\nimport { clamp } from '../../utils/clamp.mjs';\n\nconst safeMin = 0.001;\nconst minDuration = 0.01;\nconst maxDuration = 10.0;\nconst minDamping = 0.05;\nconst maxDamping = 1;\nfunction findSpring({ duration = 800, bounce = 0.25, velocity = 0, mass = 1, }) {\n    let envelope;\n    let derivative;\n    warning(duration <= maxDuration * 1000, \"Spring duration must be 10 seconds or less\");\n    let dampingRatio = 1 - bounce;\n    dampingRatio = clamp(minDamping, maxDamping, dampingRatio);\n    duration = clamp(minDuration, maxDuration, duration / 1000);\n    if (dampingRatio < 1) {\n        envelope = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const a = exponentialDecay - velocity;\n            const b = calcAngularFreq(undampedFreq, dampingRatio);\n            const c = Math.exp(-delta);\n            return safeMin - (a / b) * c;\n        };\n        derivative = (undampedFreq) => {\n            const exponentialDecay = undampedFreq * dampingRatio;\n            const delta = exponentialDecay * duration;\n            const d = delta * velocity + velocity;\n            const e = Math.pow(dampingRatio, 2) * Math.pow(undampedFreq, 2) * duration;\n            const f = Math.exp(-delta);\n            const g = calcAngularFreq(Math.pow(undampedFreq, 2), dampingRatio);\n            const factor = -envelope(undampedFreq) + safeMin > 0 ? -1 : 1;\n            return (factor * ((d - e) * f)) / g;\n        };\n    }\n    else {\n        envelope = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (undampedFreq - velocity) * duration + 1;\n            return -safeMin + a * b;\n        };\n        derivative = (undampedFreq) => {\n            const a = Math.exp(-undampedFreq * duration);\n            const b = (velocity - undampedFreq) * (duration * duration);\n            return a * b;\n        };\n    }\n    const initialGuess = 5 / duration;\n    const undampedFreq = approximateRoot(envelope, derivative, initialGuess);\n    duration = duration * 1000;\n    if (isNaN(undampedFreq)) {\n        return {\n            stiffness: 100,\n            damping: 10,\n            duration,\n        };\n    }\n    else {\n        const stiffness = Math.pow(undampedFreq, 2) * mass;\n        return {\n            stiffness,\n            damping: dampingRatio * 2 * Math.sqrt(mass * stiffness),\n            duration,\n        };\n    }\n}\nconst rootIterations = 12;\nfunction approximateRoot(envelope, derivative, initialGuess) {\n    let result = initialGuess;\n    for (let i = 1; i < rootIterations; i++) {\n        result = result - envelope(result) / derivative(result);\n    }\n    return result;\n}\nfunction calcAngularFreq(undampedFreq, dampingRatio) {\n    return undampedFreq * Math.sqrt(1 - dampingRatio * dampingRatio);\n}\n\nexport { calcAngularFreq, findSpring, maxDamping, maxDuration, minDamping, minDuration };\n","import { __rest } from 'tslib';\nimport { findSpring, calcAngularFreq } from '../utils/find-spring.mjs';\n\nconst durationKeys = [\"duration\", \"bounce\"];\nconst physicsKeys = [\"stiffness\", \"damping\", \"mass\"];\nfunction isSpringType(options, keys) {\n    return keys.some((key) => options[key] !== undefined);\n}\nfunction getSpringOptions(options) {\n    let springOptions = Object.assign({ velocity: 0.0, stiffness: 100, damping: 10, mass: 1.0, isResolvedFromDuration: false }, options);\n    if (!isSpringType(options, physicsKeys) &&\n        isSpringType(options, durationKeys)) {\n        const derived = findSpring(options);\n        springOptions = Object.assign(Object.assign(Object.assign({}, springOptions), derived), { velocity: 0.0, mass: 1.0 });\n        springOptions.isResolvedFromDuration = true;\n    }\n    return springOptions;\n}\nfunction spring(_a) {\n    var { from = 0.0, to = 1.0, restSpeed = 2, restDelta } = _a, options = __rest(_a, [\"from\", \"to\", \"restSpeed\", \"restDelta\"]);\n    const state = { done: false, value: from };\n    let { stiffness, damping, mass, velocity, duration, isResolvedFromDuration, } = getSpringOptions(options);\n    let resolveSpring = zero;\n    let resolveVelocity = zero;\n    function createSpring() {\n        const initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        const initialDelta = to - from;\n        const dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n        const undampedAngularFreq = Math.sqrt(stiffness / mass) / 1000;\n        if (restDelta === undefined) {\n            restDelta = Math.min(Math.abs(to - from) / 100, 0.4);\n        }\n        if (dampingRatio < 1) {\n            const angularFreq = calcAngularFreq(undampedAngularFreq, dampingRatio);\n            resolveSpring = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (to -\n                    envelope *\n                        (((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) /\n                            angularFreq) *\n                            Math.sin(angularFreq * t) +\n                            initialDelta * Math.cos(angularFreq * t)));\n            };\n            resolveVelocity = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                return (dampingRatio *\n                    undampedAngularFreq *\n                    envelope *\n                    ((Math.sin(angularFreq * t) *\n                        (initialVelocity +\n                            dampingRatio *\n                                undampedAngularFreq *\n                                initialDelta)) /\n                        angularFreq +\n                        initialDelta * Math.cos(angularFreq * t)) -\n                    envelope *\n                        (Math.cos(angularFreq * t) *\n                            (initialVelocity +\n                                dampingRatio *\n                                    undampedAngularFreq *\n                                    initialDelta) -\n                            angularFreq *\n                                initialDelta *\n                                Math.sin(angularFreq * t)));\n            };\n        }\n        else if (dampingRatio === 1) {\n            resolveSpring = (t) => to -\n                Math.exp(-undampedAngularFreq * t) *\n                    (initialDelta +\n                        (initialVelocity + undampedAngularFreq * initialDelta) *\n                            t);\n        }\n        else {\n            const dampedAngularFreq = undampedAngularFreq * Math.sqrt(dampingRatio * dampingRatio - 1);\n            resolveSpring = (t) => {\n                const envelope = Math.exp(-dampingRatio * undampedAngularFreq * t);\n                const freqForT = Math.min(dampedAngularFreq * t, 300);\n                return (to -\n                    (envelope *\n                        ((initialVelocity +\n                            dampingRatio * undampedAngularFreq * initialDelta) *\n                            Math.sinh(freqForT) +\n                            dampedAngularFreq *\n                                initialDelta *\n                                Math.cosh(freqForT))) /\n                        dampedAngularFreq);\n            };\n        }\n    }\n    createSpring();\n    return {\n        next: (t) => {\n            const current = resolveSpring(t);\n            if (!isResolvedFromDuration) {\n                const currentVelocity = resolveVelocity(t) * 1000;\n                const isBelowVelocityThreshold = Math.abs(currentVelocity) <= restSpeed;\n                const isBelowDisplacementThreshold = Math.abs(to - current) <= restDelta;\n                state.done =\n                    isBelowVelocityThreshold && isBelowDisplacementThreshold;\n            }\n            else {\n                state.done = t >= duration;\n            }\n            state.value = state.done ? to : current;\n            return state;\n        },\n        flipTarget: () => {\n            velocity = -velocity;\n            [from, to] = [to, from];\n            createSpring();\n        },\n    };\n}\nspring.needsInterpolation = (a, b) => typeof a === \"string\" || typeof b === \"string\";\nconst zero = (_t) => 0;\n\nexport { spring };\n","const progress = (from, to, value) => {\n    const toFromDifference = to - from;\n    return toFromDifference === 0 ? 1 : (value - from) / toFromDifference;\n};\n\nexport { progress };\n","const mix = (from, to, progress) => -progress * from + progress * to + from;\n\nexport { mix };\n","function hueToRgb(p, q, t) {\n    if (t < 0)\n        t += 1;\n    if (t > 1)\n        t -= 1;\n    if (t < 1 / 6)\n        return p + (q - p) * 6 * t;\n    if (t < 1 / 2)\n        return q;\n    if (t < 2 / 3)\n        return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\nfunction hslaToRgba({ hue, saturation, lightness, alpha }) {\n    hue /= 360;\n    saturation /= 100;\n    lightness /= 100;\n    let red = 0;\n    let green = 0;\n    let blue = 0;\n    if (!saturation) {\n        red = green = blue = lightness;\n    }\n    else {\n        const q = lightness < 0.5\n            ? lightness * (1 + saturation)\n            : lightness + saturation - lightness * saturation;\n        const p = 2 * lightness - q;\n        red = hueToRgb(p, q, hue + 1 / 3);\n        green = hueToRgb(p, q, hue);\n        blue = hueToRgb(p, q, hue - 1 / 3);\n    }\n    return {\n        red: Math.round(red * 255),\n        green: Math.round(green * 255),\n        blue: Math.round(blue * 255),\n        alpha,\n    };\n}\n\nexport { hslaToRgba };\n","import { mix } from './mix.mjs';\nimport { hsla, rgba, hex } from 'style-value-types';\nimport { invariant } from 'hey-listen';\nimport { hslaToRgba } from './hsla-to-rgba.mjs';\n\nconst mixLinearColor = (from, to, v) => {\n    const fromExpo = from * from;\n    const toExpo = to * to;\n    return Math.sqrt(Math.max(0, v * (toExpo - fromExpo) + fromExpo));\n};\nconst colorTypes = [hex, rgba, hsla];\nconst getColorType = (v) => colorTypes.find((type) => type.test(v));\nconst notAnimatable = (color) => `'${color}' is not an animatable color. Use the equivalent color code instead.`;\nconst mixColor = (from, to) => {\n    let fromColorType = getColorType(from);\n    let toColorType = getColorType(to);\n    invariant(!!fromColorType, notAnimatable(from));\n    invariant(!!toColorType, notAnimatable(to));\n    let fromColor = fromColorType.parse(from);\n    let toColor = toColorType.parse(to);\n    if (fromColorType === hsla) {\n        fromColor = hslaToRgba(fromColor);\n        fromColorType = rgba;\n    }\n    if (toColorType === hsla) {\n        toColor = hslaToRgba(toColor);\n        toColorType = rgba;\n    }\n    const blended = Object.assign({}, fromColor);\n    return (v) => {\n        for (const key in blended) {\n            if (key !== \"alpha\") {\n                blended[key] = mixLinearColor(fromColor[key], toColor[key], v);\n            }\n        }\n        blended.alpha = mix(fromColor.alpha, toColor.alpha, v);\n        return fromColorType.transform(blended);\n    };\n};\n\nexport { mixColor, mixLinearColor };\n","const zeroPoint = {\n    x: 0,\n    y: 0,\n    z: 0\n};\nconst isNum = (v) => typeof v === 'number';\n\nexport { isNum, zeroPoint };\n","const combineFunctions = (a, b) => (v) => b(a(v));\nconst pipe = (...transformers) => transformers.reduce(combineFunctions);\n\nexport { pipe };\n","import { complex, color } from 'style-value-types';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { isNum } from './inc.mjs';\nimport { pipe } from './pipe.mjs';\nimport { warning } from 'hey-listen';\n\nfunction getMixer(origin, target) {\n    if (isNum(origin)) {\n        return (v) => mix(origin, target, v);\n    }\n    else if (color.test(origin)) {\n        return mixColor(origin, target);\n    }\n    else {\n        return mixComplex(origin, target);\n    }\n}\nconst mixArray = (from, to) => {\n    const output = [...from];\n    const numValues = output.length;\n    const blendValue = from.map((fromThis, i) => getMixer(fromThis, to[i]));\n    return (v) => {\n        for (let i = 0; i < numValues; i++) {\n            output[i] = blendValue[i](v);\n        }\n        return output;\n    };\n};\nconst mixObject = (origin, target) => {\n    const output = Object.assign(Object.assign({}, origin), target);\n    const blendValue = {};\n    for (const key in output) {\n        if (origin[key] !== undefined && target[key] !== undefined) {\n            blendValue[key] = getMixer(origin[key], target[key]);\n        }\n    }\n    return (v) => {\n        for (const key in blendValue) {\n            output[key] = blendValue[key](v);\n        }\n        return output;\n    };\n};\nfunction analyse(value) {\n    const parsed = complex.parse(value);\n    const numValues = parsed.length;\n    let numNumbers = 0;\n    let numRGB = 0;\n    let numHSL = 0;\n    for (let i = 0; i < numValues; i++) {\n        if (numNumbers || typeof parsed[i] === \"number\") {\n            numNumbers++;\n        }\n        else {\n            if (parsed[i].hue !== undefined) {\n                numHSL++;\n            }\n            else {\n                numRGB++;\n            }\n        }\n    }\n    return { parsed, numNumbers, numRGB, numHSL };\n}\nconst mixComplex = (origin, target) => {\n    const template = complex.createTransformer(target);\n    const originStats = analyse(origin);\n    const targetStats = analyse(target);\n    const canInterpolate = originStats.numHSL === targetStats.numHSL &&\n        originStats.numRGB === targetStats.numRGB &&\n        originStats.numNumbers >= targetStats.numNumbers;\n    if (canInterpolate) {\n        return pipe(mixArray(originStats.parsed, targetStats.parsed), template);\n    }\n    else {\n        warning(true, `Complex values '${origin}' and '${target}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`);\n        return (p) => `${p > 0 ? target : origin}`;\n    }\n};\n\nexport { mixArray, mixComplex, mixObject };\n","import { progress } from './progress.mjs';\nimport { mix } from './mix.mjs';\nimport { mixColor } from './mix-color.mjs';\nimport { mixComplex, mixArray, mixObject } from './mix-complex.mjs';\nimport { color } from 'style-value-types';\nimport { clamp } from './clamp.mjs';\nimport { pipe } from './pipe.mjs';\nimport { invariant } from 'hey-listen';\n\nconst mixNumber = (from, to) => (p) => mix(from, to, p);\nfunction detectMixerFactory(v) {\n    if (typeof v === 'number') {\n        return mixNumber;\n    }\n    else if (typeof v === 'string') {\n        if (color.test(v)) {\n            return mixColor;\n        }\n        else {\n            return mixComplex;\n        }\n    }\n    else if (Array.isArray(v)) {\n        return mixArray;\n    }\n    else if (typeof v === 'object') {\n        return mixObject;\n    }\n}\nfunction createMixers(output, ease, customMixer) {\n    const mixers = [];\n    const mixerFactory = customMixer || detectMixerFactory(output[0]);\n    const numMixers = output.length - 1;\n    for (let i = 0; i < numMixers; i++) {\n        let mixer = mixerFactory(output[i], output[i + 1]);\n        if (ease) {\n            const easingFunction = Array.isArray(ease) ? ease[i] : ease;\n            mixer = pipe(easingFunction, mixer);\n        }\n        mixers.push(mixer);\n    }\n    return mixers;\n}\nfunction fastInterpolate([from, to], [mixer]) {\n    return (v) => mixer(progress(from, to, v));\n}\nfunction slowInterpolate(input, mixers) {\n    const inputLength = input.length;\n    const lastInputIndex = inputLength - 1;\n    return (v) => {\n        let mixerIndex = 0;\n        let foundMixerIndex = false;\n        if (v <= input[0]) {\n            foundMixerIndex = true;\n        }\n        else if (v >= input[lastInputIndex]) {\n            mixerIndex = lastInputIndex - 1;\n            foundMixerIndex = true;\n        }\n        if (!foundMixerIndex) {\n            let i = 1;\n            for (; i < inputLength; i++) {\n                if (input[i] > v || i === lastInputIndex) {\n                    break;\n                }\n            }\n            mixerIndex = i - 1;\n        }\n        const progressInRange = progress(input[mixerIndex], input[mixerIndex + 1], v);\n        return mixers[mixerIndex](progressInRange);\n    };\n}\nfunction interpolate(input, output, { clamp: isClamp = true, ease, mixer } = {}) {\n    const inputLength = input.length;\n    invariant(inputLength === output.length, 'Both input and output ranges must be the same length');\n    invariant(!ease || !Array.isArray(ease) || ease.length === inputLength - 1, 'Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values.');\n    if (input[0] > input[inputLength - 1]) {\n        input = [].concat(input);\n        output = [].concat(output);\n        input.reverse();\n        output.reverse();\n    }\n    const mixers = createMixers(output, ease, mixer);\n    const interpolator = inputLength === 2\n        ? fastInterpolate(input, mixers)\n        : slowInterpolate(input, mixers);\n    return isClamp\n        ? (v) => interpolator(clamp(input[0], input[inputLength - 1], v))\n        : interpolator;\n}\n\nexport { interpolate };\n","const reverseEasing = easing => p => 1 - easing(1 - p);\nconst mirrorEasing = easing => p => p <= 0.5 ? easing(2 * p) / 2 : (2 - easing(2 * (1 - p))) / 2;\nconst createExpoIn = (power) => p => Math.pow(p, power);\nconst createBackIn = (power) => p => p * p * ((power + 1) * p - power);\nconst createAnticipate = (power) => {\n    const backEasing = createBackIn(power);\n    return p => (p *= 2) < 1\n        ? 0.5 * backEasing(p)\n        : 0.5 * (2 - Math.pow(2, -10 * (p - 1)));\n};\n\nexport { createAnticipate, createBackIn, createExpoIn, mirrorEasing, reverseEasing };\n","import { createExpoIn, reverseEasing, mirrorEasing, createBackIn, createAnticipate } from './utils.mjs';\n\nconst DEFAULT_OVERSHOOT_STRENGTH = 1.525;\nconst BOUNCE_FIRST_THRESHOLD = 4.0 / 11.0;\nconst BOUNCE_SECOND_THRESHOLD = 8.0 / 11.0;\nconst BOUNCE_THIRD_THRESHOLD = 9.0 / 10.0;\nconst linear = p => p;\nconst easeIn = createExpoIn(2);\nconst easeOut = reverseEasing(easeIn);\nconst easeInOut = mirrorEasing(easeIn);\nconst circIn = p => 1 - Math.sin(Math.acos(p));\nconst circOut = reverseEasing(circIn);\nconst circInOut = mirrorEasing(circOut);\nconst backIn = createBackIn(DEFAULT_OVERSHOOT_STRENGTH);\nconst backOut = reverseEasing(backIn);\nconst backInOut = mirrorEasing(backIn);\nconst anticipate = createAnticipate(DEFAULT_OVERSHOOT_STRENGTH);\nconst ca = 4356.0 / 361.0;\nconst cb = 35442.0 / 1805.0;\nconst cc = 16061.0 / 1805.0;\nconst bounceOut = (p) => {\n    if (p === 1 || p === 0)\n        return p;\n    const p2 = p * p;\n    return p < BOUNCE_FIRST_THRESHOLD\n        ? 7.5625 * p2\n        : p < BOUNCE_SECOND_THRESHOLD\n            ? 9.075 * p2 - 9.9 * p + 3.4\n            : p < BOUNCE_THIRD_THRESHOLD\n                ? ca * p2 - cb * p + cc\n                : 10.8 * p * p - 20.52 * p + 10.72;\n};\nconst bounceIn = reverseEasing(bounceOut);\nconst bounceInOut = (p) => p < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - p * 2.0))\n    : 0.5 * bounceOut(p * 2.0 - 1.0) + 0.5;\n\nexport { anticipate, backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, easeIn, easeInOut, easeOut, linear };\n","import { interpolate } from '../../utils/interpolate.mjs';\nimport { easeInOut } from '../../easing/index.mjs';\n\nfunction defaultEasing(values, easing) {\n    return values.map(() => easing || easeInOut).splice(0, values.length - 1);\n}\nfunction defaultOffset(values) {\n    const numValues = values.length;\n    return values.map((_value, i) => i !== 0 ? i / (numValues - 1) : 0);\n}\nfunction convertOffsetToTimes(offset, duration) {\n    return offset.map((o) => o * duration);\n}\nfunction keyframes({ from = 0, to = 1, ease, offset, duration = 300, }) {\n    const state = { done: false, value: from };\n    const values = Array.isArray(to) ? to : [from, to];\n    const times = convertOffsetToTimes(offset && offset.length === values.length\n        ? offset\n        : defaultOffset(values), duration);\n    function createInterpolator() {\n        return interpolate(times, values, {\n            ease: Array.isArray(ease) ? ease : defaultEasing(values, ease),\n        });\n    }\n    let interpolator = createInterpolator();\n    return {\n        next: (t) => {\n            state.value = interpolator(t);\n            state.done = t >= duration;\n            return state;\n        },\n        flipTarget: () => {\n            values.reverse();\n            interpolator = createInterpolator();\n        },\n    };\n}\n\nexport { convertOffsetToTimes, defaultEasing, defaultOffset, keyframes };\n","function decay({ velocity = 0, from = 0, power = 0.8, timeConstant = 350, restDelta = 0.5, modifyTarget, }) {\n    const state = { done: false, value: from };\n    let amplitude = power * velocity;\n    const ideal = from + amplitude;\n    const target = modifyTarget === undefined ? ideal : modifyTarget(ideal);\n    if (target !== ideal)\n        amplitude = target - from;\n    return {\n        next: (t) => {\n            const delta = -amplitude * Math.exp(-t / timeConstant);\n            state.done = !(delta > restDelta || delta < -restDelta);\n            state.value = state.done ? target : target + delta;\n            return state;\n        },\n        flipTarget: () => { },\n    };\n}\n\nexport { decay };\n","import { spring } from '../generators/spring.mjs';\nimport { keyframes } from '../generators/keyframes.mjs';\nimport { decay } from '../generators/decay.mjs';\n\nconst types = { keyframes, spring, decay };\nfunction detectAnimationFromOptions(config) {\n    if (Array.isArray(config.to)) {\n        return keyframes;\n    }\n    else if (types[config.type]) {\n        return types[config.type];\n    }\n    const keys = new Set(Object.keys(config));\n    if (keys.has(\"ease\") ||\n        (keys.has(\"duration\") && !keys.has(\"dampingRatio\"))) {\n        return keyframes;\n    }\n    else if (keys.has(\"dampingRatio\") ||\n        keys.has(\"stiffness\") ||\n        keys.has(\"mass\") ||\n        keys.has(\"damping\") ||\n        keys.has(\"restSpeed\") ||\n        keys.has(\"restDelta\")) {\n        return spring;\n    }\n    return keyframes;\n}\n\nexport { detectAnimationFromOptions };\n","const defaultTimestep = (1 / 60) * 1000;\nconst getCurrentTime = typeof performance !== \"undefined\"\n    ? () => performance.now()\n    : () => Date.now();\nconst onNextFrame = typeof window !== \"undefined\"\n    ? (callback) => window.requestAnimationFrame(callback)\n    : (callback) => setTimeout(() => callback(getCurrentTime()), defaultTimestep);\n\nexport { defaultTimestep, onNextFrame };\n","function createRenderStep(runNextFrame) {\n    let toRun = [];\n    let toRunNextFrame = [];\n    let numToRun = 0;\n    let isProcessing = false;\n    let flushNextFrame = false;\n    const toKeepAlive = new WeakSet();\n    const step = {\n        schedule: (callback, keepAlive = false, immediate = false) => {\n            const addToCurrentFrame = immediate && isProcessing;\n            const buffer = addToCurrentFrame ? toRun : toRunNextFrame;\n            if (keepAlive)\n                toKeepAlive.add(callback);\n            if (buffer.indexOf(callback) === -1) {\n                buffer.push(callback);\n                if (addToCurrentFrame && isProcessing)\n                    numToRun = toRun.length;\n            }\n            return callback;\n        },\n        cancel: (callback) => {\n            const index = toRunNextFrame.indexOf(callback);\n            if (index !== -1)\n                toRunNextFrame.splice(index, 1);\n            toKeepAlive.delete(callback);\n        },\n        process: (frameData) => {\n            if (isProcessing) {\n                flushNextFrame = true;\n                return;\n            }\n            isProcessing = true;\n            [toRun, toRunNextFrame] = [toRunNextFrame, toRun];\n            toRunNextFrame.length = 0;\n            numToRun = toRun.length;\n            if (numToRun) {\n                for (let i = 0; i < numToRun; i++) {\n                    const callback = toRun[i];\n                    callback(frameData);\n                    if (toKeepAlive.has(callback)) {\n                        step.schedule(callback);\n                        runNextFrame();\n                    }\n                }\n            }\n            isProcessing = false;\n            if (flushNextFrame) {\n                flushNextFrame = false;\n                step.process(frameData);\n            }\n        },\n    };\n    return step;\n}\n\nexport { createRenderStep };\n","import { onNextFrame, defaultTimestep } from './on-next-frame.mjs';\nimport { createRenderStep } from './create-render-step.mjs';\n\nconst maxElapsed = 40;\nlet useDefaultElapsed = true;\nlet runNextFrame = false;\nlet isProcessing = false;\nconst frame = {\n    delta: 0,\n    timestamp: 0,\n};\nconst stepsOrder = [\n    \"read\",\n    \"update\",\n    \"preRender\",\n    \"render\",\n    \"postRender\",\n];\nconst steps = stepsOrder.reduce((acc, key) => {\n    acc[key] = createRenderStep(() => (runNextFrame = true));\n    return acc;\n}, {});\nconst sync = stepsOrder.reduce((acc, key) => {\n    const step = steps[key];\n    acc[key] = (process, keepAlive = false, immediate = false) => {\n        if (!runNextFrame)\n            startLoop();\n        return step.schedule(process, keepAlive, immediate);\n    };\n    return acc;\n}, {});\nconst cancelSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = steps[key].cancel;\n    return acc;\n}, {});\nconst flushSync = stepsOrder.reduce((acc, key) => {\n    acc[key] = () => steps[key].process(frame);\n    return acc;\n}, {});\nconst processStep = (stepId) => steps[stepId].process(frame);\nconst processFrame = (timestamp) => {\n    runNextFrame = false;\n    frame.delta = useDefaultElapsed\n        ? defaultTimestep\n        : Math.max(Math.min(timestamp - frame.timestamp, maxElapsed), 1);\n    frame.timestamp = timestamp;\n    isProcessing = true;\n    stepsOrder.forEach(processStep);\n    isProcessing = false;\n    if (runNextFrame) {\n        useDefaultElapsed = false;\n        onNextFrame(processFrame);\n    }\n};\nconst startLoop = () => {\n    runNextFrame = true;\n    useDefaultElapsed = true;\n    if (!isProcessing)\n        onNextFrame(processFrame);\n};\nconst getFrameData = () => frame;\n\nexport default sync;\nexport { cancelSync, flushSync, getFrameData };\n","function loopElapsed(elapsed, duration, delay = 0) {\n    return elapsed - duration - delay;\n}\nfunction reverseElapsed(elapsed, duration, delay = 0, isForwardPlayback = true) {\n    return isForwardPlayback\n        ? loopElapsed(duration + -elapsed, duration, delay)\n        : duration - (elapsed - duration) + delay;\n}\nfunction hasRepeatDelayElapsed(elapsed, duration, delay, isForwardPlayback) {\n    return isForwardPlayback ? elapsed >= duration + delay : elapsed <= -delay;\n}\n\nexport { hasRepeatDelayElapsed, loopElapsed, reverseElapsed };\n","import { __rest } from 'tslib';\nimport { detectAnimationFromOptions } from './utils/detect-animation-from-options.mjs';\nimport sync, { cancelSync } from 'framesync';\nimport { interpolate } from '../utils/interpolate.mjs';\nimport { hasRepeatDelayElapsed, reverseElapsed, loopElapsed } from './utils/elapsed.mjs';\n\nconst framesync = (update) => {\n    const passTimestamp = ({ delta }) => update(delta);\n    return {\n        start: () => sync.update(passTimestamp, true),\n        stop: () => cancelSync.update(passTimestamp),\n    };\n};\nfunction animate(_a) {\n    var _b, _c;\n    var { from, autoplay = true, driver = framesync, elapsed = 0, repeat: repeatMax = 0, repeatType = \"loop\", repeatDelay = 0, onPlay, onStop, onComplete, onRepeat, onUpdate } = _a, options = __rest(_a, [\"from\", \"autoplay\", \"driver\", \"elapsed\", \"repeat\", \"repeatType\", \"repeatDelay\", \"onPlay\", \"onStop\", \"onComplete\", \"onRepeat\", \"onUpdate\"]);\n    let { to } = options;\n    let driverControls;\n    let repeatCount = 0;\n    let computedDuration = options.duration;\n    let latest;\n    let isComplete = false;\n    let isForwardPlayback = true;\n    let interpolateFromNumber;\n    const animator = detectAnimationFromOptions(options);\n    if ((_c = (_b = animator).needsInterpolation) === null || _c === void 0 ? void 0 : _c.call(_b, from, to)) {\n        interpolateFromNumber = interpolate([0, 100], [from, to], {\n            clamp: false,\n        });\n        from = 0;\n        to = 100;\n    }\n    const animation = animator(Object.assign(Object.assign({}, options), { from, to }));\n    function repeat() {\n        repeatCount++;\n        if (repeatType === \"reverse\") {\n            isForwardPlayback = repeatCount % 2 === 0;\n            elapsed = reverseElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback);\n        }\n        else {\n            elapsed = loopElapsed(elapsed, computedDuration, repeatDelay);\n            if (repeatType === \"mirror\")\n                animation.flipTarget();\n        }\n        isComplete = false;\n        onRepeat && onRepeat();\n    }\n    function complete() {\n        driverControls.stop();\n        onComplete && onComplete();\n    }\n    function update(delta) {\n        if (!isForwardPlayback)\n            delta = -delta;\n        elapsed += delta;\n        if (!isComplete) {\n            const state = animation.next(Math.max(0, elapsed));\n            latest = state.value;\n            if (interpolateFromNumber)\n                latest = interpolateFromNumber(latest);\n            isComplete = isForwardPlayback ? state.done : elapsed <= 0;\n        }\n        onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(latest);\n        if (isComplete) {\n            if (repeatCount === 0)\n                computedDuration !== null && computedDuration !== void 0 ? computedDuration : (computedDuration = elapsed);\n            if (repeatCount < repeatMax) {\n                hasRepeatDelayElapsed(elapsed, computedDuration, repeatDelay, isForwardPlayback) && repeat();\n            }\n            else {\n                complete();\n            }\n        }\n    }\n    function play() {\n        onPlay === null || onPlay === void 0 ? void 0 : onPlay();\n        driverControls = driver(update);\n        driverControls.start();\n    }\n    autoplay && play();\n    return {\n        stop: () => {\n            onStop === null || onStop === void 0 ? void 0 : onStop();\n            driverControls.stop();\n        },\n    };\n}\n\nexport { animate };\n","function velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","import { animate } from './index.mjs';\nimport { velocityPerSecond } from '../utils/velocity-per-second.mjs';\nimport { getFrameData } from 'framesync';\n\nfunction inertia({ from = 0, velocity = 0, min, max, power = 0.8, timeConstant = 750, bounceStiffness = 500, bounceDamping = 10, restDelta = 1, modifyTarget, driver, onUpdate, onComplete, onStop, }) {\n    let currentAnimation;\n    function isOutOfBounds(v) {\n        return (min !== undefined && v < min) || (max !== undefined && v > max);\n    }\n    function boundaryNearest(v) {\n        if (min === undefined)\n            return max;\n        if (max === undefined)\n            return min;\n        return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    }\n    function startAnimation(options) {\n        currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop();\n        currentAnimation = animate(Object.assign(Object.assign({}, options), { driver, onUpdate: (v) => {\n                var _a;\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(v);\n                (_a = options.onUpdate) === null || _a === void 0 ? void 0 : _a.call(options, v);\n            }, onComplete,\n            onStop }));\n    }\n    function startSpring(options) {\n        startAnimation(Object.assign({ type: \"spring\", stiffness: bounceStiffness, damping: bounceDamping, restDelta }, options));\n    }\n    if (isOutOfBounds(from)) {\n        startSpring({ from, velocity, to: boundaryNearest(from) });\n    }\n    else {\n        let target = power * velocity + from;\n        if (typeof modifyTarget !== \"undefined\")\n            target = modifyTarget(target);\n        const boundary = boundaryNearest(target);\n        const heading = boundary === min ? -1 : 1;\n        let prev;\n        let current;\n        const checkBoundary = (v) => {\n            prev = current;\n            current = v;\n            velocity = velocityPerSecond(v - prev, getFrameData().delta);\n            if ((heading === 1 && v > boundary) ||\n                (heading === -1 && v < boundary)) {\n                startSpring({ from: v, to: boundary, velocity });\n            }\n        };\n        startAnimation({\n            type: \"decay\",\n            from,\n            velocity,\n            timeConstant,\n            power,\n            restDelta,\n            modifyTarget,\n            onUpdate: isOutOfBounds(target) ? checkBoundary : undefined,\n        });\n    }\n    return {\n        stop: () => currentAnimation === null || currentAnimation === void 0 ? void 0 : currentAnimation.stop(),\n    };\n}\n\nexport { inertia };\n","import { linear } from './index.mjs';\n\nconst a = (a1, a2) => 1.0 - 3.0 * a2 + 3.0 * a1;\nconst b = (a1, a2) => 3.0 * a2 - 6.0 * a1;\nconst c = (a1) => 3.0 * a1;\nconst calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\nconst getSlope = (t, a1, a2) => 3.0 * a(a1, a2) * t * t + 2.0 * b(a1, a2) * t + c(a1);\nconst subdivisionPrecision = 0.0000001;\nconst subdivisionMaxIterations = 10;\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n    let currentX;\n    let currentT;\n    let i = 0;\n    do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n            aB = currentT;\n        }\n        else {\n            aA = currentT;\n        }\n    } while (Math.abs(currentX) > subdivisionPrecision &&\n        ++i < subdivisionMaxIterations);\n    return currentT;\n}\nconst newtonIterations = 8;\nconst newtonMinSlope = 0.001;\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (let i = 0; i < newtonIterations; ++i) {\n        const currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n            return aGuessT;\n        }\n        const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n}\nconst kSplineTableSize = 11;\nconst kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nfunction cubicBezier(mX1, mY1, mX2, mY2) {\n    if (mX1 === mY1 && mX2 === mY2)\n        return linear;\n    const sampleValues = new Float32Array(kSplineTableSize);\n    for (let i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n    }\n    function getTForX(aX) {\n        let intervalStart = 0.0;\n        let currentSample = 1;\n        const lastSample = kSplineTableSize - 1;\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n            intervalStart += kSampleStepSize;\n        }\n        --currentSample;\n        const dist = (aX - sampleValues[currentSample]) /\n            (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        const guessForT = intervalStart + dist * kSampleStepSize;\n        const initialSlope = getSlope(guessForT, mX1, mX2);\n        if (initialSlope >= newtonMinSlope) {\n            return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n        else if (initialSlope === 0.0) {\n            return guessForT;\n        }\n        else {\n            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n    }\n    return (t) => t === 0 || t === 1 ? t : calcBezier(getTForX(t), mY1, mY2);\n}\n\nexport { cubicBezier };\n","/**\n * Converts seconds to milliseconds\n *\n * @param seconds - Time in seconds.\n * @return milliseconds - Converted time in milliseconds.\n */\nconst secondsToMilliseconds = (seconds) => seconds * 1000;\n\nexport { secondsToMilliseconds };\n","import { invariant } from 'hey-listen';\nimport { cubicBezier, linear, easeIn, easeInOut, easeOut, circIn, circInOut, circOut, backIn, backInOut, backOut, anticipate, bounceIn, bounceInOut, bounceOut } from 'popmotion';\n\nconst easingLookup = {\n    linear,\n    easeIn,\n    easeInOut,\n    easeOut,\n    circIn,\n    circInOut,\n    circOut,\n    backIn,\n    backInOut,\n    backOut,\n    anticipate,\n    bounceIn,\n    bounceInOut,\n    bounceOut,\n};\nconst easingDefinitionToFunction = (definition) => {\n    if (Array.isArray(definition)) {\n        // If cubic bezier definition, create bezier curve\n        invariant(definition.length === 4, `Cubic bezier arrays must contain four numerical values.`);\n        const [x1, y1, x2, y2] = definition;\n        return cubicBezier(x1, y1, x2, y2);\n    }\n    else if (typeof definition === \"string\") {\n        // Else lookup from table\n        invariant(easingLookup[definition] !== undefined, `Invalid easing type '${definition}'`);\n        return easingLookup[definition];\n    }\n    return definition;\n};\nconst isEasingArray = (ease) => {\n    return Array.isArray(ease) && typeof ease[0] !== \"number\";\n};\n\nexport { easingDefinitionToFunction, isEasingArray };\n","import { complex } from 'style-value-types';\n\n/**\n * Check if a value is animatable. Examples:\n *\n * : 100, \"100px\", \"#fff\"\n * : \"block\", \"url(2.jpg)\"\n * @param value\n *\n * @internal\n */\nconst isAnimatable = (key, value) => {\n    // If the list of keys tat might be non-animatable grows, replace with Set\n    if (key === \"zIndex\")\n        return false;\n    // If it's a number or a keyframes array, we can animate it. We might at some point\n    // need to do a deep isAnimatable check of keyframes, or let Popmotion handle this,\n    // but for now lets leave it like this for performance reasons\n    if (typeof value === \"number\" || Array.isArray(value))\n        return true;\n    if (typeof value === \"string\" && // It's animatable if we have a string\n        complex.test(value) && // And it contains numbers and/or colors\n        !value.startsWith(\"url(\") // Unless it starts with \"url(\"\n    ) {\n        return true;\n    }\n    return false;\n};\n\nexport { isAnimatable };\n","import { isKeyframesTarget } from './is-keyframes-target.mjs';\n\nconst underDampedSpring = () => ({\n    type: \"spring\",\n    stiffness: 500,\n    damping: 25,\n    restSpeed: 10,\n});\nconst criticallyDampedSpring = (to) => ({\n    type: \"spring\",\n    stiffness: 550,\n    damping: to === 0 ? 2 * Math.sqrt(550) : 30,\n    restSpeed: 10,\n});\nconst linearTween = () => ({\n    type: \"keyframes\",\n    ease: \"linear\",\n    duration: 0.3,\n});\nconst keyframes = (values) => ({\n    type: \"keyframes\",\n    duration: 0.8,\n    values,\n});\nconst defaultTransitions = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: criticallyDampedSpring,\n    scaleY: criticallyDampedSpring,\n    scale: criticallyDampedSpring,\n    opacity: linearTween,\n    backgroundColor: linearTween,\n    color: linearTween,\n    default: criticallyDampedSpring,\n};\nconst getDefaultTransition = (valueKey, to) => {\n    let transitionFactory;\n    if (isKeyframesTarget(to)) {\n        transitionFactory = keyframes;\n    }\n    else {\n        transitionFactory =\n            defaultTransitions[valueKey] || defaultTransitions.default;\n    }\n    return { to, ...transitionFactory(to) };\n};\n\nexport { criticallyDampedSpring, getDefaultTransition, linearTween, underDampedSpring };\n","import { color, filter } from 'style-value-types';\nimport { numberValueTypes } from './number.mjs';\n\n/**\n * A map of default value types for common values\n */\nconst defaultValueTypes = {\n    ...numberValueTypes,\n    // Color props\n    color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    // Border props\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    filter,\n    WebkitFilter: filter,\n};\n/**\n * Gets the default ValueType for the provided value key\n */\nconst getDefaultValueType = (key) => defaultValueTypes[key];\n\nexport { defaultValueTypes, getDefaultValueType };\n","import { filter, complex } from 'style-value-types';\nimport { getDefaultValueType } from './defaults.mjs';\n\nfunction getAnimatableNone(key, value) {\n    var _a;\n    let defaultValueType = getDefaultValueType(key);\n    if (defaultValueType !== filter)\n        defaultValueType = complex;\n    // If value is not recognised as animatable, ie \"none\", create an animatable version origin based on the target\n    return (_a = defaultValueType.getAnimatableNone) === null || _a === void 0 ? void 0 : _a.call(defaultValueType, value);\n}\n\nexport { getAnimatableNone };\n","const instantAnimationState = {\n    current: false,\n};\n\nexport { instantAnimationState };\n","import sync, { cancelSync } from 'framesync';\n\nfunction delay(callback, timeout) {\n    const start = performance.now();\n    const checkElapsed = ({ timestamp }) => {\n        const elapsed = timestamp - start;\n        if (elapsed >= timeout) {\n            cancelSync.read(checkElapsed);\n            callback(elapsed - timeout);\n        }\n    };\n    sync.read(checkElapsed, true);\n    return () => cancelSync.read(checkElapsed);\n}\n\nexport { delay };\n","import { inertia, animate } from 'popmotion';\nimport { secondsToMilliseconds } from '../../utils/time-conversion.mjs';\nimport { isEasingArray, easingDefinitionToFunction } from './easing.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\nimport { getDefaultTransition } from './default-transitions.mjs';\nimport { warning } from 'hey-listen';\nimport { getAnimatableNone } from '../../render/dom/value-types/animatable-none.mjs';\nimport { instantAnimationState } from '../../utils/use-instant-transition-state.mjs';\nimport { resolveFinalValueInKeyframes } from '../../utils/resolve-value.mjs';\nimport { delay } from '../../utils/delay.mjs';\n\n/**\n * Decide whether a transition is defined on a given Transition.\n * This filters out orchestration options and returns true\n * if any options are left.\n */\nfunction isTransitionDefined({ when, delay: _delay, delayChildren, staggerChildren, staggerDirection, repeat, repeatType, repeatDelay, from, ...transition }) {\n    return !!Object.keys(transition).length;\n}\nlet legacyRepeatWarning = false;\n/**\n * Convert Framer Motion's Transition type into Popmotion-compatible options.\n */\nfunction convertTransitionToAnimationOptions({ ease, times, yoyo, flip, loop, ...transition }) {\n    const options = { ...transition };\n    if (times)\n        options[\"offset\"] = times;\n    /**\n     * Convert any existing durations from seconds to milliseconds\n     */\n    if (transition.duration)\n        options[\"duration\"] = secondsToMilliseconds(transition.duration);\n    if (transition.repeatDelay)\n        options.repeatDelay = secondsToMilliseconds(transition.repeatDelay);\n    /**\n     * Map easing names to Popmotion's easing functions\n     */\n    if (ease) {\n        options[\"ease\"] = isEasingArray(ease)\n            ? ease.map(easingDefinitionToFunction)\n            : easingDefinitionToFunction(ease);\n    }\n    /**\n     * Support legacy transition API\n     */\n    if (transition.type === \"tween\")\n        options.type = \"keyframes\";\n    /**\n     * TODO: These options are officially removed from the API.\n     */\n    if (yoyo || loop || flip) {\n        warning(!legacyRepeatWarning, \"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options.\");\n        legacyRepeatWarning = true;\n        if (yoyo) {\n            options.repeatType = \"reverse\";\n        }\n        else if (loop) {\n            options.repeatType = \"loop\";\n        }\n        else if (flip) {\n            options.repeatType = \"mirror\";\n        }\n        options.repeat = loop || yoyo || flip || transition.repeat;\n    }\n    /**\n     * TODO: Popmotion 9 has the ability to automatically detect whether to use\n     * a keyframes or spring animation, but does so by detecting velocity and other spring options.\n     * It'd be good to introduce a similar thing here.\n     */\n    if (transition.type !== \"spring\")\n        options.type = \"keyframes\";\n    return options;\n}\n/**\n * Get the delay for a value by checking Transition with decreasing specificity.\n */\nfunction getDelayFromTransition(transition, key) {\n    var _a, _b;\n    const valueTransition = getValueTransition(transition, key) || {};\n    return (_b = (_a = valueTransition.delay) !== null && _a !== void 0 ? _a : transition.delay) !== null && _b !== void 0 ? _b : 0;\n}\nfunction hydrateKeyframes(options) {\n    if (Array.isArray(options.to) && options.to[0] === null) {\n        options.to = [...options.to];\n        options.to[0] = options.from;\n    }\n    return options;\n}\nfunction getPopmotionAnimationOptions(transition, options, key) {\n    if (Array.isArray(options.to) && transition.duration === undefined) {\n        transition.duration = 0.8;\n    }\n    hydrateKeyframes(options);\n    /**\n     * Get a default transition if none is determined to be defined.\n     */\n    if (!isTransitionDefined(transition)) {\n        transition = {\n            ...transition,\n            ...getDefaultTransition(key, options.to),\n        };\n    }\n    return {\n        ...options,\n        ...convertTransitionToAnimationOptions(transition),\n    };\n}\n/**\n *\n */\nfunction getAnimation(key, value, target, transition, onComplete) {\n    const valueTransition = getValueTransition(transition, key) || {};\n    let origin = valueTransition.from !== undefined ? valueTransition.from : value.get();\n    const isTargetAnimatable = isAnimatable(key, target);\n    if (origin === \"none\" && isTargetAnimatable && typeof target === \"string\") {\n        /**\n         * If we're trying to animate from \"none\", try and get an animatable version\n         * of the target. This could be improved to work both ways.\n         */\n        origin = getAnimatableNone(key, target);\n    }\n    else if (isZero(origin) && typeof target === \"string\") {\n        origin = getZeroUnit(target);\n    }\n    else if (!Array.isArray(target) &&\n        isZero(target) &&\n        typeof origin === \"string\") {\n        target = getZeroUnit(origin);\n    }\n    const isOriginAnimatable = isAnimatable(key, origin);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${key} from \"${origin}\" to \"${target}\". ${origin} is not an animatable value - to enable this animation set ${origin} to a value animatable to ${target} via the \\`style\\` property.`);\n    function start() {\n        const options = {\n            from: origin,\n            to: target,\n            velocity: value.getVelocity(),\n            onComplete,\n            onUpdate: (v) => value.set(v),\n        };\n        return valueTransition.type === \"inertia\" ||\n            valueTransition.type === \"decay\"\n            ? inertia({ ...options, ...valueTransition })\n            : animate({\n                ...getPopmotionAnimationOptions(valueTransition, options, key),\n                onUpdate: (v) => {\n                    options.onUpdate(v);\n                    valueTransition.onUpdate && valueTransition.onUpdate(v);\n                },\n                onComplete: () => {\n                    options.onComplete();\n                    valueTransition.onComplete && valueTransition.onComplete();\n                },\n            });\n    }\n    function set() {\n        const finalTarget = resolveFinalValueInKeyframes(target);\n        value.set(finalTarget);\n        onComplete();\n        valueTransition.onUpdate && valueTransition.onUpdate(finalTarget);\n        valueTransition.onComplete && valueTransition.onComplete();\n        return { stop: () => { } };\n    }\n    return !isOriginAnimatable ||\n        !isTargetAnimatable ||\n        valueTransition.type === false\n        ? set\n        : start;\n}\nfunction isZero(value) {\n    return (value === 0 ||\n        (typeof value === \"string\" &&\n            parseFloat(value) === 0 &&\n            value.indexOf(\" \") === -1));\n}\nfunction getZeroUnit(potentialUnitType) {\n    return typeof potentialUnitType === \"number\"\n        ? 0\n        : getAnimatableNone(\"\", potentialUnitType);\n}\nfunction getValueTransition(transition, key) {\n    return transition[key] || transition[\"default\"] || transition;\n}\n/**\n * Start animation on a MotionValue. This function is an interface between\n * Framer Motion and Popmotion\n */\nfunction startAnimation(key, value, target, transition = {}) {\n    if (instantAnimationState.current) {\n        transition = { type: false };\n    }\n    return value.start((onComplete) => {\n        let controls;\n        const animation = getAnimation(key, value, target, transition, onComplete);\n        const delayBy = getDelayFromTransition(transition, key);\n        const start = () => (controls = animation());\n        let cancelDelay;\n        if (delayBy) {\n            cancelDelay = delay(start, secondsToMilliseconds(delayBy));\n        }\n        else {\n            start();\n        }\n        return () => {\n            cancelDelay && cancelDelay();\n            controls && controls.stop();\n        };\n    });\n}\n\nexport { convertTransitionToAnimationOptions, getDelayFromTransition, getPopmotionAnimationOptions, getValueTransition, getZeroUnit, hydrateKeyframes, isTransitionDefined, isZero, startAnimation };\n","function addUniqueItem(arr, item) {\n    if (arr.indexOf(item) === -1)\n        arr.push(item);\n}\nfunction removeItem(arr, item) {\n    const index = arr.indexOf(item);\n    if (index > -1)\n        arr.splice(index, 1);\n}\n// Adapted from array-move\nfunction moveItem([...arr], fromIndex, toIndex) {\n    const startIndex = fromIndex < 0 ? arr.length + fromIndex : fromIndex;\n    if (startIndex >= 0 && startIndex < arr.length) {\n        const endIndex = toIndex < 0 ? arr.length + toIndex : toIndex;\n        const [item] = arr.splice(fromIndex, 1);\n        arr.splice(endIndex, 0, item);\n    }\n    return arr;\n}\n\nexport { addUniqueItem, moveItem, removeItem };\n","import { addUniqueItem, removeItem } from './array.mjs';\n\nclass SubscriptionManager {\n    constructor() {\n        this.subscriptions = [];\n    }\n    add(handler) {\n        addUniqueItem(this.subscriptions, handler);\n        return () => removeItem(this.subscriptions, handler);\n    }\n    notify(a, b, c) {\n        const numSubscriptions = this.subscriptions.length;\n        if (!numSubscriptions)\n            return;\n        if (numSubscriptions === 1) {\n            /**\n             * If there's only a single handler we can just call it without invoking a loop.\n             */\n            this.subscriptions[0](a, b, c);\n        }\n        else {\n            for (let i = 0; i < numSubscriptions; i++) {\n                /**\n                 * Check whether the handler exists before firing as it's possible\n                 * the subscriptions were modified during this loop running.\n                 */\n                const handler = this.subscriptions[i];\n                handler && handler(a, b, c);\n            }\n        }\n    }\n    getSize() {\n        return this.subscriptions.length;\n    }\n    clear() {\n        this.subscriptions.length = 0;\n    }\n}\n\nexport { SubscriptionManager };\n","import sync, { getFrameData } from 'framesync';\nimport { velocityPerSecond } from 'popmotion';\nimport { SubscriptionManager } from '../utils/subscription-manager.mjs';\n\nconst isFloat = (value) => {\n    return !isNaN(parseFloat(value));\n};\n/**\n * `MotionValue` is used to track the state and velocity of motion values.\n *\n * @public\n */\nclass MotionValue {\n    /**\n     * @param init - The initiating value\n     * @param config - Optional configuration options\n     *\n     * -  `transformer`: A function to transform incoming values with.\n     *\n     * @internal\n     */\n    constructor(init) {\n        /**\n         * This will be replaced by the build step with the latest version number.\n         * When MotionValues are provided to motion components, warn if versions are mixed.\n         */\n        this.version = \"7.6.15\";\n        /**\n         * Duration, in milliseconds, since last updating frame.\n         *\n         * @internal\n         */\n        this.timeDelta = 0;\n        /**\n         * Timestamp of the last time this `MotionValue` was updated.\n         *\n         * @internal\n         */\n        this.lastUpdated = 0;\n        /**\n         * Functions to notify when the `MotionValue` updates.\n         *\n         * @internal\n         */\n        this.updateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the velocity updates.\n         *\n         * @internal\n         */\n        this.velocityUpdateSubscribers = new SubscriptionManager();\n        /**\n         * Functions to notify when the `MotionValue` updates and `render` is set to `true`.\n         *\n         * @internal\n         */\n        this.renderSubscribers = new SubscriptionManager();\n        /**\n         * Tracks whether this value can output a velocity. Currently this is only true\n         * if the value is numerical, but we might be able to widen the scope here and support\n         * other value types.\n         *\n         * @internal\n         */\n        this.canTrackVelocity = false;\n        this.updateAndNotify = (v, render = true) => {\n            this.prev = this.current;\n            this.current = v;\n            // Update timestamp\n            const { delta, timestamp } = getFrameData();\n            if (this.lastUpdated !== timestamp) {\n                this.timeDelta = delta;\n                this.lastUpdated = timestamp;\n                sync.postRender(this.scheduleVelocityCheck);\n            }\n            // Update update subscribers\n            if (this.prev !== this.current) {\n                this.updateSubscribers.notify(this.current);\n            }\n            // Update velocity subscribers\n            if (this.velocityUpdateSubscribers.getSize()) {\n                this.velocityUpdateSubscribers.notify(this.getVelocity());\n            }\n            // Update render subscribers\n            if (render) {\n                this.renderSubscribers.notify(this.current);\n            }\n        };\n        /**\n         * Schedule a velocity check for the next frame.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.scheduleVelocityCheck = () => sync.postRender(this.velocityCheck);\n        /**\n         * Updates `prev` with `current` if the value hasn't been updated this frame.\n         * This ensures velocity calculations return `0`.\n         *\n         * This is an instanced and bound function to prevent generating a new\n         * function once per frame.\n         *\n         * @internal\n         */\n        this.velocityCheck = ({ timestamp }) => {\n            if (timestamp !== this.lastUpdated) {\n                this.prev = this.current;\n                this.velocityUpdateSubscribers.notify(this.getVelocity());\n            }\n        };\n        this.hasAnimated = false;\n        this.prev = this.current = init;\n        this.canTrackVelocity = isFloat(this.current);\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` is updated.\n     *\n     * It returns a function that, when called, will cancel the subscription.\n     *\n     * When calling `onChange` inside a React component, it should be wrapped with the\n     * `useEffect` hook. As it returns an unsubscribe function, this should be returned\n     * from the `useEffect` function to ensure you don't add duplicate subscribers..\n     *\n     * ```jsx\n     * export const MyComponent = () => {\n     *   const x = useMotionValue(0)\n     *   const y = useMotionValue(0)\n     *   const opacity = useMotionValue(1)\n     *\n     *   useEffect(() => {\n     *     function updateOpacity() {\n     *       const maxXY = Math.max(x.get(), y.get())\n     *       const newOpacity = transform(maxXY, [0, 100], [1, 0])\n     *       opacity.set(newOpacity)\n     *     }\n     *\n     *     const unsubscribeX = x.onChange(updateOpacity)\n     *     const unsubscribeY = y.onChange(updateOpacity)\n     *\n     *     return () => {\n     *       unsubscribeX()\n     *       unsubscribeY()\n     *     }\n     *   }, [])\n     *\n     *   return <motion.div style={{ x }} />\n     * }\n     * ```\n     *\n     * @privateRemarks\n     *\n     * We could look into a `useOnChange` hook if the above lifecycle management proves confusing.\n     *\n     * ```jsx\n     * useOnChange(x, () => {})\n     * ```\n     *\n     * @param subscriber - A function that receives the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @public\n     */\n    onChange(subscription) {\n        return this.updateSubscribers.add(subscription);\n    }\n    clearListeners() {\n        this.updateSubscribers.clear();\n    }\n    /**\n     * Adds a function that will be notified when the `MotionValue` requests a render.\n     *\n     * @param subscriber - A function that's provided the latest value.\n     * @returns A function that, when called, will cancel this subscription.\n     *\n     * @internal\n     */\n    onRenderRequest(subscription) {\n        // Render immediately\n        subscription(this.get());\n        return this.renderSubscribers.add(subscription);\n    }\n    /**\n     * Attaches a passive effect to the `MotionValue`.\n     *\n     * @internal\n     */\n    attach(passiveEffect) {\n        this.passiveEffect = passiveEffect;\n    }\n    /**\n     * Sets the state of the `MotionValue`.\n     *\n     * @remarks\n     *\n     * ```jsx\n     * const x = useMotionValue(0)\n     * x.set(10)\n     * ```\n     *\n     * @param latest - Latest value to set.\n     * @param render - Whether to notify render subscribers. Defaults to `true`\n     *\n     * @public\n     */\n    set(v, render = true) {\n        if (!render || !this.passiveEffect) {\n            this.updateAndNotify(v, render);\n        }\n        else {\n            this.passiveEffect(v, this.updateAndNotify);\n        }\n    }\n    /**\n     * Returns the latest state of `MotionValue`\n     *\n     * @returns - The latest state of `MotionValue`\n     *\n     * @public\n     */\n    get() {\n        return this.current;\n    }\n    /**\n     * @public\n     */\n    getPrevious() {\n        return this.prev;\n    }\n    /**\n     * Returns the latest velocity of `MotionValue`\n     *\n     * @returns - The latest velocity of `MotionValue`. Returns `0` if the state is non-numerical.\n     *\n     * @public\n     */\n    getVelocity() {\n        // This could be isFloat(this.prev) && isFloat(this.current), but that would be wasteful\n        return this.canTrackVelocity\n            ? // These casts could be avoided if parseFloat would be typed better\n                velocityPerSecond(parseFloat(this.current) -\n                    parseFloat(this.prev), this.timeDelta)\n            : 0;\n    }\n    /**\n     * Registers a new animation to control this `MotionValue`. Only one\n     * animation can drive a `MotionValue` at one time.\n     *\n     * ```jsx\n     * value.start()\n     * ```\n     *\n     * @param animation - A function that starts the provided animation\n     *\n     * @internal\n     */\n    start(animation) {\n        this.stop();\n        return new Promise((resolve) => {\n            this.hasAnimated = true;\n            this.stopAnimation = animation(resolve);\n        }).then(() => this.clearAnimation());\n    }\n    /**\n     * Stop the currently active animation.\n     *\n     * @public\n     */\n    stop() {\n        if (this.stopAnimation)\n            this.stopAnimation();\n        this.clearAnimation();\n    }\n    /**\n     * Returns `true` if this value is currently animating.\n     *\n     * @public\n     */\n    isAnimating() {\n        return !!this.stopAnimation;\n    }\n    clearAnimation() {\n        this.stopAnimation = null;\n    }\n    /**\n     * Destroy and clean up subscribers to this `MotionValue`.\n     *\n     * The `MotionValue` hooks like `useMotionValue` and `useTransform` automatically\n     * handle the lifecycle of the returned `MotionValue`, so this method is only necessary if you've manually\n     * created a `MotionValue` via the `motionValue` function.\n     *\n     * @public\n     */\n    destroy() {\n        this.updateSubscribers.clear();\n        this.renderSubscribers.clear();\n        this.stop();\n    }\n}\nfunction motionValue(init) {\n    return new MotionValue(init);\n}\n\nexport { MotionValue, motionValue };\n","import { motionValue } from '../value/index.mjs';\nimport { isMotionValue } from '../value/utils/is-motion-value.mjs';\nimport { startAnimation } from './utils/transitions.mjs';\n\n/**\n * Animate a single value or a `MotionValue`.\n *\n * The first argument is either a `MotionValue` to animate, or an initial animation value.\n *\n * The second is either a value to animate to, or an array of keyframes to animate through.\n *\n * The third argument can be either tween or spring options, and optional lifecycle methods: `onUpdate`, `onPlay`, `onComplete`, `onRepeat` and `onStop`.\n *\n * Returns `AnimationPlaybackControls`, currently just a `stop` method.\n *\n * ```javascript\n * const x = useMotionValue(0)\n *\n * useEffect(() => {\n *   const controls = animate(x, 100, {\n *     type: \"spring\",\n *     stiffness: 2000,\n *     onComplete: v => {}\n *   })\n *\n *   return controls.stop\n * })\n * ```\n *\n * @public\n */\nfunction animate(from, to, transition = {}) {\n    const value = isMotionValue(from) ? from : motionValue(from);\n    startAnimation(\"\", value, to, transition);\n    return {\n        stop: () => value.stop(),\n        isAnimating: () => value.isAnimating(),\n    };\n}\n\nexport { animate };\n"],"names":["MotionConfigContext","createContext","p","isBrowser","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useConstant","init","ref","useRef","__name","isMotionValue","value","clamp","min","max","v","sanitize","floatRegex","colorRegex","singleColorRegex","isString","number","alpha","scale","createUnitType","unit","degrees","percent","px","vh","vw","progressPercentage","isColorString","type","testProp","splitColor","aName","bName","cName","b","c","hsla","hue","saturation","lightness","alpha$1","clampRgbUnit","rgbUnit","rgba","red","green","blue","parseHex","r","g","hex","color","colorToken","numberToken","test","_a","_b","_c","_d","analyse","values","numColors","colors","numbers","parse","createTransformer","tokenised","numValues","output","i","convertNumbersToZero","getAnimatableNone","parsed","complex","maxDefaults","applyDefaultFilter","name","defaultValue","functionRegex","filter","functions","int","numberValueTypes","isKeyframesTarget","isCustomValue","resolveFinalValueInKeyframes","warning","invariant","safeMin","minDuration","maxDuration","minDamping","maxDamping","findSpring","duration","bounce","velocity","mass","envelope","derivative","dampingRatio","undampedFreq","exponentialDecay","delta","a","calcAngularFreq","d","e","f","initialGuess","approximateRoot","stiffness","rootIterations","result","durationKeys","physicsKeys","isSpringType","options","keys","key","getSpringOptions","springOptions","derived","spring","from","to","restSpeed","restDelta","__rest","state","damping","isResolvedFromDuration","resolveSpring","zero","resolveVelocity","createSpring","initialVelocity","initialDelta","undampedAngularFreq","angularFreq","t","dampedAngularFreq","freqForT","current","currentVelocity","isBelowVelocityThreshold","isBelowDisplacementThreshold","_t","progress","toFromDifference","mix","hueToRgb","q","hslaToRgba","mixLinearColor","fromExpo","toExpo","colorTypes","getColorType","mixColor","fromColorType","toColorType","fromColor","toColor","blended","isNum","combineFunctions","pipe","transformers","getMixer","origin","target","mixComplex","mixArray","blendValue","fromThis","mixObject","numNumbers","numRGB","numHSL","template","originStats","targetStats","mixNumber","detectMixerFactory","createMixers","ease","customMixer","mixers","mixerFactory","numMixers","mixer","easingFunction","fastInterpolate","slowInterpolate","input","inputLength","lastInputIndex","mixerIndex","foundMixerIndex","progressInRange","interpolate","isClamp","interpolator","reverseEasing","easing","mirrorEasing","createExpoIn","power","createBackIn","createAnticipate","backEasing","DEFAULT_OVERSHOOT_STRENGTH","BOUNCE_FIRST_THRESHOLD","BOUNCE_SECOND_THRESHOLD","BOUNCE_THIRD_THRESHOLD","linear","easeIn","easeOut","easeInOut","circIn","circOut","circInOut","backIn","backOut","backInOut","anticipate","ca","cb","cc","bounceOut","p2","bounceIn","bounceInOut","defaultEasing","defaultOffset","_value","convertOffsetToTimes","offset","o","keyframes","times","createInterpolator","decay","timeConstant","modifyTarget","amplitude","ideal","types","detectAnimationFromOptions","config","defaultTimestep","getCurrentTime","onNextFrame","callback","createRenderStep","runNextFrame","toRun","toRunNextFrame","numToRun","isProcessing","flushNextFrame","toKeepAlive","step","keepAlive","immediate","addToCurrentFrame","buffer","index","frameData","maxElapsed","useDefaultElapsed","frame","stepsOrder","steps","acc","sync","process","startLoop","cancelSync","flushSync","processStep","stepId","processFrame","timestamp","getFrameData","loopElapsed","elapsed","delay","reverseElapsed","isForwardPlayback","hasRepeatDelayElapsed","framesync","update","passTimestamp","animate","autoplay","driver","repeatMax","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate","driverControls","repeatCount","computedDuration","latest","isComplete","interpolateFromNumber","animator","animation","repeat","complete","play","velocityPerSecond","frameDuration","inertia","bounceStiffness","bounceDamping","currentAnimation","isOutOfBounds","boundaryNearest","startAnimation","startSpring","boundary","heading","prev","checkBoundary","a1","a2","calcBezier","getSlope","subdivisionPrecision","subdivisionMaxIterations","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonIterations","newtonMinSlope","newtonRaphsonIterate","aGuessT","currentSlope","kSplineTableSize","kSampleStepSize","cubicBezier","mY1","mY2","sampleValues","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","secondsToMilliseconds","seconds","easingLookup","easingDefinitionToFunction","definition","x1","y1","x2","y2","isEasingArray","isAnimatable","underDampedSpring","criticallyDampedSpring","linearTween","defaultTransitions","getDefaultTransition","valueKey","transitionFactory","defaultValueTypes","getDefaultValueType","defaultValueType","instantAnimationState","timeout","start","checkElapsed","isTransitionDefined","when","_delay","delayChildren","staggerChildren","staggerDirection","transition","convertTransitionToAnimationOptions","yoyo","flip","loop","getDelayFromTransition","getValueTransition","hydrateKeyframes","getPopmotionAnimationOptions","getAnimation","valueTransition","isTargetAnimatable","isZero","getZeroUnit","isOriginAnimatable","set","finalTarget","potentialUnitType","controls","delayBy","cancelDelay","addUniqueItem","arr","item","removeItem","SubscriptionManager","handler","numSubscriptions","isFloat","MotionValue","render","subscription","passiveEffect","resolve","motionValue"],"mappings":"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"}