{"version":3,"file":"index.132c8052.js","sources":["../../node_modules/.pnpm/@swc+helpers@0.4.14/node_modules/@swc/helpers/lib/_async_to_generator.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/remove-trailing-slash.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/parse-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/normalize-trailing-slash.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/get-asset-path-from-route.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/trusted-types.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/route-loader.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/is-plain-object.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/lib/is-error.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/sorted-routes.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/is-dynamic.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/index.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/page-path/normalize-path-sep.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/page-path/denormalize-page-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/i18n/normalize-locale-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/mitt.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/utils.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/querystring.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/parse-relative-url.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/compiled/path-to-regexp/index.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/path-match.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/escape-regexp.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/parse-url.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/prepare-destination.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/path-has-prefix.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/has-base-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/remove-base-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/resolve-rewrites.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/route-matcher.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/route-regex.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/format-url.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/i18n/detect-domain-locale.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/detect-domain-locale.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/add-path-prefix.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/add-locale.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/add-locale.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/remove-locale.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/add-base-path.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/remove-path-prefix.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/get-next-pathname-info.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/add-path-suffix.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/format-next-pathname-info.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/compare-states.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/utils/is-bot.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router/router.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/shared/lib/router-context.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/with-router.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/dist/client/router.js","../../node_modules/.pnpm/next@13.0.5_kbdqwzntobeedfi7bhlmczf3ja/node_modules/next/router.js","../../node_modules/.pnpm/react-singleton-hook@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-singleton-hook/es/components/SingleItemContainer.js","../../node_modules/.pnpm/react-singleton-hook@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-singleton-hook/es/utils/warning.js","../../node_modules/.pnpm/react-singleton-hook@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-singleton-hook/es/utils/env.js","../../node_modules/.pnpm/react-singleton-hook@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-singleton-hook/es/components/SingletonHooksContainer.js","../../node_modules/.pnpm/react-singleton-hook@4.0.1_biqbaboplfbrettd7655fr4n2y/node_modules/react-singleton-hook/es/singletonHook.js","../../node_modules/.pnpm/matter-js@0.18.0/node_modules/matter-js/build/matter.js","../../node_modules/.pnpm/paper@0.12.17/node_modules/paper/dist/paper-full.js","../../node_modules/.pnpm/@fomolol+tacklebox@0.1.1_bp2dhftxp2d3eigbk2a3tctfc4/node_modules/@fomolol/tacklebox/dist/index.mjs"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function() {\n        return _asyncToGenerator;\n    }\n});\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _asyncToGenerator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removeTrailingSlash = removeTrailingSlash;\nfunction removeTrailingSlash(route) {\n    return route.replace(/\\/$/, '') || '/';\n}\n\n//# sourceMappingURL=remove-trailing-slash.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parsePath = parsePath;\nfunction parsePath(path) {\n    const hashIndex = path.indexOf('#');\n    const queryIndex = path.indexOf('?');\n    const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex);\n    if (hasQuery || hashIndex > -1) {\n        return {\n            pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n            query: hasQuery ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined) : '',\n            hash: hashIndex > -1 ? path.slice(hashIndex) : ''\n        };\n    }\n    return {\n        pathname: path,\n        query: '',\n        hash: ''\n    };\n}\n\n//# sourceMappingURL=parse-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.normalizePathTrailingSlash = void 0;\nvar _removeTrailingSlash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\nconst normalizePathTrailingSlash = (path)=>{\n    if (!path.startsWith('/') || process.env.__NEXT_MANUAL_TRAILING_SLASH) {\n        return path;\n    }\n    const { pathname , query , hash  } = (0, _parsePath).parsePath(path);\n    if (process.env.__NEXT_TRAILING_SLASH) {\n        if (/\\.[^/]+\\/?$/.test(pathname)) {\n            return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n        } else if (pathname.endsWith('/')) {\n            return `${pathname}${query}${hash}`;\n        } else {\n            return `${pathname}/${query}${hash}`;\n        }\n    }\n    return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n};\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=normalize-trailing-slash.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = getAssetPathFromRoute;\nfunction getAssetPathFromRoute(route, ext = '') {\n    const path = route === '/' ? '/index' : /^\\/index(\\/|$)/.test(route) ? `/index${route}` : `${route}`;\n    return path + ext;\n}\n\n//# sourceMappingURL=get-asset-path-from-route.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.__unsafeCreateTrustedScriptURL = __unsafeCreateTrustedScriptURL;\n/**\n * Stores the Trusted Types Policy. Starts as undefined and can be set to null\n * if Trusted Types is not supported in the browser.\n */ let policy;\n/**\n * Getter for the Trusted Types Policy. If it is undefined, it is instantiated\n * here or set to null if Trusted Types is not supported in the browser.\n */ function getPolicy() {\n    if (typeof policy === 'undefined' && typeof window !== 'undefined') {\n        var ref;\n        policy = ((ref = window.trustedTypes) == null ? void 0 : ref.createPolicy('nextjs', {\n            createHTML: (input)=>input,\n            createScript: (input)=>input,\n            createScriptURL: (input)=>input\n        })) || null;\n    }\n    return policy;\n}\nfunction __unsafeCreateTrustedScriptURL(url) {\n    var ref;\n    return ((ref = getPolicy()) == null ? void 0 : ref.createScriptURL(url)) || url;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=trusted-types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.markAssetError = markAssetError;\nexports.isAssetError = isAssetError;\nexports.getClientBuildManifest = getClientBuildManifest;\nexports.createRouteLoader = createRouteLoader;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _getAssetPathFromRoute = _interop_require_default(require(\"../shared/lib/router/utils/get-asset-path-from-route\"));\nvar _trustedTypes = require(\"./trusted-types\");\nvar _requestIdleCallback = require(\"./request-idle-callback\");\n// 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\nconst MS_MAX_IDLE_DELAY = 3800;\nfunction withFuture(key, map, generator) {\n    let entry = map.get(key);\n    if (entry) {\n        if ('future' in entry) {\n            return entry.future;\n        }\n        return Promise.resolve(entry);\n    }\n    let resolver;\n    const prom = new Promise((resolve)=>{\n        resolver = resolve;\n    });\n    map.set(key, entry = {\n        resolve: resolver,\n        future: prom\n    });\n    return generator ? generator()// eslint-disable-next-line no-sequences\n    .then((value)=>(resolver(value), value)).catch((err)=>{\n        map.delete(key);\n        throw err;\n    }) : prom;\n}\nconst ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR');\nfunction markAssetError(err) {\n    return Object.defineProperty(err, ASSET_LOAD_ERROR, {});\n}\nfunction isAssetError(err) {\n    return err && ASSET_LOAD_ERROR in err;\n}\nfunction hasPrefetch(link) {\n    try {\n        link = document.createElement('link');\n        return(// detect IE11 since it supports prefetch but isn't detected\n        // with relList.support\n        (!!window.MSInputMethodContext && !!document.documentMode) || link.relList.supports('prefetch'));\n    } catch (e) {\n        return false;\n    }\n}\nconst canPrefetch = hasPrefetch();\nfunction prefetchViaDom(href, as, link) {\n    return new Promise((resolve, reject)=>{\n        const selector = `\n      link[rel=\"prefetch\"][href^=\"${href}\"],\n      link[rel=\"preload\"][href^=\"${href}\"],\n      script[src^=\"${href}\"]`;\n        if (document.querySelector(selector)) {\n            return resolve();\n        }\n        link = document.createElement('link');\n        // The order of property assignment here is intentional:\n        if (as) link.as = as;\n        link.rel = `prefetch`;\n        link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n        link.onload = resolve;\n        link.onerror = ()=>reject(markAssetError(new Error(`Failed to prefetch: ${href}`)));\n        // `href` should always be last:\n        link.href = href;\n        document.head.appendChild(link);\n    });\n}\nfunction appendScript(src, script) {\n    return new Promise((resolve, reject)=>{\n        script = document.createElement('script');\n        // The order of property assignment here is intentional.\n        // 1. Setup success/failure hooks in case the browser synchronously\n        //    executes when `src` is set.\n        script.onload = resolve;\n        script.onerror = ()=>reject(markAssetError(new Error(`Failed to load script: ${src}`)));\n        // 2. Configure the cross-origin attribute before setting `src` in case the\n        //    browser begins to fetch.\n        script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n        // 3. Finally, set the source and inject into the DOM in case the child\n        //    must be appended for fetching to start.\n        script.src = src;\n        document.body.appendChild(script);\n    });\n}\n// We wait for pages to be built in dev before we start the route transition\n// timeout to prevent an un-necessary hard navigation in development.\nlet devBuildPromise;\n// Resolve a promise that times out after given amount of milliseconds.\nfunction resolvePromiseWithTimeout(p, ms, err) {\n    return new Promise((resolve, reject)=>{\n        let cancelled = false;\n        p.then((r)=>{\n            // Resolved, cancel the timeout\n            cancelled = true;\n            resolve(r);\n        }).catch(reject);\n        // We wrap these checks separately for better dead-code elimination in\n        // production bundles.\n        if (process.env.NODE_ENV === 'development') {\n            (devBuildPromise || Promise.resolve()).then(()=>{\n                (0, _requestIdleCallback).requestIdleCallback(()=>setTimeout(()=>{\n                        if (!cancelled) {\n                            reject(err);\n                        }\n                    }, ms));\n            });\n        }\n        if (process.env.NODE_ENV !== 'development') {\n            (0, _requestIdleCallback).requestIdleCallback(()=>setTimeout(()=>{\n                    if (!cancelled) {\n                        reject(err);\n                    }\n                }, ms));\n        }\n    });\n}\nfunction getClientBuildManifest() {\n    if (self.__BUILD_MANIFEST) {\n        return Promise.resolve(self.__BUILD_MANIFEST);\n    }\n    const onBuildManifest = new Promise((resolve)=>{\n        // Mandatory because this is not concurrent safe:\n        const cb = self.__BUILD_MANIFEST_CB;\n        self.__BUILD_MANIFEST_CB = ()=>{\n            resolve(self.__BUILD_MANIFEST);\n            cb && cb();\n        };\n    });\n    return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error('Failed to load client build manifest')));\n}\nfunction getFilesForRoute(assetPrefix, route) {\n    if (process.env.NODE_ENV === 'development') {\n        const scriptUrl = assetPrefix + '/_next/static/chunks/pages' + encodeURI((0, _getAssetPathFromRoute).default(route, '.js'));\n        return Promise.resolve({\n            scripts: [\n                (0, _trustedTypes).__unsafeCreateTrustedScriptURL(scriptUrl)\n            ],\n            // Styles are handled by `style-loader` in development:\n            css: []\n        });\n    }\n    return getClientBuildManifest().then((manifest)=>{\n        if (!(route in manifest)) {\n            throw markAssetError(new Error(`Failed to lookup route: ${route}`));\n        }\n        const allFiles = manifest[route].map((entry)=>assetPrefix + '/_next/' + encodeURI(entry));\n        return {\n            scripts: allFiles.filter((v)=>v.endsWith('.js')).map((v)=>(0, _trustedTypes).__unsafeCreateTrustedScriptURL(v)),\n            css: allFiles.filter((v)=>v.endsWith('.css'))\n        };\n    });\n}\nfunction createRouteLoader(assetPrefix) {\n    const entrypoints = new Map();\n    const loadedScripts = new Map();\n    const styleSheets = new Map();\n    const routes = new Map();\n    function maybeExecuteScript(src) {\n        // With HMR we might need to \"reload\" scripts when they are\n        // disposed and readded. Executing scripts twice has no functional\n        // differences\n        if (process.env.NODE_ENV !== 'development') {\n            let prom = loadedScripts.get(src.toString());\n            if (prom) {\n                return prom;\n            }\n            // Skip executing script if it's already in the DOM:\n            if (document.querySelector(`script[src^=\"${src}\"]`)) {\n                return Promise.resolve();\n            }\n            loadedScripts.set(src.toString(), prom = appendScript(src));\n            return prom;\n        } else {\n            return appendScript(src);\n        }\n    }\n    function fetchStyleSheet(href) {\n        let prom = styleSheets.get(href);\n        if (prom) {\n            return prom;\n        }\n        styleSheets.set(href, prom = fetch(href).then((res)=>{\n            if (!res.ok) {\n                throw new Error(`Failed to load stylesheet: ${href}`);\n            }\n            return res.text().then((text)=>({\n                    href: href,\n                    content: text\n                }));\n        }).catch((err)=>{\n            throw markAssetError(err);\n        }));\n        return prom;\n    }\n    return {\n        whenEntrypoint (route) {\n            return withFuture(route, entrypoints);\n        },\n        onEntrypoint (route, execute) {\n            (execute ? Promise.resolve().then(()=>execute()).then((exports)=>({\n                    component: exports && exports.default || exports,\n                    exports: exports\n                }), (err)=>({\n                    error: err\n                })) : Promise.resolve(undefined)).then((input)=>{\n                const old = entrypoints.get(route);\n                if (old && 'resolve' in old) {\n                    if (input) {\n                        entrypoints.set(route, input);\n                        old.resolve(input);\n                    }\n                } else {\n                    if (input) {\n                        entrypoints.set(route, input);\n                    } else {\n                        entrypoints.delete(route);\n                    }\n                    // when this entrypoint has been resolved before\n                    // the route is outdated and we want to invalidate\n                    // this cache entry\n                    routes.delete(route);\n                }\n            });\n        },\n        loadRoute (route, prefetch) {\n            return withFuture(route, routes, ()=>{\n                let devBuildPromiseResolve;\n                if (process.env.NODE_ENV === 'development') {\n                    devBuildPromise = new Promise((resolve)=>{\n                        devBuildPromiseResolve = resolve;\n                    });\n                }\n                return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix, route).then(({ scripts , css  })=>{\n                    return Promise.all([\n                        entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)),\n                        Promise.all(css.map(fetchStyleSheet)), \n                    ]);\n                }).then((res)=>{\n                    return this.whenEntrypoint(route).then((entrypoint)=>({\n                            entrypoint,\n                            styles: res[1]\n                        }));\n                }), MS_MAX_IDLE_DELAY, markAssetError(new Error(`Route did not complete loading: ${route}`))).then(({ entrypoint , styles  })=>{\n                    const res = Object.assign({\n                        styles: styles\n                    }, entrypoint);\n                    return 'error' in entrypoint ? entrypoint : res;\n                }).catch((err)=>{\n                    if (prefetch) {\n                        // we don't want to cache errors during prefetch\n                        throw err;\n                    }\n                    return {\n                        error: err\n                    };\n                }).finally(()=>{\n                    return devBuildPromiseResolve == null ? void 0 : devBuildPromiseResolve();\n                });\n            });\n        },\n        prefetch (route) {\n            // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n            // License: Apache 2.0\n            let cn;\n            if (cn = navigator.connection) {\n                // Don't prefetch if using 2G or if Save-Data is enabled.\n                if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n            }\n            return getFilesForRoute(assetPrefix, route).then((output)=>Promise.all(canPrefetch ? output.scripts.map((script)=>prefetchViaDom(script.toString(), 'script')) : [])).then(()=>{\n                (0, _requestIdleCallback).requestIdleCallback(()=>this.loadRoute(route, true).catch(()=>{}));\n            }).catch(// swallow prefetch errors\n            ()=>{});\n        }\n    };\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=route-loader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getObjectClassLabel = getObjectClassLabel;\nexports.isPlainObject = isPlainObject;\nfunction getObjectClassLabel(value) {\n    return Object.prototype.toString.call(value);\n}\nfunction isPlainObject(value) {\n    if (getObjectClassLabel(value) !== '[object Object]') {\n        return false;\n    }\n    const prototype = Object.getPrototypeOf(value);\n    /**\n   * this used to be previously:\n   *\n   * `return prototype === null || prototype === Object.prototype`\n   *\n   * but Edge Runtime expose Object from vm, being that kind of type-checking wrongly fail.\n   *\n   * It was changed to the current implementation since it's resilient to serialization.\n   */ return prototype === null || prototype.hasOwnProperty('isPrototypeOf');\n}\n\n//# sourceMappingURL=is-plain-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = isError;\nexports.getProperError = getProperError;\nvar _isPlainObject = require(\"../shared/lib/is-plain-object\");\nfunction isError(err) {\n    return typeof err === \"object\" && err !== null && \"name\" in err && \"message\" in err;\n}\nfunction getProperError(err) {\n    if (isError(err)) {\n        return err;\n    }\n    if (process.env.NODE_ENV === \"development\") {\n        // provide better error for case where `throw undefined`\n        // is called in development\n        if (typeof err === \"undefined\") {\n            return new Error(\"An undefined error was thrown, \" + \"see here for more info: https://nextjs.org/docs/messages/threw-undefined\");\n        }\n        if (err === null) {\n            return new Error(\"A null error was thrown, \" + \"see here for more info: https://nextjs.org/docs/messages/threw-undefined\");\n        }\n    }\n    return new Error((0, _isPlainObject).isPlainObject(err) ? JSON.stringify(err) : err + \"\");\n}\n\n//# sourceMappingURL=is-error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getSortedRoutes = getSortedRoutes;\nclass UrlNode {\n    insert(urlPath) {\n        this._insert(urlPath.split('/').filter(Boolean), [], false);\n    }\n    smoosh() {\n        return this._smoosh();\n    }\n    _smoosh(prefix = '/') {\n        const childrenPaths = [\n            ...this.children.keys()\n        ].sort();\n        if (this.slugName !== null) {\n            childrenPaths.splice(childrenPaths.indexOf('[]'), 1);\n        }\n        if (this.restSlugName !== null) {\n            childrenPaths.splice(childrenPaths.indexOf('[...]'), 1);\n        }\n        if (this.optionalRestSlugName !== null) {\n            childrenPaths.splice(childrenPaths.indexOf('[[...]]'), 1);\n        }\n        const routes = childrenPaths.map((c)=>this.children.get(c)._smoosh(`${prefix}${c}/`)).reduce((prev, curr)=>[\n                ...prev,\n                ...curr\n            ], []);\n        if (this.slugName !== null) {\n            routes.push(...this.children.get('[]')._smoosh(`${prefix}[${this.slugName}]/`));\n        }\n        if (!this.placeholder) {\n            const r = prefix === '/' ? '/' : prefix.slice(0, -1);\n            if (this.optionalRestSlugName != null) {\n                throw new Error(`You cannot define a route with the same specificity as a optional catch-all route (\"${r}\" and \"${r}[[...${this.optionalRestSlugName}]]\").`);\n            }\n            routes.unshift(r);\n        }\n        if (this.restSlugName !== null) {\n            routes.push(...this.children.get('[...]')._smoosh(`${prefix}[...${this.restSlugName}]/`));\n        }\n        if (this.optionalRestSlugName !== null) {\n            routes.push(...this.children.get('[[...]]')._smoosh(`${prefix}[[...${this.optionalRestSlugName}]]/`));\n        }\n        return routes;\n    }\n    _insert(urlPaths, slugNames, isCatchAll) {\n        if (urlPaths.length === 0) {\n            this.placeholder = false;\n            return;\n        }\n        if (isCatchAll) {\n            throw new Error(`Catch-all must be the last part of the URL.`);\n        }\n        // The next segment in the urlPaths list\n        let nextSegment = urlPaths[0];\n        // Check if the segment matches `[something]`\n        if (nextSegment.startsWith('[') && nextSegment.endsWith(']')) {\n            // Strip `[` and `]`, leaving only `something`\n            let segmentName = nextSegment.slice(1, -1);\n            let isOptional = false;\n            if (segmentName.startsWith('[') && segmentName.endsWith(']')) {\n                // Strip optional `[` and `]`, leaving only `something`\n                segmentName = segmentName.slice(1, -1);\n                isOptional = true;\n            }\n            if (segmentName.startsWith('...')) {\n                // Strip `...`, leaving only `something`\n                segmentName = segmentName.substring(3);\n                isCatchAll = true;\n            }\n            if (segmentName.startsWith('[') || segmentName.endsWith(']')) {\n                throw new Error(`Segment names may not start or end with extra brackets ('${segmentName}').`);\n            }\n            if (segmentName.startsWith('.')) {\n                throw new Error(`Segment names may not start with erroneous periods ('${segmentName}').`);\n            }\n            function handleSlug(previousSlug, nextSlug) {\n                if (previousSlug !== null) {\n                    // If the specific segment already has a slug but the slug is not `something`\n                    // This prevents collisions like:\n                    // pages/[post]/index.js\n                    // pages/[id]/index.js\n                    // Because currently multiple dynamic params on the same segment level are not supported\n                    if (previousSlug !== nextSlug) {\n                        // TODO: This error seems to be confusing for users, needs an error link, the description can be based on above comment.\n                        throw new Error(`You cannot use different slug names for the same dynamic path ('${previousSlug}' !== '${nextSlug}').`);\n                    }\n                }\n                slugNames.forEach((slug)=>{\n                    if (slug === nextSlug) {\n                        throw new Error(`You cannot have the same slug name \"${nextSlug}\" repeat within a single dynamic path`);\n                    }\n                    if (slug.replace(/\\W/g, '') === nextSegment.replace(/\\W/g, '')) {\n                        throw new Error(`You cannot have the slug names \"${slug}\" and \"${nextSlug}\" differ only by non-word symbols within a single dynamic path`);\n                    }\n                });\n                slugNames.push(nextSlug);\n            }\n            if (isCatchAll) {\n                if (isOptional) {\n                    if (this.restSlugName != null) {\n                        throw new Error(`You cannot use both an required and optional catch-all route at the same level (\"[...${this.restSlugName}]\" and \"${urlPaths[0]}\" ).`);\n                    }\n                    handleSlug(this.optionalRestSlugName, segmentName);\n                    // slugName is kept as it can only be one particular slugName\n                    this.optionalRestSlugName = segmentName;\n                    // nextSegment is overwritten to [[...]] so that it can later be sorted specifically\n                    nextSegment = '[[...]]';\n                } else {\n                    if (this.optionalRestSlugName != null) {\n                        throw new Error(`You cannot use both an optional and required catch-all route at the same level (\"[[...${this.optionalRestSlugName}]]\" and \"${urlPaths[0]}\").`);\n                    }\n                    handleSlug(this.restSlugName, segmentName);\n                    // slugName is kept as it can only be one particular slugName\n                    this.restSlugName = segmentName;\n                    // nextSegment is overwritten to [...] so that it can later be sorted specifically\n                    nextSegment = '[...]';\n                }\n            } else {\n                if (isOptional) {\n                    throw new Error(`Optional route parameters are not yet supported (\"${urlPaths[0]}\").`);\n                }\n                handleSlug(this.slugName, segmentName);\n                // slugName is kept as it can only be one particular slugName\n                this.slugName = segmentName;\n                // nextSegment is overwritten to [] so that it can later be sorted specifically\n                nextSegment = '[]';\n            }\n        }\n        // If this UrlNode doesn't have the nextSegment yet we create a new child UrlNode\n        if (!this.children.has(nextSegment)) {\n            this.children.set(nextSegment, new UrlNode());\n        }\n        this.children.get(nextSegment)._insert(urlPaths.slice(1), slugNames, isCatchAll);\n    }\n    constructor(){\n        this.placeholder = true;\n        this.children = new Map();\n        this.slugName = null;\n        this.restSlugName = null;\n        this.optionalRestSlugName = null;\n    }\n}\nfunction getSortedRoutes(normalizedPages) {\n    // First the UrlNode is created, and every UrlNode can have only 1 dynamic segment\n    // Eg you can't have pages/[post]/abc.js and pages/[hello]/something-else.js\n    // Only 1 dynamic segment per nesting level\n    // So in the case that is test/integration/dynamic-routing it'll be this:\n    // pages/[post]/comments.js\n    // pages/blog/[post]/comment/[id].js\n    // Both are fine because `pages/[post]` and `pages/blog` are on the same level\n    // So in this case `UrlNode` created here has `this.slugName === 'post'`\n    // And since your PR passed through `slugName` as an array basically it'd including it in too many possibilities\n    // Instead what has to be passed through is the upwards path's dynamic names\n    const root = new UrlNode();\n    // Here the `root` gets injected multiple paths, and insert will break them up into sublevels\n    normalizedPages.forEach((pagePath)=>root.insert(pagePath));\n    // Smoosh will then sort those sublevels up to the point where you get the correct route definition priority\n    return root.smoosh();\n}\n\n//# sourceMappingURL=sorted-routes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isDynamicRoute = isDynamicRoute;\n// Identify /[param]/ in route string\nconst TEST_ROUTE = /\\/\\[[^/]+?\\](?=\\/|$)/;\nfunction isDynamicRoute(route) {\n    return TEST_ROUTE.test(route);\n}\n\n//# sourceMappingURL=is-dynamic.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"getSortedRoutes\", {\n    enumerable: true,\n    get: function() {\n        return _sortedRoutes.getSortedRoutes;\n    }\n});\nObject.defineProperty(exports, \"isDynamicRoute\", {\n    enumerable: true,\n    get: function() {\n        return _isDynamic.isDynamicRoute;\n    }\n});\nvar _sortedRoutes = require(\"./sorted-routes\");\nvar _isDynamic = require(\"./is-dynamic\");\n\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.normalizePathSep = normalizePathSep;\nfunction normalizePathSep(path) {\n    return path.replace(/\\\\/g, '/');\n}\n\n//# sourceMappingURL=normalize-path-sep.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.denormalizePagePath = denormalizePagePath;\nvar _utils = require(\"../router/utils\");\nvar _normalizePathSep = require(\"./normalize-path-sep\");\nfunction denormalizePagePath(page) {\n    let _page = (0, _normalizePathSep).normalizePathSep(page);\n    return _page.startsWith('/index/') && !(0, _utils).isDynamicRoute(_page) ? _page.slice(6) : _page !== '/index' ? _page : '/';\n}\n\n//# sourceMappingURL=denormalize-page-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.normalizeLocalePath = normalizeLocalePath;\nfunction normalizeLocalePath(pathname, locales) {\n    let detectedLocale;\n    // first item will be empty string from splitting at first char\n    const pathnameParts = pathname.split('/');\n    (locales || []).some((locale)=>{\n        if (pathnameParts[1] && pathnameParts[1].toLowerCase() === locale.toLowerCase()) {\n            detectedLocale = locale;\n            pathnameParts.splice(1, 1);\n            pathname = pathnameParts.join('/') || '/';\n            return true;\n        }\n        return false;\n    });\n    return {\n        pathname,\n        detectedLocale\n    };\n}\n\n//# sourceMappingURL=normalize-locale-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = mitt;\nfunction mitt() {\n    const all = Object.create(null);\n    return {\n        on (type, handler) {\n            (all[type] || (all[type] = [])).push(handler);\n        },\n        off (type, handler) {\n            if (all[type]) {\n                all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n            }\n        },\n        emit (type, ...evts) {\n            (all[type] || []).slice().map((handler)=>{\n                handler(...evts);\n            });\n        }\n    };\n}\n\n//# sourceMappingURL=mitt.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.normalizeRepeatedSlashes = normalizeRepeatedSlashes;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.ST = exports.SP = exports.isAbsoluteUrl = exports.WEB_VITALS = void 0;\nvar _async_to_generator = require(\"@swc/helpers/lib/_async_to_generator.js\").default;\nconst WEB_VITALS = [\n    'CLS',\n    'FCP',\n    'FID',\n    'INP',\n    'LCP',\n    'TTFB'\n];\nexports.WEB_VITALS = WEB_VITALS;\nfunction execOnce(fn) {\n    let used = false;\n    let result;\n    return (...args)=>{\n        if (!used) {\n            used = true;\n            result = fn(...args);\n        }\n        return result;\n    };\n}\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\nconst isAbsoluteUrl = (url)=>ABSOLUTE_URL_REGEX.test(url);\nexports.isAbsoluteUrl = isAbsoluteUrl;\nfunction getLocationOrigin() {\n    const { protocol , hostname , port  } = window.location;\n    return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\nfunction getURL() {\n    const { href  } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nfunction getDisplayName(Component) {\n    return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nfunction normalizeRepeatedSlashes(url) {\n    const urlParts = url.split('?');\n    const urlNoQuery = urlParts[0];\n    return urlNoQuery// first we replace any non-encoded backslashes with forward\n    // then normalize repeated forward slashes\n    .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '');\n}\nfunction loadGetInitialProps(App, ctx) {\n    return _loadGetInitialProps.apply(this, arguments);\n}\nfunction _loadGetInitialProps() {\n    _loadGetInitialProps = _async_to_generator(function*(App, ctx) {\n        if (process.env.NODE_ENV !== 'production') {\n            var ref;\n            if ((ref = App.prototype) == null ? void 0 : ref.getInitialProps) {\n                const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n                throw new Error(message);\n            }\n        }\n        // when called from _app `ctx` is nested in `ctx`\n        const res = ctx.res || ctx.ctx && ctx.ctx.res;\n        if (!App.getInitialProps) {\n            if (ctx.ctx && ctx.Component) {\n                // @ts-ignore pageProps default\n                return {\n                    pageProps: yield loadGetInitialProps(ctx.Component, ctx.ctx)\n                };\n            }\n            return {};\n        }\n        const props = yield App.getInitialProps(ctx);\n        if (res && isResSent(res)) {\n            return props;\n        }\n        if (!props) {\n            const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n            throw new Error(message);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (Object.keys(props).length === 0 && !ctx.ctx) {\n                console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n            }\n        }\n        return props;\n    });\n    return _loadGetInitialProps.apply(this, arguments);\n}\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && [\n    'mark',\n    'measure',\n    'getEntriesByName'\n].every((method)=>typeof performance[method] === 'function');\nexports.ST = ST;\nclass DecodeError extends Error {\n}\nexports.DecodeError = DecodeError;\nclass NormalizeError extends Error {\n}\nexports.NormalizeError = NormalizeError;\nclass PageNotFoundError extends Error {\n    constructor(page){\n        super();\n        this.code = 'ENOENT';\n        this.message = `Cannot find module for page: ${page}`;\n    }\n}\nexports.PageNotFoundError = PageNotFoundError;\nclass MissingStaticPage extends Error {\n    constructor(page, message){\n        super();\n        this.message = `Failed to load static file for page: ${page} ${message}`;\n    }\n}\nexports.MissingStaticPage = MissingStaticPage;\nclass MiddlewareNotFoundError extends Error {\n    constructor(){\n        super();\n        this.code = 'ENOENT';\n        this.message = `Cannot find the middleware module`;\n    }\n}\nexports.MiddlewareNotFoundError = MiddlewareNotFoundError;\n\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.searchParamsToUrlQuery = searchParamsToUrlQuery;\nexports.urlQueryToSearchParams = urlQueryToSearchParams;\nexports.assign = assign;\nfunction searchParamsToUrlQuery(searchParams) {\n    const query = {};\n    searchParams.forEach((value, key)=>{\n        if (typeof query[key] === 'undefined') {\n            query[key] = value;\n        } else if (Array.isArray(query[key])) {\n            query[key].push(value);\n        } else {\n            query[key] = [\n                query[key],\n                value\n            ];\n        }\n    });\n    return query;\n}\nfunction stringifyUrlQueryParam(param) {\n    if (typeof param === 'string' || typeof param === 'number' && !isNaN(param) || typeof param === 'boolean') {\n        return String(param);\n    } else {\n        return '';\n    }\n}\nfunction urlQueryToSearchParams(urlQuery) {\n    const result = new URLSearchParams();\n    Object.entries(urlQuery).forEach(([key, value])=>{\n        if (Array.isArray(value)) {\n            value.forEach((item)=>result.append(key, stringifyUrlQueryParam(item)));\n        } else {\n            result.set(key, stringifyUrlQueryParam(value));\n        }\n    });\n    return result;\n}\nfunction assign(target, ...searchParamsList) {\n    searchParamsList.forEach((searchParams)=>{\n        Array.from(searchParams.keys()).forEach((key)=>target.delete(key));\n        searchParams.forEach((value, key)=>target.append(key, value));\n    });\n    return target;\n}\n\n//# sourceMappingURL=querystring.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseRelativeUrl = parseRelativeUrl;\nvar _utils = require(\"../../utils\");\nvar _querystring = require(\"./querystring\");\nfunction parseRelativeUrl(url, base) {\n    const globalBase = new URL(typeof window === 'undefined' ? 'http://n' : (0, _utils).getLocationOrigin());\n    const resolvedBase = base ? new URL(base, globalBase) : url.startsWith('.') ? new URL(typeof window === 'undefined' ? 'http://n' : window.location.href) : globalBase;\n    const { pathname , searchParams , search , hash , href , origin  } = new URL(url, resolvedBase);\n    if (origin !== globalBase.origin) {\n        throw new Error(`invariant: invalid relative URL, router received ${url}`);\n    }\n    return {\n        pathname,\n        query: (0, _querystring).searchParamsToUrlQuery(searchParams),\n        search,\n        hash,\n        href: href.slice(globalBase.origin.length)\n    };\n}\n\n//# sourceMappingURL=parse-relative-url.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \" + i);\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \" + j);\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \" + j);\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \" + i);\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \" + i);\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nfunction parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\" + escapeString(options.delimiter || \"/#?\") + \"]+?\";\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \" + nextType + \" at \" + index + \", expected \" + type);\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        // tslint:disable-next-line\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\"\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\nexports.parse = parse;\n/**\n * Compile a string to a template function for the path.\n */\nfunction compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\nexports.compile = compile;\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\" + token.pattern + \")$\", reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not repeat, but got an array\");\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to not be empty\");\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to match \\\"\" + token.pattern + \"\\\", but got \\\"\" + segment + \"\\\"\");\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\" + token.name + \"\\\" to be \" + typeOfMessage);\n        }\n        return path;\n    };\n}\nexports.tokensToFunction = tokensToFunction;\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\nexports.match = match;\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            // tslint:disable-next-line\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\nexports.regexpToFunction = regexpToFunction;\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    // Use a negative lookahead to match only capturing groups.\n    var groups = path.source.match(/\\((?!\\?)/g);\n    if (groups) {\n        for (var i = 0; i < groups.length; i++) {\n            keys.push({\n                name: i,\n                prefix: \"\",\n                suffix: \"\",\n                modifier: \"\",\n                pattern: \"\"\n            });\n        }\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\" + parts.join(\"|\") + \")\", flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nfunction tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d;\n    var endsWith = \"[\" + escapeString(options.endsWith || \"\") + \"]|$\";\n    var delimiter = \"[\" + escapeString(options.delimiter || \"/#?\") + \"]\";\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\" + prefix + \"((?:\" + token.pattern + \")(?:\" + suffix + prefix + \"(?:\" + token.pattern + \"))*)\" + suffix + \")\" + mod;\n                    }\n                    else {\n                        route += \"(?:\" + prefix + \"(\" + token.pattern + \")\" + suffix + \")\" + token.modifier;\n                    }\n                }\n                else {\n                    route += \"(\" + token.pattern + \")\" + token.modifier;\n                }\n            }\n            else {\n                route += \"(?:\" + prefix + suffix + \")\" + token.modifier;\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += delimiter + \"?\";\n        route += !options.endsWith ? \"$\" : \"(?=\" + endsWith + \")\";\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiter.indexOf(endToken[endToken.length - 1]) > -1\n            : // tslint:disable-next-line\n                endToken === undefined;\n        if (!strict) {\n            route += \"(?:\" + delimiter + \"(?=\" + endsWith + \"))?\";\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\" + delimiter + \"|\" + endsWith + \")\";\n        }\n    }\n    return new RegExp(route, flags(options));\n}\nexports.tokensToRegexp = tokensToRegexp;\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nfunction pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\nexports.pathToRegexp = pathToRegexp;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getPathMatch = getPathMatch;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _pathToRegexp = require(\"next/dist/compiled/path-to-regexp\");\nfunction getPathMatch(path, options) {\n    const keys = [];\n    const regexp = (0, _pathToRegexp).pathToRegexp(path, keys, {\n        delimiter: '/',\n        sensitive: false,\n        strict: options == null ? void 0 : options.strict\n    });\n    const matcher = (0, _pathToRegexp).regexpToFunction((options == null ? void 0 : options.regexModifier) ? new RegExp(options.regexModifier(regexp.source), regexp.flags) : regexp, keys);\n    /**\n   * A matcher function that will check if a given pathname matches the path\n   * given in the builder function. When the path does not match it will return\n   * `false` but if it does it will return an object with the matched params\n   * merged with the params provided in the second argument.\n   */ return (pathname, params)=>{\n        const res = pathname == null ? false : matcher(pathname);\n        if (!res) {\n            return false;\n        }\n        /**\n     * If unnamed params are not allowed they must be removed from\n     * the matched parameters. path-to-regexp uses \"string\" for named and\n     * \"number\" for unnamed parameters.\n     */ if (options == null ? void 0 : options.removeUnnamedParams) {\n            for (const key of keys){\n                if (typeof key.name === 'number') {\n                    delete res.params[key.name];\n                }\n            }\n        }\n        return _extends({}, params, res.params);\n    };\n}\n\n//# sourceMappingURL=path-match.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.escapeStringRegexp = escapeStringRegexp;\n// regexp is based on https://github.com/sindresorhus/escape-string-regexp\nconst reHasRegExp = /[|\\\\{}()[\\]^$+*?.-]/;\nconst reReplaceRegExp = /[|\\\\{}()[\\]^$+*?.-]/g;\nfunction escapeStringRegexp(str) {\n    // see also: https://github.com/lodash/lodash/blob/2da024c3b4f9947a48517639de7560457cd4ec6c/escapeRegExp.js#L23\n    if (reHasRegExp.test(str)) {\n        return str.replace(reReplaceRegExp, '\\\\$&');\n    }\n    return str;\n}\n\n//# sourceMappingURL=escape-regexp.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseUrl = parseUrl;\nvar _querystring = require(\"./querystring\");\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\nfunction parseUrl(url) {\n    if (url.startsWith('/')) {\n        return (0, _parseRelativeUrl).parseRelativeUrl(url);\n    }\n    const parsedURL = new URL(url);\n    return {\n        hash: parsedURL.hash,\n        hostname: parsedURL.hostname,\n        href: parsedURL.href,\n        pathname: parsedURL.pathname,\n        port: parsedURL.port,\n        protocol: parsedURL.protocol,\n        query: (0, _querystring).searchParamsToUrlQuery(parsedURL.searchParams),\n        search: parsedURL.search\n    };\n}\n\n//# sourceMappingURL=parse-url.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.matchHas = matchHas;\nexports.compileNonPath = compileNonPath;\nexports.prepareDestination = prepareDestination;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _pathToRegexp = require(\"next/dist/compiled/path-to-regexp\");\nvar _escapeRegexp = require(\"../../escape-regexp\");\nvar _parseUrl = require(\"./parse-url\");\n/**\n * Ensure only a-zA-Z are used for param names for proper interpolating\n * with path-to-regexp\n */ function getSafeParamName(paramName) {\n    let newParamName = '';\n    for(let i = 0; i < paramName.length; i++){\n        const charCode = paramName.charCodeAt(i);\n        if (charCode > 64 && charCode < 91 || charCode > 96 && charCode < 123 // a-z\n        ) {\n            newParamName += paramName[i];\n        }\n    }\n    return newParamName;\n}\nfunction escapeSegment(str, segmentName) {\n    return str.replace(new RegExp(`:${(0, _escapeRegexp).escapeStringRegexp(segmentName)}`, 'g'), `__ESC_COLON_${segmentName}`);\n}\nfunction unescapeSegments(str) {\n    return str.replace(/__ESC_COLON_/gi, ':');\n}\nfunction matchHas(req, query, has = [], missing = []) {\n    const params = {};\n    const hasMatch = (hasItem)=>{\n        let value;\n        let key = hasItem.key;\n        switch(hasItem.type){\n            case 'header':\n                {\n                    key = key.toLowerCase();\n                    value = req.headers[key];\n                    break;\n                }\n            case 'cookie':\n                {\n                    value = req.cookies[hasItem.key];\n                    break;\n                }\n            case 'query':\n                {\n                    value = query[key];\n                    break;\n                }\n            case 'host':\n                {\n                    const { host  } = (req == null ? void 0 : req.headers) || {};\n                    // remove port from host if present\n                    const hostname = host == null ? void 0 : host.split(':')[0].toLowerCase();\n                    value = hostname;\n                    break;\n                }\n            default:\n                {\n                    break;\n                }\n        }\n        if (!hasItem.value && value) {\n            params[getSafeParamName(key)] = value;\n            return true;\n        } else if (value) {\n            const matcher = new RegExp(`^${hasItem.value}$`);\n            const matches = Array.isArray(value) ? value.slice(-1)[0].match(matcher) : value.match(matcher);\n            if (matches) {\n                if (Array.isArray(matches)) {\n                    if (matches.groups) {\n                        Object.keys(matches.groups).forEach((groupKey)=>{\n                            params[groupKey] = matches.groups[groupKey];\n                        });\n                    } else if (hasItem.type === 'host' && matches[0]) {\n                        params.host = matches[0];\n                    }\n                }\n                return true;\n            }\n        }\n        return false;\n    };\n    const allMatch = has.every((item)=>hasMatch(item)) && !missing.some((item)=>hasMatch(item));\n    if (allMatch) {\n        return params;\n    }\n    return false;\n}\nfunction compileNonPath(value, params) {\n    if (!value.includes(':')) {\n        return value;\n    }\n    for (const key of Object.keys(params)){\n        if (value.includes(`:${key}`)) {\n            value = value.replace(new RegExp(`:${key}\\\\*`, 'g'), `:${key}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${key}\\\\?`, 'g'), `:${key}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${key}\\\\+`, 'g'), `:${key}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${key}(?!\\\\w)`, 'g'), `--ESCAPED_PARAM_COLON${key}`);\n        }\n    }\n    value = value.replace(/(:|\\*|\\?|\\+|\\(|\\)|\\{|\\})/g, '\\\\$1').replace(/--ESCAPED_PARAM_PLUS/g, '+').replace(/--ESCAPED_PARAM_COLON/g, ':').replace(/--ESCAPED_PARAM_QUESTION/g, '?').replace(/--ESCAPED_PARAM_ASTERISKS/g, '*');\n    // the value needs to start with a forward-slash to be compiled\n    // correctly\n    return (0, _pathToRegexp).compile(`/${value}`, {\n        validate: false\n    })(params).slice(1);\n}\nfunction prepareDestination(args) {\n    const query = Object.assign({}, args.query);\n    delete query.__nextLocale;\n    delete query.__nextDefaultLocale;\n    delete query.__nextDataReq;\n    let escapedDestination = args.destination;\n    for (const param of Object.keys(_extends({}, args.params, query))){\n        escapedDestination = escapeSegment(escapedDestination, param);\n    }\n    const parsedDestination = (0, _parseUrl).parseUrl(escapedDestination);\n    const destQuery = parsedDestination.query;\n    const destPath = unescapeSegments(`${parsedDestination.pathname}${parsedDestination.hash || ''}`);\n    const destHostname = unescapeSegments(parsedDestination.hostname || '');\n    const destPathParamKeys = [];\n    const destHostnameParamKeys = [];\n    (0, _pathToRegexp).pathToRegexp(destPath, destPathParamKeys);\n    (0, _pathToRegexp).pathToRegexp(destHostname, destHostnameParamKeys);\n    const destParams = [];\n    destPathParamKeys.forEach((key)=>destParams.push(key.name));\n    destHostnameParamKeys.forEach((key)=>destParams.push(key.name));\n    const destPathCompiler = (0, _pathToRegexp).compile(destPath, // we don't validate while compiling the destination since we should\n    // have already validated before we got to this point and validating\n    // breaks compiling destinations with named pattern params from the source\n    // e.g. /something:hello(.*) -> /another/:hello is broken with validation\n    // since compile validation is meant for reversing and not for inserting\n    // params from a separate path-regex into another\n    {\n        validate: false\n    });\n    const destHostnameCompiler = (0, _pathToRegexp).compile(destHostname, {\n        validate: false\n    });\n    // update any params in query values\n    for (const [key1, strOrArray] of Object.entries(destQuery)){\n        // the value needs to start with a forward-slash to be compiled\n        // correctly\n        if (Array.isArray(strOrArray)) {\n            destQuery[key1] = strOrArray.map((value)=>compileNonPath(unescapeSegments(value), args.params));\n        } else if (typeof strOrArray === 'string') {\n            destQuery[key1] = compileNonPath(unescapeSegments(strOrArray), args.params);\n        }\n    }\n    // add path params to query if it's not a redirect and not\n    // already defined in destination query or path\n    let paramKeys = Object.keys(args.params).filter((name)=>name !== 'nextInternalLocale');\n    if (args.appendParamsToQuery && !paramKeys.some((key)=>destParams.includes(key))) {\n        for (const key of paramKeys){\n            if (!(key in destQuery)) {\n                destQuery[key] = args.params[key];\n            }\n        }\n    }\n    let newUrl;\n    try {\n        newUrl = destPathCompiler(args.params);\n        const [pathname, hash] = newUrl.split('#');\n        parsedDestination.hostname = destHostnameCompiler(args.params);\n        parsedDestination.pathname = pathname;\n        parsedDestination.hash = `${hash ? '#' : ''}${hash || ''}`;\n        delete parsedDestination.search;\n    } catch (err) {\n        if (err.message.match(/Expected .*? to not repeat, but got an array/)) {\n            throw new Error(`To use a multi-match in the destination you must add \\`*\\` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match`);\n        }\n        throw err;\n    }\n    // Query merge order lowest priority to highest\n    // 1. initial URL query values\n    // 2. path segment values\n    // 3. destination specified query values\n    parsedDestination.query = _extends({}, query, parsedDestination.query);\n    return {\n        newUrl,\n        destQuery,\n        parsedDestination\n    };\n}\n\n//# sourceMappingURL=prepare-destination.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.pathHasPrefix = pathHasPrefix;\nvar _parsePath = require(\"./parse-path\");\nfunction pathHasPrefix(path, prefix) {\n    if (typeof path !== 'string') {\n        return false;\n    }\n    const { pathname  } = (0, _parsePath).parsePath(path);\n    return pathname === prefix || pathname.startsWith(prefix + '/');\n}\n\n//# sourceMappingURL=path-has-prefix.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.hasBasePath = hasBasePath;\nvar _pathHasPrefix = require(\"../shared/lib/router/utils/path-has-prefix\");\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction hasBasePath(path) {\n    return (0, _pathHasPrefix).pathHasPrefix(path, basePath);\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=has-base-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removeBasePath = removeBasePath;\nvar _hasBasePath = require(\"./has-base-path\");\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction removeBasePath(path) {\n    if (process.env.__NEXT_MANUAL_CLIENT_BASE_PATH) {\n        if (!(0, _hasBasePath).hasBasePath(path)) {\n            return path;\n        }\n    }\n    path = path.slice(basePath.length);\n    if (!path.startsWith('/')) path = `/${path}`;\n    return path;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=remove-base-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = resolveRewrites;\nvar _pathMatch = require(\"./path-match\");\nvar _prepareDestination = require(\"./prepare-destination\");\nvar _removeTrailingSlash = require(\"./remove-trailing-slash\");\nvar _normalizeLocalePath = require(\"../../i18n/normalize-locale-path\");\nvar _removeBasePath = require(\"../../../../client/remove-base-path\");\nvar _parseRelativeUrl = require(\"./parse-relative-url\");\nfunction resolveRewrites(asPath, pages, rewrites, query, resolveHref, locales) {\n    let matchedPage = false;\n    let externalDest = false;\n    let parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(asPath);\n    let fsPathname = (0, _removeTrailingSlash).removeTrailingSlash((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(parsedAs.pathname), locales).pathname);\n    let resolvedHref;\n    const handleRewrite = (rewrite)=>{\n        const matcher = (0, _pathMatch).getPathMatch(rewrite.source + (process.env.__NEXT_TRAILING_SLASH ? '(/)?' : ''), {\n            removeUnnamedParams: true,\n            strict: true\n        });\n        let params = matcher(parsedAs.pathname);\n        if ((rewrite.has || rewrite.missing) && params) {\n            const hasParams = (0, _prepareDestination).matchHas({\n                headers: {\n                    host: document.location.hostname\n                },\n                cookies: document.cookie.split('; ').reduce((acc, item)=>{\n                    const [key, ...value] = item.split('=');\n                    acc[key] = value.join('=');\n                    return acc;\n                }, {})\n            }, parsedAs.query, rewrite.has, rewrite.missing);\n            if (hasParams) {\n                Object.assign(params, hasParams);\n            } else {\n                params = false;\n            }\n        }\n        if (params) {\n            if (!rewrite.destination) {\n                // this is a proxied rewrite which isn't handled on the client\n                externalDest = true;\n                return true;\n            }\n            const destRes = (0, _prepareDestination).prepareDestination({\n                appendParamsToQuery: true,\n                destination: rewrite.destination,\n                params: params,\n                query: query\n            });\n            parsedAs = destRes.parsedDestination;\n            asPath = destRes.newUrl;\n            Object.assign(query, destRes.parsedDestination.query);\n            fsPathname = (0, _removeTrailingSlash).removeTrailingSlash((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(asPath), locales).pathname);\n            if (pages.includes(fsPathname)) {\n                // check if we now match a page as this means we are done\n                // resolving the rewrites\n                matchedPage = true;\n                resolvedHref = fsPathname;\n                return true;\n            }\n            // check if we match a dynamic-route, if so we break the rewrites chain\n            resolvedHref = resolveHref(fsPathname);\n            if (resolvedHref !== asPath && pages.includes(resolvedHref)) {\n                matchedPage = true;\n                return true;\n            }\n        }\n    };\n    let finished = false;\n    for(let i = 0; i < rewrites.beforeFiles.length; i++){\n        // we don't end after match in beforeFiles to allow\n        // continuing through all beforeFiles rewrites\n        handleRewrite(rewrites.beforeFiles[i]);\n    }\n    matchedPage = pages.includes(fsPathname);\n    if (!matchedPage) {\n        if (!finished) {\n            for(let i = 0; i < rewrites.afterFiles.length; i++){\n                if (handleRewrite(rewrites.afterFiles[i])) {\n                    finished = true;\n                    break;\n                }\n            }\n        }\n        // check dynamic route before processing fallback rewrites\n        if (!finished) {\n            resolvedHref = resolveHref(fsPathname);\n            matchedPage = pages.includes(resolvedHref);\n            finished = matchedPage;\n        }\n        if (!finished) {\n            for(let i = 0; i < rewrites.fallback.length; i++){\n                if (handleRewrite(rewrites.fallback[i])) {\n                    finished = true;\n                    break;\n                }\n            }\n        }\n    }\n    return {\n        asPath,\n        parsedAs,\n        matchedPage,\n        resolvedHref,\n        externalDest\n    };\n}\n\n//# sourceMappingURL=resolve-rewrites.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getRouteMatcher = getRouteMatcher;\nvar _utils = require(\"../../utils\");\nfunction getRouteMatcher({ re , groups  }) {\n    return (pathname)=>{\n        const routeMatch = re.exec(pathname);\n        if (!routeMatch) {\n            return false;\n        }\n        const decode = (param)=>{\n            try {\n                return decodeURIComponent(param);\n            } catch (_) {\n                throw new _utils.DecodeError('failed to decode param');\n            }\n        };\n        const params = {};\n        Object.keys(groups).forEach((slugName)=>{\n            const g = groups[slugName];\n            const m = routeMatch[g.pos];\n            if (m !== undefined) {\n                params[slugName] = ~m.indexOf('/') ? m.split('/').map((entry)=>decode(entry)) : g.repeat ? [\n                    decode(m)\n                ] : decode(m);\n            }\n        });\n        return params;\n    };\n}\n\n//# sourceMappingURL=route-matcher.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getRouteRegex = getRouteRegex;\nexports.getNamedRouteRegex = getNamedRouteRegex;\nexports.getNamedMiddlewareRegex = getNamedMiddlewareRegex;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _escapeRegexp = require(\"../../escape-regexp\");\nvar _removeTrailingSlash = require(\"./remove-trailing-slash\");\n/**\n * Parses a given parameter from a route to a data structure that can be used\n * to generate the parametrized route. Examples:\n *   - `[...slug]` -> `{ name: 'slug', repeat: true, optional: true }`\n *   - `[foo]` -> `{ name: 'foo', repeat: false, optional: true }`\n *   - `bar` -> `{ name: 'bar', repeat: false, optional: false }`\n */ function parseParameter(param) {\n    const optional = param.startsWith('[') && param.endsWith(']');\n    if (optional) {\n        param = param.slice(1, -1);\n    }\n    const repeat = param.startsWith('...');\n    if (repeat) {\n        param = param.slice(3);\n    }\n    return {\n        key: param,\n        repeat,\n        optional\n    };\n}\nfunction getParametrizedRoute(route) {\n    const segments = (0, _removeTrailingSlash).removeTrailingSlash(route).slice(1).split('/');\n    const groups = {};\n    let groupIndex = 1;\n    return {\n        parameterizedRoute: segments.map((segment)=>{\n            if (segment.startsWith('[') && segment.endsWith(']')) {\n                const { key , optional , repeat  } = parseParameter(segment.slice(1, -1));\n                groups[key] = {\n                    pos: groupIndex++,\n                    repeat,\n                    optional\n                };\n                return repeat ? optional ? '(?:/(.+?))?' : '/(.+?)' : '/([^/]+?)';\n            } else {\n                return `/${(0, _escapeRegexp).escapeStringRegexp(segment)}`;\n            }\n        }).join(''),\n        groups\n    };\n}\nfunction getRouteRegex(normalizedRoute) {\n    const { parameterizedRoute , groups  } = getParametrizedRoute(normalizedRoute);\n    return {\n        re: new RegExp(`^${parameterizedRoute}(?:/)?$`),\n        groups: groups\n    };\n}\n/**\n * Builds a function to generate a minimal routeKey using only a-z and minimal\n * number of characters.\n */ function buildGetSafeRouteKey() {\n    let routeKeyCharCode = 97;\n    let routeKeyCharLength = 1;\n    return ()=>{\n        let routeKey = '';\n        for(let i = 0; i < routeKeyCharLength; i++){\n            routeKey += String.fromCharCode(routeKeyCharCode);\n            routeKeyCharCode++;\n            if (routeKeyCharCode > 122) {\n                routeKeyCharLength++;\n                routeKeyCharCode = 97;\n            }\n        }\n        return routeKey;\n    };\n}\nfunction getNamedParametrizedRoute(route) {\n    const segments = (0, _removeTrailingSlash).removeTrailingSlash(route).slice(1).split('/');\n    const getSafeRouteKey = buildGetSafeRouteKey();\n    const routeKeys = {};\n    return {\n        namedParameterizedRoute: segments.map((segment)=>{\n            if (segment.startsWith('[') && segment.endsWith(']')) {\n                const { key , optional , repeat  } = parseParameter(segment.slice(1, -1));\n                // replace any non-word characters since they can break\n                // the named regex\n                let cleanedKey = key.replace(/\\W/g, '');\n                let invalidKey = false;\n                // check if the key is still invalid and fallback to using a known\n                // safe key\n                if (cleanedKey.length === 0 || cleanedKey.length > 30) {\n                    invalidKey = true;\n                }\n                if (!isNaN(parseInt(cleanedKey.slice(0, 1)))) {\n                    invalidKey = true;\n                }\n                if (invalidKey) {\n                    cleanedKey = getSafeRouteKey();\n                }\n                routeKeys[cleanedKey] = key;\n                return repeat ? optional ? `(?:/(?<${cleanedKey}>.+?))?` : `/(?<${cleanedKey}>.+?)` : `/(?<${cleanedKey}>[^/]+?)`;\n            } else {\n                return `/${(0, _escapeRegexp).escapeStringRegexp(segment)}`;\n            }\n        }).join(''),\n        routeKeys\n    };\n}\nfunction getNamedRouteRegex(normalizedRoute) {\n    const result = getNamedParametrizedRoute(normalizedRoute);\n    return _extends({}, getRouteRegex(normalizedRoute), {\n        namedRegex: `^${result.namedParameterizedRoute}(?:/)?$`,\n        routeKeys: result.routeKeys\n    });\n}\nfunction getNamedMiddlewareRegex(normalizedRoute, options) {\n    const { parameterizedRoute  } = getParametrizedRoute(normalizedRoute);\n    const { catchAll =true  } = options;\n    if (parameterizedRoute === '/') {\n        let catchAllRegex = catchAll ? '.*' : '';\n        return {\n            namedRegex: `^/${catchAllRegex}$`\n        };\n    }\n    const { namedParameterizedRoute  } = getNamedParametrizedRoute(normalizedRoute);\n    let catchAllGroupedRegex = catchAll ? '(?:(/.*)?)' : '';\n    return {\n        namedRegex: `^${namedParameterizedRoute}${catchAllGroupedRegex}$`\n    };\n}\n\n//# sourceMappingURL=route-regex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.formatUrl = formatUrl;\nexports.formatWithValidation = formatWithValidation;\nexports.urlObjectKeys = void 0;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar querystring = _interop_require_wildcard(require(\"./querystring\"));\nconst slashedProtocols = /https?|ftp|gopher|file/;\nfunction formatUrl(urlObj) {\n    let { auth , hostname  } = urlObj;\n    let protocol = urlObj.protocol || '';\n    let pathname = urlObj.pathname || '';\n    let hash = urlObj.hash || '';\n    let query = urlObj.query || '';\n    let host = false;\n    auth = auth ? encodeURIComponent(auth).replace(/%3A/i, ':') + '@' : '';\n    if (urlObj.host) {\n        host = auth + urlObj.host;\n    } else if (hostname) {\n        host = auth + (~hostname.indexOf(':') ? `[${hostname}]` : hostname);\n        if (urlObj.port) {\n            host += ':' + urlObj.port;\n        }\n    }\n    if (query && typeof query === 'object') {\n        query = String(querystring.urlQueryToSearchParams(query));\n    }\n    let search = urlObj.search || query && `?${query}` || '';\n    if (protocol && !protocol.endsWith(':')) protocol += ':';\n    if (urlObj.slashes || (!protocol || slashedProtocols.test(protocol)) && host !== false) {\n        host = '//' + (host || '');\n        if (pathname && pathname[0] !== '/') pathname = '/' + pathname;\n    } else if (!host) {\n        host = '';\n    }\n    if (hash && hash[0] !== '#') hash = '#' + hash;\n    if (search && search[0] !== '?') search = '?' + search;\n    pathname = pathname.replace(/[?#]/g, encodeURIComponent);\n    search = search.replace('#', '%23');\n    return `${protocol}${host}${pathname}${search}${hash}`;\n}\nconst urlObjectKeys = [\n    'auth',\n    'hash',\n    'host',\n    'hostname',\n    'href',\n    'path',\n    'pathname',\n    'port',\n    'protocol',\n    'query',\n    'search',\n    'slashes', \n];\nexports.urlObjectKeys = urlObjectKeys;\nfunction formatWithValidation(url) {\n    if (process.env.NODE_ENV === 'development') {\n        if (url !== null && typeof url === 'object') {\n            Object.keys(url).forEach((key)=>{\n                if (urlObjectKeys.indexOf(key) === -1) {\n                    console.warn(`Unknown key passed via urlObject into url.format: ${key}`);\n                }\n            });\n        }\n    }\n    return formatUrl(url);\n}\n\n//# sourceMappingURL=format-url.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.detectDomainLocale = detectDomainLocale;\nfunction detectDomainLocale(domainItems, hostname, detectedLocale) {\n    let domainItem;\n    if (domainItems) {\n        if (detectedLocale) {\n            detectedLocale = detectedLocale.toLowerCase();\n        }\n        for (const item of domainItems){\n            var ref, ref1;\n            // remove port if present\n            const domainHostname = (ref = item.domain) == null ? void 0 : ref.split(':')[0].toLowerCase();\n            if (hostname === domainHostname || detectedLocale === item.defaultLocale.toLowerCase() || ((ref1 = item.locales) == null ? void 0 : ref1.some((locale)=>locale.toLowerCase() === detectedLocale))) {\n                domainItem = item;\n                break;\n            }\n        }\n    }\n    return domainItem;\n}\n\n//# sourceMappingURL=detect-domain-locale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.detectDomainLocale = void 0;\nconst detectDomainLocale = (...args)=>{\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        return require('../shared/lib/i18n/detect-domain-locale').detectDomainLocale(...args);\n    }\n};\nexports.detectDomainLocale = detectDomainLocale;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=detect-domain-locale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addPathPrefix = addPathPrefix;\nvar _parsePath = require(\"./parse-path\");\nfunction addPathPrefix(path, prefix) {\n    if (!path.startsWith('/') || !prefix) {\n        return path;\n    }\n    const { pathname , query , hash  } = (0, _parsePath).parsePath(path);\n    return `${prefix}${pathname}${query}${hash}`;\n}\n\n//# sourceMappingURL=add-path-prefix.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addLocale = addLocale;\nvar _addPathPrefix = require(\"./add-path-prefix\");\nvar _pathHasPrefix = require(\"./path-has-prefix\");\nfunction addLocale(path, locale, defaultLocale, ignorePrefix) {\n    if (locale && locale !== defaultLocale && (ignorePrefix || !(0, _pathHasPrefix).pathHasPrefix(path.toLowerCase(), `/${locale.toLowerCase()}`) && !(0, _pathHasPrefix).pathHasPrefix(path.toLowerCase(), '/api'))) {\n        return (0, _addPathPrefix).addPathPrefix(path, `/${locale}`);\n    }\n    return path;\n}\n\n//# sourceMappingURL=add-locale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addLocale = void 0;\nvar _normalizeTrailingSlash = require(\"./normalize-trailing-slash\");\nconst addLocale = (path, ...args)=>{\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        return (0, _normalizeTrailingSlash).normalizePathTrailingSlash(require('../shared/lib/router/utils/add-locale').addLocale(path, ...args));\n    }\n    return path;\n};\nexports.addLocale = addLocale;\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=add-locale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removeLocale = removeLocale;\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\nfunction removeLocale(path, locale) {\n    if (process.env.__NEXT_I18N_SUPPORT) {\n        const { pathname  } = (0, _parsePath).parsePath(path);\n        const pathLower = pathname.toLowerCase();\n        const localeLower = locale == null ? void 0 : locale.toLowerCase();\n        return locale && (pathLower.startsWith(`/${localeLower}/`) || pathLower === `/${localeLower}`) ? `${pathname.length === locale.length + 1 ? `/` : ``}${path.slice(locale.length + 1)}` : path;\n    }\n    return path;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=remove-locale.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addBasePath = addBasePath;\nvar _addPathPrefix = require(\"../shared/lib/router/utils/add-path-prefix\");\nvar _normalizeTrailingSlash = require(\"./normalize-trailing-slash\");\nconst basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\nfunction addBasePath(path, required) {\n    if (process.env.__NEXT_MANUAL_CLIENT_BASE_PATH) {\n        if (!required) {\n            return path;\n        }\n    }\n    return (0, _normalizeTrailingSlash).normalizePathTrailingSlash((0, _addPathPrefix).addPathPrefix(path, basePath));\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=add-base-path.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.removePathPrefix = removePathPrefix;\nvar _pathHasPrefix = require(\"./path-has-prefix\");\nfunction removePathPrefix(path, prefix) {\n    if ((0, _pathHasPrefix).pathHasPrefix(path, prefix)) {\n        const withoutPrefix = path.slice(prefix.length);\n        return withoutPrefix.startsWith('/') ? withoutPrefix : `/${withoutPrefix}`;\n    }\n    return path;\n}\n\n//# sourceMappingURL=remove-path-prefix.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getNextPathnameInfo = getNextPathnameInfo;\nvar _normalizeLocalePath = require(\"../../i18n/normalize-locale-path\");\nvar _removePathPrefix = require(\"./remove-path-prefix\");\nvar _pathHasPrefix = require(\"./path-has-prefix\");\nfunction getNextPathnameInfo(pathname, options) {\n    var _nextConfig;\n    const { basePath , i18n , trailingSlash  } = (_nextConfig = options.nextConfig) != null ? _nextConfig : {};\n    const info = {\n        pathname: pathname,\n        trailingSlash: pathname !== '/' ? pathname.endsWith('/') : trailingSlash\n    };\n    if (basePath && (0, _pathHasPrefix).pathHasPrefix(info.pathname, basePath)) {\n        info.pathname = (0, _removePathPrefix).removePathPrefix(info.pathname, basePath);\n        info.basePath = basePath;\n    }\n    if (options.parseData === true && info.pathname.startsWith('/_next/data/') && info.pathname.endsWith('.json')) {\n        const paths = info.pathname.replace(/^\\/_next\\/data\\//, '').replace(/\\.json$/, '').split('/');\n        const buildId = paths[0];\n        info.pathname = paths[1] !== 'index' ? `/${paths.slice(1).join('/')}` : '/';\n        info.buildId = buildId;\n    }\n    if (i18n) {\n        const pathLocale = (0, _normalizeLocalePath).normalizeLocalePath(info.pathname, i18n.locales);\n        info.locale = pathLocale == null ? void 0 : pathLocale.detectedLocale;\n        info.pathname = (pathLocale == null ? void 0 : pathLocale.pathname) || info.pathname;\n    }\n    return info;\n}\n\n//# sourceMappingURL=get-next-pathname-info.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addPathSuffix = addPathSuffix;\nvar _parsePath = require(\"./parse-path\");\nfunction addPathSuffix(path, suffix) {\n    if (!path.startsWith('/') || !suffix) {\n        return path;\n    }\n    const { pathname , query , hash  } = (0, _parsePath).parsePath(path);\n    return `${pathname}${suffix}${query}${hash}`;\n}\n\n//# sourceMappingURL=add-path-suffix.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.formatNextPathnameInfo = formatNextPathnameInfo;\nvar _removeTrailingSlash = require(\"./remove-trailing-slash\");\nvar _addPathPrefix = require(\"./add-path-prefix\");\nvar _addPathSuffix = require(\"./add-path-suffix\");\nvar _addLocale = require(\"./add-locale\");\nfunction formatNextPathnameInfo(info) {\n    let pathname = (0, _addLocale).addLocale(info.pathname, info.locale, info.buildId ? undefined : info.defaultLocale, info.ignorePrefix);\n    if (info.buildId || !info.trailingSlash) {\n        pathname = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n    }\n    if (info.buildId) {\n        pathname = (0, _addPathSuffix).addPathSuffix((0, _addPathPrefix).addPathPrefix(pathname, `/_next/data/${info.buildId}`), info.pathname === '/' ? 'index.json' : '.json');\n    }\n    pathname = (0, _addPathPrefix).addPathPrefix(pathname, info.basePath);\n    return !info.buildId && info.trailingSlash ? !pathname.endsWith('/') ? (0, _addPathSuffix).addPathSuffix(pathname, '/') : pathname : (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n}\n\n//# sourceMappingURL=format-next-pathname-info.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.compareRouterStates = compareRouterStates;\nfunction compareRouterStates(a, b) {\n    const stateKeys = Object.keys(a);\n    if (stateKeys.length !== Object.keys(b).length) return false;\n    for(let i = stateKeys.length; i--;){\n        const key = stateKeys[i];\n        if (key === 'query') {\n            const queryKeys = Object.keys(a.query);\n            if (queryKeys.length !== Object.keys(b.query).length) {\n                return false;\n            }\n            for(let j = queryKeys.length; j--;){\n                const queryKey = queryKeys[j];\n                if (!b.query.hasOwnProperty(queryKey) || a.query[queryKey] !== b.query[queryKey]) {\n                    return false;\n                }\n            }\n        } else if (!b.hasOwnProperty(key) || a[key] !== b[key]) {\n            return false;\n        }\n    }\n    return true;\n}\n\n//# sourceMappingURL=compare-states.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isBot = isBot;\nfunction isBot(userAgent) {\n    return /Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(userAgent);\n}\n\n//# sourceMappingURL=is-bot.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.matchesMiddleware = matchesMiddleware;\nexports.isLocalURL = isLocalURL;\nexports.interpolateAs = interpolateAs;\nexports.resolveHref = resolveHref;\nexports.createKey = createKey;\nexports.default = void 0;\nvar _async_to_generator = require(\"@swc/helpers/lib/_async_to_generator.js\").default;\nvar _extends = require(\"@swc/helpers/lib/_extends.js\").default;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _interop_require_wildcard = require(\"@swc/helpers/lib/_interop_require_wildcard.js\").default;\nvar _normalizeTrailingSlash = require(\"../../../client/normalize-trailing-slash\");\nvar _removeTrailingSlash = require(\"./utils/remove-trailing-slash\");\nvar _routeLoader = require(\"../../../client/route-loader\");\nvar _script = require(\"../../../client/script\");\nvar _isError = _interop_require_wildcard(require(\"../../../lib/is-error\"));\nvar _denormalizePagePath = require(\"../page-path/denormalize-page-path\");\nvar _normalizeLocalePath = require(\"../i18n/normalize-locale-path\");\nvar _mitt = _interop_require_default(require(\"../mitt\"));\nvar _utils = require(\"../utils\");\nvar _isDynamic = require(\"./utils/is-dynamic\");\nvar _parseRelativeUrl = require(\"./utils/parse-relative-url\");\nvar _querystring = require(\"./utils/querystring\");\nvar _resolveRewrites = _interop_require_default(require(\"./utils/resolve-rewrites\"));\nvar _routeMatcher = require(\"./utils/route-matcher\");\nvar _routeRegex = require(\"./utils/route-regex\");\nvar _formatUrl = require(\"./utils/format-url\");\nvar _detectDomainLocale = require(\"../../../client/detect-domain-locale\");\nvar _parsePath = require(\"./utils/parse-path\");\nvar _addLocale = require(\"../../../client/add-locale\");\nvar _removeLocale = require(\"../../../client/remove-locale\");\nvar _removeBasePath = require(\"../../../client/remove-base-path\");\nvar _addBasePath = require(\"../../../client/add-base-path\");\nvar _hasBasePath = require(\"../../../client/has-base-path\");\nvar _getNextPathnameInfo = require(\"./utils/get-next-pathname-info\");\nvar _formatNextPathnameInfo = require(\"./utils/format-next-pathname-info\");\nvar _compareStates = require(\"./utils/compare-states\");\nvar _isBot = require(\"./utils/is-bot\");\nfunction buildCancellationError() {\n    return Object.assign(new Error('Route Cancelled'), {\n        cancelled: true\n    });\n}\nfunction matchesMiddleware(options) {\n    return _matchesMiddleware.apply(this, arguments);\n}\nfunction _matchesMiddleware() {\n    _matchesMiddleware = _async_to_generator(function*(options) {\n        const matchers = yield Promise.resolve(options.router.pageLoader.getMiddleware());\n        if (!matchers) return false;\n        const { pathname: asPathname  } = (0, _parsePath).parsePath(options.asPath);\n        // remove basePath first since path prefix has to be in the order of `/${basePath}/${locale}`\n        const cleanedAs = (0, _hasBasePath).hasBasePath(asPathname) ? (0, _removeBasePath).removeBasePath(asPathname) : asPathname;\n        const asWithBasePathAndLocale = (0, _addBasePath).addBasePath((0, _addLocale).addLocale(cleanedAs, options.locale));\n        // Check only path match on client. Matching \"has\" should be done on server\n        // where we can access more info such as headers, HttpOnly cookie, etc.\n        return matchers.some((m)=>new RegExp(m.regexp).test(asWithBasePathAndLocale));\n    });\n    return _matchesMiddleware.apply(this, arguments);\n}\nfunction stripOrigin(url) {\n    const origin = (0, _utils).getLocationOrigin();\n    return url.startsWith(origin) ? url.substring(origin.length) : url;\n}\nfunction omit(object, keys) {\n    const omitted = {};\n    Object.keys(object).forEach((key)=>{\n        if (!keys.includes(key)) {\n            omitted[key] = object[key];\n        }\n    });\n    return omitted;\n}\nfunction isLocalURL(url) {\n    // prevent a hydration mismatch on href for url with anchor refs\n    if (!(0, _utils).isAbsoluteUrl(url)) return true;\n    try {\n        // absolute urls can be local if they are on the same origin\n        const locationOrigin = (0, _utils).getLocationOrigin();\n        const resolved = new URL(url, locationOrigin);\n        return resolved.origin === locationOrigin && (0, _hasBasePath).hasBasePath(resolved.pathname);\n    } catch (_) {\n        return false;\n    }\n}\nfunction interpolateAs(route, asPathname, query) {\n    let interpolatedRoute = '';\n    const dynamicRegex = (0, _routeRegex).getRouteRegex(route);\n    const dynamicGroups = dynamicRegex.groups;\n    const dynamicMatches = // Try to match the dynamic route against the asPath\n    (asPathname !== route ? (0, _routeMatcher).getRouteMatcher(dynamicRegex)(asPathname) : '') || // Fall back to reading the values from the href\n    // TODO: should this take priority; also need to change in the router.\n    query;\n    interpolatedRoute = route;\n    const params = Object.keys(dynamicGroups);\n    if (!params.every((param)=>{\n        let value = dynamicMatches[param] || '';\n        const { repeat , optional  } = dynamicGroups[param];\n        // support single-level catch-all\n        // TODO: more robust handling for user-error (passing `/`)\n        let replaced = `[${repeat ? '...' : ''}${param}]`;\n        if (optional) {\n            replaced = `${!value ? '/' : ''}[${replaced}]`;\n        }\n        if (repeat && !Array.isArray(value)) value = [\n            value\n        ];\n        return (optional || param in dynamicMatches) && // Interpolate group into data URL if present\n        (interpolatedRoute = interpolatedRoute.replace(replaced, repeat ? value.map(// these values should be fully encoded instead of just\n        // path delimiter escaped since they are being inserted\n        // into the URL and we expect URL encoded segments\n        // when parsing dynamic route params\n        (segment)=>encodeURIComponent(segment)).join('/') : encodeURIComponent(value)) || '/');\n    })) {\n        interpolatedRoute = '' // did not satisfy all requirements\n        ;\n    // n.b. We ignore this error because we handle warning for this case in\n    // development in the `<Link>` component directly.\n    }\n    return {\n        params,\n        result: interpolatedRoute\n    };\n}\nfunction resolveHref(router, href, resolveAs) {\n    // we use a dummy base url for relative urls\n    let base;\n    let urlAsString = typeof href === 'string' ? href : (0, _formatUrl).formatWithValidation(href);\n    // repeated slashes and backslashes in the URL are considered\n    // invalid and will never match a Next.js page/file\n    const urlProtoMatch = urlAsString.match(/^[a-zA-Z]{1,}:\\/\\//);\n    const urlAsStringNoProto = urlProtoMatch ? urlAsString.slice(urlProtoMatch[0].length) : urlAsString;\n    const urlParts = urlAsStringNoProto.split('?');\n    if ((urlParts[0] || '').match(/(\\/\\/|\\\\)/)) {\n        console.error(`Invalid href passed to next/router: ${urlAsString}, repeated forward-slashes (//) or backslashes \\\\ are not valid in the href`);\n        const normalizedUrl = (0, _utils).normalizeRepeatedSlashes(urlAsStringNoProto);\n        urlAsString = (urlProtoMatch ? urlProtoMatch[0] : '') + normalizedUrl;\n    }\n    // Return because it cannot be routed by the Next.js router\n    if (!isLocalURL(urlAsString)) {\n        return resolveAs ? [\n            urlAsString\n        ] : urlAsString;\n    }\n    try {\n        base = new URL(urlAsString.startsWith('#') ? router.asPath : router.pathname, 'http://n');\n    } catch (_) {\n        // fallback to / for invalid asPath values e.g. //\n        base = new URL('/', 'http://n');\n    }\n    try {\n        const finalUrl = new URL(urlAsString, base);\n        finalUrl.pathname = (0, _normalizeTrailingSlash).normalizePathTrailingSlash(finalUrl.pathname);\n        let interpolatedAs = '';\n        if ((0, _isDynamic).isDynamicRoute(finalUrl.pathname) && finalUrl.searchParams && resolveAs) {\n            const query = (0, _querystring).searchParamsToUrlQuery(finalUrl.searchParams);\n            const { result , params  } = interpolateAs(finalUrl.pathname, finalUrl.pathname, query);\n            if (result) {\n                interpolatedAs = (0, _formatUrl).formatWithValidation({\n                    pathname: result,\n                    hash: finalUrl.hash,\n                    query: omit(query, params)\n                });\n            }\n        }\n        // if the origin didn't change, it means we received a relative href\n        const resolvedHref = finalUrl.origin === base.origin ? finalUrl.href.slice(finalUrl.origin.length) : finalUrl.href;\n        return resolveAs ? [\n            resolvedHref,\n            interpolatedAs || resolvedHref\n        ] : resolvedHref;\n    } catch (_1) {\n        return resolveAs ? [\n            urlAsString\n        ] : urlAsString;\n    }\n}\nfunction prepareUrlAs(router, url, as) {\n    // If url and as provided as an object representation,\n    // we'll format them into the string version here.\n    let [resolvedHref, resolvedAs] = resolveHref(router, url, true);\n    const origin = (0, _utils).getLocationOrigin();\n    const hrefHadOrigin = resolvedHref.startsWith(origin);\n    const asHadOrigin = resolvedAs && resolvedAs.startsWith(origin);\n    resolvedHref = stripOrigin(resolvedHref);\n    resolvedAs = resolvedAs ? stripOrigin(resolvedAs) : resolvedAs;\n    const preparedUrl = hrefHadOrigin ? resolvedHref : (0, _addBasePath).addBasePath(resolvedHref);\n    const preparedAs = as ? stripOrigin(resolveHref(router, as)) : resolvedAs || resolvedHref;\n    return {\n        url: preparedUrl,\n        as: asHadOrigin ? preparedAs : (0, _addBasePath).addBasePath(preparedAs)\n    };\n}\nfunction resolveDynamicRoute(pathname, pages) {\n    const cleanPathname = (0, _removeTrailingSlash).removeTrailingSlash((0, _denormalizePagePath).denormalizePagePath(pathname));\n    if (cleanPathname === '/404' || cleanPathname === '/_error') {\n        return pathname;\n    }\n    // handle resolving href for dynamic routes\n    if (!pages.includes(cleanPathname)) {\n        // eslint-disable-next-line array-callback-return\n        pages.some((page)=>{\n            if ((0, _isDynamic).isDynamicRoute(page) && (0, _routeRegex).getRouteRegex(page).re.test(cleanPathname)) {\n                pathname = page;\n                return true;\n            }\n        });\n    }\n    return (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n}\nfunction getMiddlewareData(source, response, options) {\n    const nextConfig = {\n        basePath: options.router.basePath,\n        i18n: {\n            locales: options.router.locales\n        },\n        trailingSlash: Boolean(process.env.__NEXT_TRAILING_SLASH)\n    };\n    const rewriteHeader = response.headers.get('x-nextjs-rewrite');\n    let rewriteTarget = rewriteHeader || response.headers.get('x-nextjs-matched-path');\n    const matchedPath = response.headers.get('x-matched-path');\n    if (matchedPath && !rewriteTarget && !matchedPath.includes('__next_data_catchall') && !matchedPath.includes('/_error') && !matchedPath.includes('/404')) {\n        // leverage x-matched-path to detect next.config.js rewrites\n        rewriteTarget = matchedPath;\n    }\n    if (rewriteTarget) {\n        if (rewriteTarget.startsWith('/')) {\n            const parsedRewriteTarget = (0, _parseRelativeUrl).parseRelativeUrl(rewriteTarget);\n            const pathnameInfo = (0, _getNextPathnameInfo).getNextPathnameInfo(parsedRewriteTarget.pathname, {\n                nextConfig,\n                parseData: true\n            });\n            let fsPathname = (0, _removeTrailingSlash).removeTrailingSlash(pathnameInfo.pathname);\n            return Promise.all([\n                options.router.pageLoader.getPageList(),\n                (0, _routeLoader).getClientBuildManifest(), \n            ]).then(([pages, { __rewrites: rewrites  }])=>{\n                let as = (0, _addLocale).addLocale(pathnameInfo.pathname, pathnameInfo.locale);\n                if ((0, _isDynamic).isDynamicRoute(as) || !rewriteHeader && pages.includes((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(as), options.router.locales).pathname)) {\n                    const parsedSource = (0, _getNextPathnameInfo).getNextPathnameInfo((0, _parseRelativeUrl).parseRelativeUrl(source).pathname, {\n                        parseData: true\n                    });\n                    as = (0, _addBasePath).addBasePath(parsedSource.pathname);\n                    parsedRewriteTarget.pathname = as;\n                }\n                if (process.env.__NEXT_HAS_REWRITES) {\n                    const result = (0, _resolveRewrites).default(as, pages, rewrites, parsedRewriteTarget.query, (path)=>resolveDynamicRoute(path, pages), options.router.locales);\n                    if (result.matchedPage) {\n                        parsedRewriteTarget.pathname = result.parsedAs.pathname;\n                        as = parsedRewriteTarget.pathname;\n                        Object.assign(parsedRewriteTarget.query, result.parsedAs.query);\n                    }\n                } else if (!pages.includes(fsPathname)) {\n                    const resolvedPathname = resolveDynamicRoute(fsPathname, pages);\n                    if (resolvedPathname !== fsPathname) {\n                        fsPathname = resolvedPathname;\n                    }\n                }\n                const resolvedHref = !pages.includes(fsPathname) ? resolveDynamicRoute((0, _normalizeLocalePath).normalizeLocalePath((0, _removeBasePath).removeBasePath(parsedRewriteTarget.pathname), options.router.locales).pathname, pages) : fsPathname;\n                if ((0, _isDynamic).isDynamicRoute(resolvedHref)) {\n                    const matches = (0, _routeMatcher).getRouteMatcher((0, _routeRegex).getRouteRegex(resolvedHref))(as);\n                    Object.assign(parsedRewriteTarget.query, matches || {});\n                }\n                return {\n                    type: 'rewrite',\n                    parsedAs: parsedRewriteTarget,\n                    resolvedHref\n                };\n            });\n        }\n        const src = (0, _parsePath).parsePath(source);\n        const pathname = (0, _formatNextPathnameInfo).formatNextPathnameInfo(_extends({}, (0, _getNextPathnameInfo).getNextPathnameInfo(src.pathname, {\n            nextConfig,\n            parseData: true\n        }), {\n            defaultLocale: options.router.defaultLocale,\n            buildId: ''\n        }));\n        return Promise.resolve({\n            type: 'redirect-external',\n            destination: `${pathname}${src.query}${src.hash}`\n        });\n    }\n    const redirectTarget = response.headers.get('x-nextjs-redirect');\n    if (redirectTarget) {\n        if (redirectTarget.startsWith('/')) {\n            const src = (0, _parsePath).parsePath(redirectTarget);\n            const pathname = (0, _formatNextPathnameInfo).formatNextPathnameInfo(_extends({}, (0, _getNextPathnameInfo).getNextPathnameInfo(src.pathname, {\n                nextConfig,\n                parseData: true\n            }), {\n                defaultLocale: options.router.defaultLocale,\n                buildId: ''\n            }));\n            return Promise.resolve({\n                type: 'redirect-internal',\n                newAs: `${pathname}${src.query}${src.hash}`,\n                newUrl: `${pathname}${src.query}${src.hash}`\n            });\n        }\n        return Promise.resolve({\n            type: 'redirect-external',\n            destination: redirectTarget\n        });\n    }\n    return Promise.resolve({\n        type: 'next'\n    });\n}\nfunction withMiddlewareEffects(options) {\n    return matchesMiddleware(options).then((matches)=>{\n        if (matches && options.fetchData) {\n            return options.fetchData().then((data)=>getMiddlewareData(data.dataHref, data.response, options).then((effect)=>({\n                        dataHref: data.dataHref,\n                        cacheKey: data.cacheKey,\n                        json: data.json,\n                        response: data.response,\n                        text: data.text,\n                        effect\n                    }))).catch((_err)=>{\n                /**\n           * TODO: Revisit this in the future.\n           * For now we will not consider middleware data errors to be fatal.\n           * maybe we should revisit in the future.\n           */ return null;\n            });\n        }\n        return null;\n    });\n}\nconst manualScrollRestoration = process.env.__NEXT_SCROLL_RESTORATION && typeof window !== 'undefined' && 'scrollRestoration' in window.history && !!function() {\n    try {\n        let v = '__next';\n        // eslint-disable-next-line no-sequences\n        return sessionStorage.setItem(v, v), sessionStorage.removeItem(v), true;\n    } catch (n) {}\n}();\nconst SSG_DATA_NOT_FOUND = Symbol('SSG_DATA_NOT_FOUND');\nfunction fetchRetry(url, attempts, options) {\n    return fetch(url, {\n        // Cookies are required to be present for Next.js' SSG \"Preview Mode\".\n        // Cookies may also be required for `getServerSideProps`.\n        //\n        // > `fetch` wont send cookies, unless you set the credentials init\n        // > option.\n        // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\n        //\n        // > For maximum browser compatibility when it comes to sending &\n        // > receiving cookies, always supply the `credentials: 'same-origin'`\n        // > option instead of relying on the default.\n        // https://github.com/github/fetch#caveats\n        credentials: 'same-origin',\n        method: options.method || 'GET',\n        headers: Object.assign({}, options.headers, {\n            'x-nextjs-data': '1'\n        })\n    }).then((response)=>{\n        return !response.ok && attempts > 1 && response.status >= 500 ? fetchRetry(url, attempts - 1, options) : response;\n    });\n}\nfunction handleSmoothScroll(fn) {\n    const htmlElement = document.documentElement;\n    const existing = htmlElement.style.scrollBehavior;\n    htmlElement.style.scrollBehavior = 'auto';\n    fn();\n    htmlElement.style.scrollBehavior = existing;\n}\nfunction tryToParseAsJSON(text) {\n    try {\n        return JSON.parse(text);\n    } catch (error) {\n        return null;\n    }\n}\nfunction fetchNextData({ dataHref , inflightCache , isPrefetch , hasMiddleware , isServerRender , parseJSON , persistCache , isBackground , unstable_skipClientCache  }) {\n    const { href: cacheKey  } = new URL(dataHref, window.location.href);\n    var ref1;\n    const getData = (params)=>{\n        return fetchRetry(dataHref, isServerRender ? 3 : 1, {\n            headers: Object.assign({}, isPrefetch ? {\n                purpose: 'prefetch'\n            } : {}, isPrefetch && hasMiddleware ? {\n                'x-middleware-prefetch': '1'\n            } : {}),\n            method: (ref1 = params == null ? void 0 : params.method) != null ? ref1 : 'GET'\n        }).then((response)=>{\n            if (response.ok && (params == null ? void 0 : params.method) === 'HEAD') {\n                return {\n                    dataHref,\n                    response,\n                    text: '',\n                    json: {},\n                    cacheKey\n                };\n            }\n            return response.text().then((text)=>{\n                if (!response.ok) {\n                    /**\n             * When the data response is a redirect because of a middleware\n             * we do not consider it an error. The headers must bring the\n             * mapped location.\n             * TODO: Change the status code in the handler.\n             */ if (hasMiddleware && [\n                        301,\n                        302,\n                        307,\n                        308\n                    ].includes(response.status)) {\n                        return {\n                            dataHref,\n                            response,\n                            text,\n                            json: {},\n                            cacheKey\n                        };\n                    }\n                    if (!hasMiddleware && response.status === 404) {\n                        var ref;\n                        if ((ref = tryToParseAsJSON(text)) == null ? void 0 : ref.notFound) {\n                            return {\n                                dataHref,\n                                json: {\n                                    notFound: SSG_DATA_NOT_FOUND\n                                },\n                                response,\n                                text,\n                                cacheKey\n                            };\n                        }\n                    }\n                    const error = new Error(`Failed to load static props`);\n                    /**\n             * We should only trigger a server-side transition if this was\n             * caused on a client-side transition. Otherwise, we'd get into\n             * an infinite loop.\n             */ if (!isServerRender) {\n                        (0, _routeLoader).markAssetError(error);\n                    }\n                    throw error;\n                }\n                return {\n                    dataHref,\n                    json: parseJSON ? tryToParseAsJSON(text) : null,\n                    response,\n                    text,\n                    cacheKey\n                };\n            });\n        }).then((data)=>{\n            if (!persistCache || process.env.NODE_ENV !== 'production' || data.response.headers.get('x-middleware-cache') === 'no-cache') {\n                delete inflightCache[cacheKey];\n            }\n            return data;\n        }).catch((err)=>{\n            if (!unstable_skipClientCache) {\n                delete inflightCache[cacheKey];\n            }\n            if (err.message === 'Failed to fetch') {\n                (0, _routeLoader).markAssetError(err);\n            }\n            throw err;\n        });\n    };\n    // when skipping client cache we wait to update\n    // inflight cache until successful data response\n    // this allows racing click event with fetching newer data\n    // without blocking navigation when stale data is available\n    if (unstable_skipClientCache && persistCache) {\n        return getData({}).then((data)=>{\n            inflightCache[cacheKey] = Promise.resolve(data);\n            return data;\n        });\n    }\n    if (inflightCache[cacheKey] !== undefined) {\n        return inflightCache[cacheKey];\n    }\n    return inflightCache[cacheKey] = getData(isBackground ? {\n        method: 'HEAD'\n    } : {});\n}\nfunction createKey() {\n    return Math.random().toString(36).slice(2, 10);\n}\nfunction handleHardNavigation({ url , router  }) {\n    // ensure we don't trigger a hard navigation to the same\n    // URL as this can end up with an infinite refresh\n    if (url === (0, _addBasePath).addBasePath((0, _addLocale).addLocale(router.asPath, router.locale))) {\n        throw new Error(`Invariant: attempted to hard navigate to the same URL ${url} ${location.href}`);\n    }\n    window.location.href = url;\n}\nconst getCancelledHandler = ({ route , router  })=>{\n    let cancelled = false;\n    const cancel = router.clc = ()=>{\n        cancelled = true;\n    };\n    const handleCancelled = ()=>{\n        if (cancelled) {\n            const error = new Error(`Abort fetching component for route: \"${route}\"`);\n            error.cancelled = true;\n            throw error;\n        }\n        if (cancel === router.clc) {\n            router.clc = null;\n        }\n    };\n    return handleCancelled;\n};\nclass Router {\n    reload() {\n        window.location.reload();\n    }\n    /**\n   * Go back in history\n   */ back() {\n        window.history.back();\n    }\n    /**\n   * Go forward in history\n   */ forward() {\n        window.history.forward();\n    }\n    /**\n   * Performs a `pushState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */ push(url, as, options = {}) {\n        if (process.env.__NEXT_SCROLL_RESTORATION) {\n            // TODO: remove in the future when we update history before route change\n            // is complete, as the popstate event should handle this capture.\n            if (manualScrollRestoration) {\n                try {\n                    // Snapshot scroll position right before navigating to a new page:\n                    sessionStorage.setItem('__next_scroll_' + this._key, JSON.stringify({\n                        x: self.pageXOffset,\n                        y: self.pageYOffset\n                    }));\n                } catch (e) {}\n            }\n        }\n        ({ url , as  } = prepareUrlAs(this, url, as));\n        return this.change('pushState', url, as, options);\n    }\n    /**\n   * Performs a `replaceState` with arguments\n   * @param url of the route\n   * @param as masks `url` for the browser\n   * @param options object you can define `shallow` and other options\n   */ replace(url, as, options = {}) {\n        ({ url , as  } = prepareUrlAs(this, url, as));\n        return this.change('replaceState', url, as, options);\n    }\n    change(method, url, as, options, forcedScroll) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            if (!isLocalURL(url)) {\n                handleHardNavigation({\n                    url,\n                    router: _this\n                });\n                return false;\n            }\n            // WARNING: `_h` is an internal option for handing Next.js client-side\n            // hydration. Your app should _never_ use this property. It may change at\n            // any time without notice.\n            const isQueryUpdating = options._h;\n            let shouldResolveHref = isQueryUpdating || options._shouldResolveHref || (0, _parsePath).parsePath(url).pathname === (0, _parsePath).parsePath(as).pathname;\n            const nextState = _extends({}, _this.state);\n            // for static pages with query params in the URL we delay\n            // marking the router ready until after the query is updated\n            // or a navigation has occurred\n            const readyStateChange = _this.isReady !== true;\n            _this.isReady = true;\n            const isSsr = _this.isSsr;\n            if (!isQueryUpdating) {\n                _this.isSsr = false;\n            }\n            // if a route transition is already in progress before\n            // the query updating is triggered ignore query updating\n            if (isQueryUpdating && _this.clc) {\n                return false;\n            }\n            const prevLocale = nextState.locale;\n            if (process.env.__NEXT_I18N_SUPPORT) {\n                nextState.locale = options.locale === false ? _this.defaultLocale : options.locale || nextState.locale;\n                if (typeof options.locale === 'undefined') {\n                    options.locale = nextState.locale;\n                }\n                const parsedAs = (0, _parseRelativeUrl).parseRelativeUrl((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as);\n                const localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, _this.locales);\n                if (localePathResult.detectedLocale) {\n                    nextState.locale = localePathResult.detectedLocale;\n                    parsedAs.pathname = (0, _addBasePath).addBasePath(parsedAs.pathname);\n                    as = (0, _formatUrl).formatWithValidation(parsedAs);\n                    url = (0, _addBasePath).addBasePath((0, _normalizeLocalePath).normalizeLocalePath((0, _hasBasePath).hasBasePath(url) ? (0, _removeBasePath).removeBasePath(url) : url, _this.locales).pathname);\n                }\n                let didNavigate = false;\n                // we need to wrap this in the env check again since regenerator runtime\n                // moves this on its own due to the return\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                    var ref;\n                    // if the locale isn't configured hard navigate to show 404 page\n                    if (!((ref = _this.locales) == null ? void 0 : ref.includes(nextState.locale))) {\n                        parsedAs.pathname = (0, _addLocale).addLocale(parsedAs.pathname, nextState.locale);\n                        handleHardNavigation({\n                            url: (0, _formatUrl).formatWithValidation(parsedAs),\n                            router: _this\n                        });\n                        // this was previously a return but was removed in favor\n                        // of better dead code elimination with regenerator runtime\n                        didNavigate = true;\n                    }\n                }\n                const detectedDomain = (0, _detectDomainLocale).detectDomainLocale(_this.domainLocales, undefined, nextState.locale);\n                // we need to wrap this in the env check again since regenerator runtime\n                // moves this on its own due to the return\n                if (process.env.__NEXT_I18N_SUPPORT) {\n                    // if we are navigating to a domain locale ensure we redirect to the\n                    // correct domain\n                    if (!didNavigate && detectedDomain && _this.isLocaleDomain && self.location.hostname !== detectedDomain.domain) {\n                        const asNoBasePath = (0, _removeBasePath).removeBasePath(as);\n                        handleHardNavigation({\n                            url: `http${detectedDomain.http ? '' : 's'}://${detectedDomain.domain}${(0, _addBasePath).addBasePath(`${nextState.locale === detectedDomain.defaultLocale ? '' : `/${nextState.locale}`}${asNoBasePath === '/' ? '' : asNoBasePath}` || '/')}`,\n                            router: _this\n                        });\n                        // this was previously a return but was removed in favor\n                        // of better dead code elimination with regenerator runtime\n                        didNavigate = true;\n                    }\n                }\n                if (didNavigate) {\n                    return new Promise(()=>{});\n                }\n            }\n            // marking route changes as a navigation start entry\n            if (_utils.ST) {\n                performance.mark('routeChange');\n            }\n            const { shallow =false , scroll =true  } = options;\n            const routeProps = {\n                shallow\n            };\n            if (_this._inFlightRoute && _this.clc) {\n                if (!isSsr) {\n                    Router.events.emit('routeChangeError', buildCancellationError(), _this._inFlightRoute, routeProps);\n                }\n                _this.clc();\n                _this.clc = null;\n            }\n            as = (0, _addBasePath).addBasePath((0, _addLocale).addLocale((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as, options.locale, _this.defaultLocale));\n            const cleanedAs = (0, _removeLocale).removeLocale((0, _hasBasePath).hasBasePath(as) ? (0, _removeBasePath).removeBasePath(as) : as, nextState.locale);\n            _this._inFlightRoute = as;\n            const localeChange = prevLocale !== nextState.locale;\n            // If the url change is only related to a hash change\n            // We should not proceed. We should only change the state.\n            if (!isQueryUpdating && _this.onlyAHashChange(cleanedAs) && !localeChange) {\n                nextState.asPath = cleanedAs;\n                Router.events.emit('hashChangeStart', as, routeProps);\n                // TODO: do we need the resolved href when only a hash change?\n                _this.changeState(method, url, as, _extends({}, options, {\n                    scroll: false\n                }));\n                if (scroll) {\n                    _this.scrollToHash(cleanedAs);\n                }\n                try {\n                    yield _this.set(nextState, _this.components[nextState.route], null);\n                } catch (err) {\n                    if ((0, _isError).default(err) && err.cancelled) {\n                        Router.events.emit('routeChangeError', err, cleanedAs, routeProps);\n                    }\n                    throw err;\n                }\n                Router.events.emit('hashChangeComplete', as, routeProps);\n                return true;\n            }\n            let parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n            let { pathname , query  } = parsed;\n            // The build manifest needs to be loaded before auto-static dynamic pages\n            // get their query parameters to allow ensuring they can be parsed properly\n            // when rewritten to\n            let pages, rewrites;\n            try {\n                [pages, { __rewrites: rewrites  }] = yield Promise.all([\n                    _this.pageLoader.getPageList(),\n                    (0, _routeLoader).getClientBuildManifest(),\n                    _this.pageLoader.getMiddleware(), \n                ]);\n            } catch (err) {\n                // If we fail to resolve the page list or client-build manifest, we must\n                // do a server-side transition:\n                handleHardNavigation({\n                    url: as,\n                    router: _this\n                });\n                return false;\n            }\n            // If asked to change the current URL we should reload the current page\n            // (not location.reload() but reload getInitialProps and other Next.js stuffs)\n            // We also need to set the method = replaceState always\n            // as this should not go into the history (That's how browsers work)\n            // We should compare the new asPath to the current asPath, not the url\n            if (!_this.urlIsNew(cleanedAs) && !localeChange) {\n                method = 'replaceState';\n            }\n            // we need to resolve the as value using rewrites for dynamic SSG\n            // pages to allow building the data URL correctly\n            let resolvedAs = as;\n            // url and as should always be prefixed with basePath by this\n            // point by either next/link or router.push/replace so strip the\n            // basePath from the pathname to match the pages dir 1-to-1\n            pathname = pathname ? (0, _removeTrailingSlash).removeTrailingSlash((0, _removeBasePath).removeBasePath(pathname)) : pathname;\n            let route = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n            const parsedAsPathname = as.startsWith('/') && (0, _parseRelativeUrl).parseRelativeUrl(as).pathname;\n            const isMiddlewareRewrite = !!(parsedAsPathname && route !== parsedAsPathname && (!(0, _isDynamic).isDynamicRoute(route) || !(0, _routeMatcher).getRouteMatcher((0, _routeRegex).getRouteRegex(route))(parsedAsPathname)));\n            // we don't attempt resolve asPath when we need to execute\n            // middleware as the resolving will occur server-side\n            const isMiddlewareMatch = yield matchesMiddleware({\n                asPath: as,\n                locale: nextState.locale,\n                router: _this\n            });\n            if (options.shallow && isMiddlewareMatch) {\n                pathname = _this.pathname;\n            }\n            if (isQueryUpdating && isMiddlewareMatch) {\n                shouldResolveHref = false;\n            }\n            if (shouldResolveHref && pathname !== '/_error') {\n                options._shouldResolveHref = true;\n                if (process.env.__NEXT_HAS_REWRITES && as.startsWith('/')) {\n                    const rewritesResult = (0, _resolveRewrites).default((0, _addBasePath).addBasePath((0, _addLocale).addLocale(cleanedAs, nextState.locale), true), pages, rewrites, query, (p)=>resolveDynamicRoute(p, pages), _this.locales);\n                    if (rewritesResult.externalDest) {\n                        handleHardNavigation({\n                            url: as,\n                            router: _this\n                        });\n                        return true;\n                    }\n                    if (!isMiddlewareMatch) {\n                        resolvedAs = rewritesResult.asPath;\n                    }\n                    if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                        // if this directly matches a page we need to update the href to\n                        // allow the correct page chunk to be loaded\n                        pathname = rewritesResult.resolvedHref;\n                        parsed.pathname = (0, _addBasePath).addBasePath(pathname);\n                        if (!isMiddlewareMatch) {\n                            url = (0, _formatUrl).formatWithValidation(parsed);\n                        }\n                    }\n                } else {\n                    parsed.pathname = resolveDynamicRoute(pathname, pages);\n                    if (parsed.pathname !== pathname) {\n                        pathname = parsed.pathname;\n                        parsed.pathname = (0, _addBasePath).addBasePath(pathname);\n                        if (!isMiddlewareMatch) {\n                            url = (0, _formatUrl).formatWithValidation(parsed);\n                        }\n                    }\n                }\n            }\n            if (!isLocalURL(as)) {\n                if (process.env.NODE_ENV !== 'production') {\n                    throw new Error(`Invalid href: \"${url}\" and as: \"${as}\", received relative href and external as` + `\\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as`);\n                }\n                handleHardNavigation({\n                    url: as,\n                    router: _this\n                });\n                return false;\n            }\n            resolvedAs = (0, _removeLocale).removeLocale((0, _removeBasePath).removeBasePath(resolvedAs), nextState.locale);\n            route = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n            let routeMatch = false;\n            if ((0, _isDynamic).isDynamicRoute(route)) {\n                const parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(resolvedAs);\n                const asPathname = parsedAs.pathname;\n                const routeRegex = (0, _routeRegex).getRouteRegex(route);\n                routeMatch = (0, _routeMatcher).getRouteMatcher(routeRegex)(asPathname);\n                const shouldInterpolate = route === asPathname;\n                const interpolatedAs = shouldInterpolate ? interpolateAs(route, asPathname, query) : {};\n                if (!routeMatch || shouldInterpolate && !interpolatedAs.result) {\n                    const missingParams = Object.keys(routeRegex.groups).filter((param)=>!query[param] && !routeRegex.groups[param].optional);\n                    if (missingParams.length > 0 && !isMiddlewareMatch) {\n                        if (process.env.NODE_ENV !== 'production') {\n                            console.warn(`${shouldInterpolate ? `Interpolating href` : `Mismatching \\`as\\` and \\`href\\``} failed to manually provide ` + `the params: ${missingParams.join(', ')} in the \\`href\\`'s \\`query\\``);\n                        }\n                        throw new Error((shouldInterpolate ? `The provided \\`href\\` (${url}) value is missing query values (${missingParams.join(', ')}) to be interpolated properly. ` : `The provided \\`as\\` value (${asPathname}) is incompatible with the \\`href\\` value (${route}). `) + `Read more: https://nextjs.org/docs/messages/${shouldInterpolate ? 'href-interpolation-failed' : 'incompatible-href-as'}`);\n                    }\n                } else if (shouldInterpolate) {\n                    as = (0, _formatUrl).formatWithValidation(Object.assign({}, parsedAs, {\n                        pathname: interpolatedAs.result,\n                        query: omit(query, interpolatedAs.params)\n                    }));\n                } else {\n                    // Merge params into `query`, overwriting any specified in search\n                    Object.assign(query, routeMatch);\n                }\n            }\n            if (!isQueryUpdating) {\n                Router.events.emit('routeChangeStart', as, routeProps);\n            }\n            try {\n                var ref2, ref3;\n                let routeInfo = yield _this.getRouteInfo({\n                    route,\n                    pathname,\n                    query,\n                    as,\n                    resolvedAs,\n                    routeProps,\n                    locale: nextState.locale,\n                    isPreview: nextState.isPreview,\n                    hasMiddleware: isMiddlewareMatch,\n                    unstable_skipClientCache: options.unstable_skipClientCache,\n                    isQueryUpdating: isQueryUpdating && !_this.isFallback,\n                    isMiddlewareRewrite\n                });\n                if ('route' in routeInfo && isMiddlewareMatch) {\n                    pathname = routeInfo.route || route;\n                    route = pathname;\n                    if (!routeProps.shallow) {\n                        query = Object.assign({}, routeInfo.query || {}, query);\n                    }\n                    const cleanedParsedPathname = (0, _hasBasePath).hasBasePath(parsed.pathname) ? (0, _removeBasePath).removeBasePath(parsed.pathname) : parsed.pathname;\n                    if (routeMatch && pathname !== cleanedParsedPathname) {\n                        Object.keys(routeMatch).forEach((key)=>{\n                            if (routeMatch && query[key] === routeMatch[key]) {\n                                delete query[key];\n                            }\n                        });\n                    }\n                    if ((0, _isDynamic).isDynamicRoute(pathname)) {\n                        const prefixedAs = !routeProps.shallow && routeInfo.resolvedAs ? routeInfo.resolvedAs : (0, _addBasePath).addBasePath((0, _addLocale).addLocale(new URL(as, location.href).pathname, nextState.locale), true);\n                        let rewriteAs = prefixedAs;\n                        if ((0, _hasBasePath).hasBasePath(rewriteAs)) {\n                            rewriteAs = (0, _removeBasePath).removeBasePath(rewriteAs);\n                        }\n                        if (process.env.__NEXT_I18N_SUPPORT) {\n                            const localeResult = (0, _normalizeLocalePath).normalizeLocalePath(rewriteAs, _this.locales);\n                            nextState.locale = localeResult.detectedLocale || nextState.locale;\n                            rewriteAs = localeResult.pathname;\n                        }\n                        const routeRegex = (0, _routeRegex).getRouteRegex(pathname);\n                        const curRouteMatch = (0, _routeMatcher).getRouteMatcher(routeRegex)(new URL(rewriteAs, location.href).pathname);\n                        if (curRouteMatch) {\n                            Object.assign(query, curRouteMatch);\n                        }\n                    }\n                }\n                // If the routeInfo brings a redirect we simply apply it.\n                if ('type' in routeInfo) {\n                    if (routeInfo.type === 'redirect-internal') {\n                        return _this.change(method, routeInfo.newUrl, routeInfo.newAs, options);\n                    } else {\n                        handleHardNavigation({\n                            url: routeInfo.destination,\n                            router: _this\n                        });\n                        return new Promise(()=>{});\n                    }\n                }\n                let { error , props , __N_SSG , __N_SSP  } = routeInfo;\n                const component = routeInfo.Component;\n                if (component && component.unstable_scriptLoader) {\n                    const scripts = [].concat(component.unstable_scriptLoader());\n                    scripts.forEach((script)=>{\n                        (0, _script).handleClientScriptLoad(script.props);\n                    });\n                }\n                // handle redirect on client-transition\n                if ((__N_SSG || __N_SSP) && props) {\n                    if (props.pageProps && props.pageProps.__N_REDIRECT) {\n                        // Use the destination from redirect without adding locale\n                        options.locale = false;\n                        const destination = props.pageProps.__N_REDIRECT;\n                        // check if destination is internal (resolves to a page) and attempt\n                        // client-navigation if it is falling back to hard navigation if\n                        // it's not\n                        if (destination.startsWith('/') && props.pageProps.__N_REDIRECT_BASE_PATH !== false) {\n                            const parsedHref = (0, _parseRelativeUrl).parseRelativeUrl(destination);\n                            parsedHref.pathname = resolveDynamicRoute(parsedHref.pathname, pages);\n                            const { url: newUrl , as: newAs  } = prepareUrlAs(_this, destination, destination);\n                            return _this.change(method, newUrl, newAs, options);\n                        }\n                        handleHardNavigation({\n                            url: destination,\n                            router: _this\n                        });\n                        return new Promise(()=>{});\n                    }\n                    nextState.isPreview = !!props.__N_PREVIEW;\n                    // handle SSG data 404\n                    if (props.notFound === SSG_DATA_NOT_FOUND) {\n                        let notFoundRoute;\n                        try {\n                            yield _this.fetchComponent('/404');\n                            notFoundRoute = '/404';\n                        } catch (_) {\n                            notFoundRoute = '/_error';\n                        }\n                        routeInfo = yield _this.getRouteInfo({\n                            route: notFoundRoute,\n                            pathname: notFoundRoute,\n                            query,\n                            as,\n                            resolvedAs,\n                            routeProps: {\n                                shallow: false\n                            },\n                            locale: nextState.locale,\n                            isPreview: nextState.isPreview\n                        });\n                        if ('type' in routeInfo) {\n                            throw new Error(`Unexpected middleware effect on /404`);\n                        }\n                    }\n                }\n                Router.events.emit('beforeHistoryChange', as, routeProps);\n                _this.changeState(method, url, as, options);\n                if (isQueryUpdating && pathname === '/_error' && ((ref2 = self.__NEXT_DATA__.props) == null ? void 0 : (ref3 = ref2.pageProps) == null ? void 0 : ref3.statusCode) === 500 && (props == null ? void 0 : props.pageProps)) {\n                    // ensure statusCode is still correct for static 500 page\n                    // when updating query information\n                    props.pageProps.statusCode = 500;\n                }\n                var _route;\n                // shallow routing is only allowed for same page URL changes.\n                const isValidShallowRoute = options.shallow && nextState.route === ((_route = routeInfo.route) != null ? _route : route);\n                var _scroll;\n                const shouldScroll = (_scroll = options.scroll) != null ? _scroll : !options._h && !isValidShallowRoute;\n                const resetScroll = shouldScroll ? {\n                    x: 0,\n                    y: 0\n                } : null;\n                // the new state that the router gonna set\n                const upcomingRouterState = _extends({}, nextState, {\n                    route,\n                    pathname,\n                    query,\n                    asPath: cleanedAs,\n                    isFallback: false\n                });\n                const upcomingScrollState = forcedScroll != null ? forcedScroll : resetScroll;\n                // for query updates we can skip it if the state is unchanged and we don't\n                // need to scroll\n                // https://github.com/vercel/next.js/issues/37139\n                const canSkipUpdating = options._h && !upcomingScrollState && !readyStateChange && !localeChange && (0, _compareStates).compareRouterStates(upcomingRouterState, _this.state);\n                if (!canSkipUpdating) {\n                    yield _this.set(upcomingRouterState, routeInfo, upcomingScrollState).catch((e)=>{\n                        if (e.cancelled) error = error || e;\n                        else throw e;\n                    });\n                    if (error) {\n                        if (!isQueryUpdating) {\n                            Router.events.emit('routeChangeError', error, cleanedAs, routeProps);\n                        }\n                        throw error;\n                    }\n                    if (process.env.__NEXT_I18N_SUPPORT) {\n                        if (nextState.locale) {\n                            document.documentElement.lang = nextState.locale;\n                        }\n                    }\n                    if (!isQueryUpdating) {\n                        Router.events.emit('routeChangeComplete', as, routeProps);\n                    }\n                    // A hash mark # is the optional last part of a URL\n                    const hashRegex = /#.+$/;\n                    if (shouldScroll && hashRegex.test(as)) {\n                        _this.scrollToHash(as);\n                    }\n                }\n                return true;\n            } catch (err1) {\n                if ((0, _isError).default(err1) && err1.cancelled) {\n                    return false;\n                }\n                throw err1;\n            }\n        })();\n    }\n    changeState(method, url, as, options = {}) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof window.history === 'undefined') {\n                console.error(`Warning: window.history is not available.`);\n                return;\n            }\n            if (typeof window.history[method] === 'undefined') {\n                console.error(`Warning: window.history.${method} is not available`);\n                return;\n            }\n        }\n        if (method !== 'pushState' || (0, _utils).getURL() !== as) {\n            this._shallow = options.shallow;\n            window.history[method]({\n                url,\n                as,\n                options,\n                __N: true,\n                key: this._key = method !== 'pushState' ? this._key : createKey()\n            }, // Most browsers currently ignores this parameter, although they may use it in the future.\n            // Passing the empty string here should be safe against future changes to the method.\n            // https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\n            '', as);\n        }\n    }\n    handleRouteInfoError(err, pathname, query, as, routeProps, loadErrorFail) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            console.error(err);\n            if (err.cancelled) {\n                // bubble up cancellation errors\n                throw err;\n            }\n            if ((0, _routeLoader).isAssetError(err) || loadErrorFail) {\n                Router.events.emit('routeChangeError', err, as, routeProps);\n                // If we can't load the page it could be one of following reasons\n                //  1. Page doesn't exists\n                //  2. Page does exist in a different zone\n                //  3. Internal error while loading the page\n                // So, doing a hard reload is the proper way to deal with this.\n                handleHardNavigation({\n                    url: as,\n                    router: _this\n                });\n                // Changing the URL doesn't block executing the current code path.\n                // So let's throw a cancellation error stop the routing logic.\n                throw buildCancellationError();\n            }\n            try {\n                let props;\n                const { page: Component , styleSheets  } = yield _this.fetchComponent('/_error');\n                const routeInfo = {\n                    props,\n                    Component,\n                    styleSheets,\n                    err,\n                    error: err\n                };\n                if (!routeInfo.props) {\n                    try {\n                        routeInfo.props = yield _this.getInitialProps(Component, {\n                            err,\n                            pathname,\n                            query\n                        });\n                    } catch (gipErr) {\n                        console.error('Error in error page `getInitialProps`: ', gipErr);\n                        routeInfo.props = {};\n                    }\n                }\n                return routeInfo;\n            } catch (routeInfoErr) {\n                return _this.handleRouteInfoError((0, _isError).default(routeInfoErr) ? routeInfoErr : new Error(routeInfoErr + ''), pathname, query, as, routeProps, true);\n            }\n        })();\n    }\n    getRouteInfo({ route: requestedRoute , pathname , query , as , resolvedAs , routeProps , locale , hasMiddleware , isPreview , unstable_skipClientCache , isQueryUpdating , isMiddlewareRewrite  }) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            /**\n     * This `route` binding can change if there's a rewrite\n     * so we keep a reference to the original requested route\n     * so we can store the cache for it and avoid re-requesting every time\n     * for shallow routing purposes.\n     */ let route = requestedRoute;\n            try {\n                var ref, ref4, ref5, ref6;\n                const handleCancelled = getCancelledHandler({\n                    route,\n                    router: _this\n                });\n                let existingInfo = _this.components[route];\n                if (routeProps.shallow && existingInfo && _this.route === route) {\n                    return existingInfo;\n                }\n                if (hasMiddleware) {\n                    existingInfo = undefined;\n                }\n                let cachedRouteInfo = existingInfo && !('initial' in existingInfo) && process.env.NODE_ENV !== 'development' ? existingInfo : undefined;\n                const isBackground = isQueryUpdating;\n                const fetchNextDataParams = {\n                    dataHref: _this.pageLoader.getDataHref({\n                        href: (0, _formatUrl).formatWithValidation({\n                            pathname,\n                            query\n                        }),\n                        skipInterpolation: true,\n                        asPath: resolvedAs,\n                        locale\n                    }),\n                    hasMiddleware: true,\n                    isServerRender: _this.isSsr,\n                    parseJSON: true,\n                    inflightCache: isBackground ? _this.sbc : _this.sdc,\n                    persistCache: !isPreview,\n                    isPrefetch: false,\n                    unstable_skipClientCache,\n                    isBackground\n                };\n                const data = isQueryUpdating && !isMiddlewareRewrite ? {} : yield withMiddlewareEffects({\n                    fetchData: ()=>fetchNextData(fetchNextDataParams),\n                    asPath: resolvedAs,\n                    locale: locale,\n                    router: _this\n                }).catch((err)=>{\n                    // we don't hard error during query updating\n                    // as it's un-necessary and doesn't need to be fatal\n                    // unless it is a fallback route and the props can't\n                    // be loaded\n                    if (isQueryUpdating) {\n                        return {};\n                    }\n                    throw err;\n                });\n                if (isQueryUpdating) {\n                    data.json = self.__NEXT_DATA__.props;\n                }\n                handleCancelled();\n                if ((data == null ? void 0 : (ref = data.effect) == null ? void 0 : ref.type) === 'redirect-internal' || (data == null ? void 0 : (ref4 = data.effect) == null ? void 0 : ref4.type) === 'redirect-external') {\n                    return data.effect;\n                }\n                if ((data == null ? void 0 : (ref5 = data.effect) == null ? void 0 : ref5.type) === 'rewrite') {\n                    const resolvedRoute = (0, _removeTrailingSlash).removeTrailingSlash(data.effect.resolvedHref);\n                    const pages = yield _this.pageLoader.getPageList();\n                    // during query updating the page must match although during\n                    // client-transition a redirect that doesn't match a page\n                    // can be returned and this should trigger a hard navigation\n                    // which is valid for incremental migration\n                    if (!isQueryUpdating || pages.includes(resolvedRoute)) {\n                        route = resolvedRoute;\n                        pathname = data.effect.resolvedHref;\n                        query = _extends({}, query, data.effect.parsedAs.query);\n                        resolvedAs = (0, _removeBasePath).removeBasePath((0, _normalizeLocalePath).normalizeLocalePath(data.effect.parsedAs.pathname, _this.locales).pathname);\n                        // Check again the cache with the new destination.\n                        existingInfo = _this.components[route];\n                        if (routeProps.shallow && existingInfo && _this.route === route && !hasMiddleware) {\n                            // If we have a match with the current route due to rewrite,\n                            // we can copy the existing information to the rewritten one.\n                            // Then, we return the information along with the matched route.\n                            return _extends({}, existingInfo, {\n                                route\n                            });\n                        }\n                    }\n                }\n                if (route === '/api' || route.startsWith('/api/')) {\n                    handleHardNavigation({\n                        url: as,\n                        router: _this\n                    });\n                    return new Promise(()=>{});\n                }\n                const routeInfo = cachedRouteInfo || (yield _this.fetchComponent(route).then((res)=>({\n                        Component: res.page,\n                        styleSheets: res.styleSheets,\n                        __N_SSG: res.mod.__N_SSG,\n                        __N_SSP: res.mod.__N_SSP\n                    })));\n                if (process.env.NODE_ENV !== 'production') {\n                    const { isValidElementType  } = require('next/dist/compiled/react-is');\n                    if (!isValidElementType(routeInfo.Component)) {\n                        throw new Error(`The default export is not a React Component in page: \"${pathname}\"`);\n                    }\n                }\n                const wasBailedPrefetch = data == null ? void 0 : (ref6 = data.response) == null ? void 0 : ref6.headers.get('x-middleware-skip');\n                const shouldFetchData = routeInfo.__N_SSG || routeInfo.__N_SSP;\n                // For non-SSG prefetches that bailed before sending data\n                // we clear the cache to fetch full response\n                if (wasBailedPrefetch) {\n                    delete _this.sdc[data == null ? void 0 : data.dataHref];\n                }\n                const { props , cacheKey  } = yield _this._getData(_async_to_generator(function*() {\n                    if (shouldFetchData) {\n                        const { json , cacheKey: _cacheKey  } = (data == null ? void 0 : data.json) && !wasBailedPrefetch ? data : yield fetchNextData({\n                            dataHref: (data == null ? void 0 : data.json) ? data == null ? void 0 : data.dataHref : _this.pageLoader.getDataHref({\n                                href: (0, _formatUrl).formatWithValidation({\n                                    pathname,\n                                    query\n                                }),\n                                asPath: resolvedAs,\n                                locale\n                            }),\n                            isServerRender: _this.isSsr,\n                            parseJSON: true,\n                            inflightCache: wasBailedPrefetch ? {} : _this.sdc,\n                            persistCache: !isPreview,\n                            isPrefetch: false,\n                            unstable_skipClientCache\n                        });\n                        return {\n                            cacheKey: _cacheKey,\n                            props: json || {}\n                        };\n                    }\n                    return {\n                        headers: {},\n                        cacheKey: '',\n                        props: yield _this.getInitialProps(routeInfo.Component, // we provide AppTree later so this needs to be `any`\n                        {\n                            pathname,\n                            query,\n                            asPath: as,\n                            locale,\n                            locales: _this.locales,\n                            defaultLocale: _this.defaultLocale\n                        })\n                    };\n                }));\n                // Only bust the data cache for SSP routes although\n                // middleware can skip cache per request with\n                // x-middleware-cache: no-cache as well\n                if (routeInfo.__N_SSP && fetchNextDataParams.dataHref) {\n                    delete _this.sdc[cacheKey];\n                }\n                // we kick off a HEAD request in the background\n                // when a non-prefetch request is made to signal revalidation\n                if (!_this.isPreview && routeInfo.__N_SSG && process.env.NODE_ENV !== 'development' && !isQueryUpdating) {\n                    fetchNextData(Object.assign({}, fetchNextDataParams, {\n                        isBackground: true,\n                        persistCache: false,\n                        inflightCache: _this.sbc\n                    })).catch(()=>{});\n                }\n                props.pageProps = Object.assign({}, props.pageProps);\n                routeInfo.props = props;\n                routeInfo.route = route;\n                routeInfo.query = query;\n                routeInfo.resolvedAs = resolvedAs;\n                _this.components[route] = routeInfo;\n                return routeInfo;\n            } catch (err) {\n                return _this.handleRouteInfoError((0, _isError).getProperError(err), pathname, query, as, routeProps);\n            }\n        })();\n    }\n    set(state, data, resetScroll) {\n        this.state = state;\n        return this.sub(data, this.components['/_app'].Component, resetScroll);\n    }\n    /**\n   * Callback to execute before replacing router state\n   * @param cb callback to be executed\n   */ beforePopState(cb) {\n        this._bps = cb;\n    }\n    onlyAHashChange(as) {\n        if (!this.asPath) return false;\n        const [oldUrlNoHash, oldHash] = this.asPath.split('#');\n        const [newUrlNoHash, newHash] = as.split('#');\n        // Makes sure we scroll to the provided hash if the url/hash are the same\n        if (newHash && oldUrlNoHash === newUrlNoHash && oldHash === newHash) {\n            return true;\n        }\n        // If the urls are change, there's more than a hash change\n        if (oldUrlNoHash !== newUrlNoHash) {\n            return false;\n        }\n        // If the hash has changed, then it's a hash only change.\n        // This check is necessary to handle both the enter and\n        // leave hash === '' cases. The identity case falls through\n        // and is treated as a next reload.\n        return oldHash !== newHash;\n    }\n    scrollToHash(as) {\n        const [, hash = ''] = as.split('#');\n        // Scroll to top if the hash is just `#` with no value or `#top`\n        // To mirror browsers\n        if (hash === '' || hash === 'top') {\n            handleSmoothScroll(()=>window.scrollTo(0, 0));\n            return;\n        }\n        // Decode hash to make non-latin anchor works.\n        const rawHash = decodeURIComponent(hash);\n        // First we check if the element by id is found\n        const idEl = document.getElementById(rawHash);\n        if (idEl) {\n            handleSmoothScroll(()=>idEl.scrollIntoView());\n            return;\n        }\n        // If there's no element with the id, we check the `name` property\n        // To mirror browsers\n        const nameEl = document.getElementsByName(rawHash)[0];\n        if (nameEl) {\n            handleSmoothScroll(()=>nameEl.scrollIntoView());\n        }\n    }\n    urlIsNew(asPath) {\n        return this.asPath !== asPath;\n    }\n    /**\n   * Prefetch page code, you may wait for the data during page rendering.\n   * This feature only works in production!\n   * @param url the href of prefetched page\n   * @param asPath the as path of the prefetched page\n   */ prefetch(url, asPath = url, options = {}) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            if (typeof window !== 'undefined' && (0, _isBot).isBot(window.navigator.userAgent)) {\n                // No prefetches for bots that render the link since they are typically navigating\n                // links via the equivalent of a hard navigation and hence never utilize these\n                // prefetches.\n                return;\n            }\n            let parsed = (0, _parseRelativeUrl).parseRelativeUrl(url);\n            let { pathname , query  } = parsed;\n            const originalPathname = pathname;\n            if (process.env.__NEXT_I18N_SUPPORT) {\n                if (options.locale === false) {\n                    pathname = (0, _normalizeLocalePath).normalizeLocalePath(pathname, _this.locales).pathname;\n                    parsed.pathname = pathname;\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                    let parsedAs = (0, _parseRelativeUrl).parseRelativeUrl(asPath);\n                    const localePathResult = (0, _normalizeLocalePath).normalizeLocalePath(parsedAs.pathname, _this.locales);\n                    parsedAs.pathname = localePathResult.pathname;\n                    options.locale = localePathResult.detectedLocale || _this.defaultLocale;\n                    asPath = (0, _formatUrl).formatWithValidation(parsedAs);\n                }\n            }\n            const pages = yield _this.pageLoader.getPageList();\n            let resolvedAs = asPath;\n            const locale = typeof options.locale !== 'undefined' ? options.locale || undefined : _this.locale;\n            const isMiddlewareMatch = yield matchesMiddleware({\n                asPath: asPath,\n                locale: locale,\n                router: _this\n            });\n            if (process.env.__NEXT_HAS_REWRITES && asPath.startsWith('/')) {\n                let rewrites;\n                ({ __rewrites: rewrites  } = yield (0, _routeLoader).getClientBuildManifest());\n                const rewritesResult = (0, _resolveRewrites).default((0, _addBasePath).addBasePath((0, _addLocale).addLocale(asPath, _this.locale), true), pages, rewrites, parsed.query, (p)=>resolveDynamicRoute(p, pages), _this.locales);\n                if (rewritesResult.externalDest) {\n                    return;\n                }\n                if (!isMiddlewareMatch) {\n                    resolvedAs = (0, _removeLocale).removeLocale((0, _removeBasePath).removeBasePath(rewritesResult.asPath), _this.locale);\n                }\n                if (rewritesResult.matchedPage && rewritesResult.resolvedHref) {\n                    // if this directly matches a page we need to update the href to\n                    // allow the correct page chunk to be loaded\n                    pathname = rewritesResult.resolvedHref;\n                    parsed.pathname = pathname;\n                    if (!isMiddlewareMatch) {\n                        url = (0, _formatUrl).formatWithValidation(parsed);\n                    }\n                }\n            }\n            parsed.pathname = resolveDynamicRoute(parsed.pathname, pages);\n            if ((0, _isDynamic).isDynamicRoute(parsed.pathname)) {\n                pathname = parsed.pathname;\n                parsed.pathname = pathname;\n                Object.assign(query, (0, _routeMatcher).getRouteMatcher((0, _routeRegex).getRouteRegex(parsed.pathname))((0, _parsePath).parsePath(asPath).pathname) || {});\n                if (!isMiddlewareMatch) {\n                    url = (0, _formatUrl).formatWithValidation(parsed);\n                }\n            }\n            // Prefetch is not supported in development mode because it would trigger on-demand-entries\n            if (process.env.NODE_ENV !== 'production') {\n                return;\n            }\n            const data = process.env.__NEXT_MIDDLEWARE_PREFETCH === 'strict' ? {} : yield withMiddlewareEffects({\n                fetchData: ()=>fetchNextData({\n                        dataHref: _this.pageLoader.getDataHref({\n                            href: (0, _formatUrl).formatWithValidation({\n                                pathname: originalPathname,\n                                query\n                            }),\n                            skipInterpolation: true,\n                            asPath: resolvedAs,\n                            locale\n                        }),\n                        hasMiddleware: true,\n                        isServerRender: _this.isSsr,\n                        parseJSON: true,\n                        inflightCache: _this.sdc,\n                        persistCache: !_this.isPreview,\n                        isPrefetch: true\n                    }),\n                asPath: asPath,\n                locale: locale,\n                router: _this\n            });\n            /**\n     * If there was a rewrite we apply the effects of the rewrite on the\n     * current parameters for the prefetch.\n     */ if ((data == null ? void 0 : data.effect.type) === 'rewrite') {\n                parsed.pathname = data.effect.resolvedHref;\n                pathname = data.effect.resolvedHref;\n                query = _extends({}, query, data.effect.parsedAs.query);\n                resolvedAs = data.effect.parsedAs.pathname;\n                url = (0, _formatUrl).formatWithValidation(parsed);\n            }\n            /**\n     * If there is a redirect to an external destination then we don't have\n     * to prefetch content as it will be unused.\n     */ if ((data == null ? void 0 : data.effect.type) === 'redirect-external') {\n                return;\n            }\n            const route = (0, _removeTrailingSlash).removeTrailingSlash(pathname);\n            yield Promise.all([\n                _this.pageLoader._isSsg(route).then((isSsg)=>{\n                    return isSsg ? fetchNextData({\n                        dataHref: (data == null ? void 0 : data.json) ? data == null ? void 0 : data.dataHref : _this.pageLoader.getDataHref({\n                            href: url,\n                            asPath: resolvedAs,\n                            locale: locale\n                        }),\n                        isServerRender: false,\n                        parseJSON: true,\n                        inflightCache: _this.sdc,\n                        persistCache: !_this.isPreview,\n                        isPrefetch: true,\n                        unstable_skipClientCache: options.unstable_skipClientCache || options.priority && !!process.env.__NEXT_OPTIMISTIC_CLIENT_CACHE\n                    }).then(()=>false) : false;\n                }),\n                _this.pageLoader[options.priority ? 'loadPage' : 'prefetch'](route), \n            ]);\n        })();\n    }\n    fetchComponent(route) {\n        var _this = this;\n        return _async_to_generator(function*() {\n            const handleCancelled = getCancelledHandler({\n                route,\n                router: _this\n            });\n            try {\n                const componentResult = yield _this.pageLoader.loadPage(route);\n                handleCancelled();\n                return componentResult;\n            } catch (err) {\n                handleCancelled();\n                throw err;\n            }\n        })();\n    }\n    _getData(fn) {\n        let cancelled = false;\n        const cancel = ()=>{\n            cancelled = true;\n        };\n        this.clc = cancel;\n        return fn().then((data)=>{\n            if (cancel === this.clc) {\n                this.clc = null;\n            }\n            if (cancelled) {\n                const err = new Error('Loading initial props cancelled');\n                err.cancelled = true;\n                throw err;\n            }\n            return data;\n        });\n    }\n    _getFlightData(dataHref) {\n        // Do not cache RSC flight response since it's not a static resource\n        return fetchNextData({\n            dataHref,\n            isServerRender: true,\n            parseJSON: false,\n            inflightCache: this.sdc,\n            persistCache: false,\n            isPrefetch: false\n        }).then(({ text  })=>({\n                data: text\n            }));\n    }\n    getInitialProps(Component, ctx) {\n        const { Component: App  } = this.components['/_app'];\n        const AppTree = this._wrapApp(App);\n        ctx.AppTree = AppTree;\n        return (0, _utils).loadGetInitialProps(App, {\n            AppTree,\n            Component,\n            router: this,\n            ctx\n        });\n    }\n    get route() {\n        return this.state.route;\n    }\n    get pathname() {\n        return this.state.pathname;\n    }\n    get query() {\n        return this.state.query;\n    }\n    get asPath() {\n        return this.state.asPath;\n    }\n    get locale() {\n        return this.state.locale;\n    }\n    get isFallback() {\n        return this.state.isFallback;\n    }\n    get isPreview() {\n        return this.state.isPreview;\n    }\n    constructor(pathname1, query1, as1, { initialProps , pageLoader , App , wrapApp , Component , err , subscription , isFallback , locale , locales , defaultLocale , domainLocales , isPreview  }){\n        // Server Data Cache (full data requests)\n        this.sdc = {};\n        // Server Background Cache (HEAD requests)\n        this.sbc = {};\n        this.isFirstPopStateEvent = true;\n        this._key = createKey();\n        this.onPopState = (e)=>{\n            const { isFirstPopStateEvent  } = this;\n            this.isFirstPopStateEvent = false;\n            const state = e.state;\n            if (!state) {\n                // We get state as undefined for two reasons.\n                //  1. With older safari (< 8) and older chrome (< 34)\n                //  2. When the URL changed with #\n                //\n                // In the both cases, we don't need to proceed and change the route.\n                // (as it's already changed)\n                // But we can simply replace the state with the new changes.\n                // Actually, for (1) we don't need to nothing. But it's hard to detect that event.\n                // So, doing the following for (1) does no harm.\n                const { pathname , query  } = this;\n                this.changeState('replaceState', (0, _formatUrl).formatWithValidation({\n                    pathname: (0, _addBasePath).addBasePath(pathname),\n                    query\n                }), (0, _utils).getURL());\n                return;\n            }\n            // __NA is used to identify if the history entry can be handled by the app-router.\n            if (state.__NA) {\n                window.location.reload();\n                return;\n            }\n            if (!state.__N) {\n                return;\n            }\n            // Safari fires popstateevent when reopening the browser.\n            if (isFirstPopStateEvent && this.locale === state.options.locale && state.as === this.asPath) {\n                return;\n            }\n            let forcedScroll;\n            const { url , as , options , key  } = state;\n            if (process.env.__NEXT_SCROLL_RESTORATION) {\n                if (manualScrollRestoration) {\n                    if (this._key !== key) {\n                        // Snapshot current scroll position:\n                        try {\n                            sessionStorage.setItem('__next_scroll_' + this._key, JSON.stringify({\n                                x: self.pageXOffset,\n                                y: self.pageYOffset\n                            }));\n                        } catch (e) {}\n                        // Restore old scroll position:\n                        try {\n                            const v = sessionStorage.getItem('__next_scroll_' + key);\n                            forcedScroll = JSON.parse(v);\n                        } catch (e1) {\n                            forcedScroll = {\n                                x: 0,\n                                y: 0\n                            };\n                        }\n                    }\n                }\n            }\n            this._key = key;\n            const { pathname  } = (0, _parseRelativeUrl).parseRelativeUrl(url);\n            // Make sure we don't re-render on initial load,\n            // can be caused by navigating back from an external site\n            if (this.isSsr && as === (0, _addBasePath).addBasePath(this.asPath) && pathname === (0, _addBasePath).addBasePath(this.pathname)) {\n                return;\n            }\n            // If the downstream application returns falsy, return.\n            // They will then be responsible for handling the event.\n            if (this._bps && !this._bps(state)) {\n                return;\n            }\n            this.change('replaceState', url, as, Object.assign({}, options, {\n                shallow: options.shallow && this._shallow,\n                locale: options.locale || this.defaultLocale,\n                // @ts-ignore internal value not exposed on types\n                _h: 0\n            }), forcedScroll);\n        };\n        // represents the current component key\n        const route = (0, _removeTrailingSlash).removeTrailingSlash(pathname1);\n        // set up the component cache (by route keys)\n        this.components = {};\n        // We should not keep the cache, if there's an error\n        // Otherwise, this cause issues when when going back and\n        // come again to the errored page.\n        if (pathname1 !== '/_error') {\n            this.components[route] = {\n                Component,\n                initial: true,\n                props: initialProps,\n                err,\n                __N_SSG: initialProps && initialProps.__N_SSG,\n                __N_SSP: initialProps && initialProps.__N_SSP\n            };\n        }\n        this.components['/_app'] = {\n            Component: App,\n            styleSheets: []\n        };\n        // Backwards compat for Router.router.events\n        // TODO: Should be remove the following major version as it was never documented\n        this.events = Router.events;\n        this.pageLoader = pageLoader;\n        // if auto prerendered and dynamic route wait to update asPath\n        // until after mount to prevent hydration mismatch\n        const autoExportDynamic = (0, _isDynamic).isDynamicRoute(pathname1) && self.__NEXT_DATA__.autoExport;\n        this.basePath = process.env.__NEXT_ROUTER_BASEPATH || '';\n        this.sub = subscription;\n        this.clc = null;\n        this._wrapApp = wrapApp;\n        // make sure to ignore extra popState in safari on navigating\n        // back from external site\n        this.isSsr = true;\n        this.isLocaleDomain = false;\n        this.isReady = !!(self.__NEXT_DATA__.gssp || self.__NEXT_DATA__.gip || self.__NEXT_DATA__.appGip && !self.__NEXT_DATA__.gsp || !autoExportDynamic && !self.location.search && !process.env.__NEXT_HAS_REWRITES);\n        if (process.env.__NEXT_I18N_SUPPORT) {\n            this.locales = locales;\n            this.defaultLocale = defaultLocale;\n            this.domainLocales = domainLocales;\n            this.isLocaleDomain = !!(0, _detectDomainLocale).detectDomainLocale(domainLocales, self.location.hostname);\n        }\n        this.state = {\n            route,\n            pathname: pathname1,\n            query: query1,\n            asPath: autoExportDynamic ? pathname1 : as1,\n            isPreview: !!isPreview,\n            locale: process.env.__NEXT_I18N_SUPPORT ? locale : undefined,\n            isFallback\n        };\n        this._initialMatchesMiddlewarePromise = Promise.resolve(false);\n        if (typeof window !== 'undefined') {\n            // make sure \"as\" doesn't start with double slashes or else it can\n            // throw an error as it's considered invalid\n            if (!as1.startsWith('//')) {\n                // in order for `e.state` to work on the `onpopstate` event\n                // we have to register the initial route upon initialization\n                const options = {\n                    locale\n                };\n                const asPath = (0, _utils).getURL();\n                this._initialMatchesMiddlewarePromise = matchesMiddleware({\n                    router: this,\n                    locale,\n                    asPath\n                }).then((matches)=>{\n                    options._shouldResolveHref = as1 !== pathname1;\n                    this.changeState('replaceState', matches ? asPath : (0, _formatUrl).formatWithValidation({\n                        pathname: (0, _addBasePath).addBasePath(pathname1),\n                        query: query1\n                    }), asPath, options);\n                    return matches;\n                });\n            }\n            window.addEventListener('popstate', this.onPopState);\n            // enable custom scroll restoration handling when available\n            // otherwise fallback to browser's default handling\n            if (process.env.__NEXT_SCROLL_RESTORATION) {\n                if (manualScrollRestoration) {\n                    window.history.scrollRestoration = 'manual';\n                }\n            }\n        }\n    }\n}\nRouter.events = (0, _mitt).default();\nexports.default = Router;\n\n//# sourceMappingURL=router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.RouterContext = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nconst RouterContext = _react.default.createContext(null);\nexports.RouterContext = RouterContext;\nif (process.env.NODE_ENV !== 'production') {\n    RouterContext.displayName = 'RouterContext';\n}\n\n//# sourceMappingURL=router-context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = withRouter;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = require(\"./router\");\nfunction withRouter(ComposedComponent) {\n    function WithRouterWrapper(props) {\n        return /*#__PURE__*/ _react.default.createElement(ComposedComponent, Object.assign({\n            router: (0, _router).useRouter()\n        }, props));\n    }\n    WithRouterWrapper.getInitialProps = ComposedComponent.getInitialProps;\n    WithRouterWrapper.origGetInitialProps = ComposedComponent.origGetInitialProps;\n    if (process.env.NODE_ENV !== 'production') {\n        const name = ComposedComponent.displayName || ComposedComponent.name || 'Unknown';\n        WithRouterWrapper.displayName = `withRouter(${name})`;\n    }\n    return WithRouterWrapper;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=with-router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"Router\", {\n    enumerable: true,\n    get: function() {\n        return _router.default;\n    }\n});\nObject.defineProperty(exports, \"withRouter\", {\n    enumerable: true,\n    get: function() {\n        return _withRouter.default;\n    }\n});\nexports.useRouter = useRouter;\nexports.createRouter = createRouter;\nexports.makePublicRouterInstance = makePublicRouterInstance;\nexports.default = void 0;\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\nvar _react = _interop_require_default(require(\"react\"));\nvar _router = _interop_require_default(require(\"../shared/lib/router/router\"));\nvar _routerContext = require(\"../shared/lib/router-context\");\nvar _isError = _interop_require_default(require(\"../lib/is-error\"));\nvar _withRouter = _interop_require_default(require(\"./with-router\"));\nconst singletonRouter = {\n    router: null,\n    readyCallbacks: [],\n    ready (cb) {\n        if (this.router) return cb();\n        if (typeof window !== 'undefined') {\n            this.readyCallbacks.push(cb);\n        }\n    }\n};\n// Create public properties and methods of the router in the singletonRouter\nconst urlPropertyFields = [\n    'pathname',\n    'route',\n    'query',\n    'asPath',\n    'components',\n    'isFallback',\n    'basePath',\n    'locale',\n    'locales',\n    'defaultLocale',\n    'isReady',\n    'isPreview',\n    'isLocaleDomain',\n    'domainLocales', \n];\nconst routerEvents = [\n    'routeChangeStart',\n    'beforeHistoryChange',\n    'routeChangeComplete',\n    'routeChangeError',\n    'hashChangeStart',\n    'hashChangeComplete', \n];\nconst coreMethodFields = [\n    'push',\n    'replace',\n    'reload',\n    'back',\n    'prefetch',\n    'beforePopState', \n];\n// Events is a static property on the router, the router doesn't have to be initialized to use it\nObject.defineProperty(singletonRouter, 'events', {\n    get () {\n        return _router.default.events;\n    }\n});\nfunction getRouter() {\n    if (!singletonRouter.router) {\n        const message = 'No router instance found.\\n' + 'You should only use \"next/router\" on the client side of your app.\\n';\n        throw new Error(message);\n    }\n    return singletonRouter.router;\n}\nurlPropertyFields.forEach((field)=>{\n    // Here we need to use Object.defineProperty because we need to return\n    // the property assigned to the actual router\n    // The value might get changed as we change routes and this is the\n    // proper way to access it\n    Object.defineProperty(singletonRouter, field, {\n        get () {\n            const router = getRouter();\n            return router[field];\n        }\n    });\n});\ncoreMethodFields.forEach((field)=>{\n    singletonRouter[field] = (...args)=>{\n        const router = getRouter();\n        return router[field](...args);\n    };\n});\nrouterEvents.forEach((event)=>{\n    singletonRouter.ready(()=>{\n        _router.default.events.on(event, (...args)=>{\n            const eventField = `on${event.charAt(0).toUpperCase()}${event.substring(1)}`;\n            const _singletonRouter = singletonRouter;\n            if (_singletonRouter[eventField]) {\n                try {\n                    _singletonRouter[eventField](...args);\n                } catch (err) {\n                    console.error(`Error when running the Router event: ${eventField}`);\n                    console.error((0, _isError).default(err) ? `${err.message}\\n${err.stack}` : err + '');\n                }\n            }\n        });\n    });\n});\nvar _default = singletonRouter;\nexports.default = _default;\nfunction useRouter() {\n    const router = _react.default.useContext(_routerContext.RouterContext);\n    if (!router) {\n        throw new Error('Error: NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted');\n    }\n    return router;\n}\nfunction createRouter(...args) {\n    singletonRouter.router = new _router.default(...args);\n    singletonRouter.readyCallbacks.forEach((cb)=>cb());\n    singletonRouter.readyCallbacks = [];\n    return singletonRouter.router;\n}\nfunction makePublicRouterInstance(router) {\n    const scopedRouter = router;\n    const instance = {};\n    for (const property of urlPropertyFields){\n        if (typeof scopedRouter[property] === 'object') {\n            instance[property] = Object.assign(Array.isArray(scopedRouter[property]) ? [] : {}, scopedRouter[property]) // makes sure query is not stateful\n            ;\n            continue;\n        }\n        instance[property] = scopedRouter[property];\n    }\n    // Events is a static property on the router, the router doesn't have to be initialized to use it\n    instance.events = _router.default.events;\n    coreMethodFields.forEach((field)=>{\n        instance[field] = (...args)=>{\n            return scopedRouter[field](...args);\n        };\n    });\n    return instance;\n}\n\nif ((typeof exports.default === 'function' || (typeof exports.default === 'object' && exports.default !== null)) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', { value: true });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}\n\n//# sourceMappingURL=router.js.map","module.exports = require('./dist/client/router')\n","import { useLayoutEffect, useRef } from 'react';\nexport var SingleItemContainer = function SingleItemContainer(_ref) {\n  var initValue = _ref.initValue,\n    useHookBody = _ref.useHookBody,\n    applyStateChange = _ref.applyStateChange;\n  var lastState = useRef(initValue);\n  if (typeof useHookBody !== 'function') {\n    throw new Error(\"function expected as hook body parameter. got \" + typeof useHookBody);\n  }\n  var val = useHookBody();\n\n  //useLayoutEffect is safe from SSR perspective because SingleItemContainer should never be rendered on server\n  useLayoutEffect(function () {\n    if (lastState.current !== val) {\n      lastState.current = val;\n      applyStateChange(val);\n    }\n  }, [applyStateChange, val]);\n  return null;\n};","export var warning = function warning(message) {\n  if (console && console.warn) {\n    console.warn(message);\n  }\n};","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { unstable_batchedUpdates } from 'react-dom';\nimport { warning } from './warning';\n\n// from https://github.com/purposeindustries/window-or-global/blob/master/lib/index.js\n// avoid direct usage of 'window' because `window is not defined` error might happen in babel-node\nvar globalObject = typeof self === 'object' && self.self === self && self || typeof global === 'object' && global.global === global && global || this;\nexport var batch = function batch(cb) {\n  return unstable_batchedUpdates(cb);\n};\nexport var mount = function mount(C) {\n  if (globalObject.document && globalObject.document.createElement) {\n    var container = globalObject.document.createElement('div');\n    var root = createRoot(container);\n    root.render( /*#__PURE__*/React.createElement(C, {\n      automaticContainerInternalUseOnly: true\n    }));\n  } else {\n    warning('Can not mount SingletonHooksContainer on server side. ' + 'Did you manage to run useEffect on server? ' + 'Please mount SingletonHooksContainer into your components tree manually.');\n  }\n};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useState, useEffect, useRef } from 'react';\nimport { SingleItemContainer } from './SingleItemContainer';\nimport { mount } from '../utils/env';\nimport { warning } from '../utils/warning';\nvar nextKey = 1;\nvar automaticRender = false;\nvar manualRender = false;\nvar workingSet = [];\nvar renderedContainers = [];\nvar notifyContainersAsync = function notifyContainersAsync() {\n  renderedContainers.forEach(function (updateRenderedHooks) {\n    return updateRenderedHooks();\n  });\n};\nexport var SingletonHooksContainer = function SingletonHooksContainer(_ref) {\n  var automaticContainerInternalUseOnly = _ref.automaticContainerInternalUseOnly;\n  var _useState = useState([]),\n    hooks = _useState[0],\n    setHooks = _useState[1];\n  var currentHooksRef = useRef();\n  currentHooksRef.current = hooks;\n\n  // if there was no automaticRender, and this one is not automatic as well\n  if (!automaticContainerInternalUseOnly && automaticRender === false) {\n    manualRender = true;\n  }\n  useEffect(function () {\n    var mounted = true;\n    function updateRenderedHooks() {\n      if (!mounted) return;\n      if (renderedContainers[0] !== updateRenderedHooks) {\n        if (!automaticContainerInternalUseOnly && automaticRender === true) {\n          warning('SingletonHooksContainer is mounted after some singleton hook has been used.' + 'Your SingletonHooksContainer will not be used in favor of internal one.');\n        }\n        setHooks(function (_) {\n          return [];\n        });\n        return;\n      }\n      setHooks([].concat(workingSet));\n    }\n    renderedContainers.push(updateRenderedHooks);\n    notifyContainersAsync();\n    return function () {\n      mounted = false;\n      if (currentHooksRef.current.length > 0) {\n        warning('SingletonHooksContainer is unmounted, but it has active singleton hooks. ' + 'They will be reevaluated once SingletonHooksContainer is mounted again');\n      }\n      renderedContainers.splice(renderedContainers.indexOf(updateRenderedHooks), 1);\n      notifyContainersAsync();\n    };\n  }, [automaticContainerInternalUseOnly]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, hooks.map(function (_ref2) {\n    var hook = _ref2.hook,\n      key = _ref2.key;\n    return /*#__PURE__*/React.createElement(SingleItemContainer, _extends({}, hook, {\n      key: key\n    }));\n  }));\n};\nexport var addHook = function addHook(hook) {\n  var key = nextKey++;\n  workingSet.push({\n    hook: hook,\n    key: key\n  });\n\n  // no container and no previous manually rendered containers\n  if (renderedContainers.length === 0 && manualRender === false) {\n    automaticRender = true;\n    mount(SingletonHooksContainer);\n  }\n  notifyContainersAsync();\n  return function () {\n    workingSet.splice(workingSet.findIndex(function (h) {\n      return h.key === key;\n    }), 1);\n    notifyContainersAsync();\n  };\n};\nexport var resetLocalStateForTests = function resetLocalStateForTests() {\n  automaticRender = false;\n  manualRender = false;\n  workingSet.splice(0, workingSet.length);\n  renderedContainers.splice(0, renderedContainers.length);\n};","import { useEffect, useState } from 'react';\nimport { addHook } from './components/SingletonHooksContainer';\nimport { batch } from './utils/env';\nexport var singletonHook = function singletonHook(initValue, useHookBody, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var mounted = false;\n  var removeHook = undefined;\n  var initStateCalculated = false;\n  var lastKnownState = undefined;\n  var consumers = [];\n  var _options = options,\n    _options$unmountIfNoC = _options.unmountIfNoConsumers,\n    unmountIfNoConsumers = _options$unmountIfNoC === void 0 ? false : _options$unmountIfNoC;\n  var applyStateChange = function applyStateChange(newState) {\n    lastKnownState = newState;\n    batch(function () {\n      return consumers.forEach(function (c) {\n        return c(newState);\n      });\n    });\n  };\n  var stateInitializer = function stateInitializer() {\n    if (!initStateCalculated) {\n      lastKnownState = typeof initValue === 'function' ? initValue() : initValue;\n      initStateCalculated = true;\n    }\n    return lastKnownState;\n  };\n  return function () {\n    var _useState = useState(stateInitializer),\n      state = _useState[0],\n      setState = _useState[1];\n    useEffect(function () {\n      if (!mounted) {\n        mounted = true;\n        removeHook = addHook({\n          initValue: initValue,\n          useHookBody: useHookBody,\n          applyStateChange: applyStateChange\n        });\n      }\n      consumers.push(setState);\n      if (lastKnownState !== state) {\n        setState(lastKnownState);\n      }\n      return function () {\n        consumers.splice(consumers.indexOf(setState), 1);\n        if (consumers.length === 0 && unmountIfNoConsumers) {\n          removeHook();\n          mounted = false;\n        }\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return state;\n  };\n};","/*!\n * matter-js 0.18.0 by @liabru\n * http://brm.io/matter-js/\n * License MIT\n * \n * The MIT License (MIT)\n * \n * Copyright (c) Liam Brummitt and contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Matter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Matter\"] = factory();\n\telse\n\t\troot[\"Matter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 21);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Common` module contains utility functions that are common to all modules.\n*\n* @class Common\n*/\n\nvar Common = {};\n\nmodule.exports = Common;\n\n(function() {\n\n    Common._nextId = 0;\n    Common._seed = 0;\n    Common._nowStartTime = +(new Date());\n    Common._warnedOnce = {};\n    Common._decomp = null;\n    \n    /**\n     * Extends the object in the first argument using the object in the second argument.\n     * @method extend\n     * @param {} obj\n     * @param {boolean} deep\n     * @return {} obj extended\n     */\n    Common.extend = function(obj, deep) {\n        var argsStart,\n            args,\n            deepClone;\n\n        if (typeof deep === 'boolean') {\n            argsStart = 2;\n            deepClone = deep;\n        } else {\n            argsStart = 1;\n            deepClone = true;\n        }\n\n        for (var i = argsStart; i < arguments.length; i++) {\n            var source = arguments[i];\n\n            if (source) {\n                for (var prop in source) {\n                    if (deepClone && source[prop] && source[prop].constructor === Object) {\n                        if (!obj[prop] || obj[prop].constructor === Object) {\n                            obj[prop] = obj[prop] || {};\n                            Common.extend(obj[prop], deepClone, source[prop]);\n                        } else {\n                            obj[prop] = source[prop];\n                        }\n                    } else {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n        }\n        \n        return obj;\n    };\n\n    /**\n     * Creates a new clone of the object, if deep is true references will also be cloned.\n     * @method clone\n     * @param {} obj\n     * @param {bool} deep\n     * @return {} obj cloned\n     */\n    Common.clone = function(obj, deep) {\n        return Common.extend({}, deep, obj);\n    };\n\n    /**\n     * Returns the list of keys for the given object.\n     * @method keys\n     * @param {} obj\n     * @return {string[]} keys\n     */\n    Common.keys = function(obj) {\n        if (Object.keys)\n            return Object.keys(obj);\n\n        // avoid hasOwnProperty for performance\n        var keys = [];\n        for (var key in obj)\n            keys.push(key);\n        return keys;\n    };\n\n    /**\n     * Returns the list of values for the given object.\n     * @method values\n     * @param {} obj\n     * @return {array} Array of the objects property values\n     */\n    Common.values = function(obj) {\n        var values = [];\n        \n        if (Object.keys) {\n            var keys = Object.keys(obj);\n            for (var i = 0; i < keys.length; i++) {\n                values.push(obj[keys[i]]);\n            }\n            return values;\n        }\n        \n        // avoid hasOwnProperty for performance\n        for (var key in obj)\n            values.push(obj[key]);\n        return values;\n    };\n\n    /**\n     * Gets a value from `base` relative to the `path` string.\n     * @method get\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} The object at the given path\n     */\n    Common.get = function(obj, path, begin, end) {\n        path = path.split('.').slice(begin, end);\n\n        for (var i = 0; i < path.length; i += 1) {\n            obj = obj[path[i]];\n        }\n\n        return obj;\n    };\n\n    /**\n     * Sets a value on `base` relative to the given `path` string.\n     * @method set\n     * @param {} obj The base object\n     * @param {string} path The path relative to `base`, e.g. 'Foo.Bar.baz'\n     * @param {} val The value to set\n     * @param {number} [begin] Path slice begin\n     * @param {number} [end] Path slice end\n     * @return {} Pass through `val` for chaining\n     */\n    Common.set = function(obj, path, val, begin, end) {\n        var parts = path.split('.').slice(begin, end);\n        Common.get(obj, path, 0, -1)[parts[parts.length - 1]] = val;\n        return val;\n    };\n\n    /**\n     * Shuffles the given array in-place.\n     * The function uses a seeded random generator.\n     * @method shuffle\n     * @param {array} array\n     * @return {array} array shuffled randomly\n     */\n    Common.shuffle = function(array) {\n        for (var i = array.length - 1; i > 0; i--) {\n            var j = Math.floor(Common.random() * (i + 1));\n            var temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n        return array;\n    };\n\n    /**\n     * Randomly chooses a value from a list with equal probability.\n     * The function uses a seeded random generator.\n     * @method choose\n     * @param {array} choices\n     * @return {object} A random choice object from the array\n     */\n    Common.choose = function(choices) {\n        return choices[Math.floor(Common.random() * choices.length)];\n    };\n\n    /**\n     * Returns true if the object is a HTMLElement, otherwise false.\n     * @method isElement\n     * @param {object} obj\n     * @return {boolean} True if the object is a HTMLElement, otherwise false\n     */\n    Common.isElement = function(obj) {\n        if (typeof HTMLElement !== 'undefined') {\n            return obj instanceof HTMLElement;\n        }\n\n        return !!(obj && obj.nodeType && obj.nodeName);\n    };\n\n    /**\n     * Returns true if the object is an array.\n     * @method isArray\n     * @param {object} obj\n     * @return {boolean} True if the object is an array, otherwise false\n     */\n    Common.isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    /**\n     * Returns true if the object is a function.\n     * @method isFunction\n     * @param {object} obj\n     * @return {boolean} True if the object is a function, otherwise false\n     */\n    Common.isFunction = function(obj) {\n        return typeof obj === \"function\";\n    };\n\n    /**\n     * Returns true if the object is a plain object.\n     * @method isPlainObject\n     * @param {object} obj\n     * @return {boolean} True if the object is a plain object, otherwise false\n     */\n    Common.isPlainObject = function(obj) {\n        return typeof obj === 'object' && obj.constructor === Object;\n    };\n\n    /**\n     * Returns true if the object is a string.\n     * @method isString\n     * @param {object} obj\n     * @return {boolean} True if the object is a string, otherwise false\n     */\n    Common.isString = function(obj) {\n        return toString.call(obj) === '[object String]';\n    };\n    \n    /**\n     * Returns the given value clamped between a minimum and maximum value.\n     * @method clamp\n     * @param {number} value\n     * @param {number} min\n     * @param {number} max\n     * @return {number} The value clamped between min and max inclusive\n     */\n    Common.clamp = function(value, min, max) {\n        if (value < min)\n            return min;\n        if (value > max)\n            return max;\n        return value;\n    };\n    \n    /**\n     * Returns the sign of the given value.\n     * @method sign\n     * @param {number} value\n     * @return {number} -1 if negative, +1 if 0 or positive\n     */\n    Common.sign = function(value) {\n        return value < 0 ? -1 : 1;\n    };\n    \n    /**\n     * Returns the current timestamp since the time origin (e.g. from page load).\n     * The result is in milliseconds and will use high-resolution timing if available.\n     * @method now\n     * @return {number} the current timestamp in milliseconds\n     */\n    Common.now = function() {\n        if (typeof window !== 'undefined' && window.performance) {\n            if (window.performance.now) {\n                return window.performance.now();\n            } else if (window.performance.webkitNow) {\n                return window.performance.webkitNow();\n            }\n        }\n\n        if (Date.now) {\n            return Date.now();\n        }\n\n        return (new Date()) - Common._nowStartTime;\n    };\n    \n    /**\n     * Returns a random value between a minimum and a maximum value inclusive.\n     * The function uses a seeded random generator.\n     * @method random\n     * @param {number} min\n     * @param {number} max\n     * @return {number} A random number between min and max inclusive\n     */\n    Common.random = function(min, max) {\n        min = (typeof min !== \"undefined\") ? min : 0;\n        max = (typeof max !== \"undefined\") ? max : 1;\n        return min + _seededRandom() * (max - min);\n    };\n\n    var _seededRandom = function() {\n        // https://en.wikipedia.org/wiki/Linear_congruential_generator\n        Common._seed = (Common._seed * 9301 + 49297) % 233280;\n        return Common._seed / 233280;\n    };\n\n    /**\n     * Converts a CSS hex colour string into an integer.\n     * @method colorToNumber\n     * @param {string} colorString\n     * @return {number} An integer representing the CSS hex string\n     */\n    Common.colorToNumber = function(colorString) {\n        colorString = colorString.replace('#','');\n\n        if (colorString.length == 3) {\n            colorString = colorString.charAt(0) + colorString.charAt(0)\n                        + colorString.charAt(1) + colorString.charAt(1)\n                        + colorString.charAt(2) + colorString.charAt(2);\n        }\n\n        return parseInt(colorString, 16);\n    };\n\n    /**\n     * The console logging level to use, where each level includes all levels above and excludes the levels below.\n     * The default level is 'debug' which shows all console messages.  \n     *\n     * Possible level values are:\n     * - 0 = None\n     * - 1 = Debug\n     * - 2 = Info\n     * - 3 = Warn\n     * - 4 = Error\n     * @property Common.logLevel\n     * @type {Number}\n     * @default 1\n     */\n    Common.logLevel = 1;\n\n    /**\n     * Shows a `console.log` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method log\n     * @param ...objs {} The objects to log.\n     */\n    Common.log = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.log.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.info` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method info\n     * @param ...objs {} The objects to log.\n     */\n    Common.info = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 2) {\n            console.info.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Shows a `console.warn` message only if the current `Common.logLevel` allows it.\n     * The message will be prefixed with 'matter-js' to make it easily identifiable.\n     * @method warn\n     * @param ...objs {} The objects to log.\n     */\n    Common.warn = function() {\n        if (console && Common.logLevel > 0 && Common.logLevel <= 3) {\n            console.warn.apply(console, ['matter-js:'].concat(Array.prototype.slice.call(arguments)));\n        }\n    };\n\n    /**\n     * Uses `Common.warn` to log the given message one time only.\n     * @method warnOnce\n     * @param ...objs {} The objects to log.\n     */\n    Common.warnOnce = function() {\n        var message = Array.prototype.slice.call(arguments).join(' ');\n\n        if (!Common._warnedOnce[message]) {\n            Common.warn(message);\n            Common._warnedOnce[message] = true;\n        }\n    };\n\n    /**\n     * Shows a deprecated console warning when the function on the given object is called.\n     * The target function will be replaced with a new function that first shows the warning\n     * and then calls the original function.\n     * @method deprecated\n     * @param {object} obj The object or module\n     * @param {string} name The property name of the function on obj\n     * @param {string} warning The one-time message to show if the function is called\n     */\n    Common.deprecated = function(obj, prop, warning) {\n        obj[prop] = Common.chain(function() {\n            Common.warnOnce(' deprecated ', warning);\n        }, obj[prop]);\n    };\n\n    /**\n     * Returns the next unique sequential ID.\n     * @method nextId\n     * @return {Number} Unique sequential ID\n     */\n    Common.nextId = function() {\n        return Common._nextId++;\n    };\n\n    /**\n     * A cross browser compatible indexOf implementation.\n     * @method indexOf\n     * @param {array} haystack\n     * @param {object} needle\n     * @return {number} The position of needle in haystack, otherwise -1.\n     */\n    Common.indexOf = function(haystack, needle) {\n        if (haystack.indexOf)\n            return haystack.indexOf(needle);\n\n        for (var i = 0; i < haystack.length; i++) {\n            if (haystack[i] === needle)\n                return i;\n        }\n\n        return -1;\n    };\n\n    /**\n     * A cross browser compatible array map implementation.\n     * @method map\n     * @param {array} list\n     * @param {function} func\n     * @return {array} Values from list transformed by func.\n     */\n    Common.map = function(list, func) {\n        if (list.map) {\n            return list.map(func);\n        }\n\n        var mapped = [];\n\n        for (var i = 0; i < list.length; i += 1) {\n            mapped.push(func(list[i]));\n        }\n\n        return mapped;\n    };\n\n    /**\n     * Takes a directed graph and returns the partially ordered set of vertices in topological order.\n     * Circular dependencies are allowed.\n     * @method topologicalSort\n     * @param {object} graph\n     * @return {array} Partially ordered set of vertices in topological order.\n     */\n    Common.topologicalSort = function(graph) {\n        // https://github.com/mgechev/javascript-algorithms\n        // Copyright (c) Minko Gechev (MIT license)\n        // Modifications: tidy formatting and naming\n        var result = [],\n            visited = [],\n            temp = [];\n\n        for (var node in graph) {\n            if (!visited[node] && !temp[node]) {\n                Common._topologicalSort(node, visited, temp, graph, result);\n            }\n        }\n\n        return result;\n    };\n\n    Common._topologicalSort = function(node, visited, temp, graph, result) {\n        var neighbors = graph[node] || [];\n        temp[node] = true;\n\n        for (var i = 0; i < neighbors.length; i += 1) {\n            var neighbor = neighbors[i];\n\n            if (temp[neighbor]) {\n                // skip circular dependencies\n                continue;\n            }\n\n            if (!visited[neighbor]) {\n                Common._topologicalSort(neighbor, visited, temp, graph, result);\n            }\n        }\n\n        temp[node] = false;\n        visited[node] = true;\n\n        result.push(node);\n    };\n\n    /**\n     * Takes _n_ functions as arguments and returns a new function that calls them in order.\n     * The arguments applied when calling the new function will also be applied to every function passed.\n     * The value of `this` refers to the last value returned in the chain that was not `undefined`.\n     * Therefore if a passed function does not return a value, the previously returned value is maintained.\n     * After all passed functions have been called the new function returns the last returned value (if any).\n     * If any of the passed functions are a chain, then the chain will be flattened.\n     * @method chain\n     * @param ...funcs {function} The functions to chain.\n     * @return {function} A new function that calls the passed functions in order.\n     */\n    Common.chain = function() {\n        var funcs = [];\n\n        for (var i = 0; i < arguments.length; i += 1) {\n            var func = arguments[i];\n\n            if (func._chained) {\n                // flatten already chained functions\n                funcs.push.apply(funcs, func._chained);\n            } else {\n                funcs.push(func);\n            }\n        }\n\n        var chain = function() {\n            // https://github.com/GoogleChrome/devtools-docs/issues/53#issuecomment-51941358\n            var lastResult,\n                args = new Array(arguments.length);\n\n            for (var i = 0, l = arguments.length; i < l; i++) {\n                args[i] = arguments[i];\n            }\n\n            for (i = 0; i < funcs.length; i += 1) {\n                var result = funcs[i].apply(lastResult, args);\n\n                if (typeof result !== 'undefined') {\n                    lastResult = result;\n                }\n            }\n\n            return lastResult;\n        };\n\n        chain._chained = funcs;\n\n        return chain;\n    };\n\n    /**\n     * Chains a function to excute before the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathBefore\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain before the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathBefore = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            func,\n            Common.get(base, path)\n        ));\n    };\n\n    /**\n     * Chains a function to excute after the original function on the given `path` relative to `base`.\n     * See also docs for `Common.chain`.\n     * @method chainPathAfter\n     * @param {} base The base object\n     * @param {string} path The path relative to `base`\n     * @param {function} func The function to chain after the original\n     * @return {function} The chained function that replaced the original\n     */\n    Common.chainPathAfter = function(base, path, func) {\n        return Common.set(base, path, Common.chain(\n            Common.get(base, path),\n            func\n        ));\n    };\n\n    /**\n     * Provide the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module to enable\n     * concave vertex decomposition support when using `Bodies.fromVertices` e.g. `Common.setDecomp(require('poly-decomp'))`.\n     * @method setDecomp\n     * @param {} decomp The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module.\n     */\n    Common.setDecomp = function(decomp) {\n        Common._decomp = decomp;\n    };\n\n    /**\n     * Returns the [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module provided through `Common.setDecomp`,\n     * otherwise returns the global `decomp` if set.\n     * @method getDecomp\n     * @return {} The [poly-decomp](https://github.com/schteppe/poly-decomp.js) library module if provided.\n     */\n    Common.getDecomp = function() {\n        // get user provided decomp if set\n        var decomp = Common._decomp;\n\n        try {\n            // otherwise from window global\n            if (!decomp && typeof window !== 'undefined') {\n                decomp = window.decomp;\n            }\n    \n            // otherwise from node global\n            if (!decomp && typeof global !== 'undefined') {\n                decomp = global.decomp;\n            }\n        } catch (e) {\n            // decomp not available\n            decomp = null;\n        }\n\n        return decomp;\n    };\n})();\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Bounds` module contains methods for creating and manipulating axis-aligned bounding boxes (AABB).\n*\n* @class Bounds\n*/\n\nvar Bounds = {};\n\nmodule.exports = Bounds;\n\n(function() {\n\n    /**\n     * Creates a new axis-aligned bounding box (AABB) for the given vertices.\n     * @method create\n     * @param {vertices} vertices\n     * @return {bounds} A new bounds object\n     */\n    Bounds.create = function(vertices) {\n        var bounds = { \n            min: { x: 0, y: 0 }, \n            max: { x: 0, y: 0 }\n        };\n\n        if (vertices)\n            Bounds.update(bounds, vertices);\n        \n        return bounds;\n    };\n\n    /**\n     * Updates bounds using the given vertices and extends the bounds given a velocity.\n     * @method update\n     * @param {bounds} bounds\n     * @param {vertices} vertices\n     * @param {vector} velocity\n     */\n    Bounds.update = function(bounds, vertices, velocity) {\n        bounds.min.x = Infinity;\n        bounds.max.x = -Infinity;\n        bounds.min.y = Infinity;\n        bounds.max.y = -Infinity;\n\n        for (var i = 0; i < vertices.length; i++) {\n            var vertex = vertices[i];\n            if (vertex.x > bounds.max.x) bounds.max.x = vertex.x;\n            if (vertex.x < bounds.min.x) bounds.min.x = vertex.x;\n            if (vertex.y > bounds.max.y) bounds.max.y = vertex.y;\n            if (vertex.y < bounds.min.y) bounds.min.y = vertex.y;\n        }\n        \n        if (velocity) {\n            if (velocity.x > 0) {\n                bounds.max.x += velocity.x;\n            } else {\n                bounds.min.x += velocity.x;\n            }\n            \n            if (velocity.y > 0) {\n                bounds.max.y += velocity.y;\n            } else {\n                bounds.min.y += velocity.y;\n            }\n        }\n    };\n\n    /**\n     * Returns true if the bounds contains the given point.\n     * @method contains\n     * @param {bounds} bounds\n     * @param {vector} point\n     * @return {boolean} True if the bounds contain the point, otherwise false\n     */\n    Bounds.contains = function(bounds, point) {\n        return point.x >= bounds.min.x && point.x <= bounds.max.x \n               && point.y >= bounds.min.y && point.y <= bounds.max.y;\n    };\n\n    /**\n     * Returns true if the two bounds intersect.\n     * @method overlaps\n     * @param {bounds} boundsA\n     * @param {bounds} boundsB\n     * @return {boolean} True if the bounds overlap, otherwise false\n     */\n    Bounds.overlaps = function(boundsA, boundsB) {\n        return (boundsA.min.x <= boundsB.max.x && boundsA.max.x >= boundsB.min.x\n                && boundsA.max.y >= boundsB.min.y && boundsA.min.y <= boundsB.max.y);\n    };\n\n    /**\n     * Translates the bounds by the given vector.\n     * @method translate\n     * @param {bounds} bounds\n     * @param {vector} vector\n     */\n    Bounds.translate = function(bounds, vector) {\n        bounds.min.x += vector.x;\n        bounds.max.x += vector.x;\n        bounds.min.y += vector.y;\n        bounds.max.y += vector.y;\n    };\n\n    /**\n     * Shifts the bounds to the given position.\n     * @method shift\n     * @param {bounds} bounds\n     * @param {vector} position\n     */\n    Bounds.shift = function(bounds, position) {\n        var deltaX = bounds.max.x - bounds.min.x,\n            deltaY = bounds.max.y - bounds.min.y;\n            \n        bounds.min.x = position.x;\n        bounds.max.x = position.x + deltaX;\n        bounds.min.y = position.y;\n        bounds.max.y = position.y + deltaY;\n    };\n    \n})();\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Vector` module contains methods for creating and manipulating vectors.\n* Vectors are the basis of all the geometry related operations in the engine.\n* A `Matter.Vector` object is of the form `{ x: 0, y: 0 }`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vector\n*/\n\n// TODO: consider params for reusing vector objects\n\nvar Vector = {};\n\nmodule.exports = Vector;\n\n(function() {\n\n    /**\n     * Creates a new vector.\n     * @method create\n     * @param {number} x\n     * @param {number} y\n     * @return {vector} A new vector\n     */\n    Vector.create = function(x, y) {\n        return { x: x || 0, y: y || 0 };\n    };\n\n    /**\n     * Returns a new vector with `x` and `y` copied from the given `vector`.\n     * @method clone\n     * @param {vector} vector\n     * @return {vector} A new cloned vector\n     */\n    Vector.clone = function(vector) {\n        return { x: vector.x, y: vector.y };\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector.\n     * @method magnitude\n     * @param {vector} vector\n     * @return {number} The magnitude of the vector\n     */\n    Vector.magnitude = function(vector) {\n        return Math.sqrt((vector.x * vector.x) + (vector.y * vector.y));\n    };\n\n    /**\n     * Returns the magnitude (length) of a vector (therefore saving a `sqrt` operation).\n     * @method magnitudeSquared\n     * @param {vector} vector\n     * @return {number} The squared magnitude of the vector\n     */\n    Vector.magnitudeSquared = function(vector) {\n        return (vector.x * vector.x) + (vector.y * vector.y);\n    };\n\n    /**\n     * Rotates the vector about (0, 0) by specified angle.\n     * @method rotate\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} [output]\n     * @return {vector} The vector rotated about (0, 0)\n     */\n    Vector.rotate = function(vector, angle, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = vector.x * cos - vector.y * sin;\n        output.y = vector.x * sin + vector.y * cos;\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Rotates the vector about a specified point by specified angle.\n     * @method rotateAbout\n     * @param {vector} vector\n     * @param {number} angle\n     * @param {vector} point\n     * @param {vector} [output]\n     * @return {vector} A new vector rotated about the point\n     */\n    Vector.rotateAbout = function(vector, angle, point, output) {\n        var cos = Math.cos(angle), sin = Math.sin(angle);\n        if (!output) output = {};\n        var x = point.x + ((vector.x - point.x) * cos - (vector.y - point.y) * sin);\n        output.y = point.y + ((vector.x - point.x) * sin + (vector.y - point.y) * cos);\n        output.x = x;\n        return output;\n    };\n\n    /**\n     * Normalises a vector (such that its magnitude is `1`).\n     * @method normalise\n     * @param {vector} vector\n     * @return {vector} A new vector normalised\n     */\n    Vector.normalise = function(vector) {\n        var magnitude = Vector.magnitude(vector);\n        if (magnitude === 0)\n            return { x: 0, y: 0 };\n        return { x: vector.x / magnitude, y: vector.y / magnitude };\n    };\n\n    /**\n     * Returns the dot-product of two vectors.\n     * @method dot\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The dot product of the two vectors\n     */\n    Vector.dot = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.x) + (vectorA.y * vectorB.y);\n    };\n\n    /**\n     * Returns the cross-product of two vectors.\n     * @method cross\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The cross product of the two vectors\n     */\n    Vector.cross = function(vectorA, vectorB) {\n        return (vectorA.x * vectorB.y) - (vectorA.y * vectorB.x);\n    };\n\n    /**\n     * Returns the cross-product of three vectors.\n     * @method cross3\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} vectorC\n     * @return {number} The cross product of the three vectors\n     */\n    Vector.cross3 = function(vectorA, vectorB, vectorC) {\n        return (vectorB.x - vectorA.x) * (vectorC.y - vectorA.y) - (vectorB.y - vectorA.y) * (vectorC.x - vectorA.x);\n    };\n\n    /**\n     * Adds the two vectors.\n     * @method add\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB added\n     */\n    Vector.add = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x + vectorB.x;\n        output.y = vectorA.y + vectorB.y;\n        return output;\n    };\n\n    /**\n     * Subtracts the two vectors.\n     * @method sub\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @param {vector} [output]\n     * @return {vector} A new vector of vectorA and vectorB subtracted\n     */\n    Vector.sub = function(vectorA, vectorB, output) {\n        if (!output) output = {};\n        output.x = vectorA.x - vectorB.x;\n        output.y = vectorA.y - vectorB.y;\n        return output;\n    };\n\n    /**\n     * Multiplies a vector and a scalar.\n     * @method mult\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector multiplied by scalar\n     */\n    Vector.mult = function(vector, scalar) {\n        return { x: vector.x * scalar, y: vector.y * scalar };\n    };\n\n    /**\n     * Divides a vector and a scalar.\n     * @method div\n     * @param {vector} vector\n     * @param {number} scalar\n     * @return {vector} A new vector divided by scalar\n     */\n    Vector.div = function(vector, scalar) {\n        return { x: vector.x / scalar, y: vector.y / scalar };\n    };\n\n    /**\n     * Returns the perpendicular vector. Set `negate` to true for the perpendicular in the opposite direction.\n     * @method perp\n     * @param {vector} vector\n     * @param {bool} [negate=false]\n     * @return {vector} The perpendicular vector\n     */\n    Vector.perp = function(vector, negate) {\n        negate = negate === true ? -1 : 1;\n        return { x: negate * -vector.y, y: negate * vector.x };\n    };\n\n    /**\n     * Negates both components of a vector such that it points in the opposite direction.\n     * @method neg\n     * @param {vector} vector\n     * @return {vector} The negated vector\n     */\n    Vector.neg = function(vector) {\n        return { x: -vector.x, y: -vector.y };\n    };\n\n    /**\n     * Returns the angle between the vector `vectorB - vectorA` and the x-axis in radians.\n     * @method angle\n     * @param {vector} vectorA\n     * @param {vector} vectorB\n     * @return {number} The angle in radians\n     */\n    Vector.angle = function(vectorA, vectorB) {\n        return Math.atan2(vectorB.y - vectorA.y, vectorB.x - vectorA.x);\n    };\n\n    /**\n     * Temporary vector pool (not thread-safe).\n     * @property _temp\n     * @type {vector[]}\n     * @private\n     */\n    Vector._temp = [\n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create(), \n        Vector.create(), Vector.create()\n    ];\n\n})();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Vertices` module contains methods for creating and manipulating sets of vertices.\n* A set of vertices is an array of `Matter.Vector` with additional indexing properties inserted by `Vertices.create`.\n* A `Matter.Body` maintains a set of vertices to represent the shape of the object (its convex hull).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Vertices\n*/\n\nvar Vertices = {};\n\nmodule.exports = Vertices;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of `Matter.Body` compatible vertices.\n     * The `points` argument accepts an array of `Matter.Vector` points orientated around the origin `(0, 0)`, for example:\n     *\n     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]\n     *\n     * The `Vertices.create` method returns a new array of vertices, which are similar to Matter.Vector objects,\n     * but with some additional references required for efficient collision detection routines.\n     *\n     * Vertices must be specified in clockwise order.\n     *\n     * Note that the `body` argument is not optional, a `Matter.Body` reference must be provided.\n     *\n     * @method create\n     * @param {vector[]} points\n     * @param {body} body\n     */\n    Vertices.create = function(points, body) {\n        var vertices = [];\n\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i],\n                vertex = {\n                    x: point.x,\n                    y: point.y,\n                    index: i,\n                    body: body,\n                    isInternal: false\n                };\n\n            vertices.push(vertex);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Parses a string containing ordered x y pairs separated by spaces (and optionally commas), \n     * into a `Matter.Vertices` object for the given `Matter.Body`.\n     * For parsing SVG paths, see `Svg.pathToVertices`.\n     * @method fromPath\n     * @param {string} path\n     * @param {body} body\n     * @return {vertices} vertices\n     */\n    Vertices.fromPath = function(path, body) {\n        var pathPattern = /L?\\s*([-\\d.e]+)[\\s,]*([-\\d.e]+)*/ig,\n            points = [];\n\n        path.replace(pathPattern, function(match, x, y) {\n            points.push({ x: parseFloat(x), y: parseFloat(y) });\n        });\n\n        return Vertices.create(points, body);\n    };\n\n    /**\n     * Returns the centre (centroid) of the set of vertices.\n     * @method centre\n     * @param {vertices} vertices\n     * @return {vector} The centre point\n     */\n    Vertices.centre = function(vertices) {\n        var area = Vertices.area(vertices, true),\n            centre = { x: 0, y: 0 },\n            cross,\n            temp,\n            j;\n\n        for (var i = 0; i < vertices.length; i++) {\n            j = (i + 1) % vertices.length;\n            cross = Vector.cross(vertices[i], vertices[j]);\n            temp = Vector.mult(Vector.add(vertices[i], vertices[j]), cross);\n            centre = Vector.add(centre, temp);\n        }\n\n        return Vector.div(centre, 6 * area);\n    };\n\n    /**\n     * Returns the average (mean) of the set of vertices.\n     * @method mean\n     * @param {vertices} vertices\n     * @return {vector} The average point\n     */\n    Vertices.mean = function(vertices) {\n        var average = { x: 0, y: 0 };\n\n        for (var i = 0; i < vertices.length; i++) {\n            average.x += vertices[i].x;\n            average.y += vertices[i].y;\n        }\n\n        return Vector.div(average, vertices.length);\n    };\n\n    /**\n     * Returns the area of the set of vertices.\n     * @method area\n     * @param {vertices} vertices\n     * @param {bool} signed\n     * @return {number} The area\n     */\n    Vertices.area = function(vertices, signed) {\n        var area = 0,\n            j = vertices.length - 1;\n\n        for (var i = 0; i < vertices.length; i++) {\n            area += (vertices[j].x - vertices[i].x) * (vertices[j].y + vertices[i].y);\n            j = i;\n        }\n\n        if (signed)\n            return area / 2;\n\n        return Math.abs(area) / 2;\n    };\n\n    /**\n     * Returns the moment of inertia (second moment of area) of the set of vertices given the total mass.\n     * @method inertia\n     * @param {vertices} vertices\n     * @param {number} mass\n     * @return {number} The polygon's moment of inertia\n     */\n    Vertices.inertia = function(vertices, mass) {\n        var numerator = 0,\n            denominator = 0,\n            v = vertices,\n            cross,\n            j;\n\n        // find the polygon's moment of inertia, using second moment of area\n        // from equations at http://www.physicsforums.com/showthread.php?t=25293\n        for (var n = 0; n < v.length; n++) {\n            j = (n + 1) % v.length;\n            cross = Math.abs(Vector.cross(v[j], v[n]));\n            numerator += cross * (Vector.dot(v[j], v[j]) + Vector.dot(v[j], v[n]) + Vector.dot(v[n], v[n]));\n            denominator += cross;\n        }\n\n        return (mass / 6) * (numerator / denominator);\n    };\n\n    /**\n     * Translates the set of vertices in-place.\n     * @method translate\n     * @param {vertices} vertices\n     * @param {vector} vector\n     * @param {number} scalar\n     */\n    Vertices.translate = function(vertices, vector, scalar) {\n        scalar = typeof scalar !== 'undefined' ? scalar : 1;\n\n        var verticesLength = vertices.length,\n            translateX = vector.x * scalar,\n            translateY = vector.y * scalar,\n            i;\n        \n        for (i = 0; i < verticesLength; i++) {\n            vertices[i].x += translateX;\n            vertices[i].y += translateY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Rotates the set of vertices in-place.\n     * @method rotate\n     * @param {vertices} vertices\n     * @param {number} angle\n     * @param {vector} point\n     */\n    Vertices.rotate = function(vertices, angle, point) {\n        if (angle === 0)\n            return;\n\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex,\n            dx,\n            dy,\n            i;\n\n        for (i = 0; i < verticesLength; i++) {\n            vertex = vertices[i];\n            dx = vertex.x - pointX;\n            dy = vertex.y - pointY;\n            vertex.x = pointX + (dx * cos - dy * sin);\n            vertex.y = pointY + (dx * sin + dy * cos);\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Returns `true` if the `point` is inside the set of `vertices`.\n     * @method contains\n     * @param {vertices} vertices\n     * @param {vector} point\n     * @return {boolean} True if the vertices contains point, otherwise false\n     */\n    Vertices.contains = function(vertices, point) {\n        var pointX = point.x,\n            pointY = point.y,\n            verticesLength = vertices.length,\n            vertex = vertices[verticesLength - 1],\n            nextVertex;\n\n        for (var i = 0; i < verticesLength; i++) {\n            nextVertex = vertices[i];\n\n            if ((pointX - vertex.x) * (nextVertex.y - vertex.y) \n                + (pointY - vertex.y) * (vertex.x - nextVertex.x) > 0) {\n                return false;\n            }\n\n            vertex = nextVertex;\n        }\n\n        return true;\n    };\n\n    /**\n     * Scales the vertices from a point (default is centre) in-place.\n     * @method scale\n     * @param {vertices} vertices\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     */\n    Vertices.scale = function(vertices, scaleX, scaleY, point) {\n        if (scaleX === 1 && scaleY === 1)\n            return vertices;\n\n        point = point || Vertices.centre(vertices);\n\n        var vertex,\n            delta;\n\n        for (var i = 0; i < vertices.length; i++) {\n            vertex = vertices[i];\n            delta = Vector.sub(vertex, point);\n            vertices[i].x = point.x + delta.x * scaleX;\n            vertices[i].y = point.y + delta.y * scaleY;\n        }\n\n        return vertices;\n    };\n\n    /**\n     * Chamfers a set of vertices by giving them rounded corners, returns a new set of vertices.\n     * The radius parameter is a single number or an array to specify the radius for each vertex.\n     * @method chamfer\n     * @param {vertices} vertices\n     * @param {number[]} radius\n     * @param {number} quality\n     * @param {number} qualityMin\n     * @param {number} qualityMax\n     */\n    Vertices.chamfer = function(vertices, radius, quality, qualityMin, qualityMax) {\n        if (typeof radius === 'number') {\n            radius = [radius];\n        } else {\n            radius = radius || [8];\n        }\n\n        // quality defaults to -1, which is auto\n        quality = (typeof quality !== 'undefined') ? quality : -1;\n        qualityMin = qualityMin || 2;\n        qualityMax = qualityMax || 14;\n\n        var newVertices = [];\n\n        for (var i = 0; i < vertices.length; i++) {\n            var prevVertex = vertices[i - 1 >= 0 ? i - 1 : vertices.length - 1],\n                vertex = vertices[i],\n                nextVertex = vertices[(i + 1) % vertices.length],\n                currentRadius = radius[i < radius.length ? i : radius.length - 1];\n\n            if (currentRadius === 0) {\n                newVertices.push(vertex);\n                continue;\n            }\n\n            var prevNormal = Vector.normalise({ \n                x: vertex.y - prevVertex.y, \n                y: prevVertex.x - vertex.x\n            });\n\n            var nextNormal = Vector.normalise({ \n                x: nextVertex.y - vertex.y, \n                y: vertex.x - nextVertex.x\n            });\n\n            var diagonalRadius = Math.sqrt(2 * Math.pow(currentRadius, 2)),\n                radiusVector = Vector.mult(Common.clone(prevNormal), currentRadius),\n                midNormal = Vector.normalise(Vector.mult(Vector.add(prevNormal, nextNormal), 0.5)),\n                scaledVertex = Vector.sub(vertex, Vector.mult(midNormal, diagonalRadius));\n\n            var precision = quality;\n\n            if (quality === -1) {\n                // automatically decide precision\n                precision = Math.pow(currentRadius, 0.32) * 1.75;\n            }\n\n            precision = Common.clamp(precision, qualityMin, qualityMax);\n\n            // use an even value for precision, more likely to reduce axes by using symmetry\n            if (precision % 2 === 1)\n                precision += 1;\n\n            var alpha = Math.acos(Vector.dot(prevNormal, nextNormal)),\n                theta = alpha / precision;\n\n            for (var j = 0; j < precision; j++) {\n                newVertices.push(Vector.add(Vector.rotate(radiusVector, theta * j), scaledVertex));\n            }\n        }\n\n        return newVertices;\n    };\n\n    /**\n     * Sorts the input vertices into clockwise order in place.\n     * @method clockwiseSort\n     * @param {vertices} vertices\n     * @return {vertices} vertices\n     */\n    Vertices.clockwiseSort = function(vertices) {\n        var centre = Vertices.mean(vertices);\n\n        vertices.sort(function(vertexA, vertexB) {\n            return Vector.angle(centre, vertexA) - Vector.angle(centre, vertexB);\n        });\n\n        return vertices;\n    };\n\n    /**\n     * Returns true if the vertices form a convex shape (vertices must be in clockwise order).\n     * @method isConvex\n     * @param {vertices} vertices\n     * @return {bool} `true` if the `vertices` are convex, `false` if not (or `null` if not computable).\n     */\n    Vertices.isConvex = function(vertices) {\n        // http://paulbourke.net/geometry/polygonmesh/\n        // Copyright (c) Paul Bourke (use permitted)\n\n        var flag = 0,\n            n = vertices.length,\n            i,\n            j,\n            k,\n            z;\n\n        if (n < 3)\n            return null;\n\n        for (i = 0; i < n; i++) {\n            j = (i + 1) % n;\n            k = (i + 2) % n;\n            z = (vertices[j].x - vertices[i].x) * (vertices[k].y - vertices[j].y);\n            z -= (vertices[j].y - vertices[i].y) * (vertices[k].x - vertices[j].x);\n\n            if (z < 0) {\n                flag |= 1;\n            } else if (z > 0) {\n                flag |= 2;\n            }\n\n            if (flag === 3) {\n                return false;\n            }\n        }\n\n        if (flag !== 0){\n            return true;\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * Returns the convex hull of the input vertices as a new array of points.\n     * @method hull\n     * @param {vertices} vertices\n     * @return [vertex] vertices\n     */\n    Vertices.hull = function(vertices) {\n        // http://geomalgorithms.com/a10-_hull-1.html\n\n        var upper = [],\n            lower = [], \n            vertex,\n            i;\n\n        // sort vertices on x-axis (y-axis for ties)\n        vertices = vertices.slice(0);\n        vertices.sort(function(vertexA, vertexB) {\n            var dx = vertexA.x - vertexB.x;\n            return dx !== 0 ? dx : vertexA.y - vertexB.y;\n        });\n\n        // build lower hull\n        for (i = 0; i < vertices.length; i += 1) {\n            vertex = vertices[i];\n\n            while (lower.length >= 2 \n                   && Vector.cross3(lower[lower.length - 2], lower[lower.length - 1], vertex) <= 0) {\n                lower.pop();\n            }\n\n            lower.push(vertex);\n        }\n\n        // build upper hull\n        for (i = vertices.length - 1; i >= 0; i -= 1) {\n            vertex = vertices[i];\n\n            while (upper.length >= 2 \n                   && Vector.cross3(upper[upper.length - 2], upper[upper.length - 1], vertex) <= 0) {\n                upper.pop();\n            }\n\n            upper.push(vertex);\n        }\n\n        // concatenation of the lower and upper hulls gives the convex hull\n        // omit last points because they are repeated at the beginning of the other list\n        upper.pop();\n        lower.pop();\n\n        return upper.concat(lower);\n    };\n\n})();\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Events` module contains methods to fire and listen to events on other objects.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Events\n*/\n\nvar Events = {};\n\nmodule.exports = Events;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Subscribes a callback function to the given object's `eventName`.\n     * @method on\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.on = function(object, eventNames, callback) {\n        var names = eventNames.split(' '),\n            name;\n\n        for (var i = 0; i < names.length; i++) {\n            name = names[i];\n            object.events = object.events || {};\n            object.events[name] = object.events[name] || [];\n            object.events[name].push(callback);\n        }\n\n        return callback;\n    };\n\n    /**\n     * Removes the given event callback. If no callback, clears all callbacks in `eventNames`. If no `eventNames`, clears all events.\n     * @method off\n     * @param {} object\n     * @param {string} eventNames\n     * @param {function} callback\n     */\n    Events.off = function(object, eventNames, callback) {\n        if (!eventNames) {\n            object.events = {};\n            return;\n        }\n\n        // handle Events.off(object, callback)\n        if (typeof eventNames === 'function') {\n            callback = eventNames;\n            eventNames = Common.keys(object.events).join(' ');\n        }\n\n        var names = eventNames.split(' ');\n\n        for (var i = 0; i < names.length; i++) {\n            var callbacks = object.events[names[i]],\n                newCallbacks = [];\n\n            if (callback && callbacks) {\n                for (var j = 0; j < callbacks.length; j++) {\n                    if (callbacks[j] !== callback)\n                        newCallbacks.push(callbacks[j]);\n                }\n            }\n\n            object.events[names[i]] = newCallbacks;\n        }\n    };\n\n    /**\n     * Fires all the callbacks subscribed to the given object's `eventName`, in the order they subscribed, if any.\n     * @method trigger\n     * @param {} object\n     * @param {string} eventNames\n     * @param {} event\n     */\n    Events.trigger = function(object, eventNames, event) {\n        var names,\n            name,\n            callbacks,\n            eventClone;\n\n        var events = object.events;\n        \n        if (events && Common.keys(events).length > 0) {\n            if (!event)\n                event = {};\n\n            names = eventNames.split(' ');\n\n            for (var i = 0; i < names.length; i++) {\n                name = names[i];\n                callbacks = events[name];\n\n                if (callbacks) {\n                    eventClone = Common.clone(event, false);\n                    eventClone.name = name;\n                    eventClone.source = object;\n\n                    for (var j = 0; j < callbacks.length; j++) {\n                        callbacks[j].apply(object, [eventClone]);\n                    }\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* A composite is a collection of `Matter.Body`, `Matter.Constraint` and other `Matter.Composite` objects.\n*\n* They are a container that can represent complex objects made of multiple parts, even if they are not physically connected.\n* A composite could contain anything from a single body all the way up to a whole world.\n* \n* When making any changes to composites, use the included functions rather than changing their properties directly.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composite\n*/\n\nvar Composite = {};\n\nmodule.exports = Composite;\n\nvar Events = __webpack_require__(4);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Body = __webpack_require__(6);\n\n(function() {\n\n    /**\n     * Creates a new composite. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properites section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} [options]\n     * @return {composite} A new composite\n     */\n    Composite.create = function(options) {\n        return Common.extend({ \n            id: Common.nextId(),\n            type: 'composite',\n            parent: null,\n            isModified: false,\n            bodies: [], \n            constraints: [], \n            composites: [],\n            label: 'Composite',\n            plugin: {},\n            cache: {\n                allBodies: null,\n                allConstraints: null,\n                allComposites: null\n            }\n        }, options);\n    };\n\n    /**\n     * Sets the composite's `isModified` flag. \n     * If `updateParents` is true, all parents will be set (default: false).\n     * If `updateChildren` is true, all children will be set (default: false).\n     * @private\n     * @method setModified\n     * @param {composite} composite\n     * @param {boolean} isModified\n     * @param {boolean} [updateParents=false]\n     * @param {boolean} [updateChildren=false]\n     */\n    Composite.setModified = function(composite, isModified, updateParents, updateChildren) {\n        composite.isModified = isModified;\n\n        if (isModified && composite.cache) {\n            composite.cache.allBodies = null;\n            composite.cache.allConstraints = null;\n            composite.cache.allComposites = null;\n        }\n\n        if (updateParents && composite.parent) {\n            Composite.setModified(composite.parent, isModified, updateParents, updateChildren);\n        }\n\n        if (updateChildren) {\n            for (var i = 0; i < composite.composites.length; i++) {\n                var childComposite = composite.composites[i];\n                Composite.setModified(childComposite, isModified, updateParents, updateChildren);\n            }\n        }\n    };\n\n    /**\n     * Generic single or multi-add function. Adds a single or an array of body(s), constraint(s) or composite(s) to the given composite.\n     * Triggers `beforeAdd` and `afterAdd` events on the `composite`.\n     * @method add\n     * @param {composite} composite\n     * @param {object|array} object A single or an array of body(s), constraint(s) or composite(s)\n     * @return {composite} The original composite with the objects added\n     */\n    Composite.add = function(composite, object) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeAdd', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                // skip adding compound parts\n                if (obj.parent !== obj) {\n                    Common.warn('Composite.add: skipped adding a compound body part (you must add its parent instead)');\n                    break;\n                }\n\n                Composite.addBody(composite, obj);\n                break;\n            case 'constraint':\n                Composite.addConstraint(composite, obj);\n                break;\n            case 'composite':\n                Composite.addComposite(composite, obj);\n                break;\n            case 'mouseConstraint':\n                Composite.addConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterAdd', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Generic remove function. Removes one or many body(s), constraint(s) or a composite(s) to the given composite.\n     * Optionally searching its children recursively.\n     * Triggers `beforeRemove` and `afterRemove` events on the `composite`.\n     * @method remove\n     * @param {composite} composite\n     * @param {object|array} object\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the objects removed\n     */\n    Composite.remove = function(composite, object, deep) {\n        var objects = [].concat(object);\n\n        Events.trigger(composite, 'beforeRemove', { object: object });\n\n        for (var i = 0; i < objects.length; i++) {\n            var obj = objects[i];\n\n            switch (obj.type) {\n\n            case 'body':\n                Composite.removeBody(composite, obj, deep);\n                break;\n            case 'constraint':\n                Composite.removeConstraint(composite, obj, deep);\n                break;\n            case 'composite':\n                Composite.removeComposite(composite, obj, deep);\n                break;\n            case 'mouseConstraint':\n                Composite.removeConstraint(composite, obj.constraint);\n                break;\n\n            }\n        }\n\n        Events.trigger(composite, 'afterRemove', { object: object });\n\n        return composite;\n    };\n\n    /**\n     * Adds a composite to the given composite.\n     * @private\n     * @method addComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @return {composite} The original compositeA with the objects from compositeB added\n     */\n    Composite.addComposite = function(compositeA, compositeB) {\n        compositeA.composites.push(compositeB);\n        compositeB.parent = compositeA;\n        Composite.setModified(compositeA, true, true, false);\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeComposite\n     * @param {composite} compositeA\n     * @param {composite} compositeB\n     * @param {boolean} [deep=false]\n     * @return {composite} The original compositeA with the composite removed\n     */\n    Composite.removeComposite = function(compositeA, compositeB, deep) {\n        var position = Common.indexOf(compositeA.composites, compositeB);\n        if (position !== -1) {\n            Composite.removeCompositeAt(compositeA, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < compositeA.composites.length; i++){\n                Composite.removeComposite(compositeA.composites[i], compositeB, true);\n            }\n        }\n\n        return compositeA;\n    };\n\n    /**\n     * Removes a composite from the given composite.\n     * @private\n     * @method removeCompositeAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the composite removed\n     */\n    Composite.removeCompositeAt = function(composite, position) {\n        composite.composites.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a body to the given composite.\n     * @private\n     * @method addBody\n     * @param {composite} composite\n     * @param {body} body\n     * @return {composite} The original composite with the body added\n     */\n    Composite.addBody = function(composite, body) {\n        composite.bodies.push(body);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeBody\n     * @param {composite} composite\n     * @param {body} body\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBody = function(composite, body, deep) {\n        var position = Common.indexOf(composite.bodies, body);\n        if (position !== -1) {\n            Composite.removeBodyAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeBody(composite.composites[i], body, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeBodyAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the body removed\n     */\n    Composite.removeBodyAt = function(composite, position) {\n        composite.bodies.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Adds a constraint to the given composite.\n     * @private\n     * @method addConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @return {composite} The original composite with the constraint added\n     */\n    Composite.addConstraint = function(composite, constraint) {\n        composite.constraints.push(constraint);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes a constraint from the given composite, and optionally searching its children recursively.\n     * @private\n     * @method removeConstraint\n     * @param {composite} composite\n     * @param {constraint} constraint\n     * @param {boolean} [deep=false]\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraint = function(composite, constraint, deep) {\n        var position = Common.indexOf(composite.constraints, constraint);\n        if (position !== -1) {\n            Composite.removeConstraintAt(composite, position);\n        }\n\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.removeConstraint(composite.composites[i], constraint, true);\n            }\n        }\n\n        return composite;\n    };\n\n    /**\n     * Removes a body from the given composite.\n     * @private\n     * @method removeConstraintAt\n     * @param {composite} composite\n     * @param {number} position\n     * @return {composite} The original composite with the constraint removed\n     */\n    Composite.removeConstraintAt = function(composite, position) {\n        composite.constraints.splice(position, 1);\n        Composite.setModified(composite, true, true, false);\n        return composite;\n    };\n\n    /**\n     * Removes all bodies, constraints and composites from the given composite.\n     * Optionally clearing its children recursively.\n     * @method clear\n     * @param {composite} composite\n     * @param {boolean} keepStatic\n     * @param {boolean} [deep=false]\n     */\n    Composite.clear = function(composite, keepStatic, deep) {\n        if (deep) {\n            for (var i = 0; i < composite.composites.length; i++){\n                Composite.clear(composite.composites[i], keepStatic, true);\n            }\n        }\n        \n        if (keepStatic) {\n            composite.bodies = composite.bodies.filter(function(body) { return body.isStatic; });\n        } else {\n            composite.bodies.length = 0;\n        }\n\n        composite.constraints.length = 0;\n        composite.composites.length = 0;\n\n        Composite.setModified(composite, true, true, false);\n\n        return composite;\n    };\n\n    /**\n     * Returns all bodies in the given composite, including all bodies in its children, recursively.\n     * @method allBodies\n     * @param {composite} composite\n     * @return {body[]} All the bodies\n     */\n    Composite.allBodies = function(composite) {\n        if (composite.cache && composite.cache.allBodies) {\n            return composite.cache.allBodies;\n        }\n\n        var bodies = [].concat(composite.bodies);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            bodies = bodies.concat(Composite.allBodies(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allBodies = bodies;\n        }\n\n        return bodies;\n    };\n\n    /**\n     * Returns all constraints in the given composite, including all constraints in its children, recursively.\n     * @method allConstraints\n     * @param {composite} composite\n     * @return {constraint[]} All the constraints\n     */\n    Composite.allConstraints = function(composite) {\n        if (composite.cache && composite.cache.allConstraints) {\n            return composite.cache.allConstraints;\n        }\n\n        var constraints = [].concat(composite.constraints);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            constraints = constraints.concat(Composite.allConstraints(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allConstraints = constraints;\n        }\n\n        return constraints;\n    };\n\n    /**\n     * Returns all composites in the given composite, including all composites in its children, recursively.\n     * @method allComposites\n     * @param {composite} composite\n     * @return {composite[]} All the composites\n     */\n    Composite.allComposites = function(composite) {\n        if (composite.cache && composite.cache.allComposites) {\n            return composite.cache.allComposites;\n        }\n\n        var composites = [].concat(composite.composites);\n\n        for (var i = 0; i < composite.composites.length; i++)\n            composites = composites.concat(Composite.allComposites(composite.composites[i]));\n\n        if (composite.cache) {\n            composite.cache.allComposites = composites;\n        }\n\n        return composites;\n    };\n\n    /**\n     * Searches the composite recursively for an object matching the type and id supplied, null if not found.\n     * @method get\n     * @param {composite} composite\n     * @param {number} id\n     * @param {string} type\n     * @return {object} The requested object, if found\n     */\n    Composite.get = function(composite, id, type) {\n        var objects,\n            object;\n\n        switch (type) {\n        case 'body':\n            objects = Composite.allBodies(composite);\n            break;\n        case 'constraint':\n            objects = Composite.allConstraints(composite);\n            break;\n        case 'composite':\n            objects = Composite.allComposites(composite).concat(composite);\n            break;\n        }\n\n        if (!objects)\n            return null;\n\n        object = objects.filter(function(object) { \n            return object.id.toString() === id.toString(); \n        });\n\n        return object.length === 0 ? null : object[0];\n    };\n\n    /**\n     * Moves the given object(s) from compositeA to compositeB (equal to a remove followed by an add).\n     * @method move\n     * @param {compositeA} compositeA\n     * @param {object[]} objects\n     * @param {compositeB} compositeB\n     * @return {composite} Returns compositeA\n     */\n    Composite.move = function(compositeA, objects, compositeB) {\n        Composite.remove(compositeA, objects);\n        Composite.add(compositeB, objects);\n        return compositeA;\n    };\n\n    /**\n     * Assigns new ids for all objects in the composite, recursively.\n     * @method rebase\n     * @param {composite} composite\n     * @return {composite} Returns composite\n     */\n    Composite.rebase = function(composite) {\n        var objects = Composite.allBodies(composite)\n            .concat(Composite.allConstraints(composite))\n            .concat(Composite.allComposites(composite));\n\n        for (var i = 0; i < objects.length; i++) {\n            objects[i].id = Common.nextId();\n        }\n\n        return composite;\n    };\n\n    /**\n     * Translates all children in the composite by a given vector relative to their current positions, \n     * without imparting any velocity.\n     * @method translate\n     * @param {composite} composite\n     * @param {vector} translation\n     * @param {bool} [recursive=true]\n     */\n    Composite.translate = function(composite, translation, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            Body.translate(bodies[i], translation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Rotates all children in the composite by a given angle about the given point, without imparting any angular velocity.\n     * @method rotate\n     * @param {composite} composite\n     * @param {number} rotation\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.rotate = function(composite, rotation, point, recursive) {\n        var cos = Math.cos(rotation),\n            sin = Math.sin(rotation),\n            bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            });\n\n            Body.rotate(body, rotation);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Scales all children in the composite, including updating physical properties (mass, area, axes, inertia), from a world-space point.\n     * @method scale\n     * @param {composite} composite\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} point\n     * @param {bool} [recursive=true]\n     */\n    Composite.scale = function(composite, scaleX, scaleY, point, recursive) {\n        var bodies = recursive ? Composite.allBodies(composite) : composite.bodies;\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + dx * scaleX,\n                y: point.y + dy * scaleY\n            });\n\n            Body.scale(body, scaleX, scaleY);\n        }\n\n        return composite;\n    };\n\n    /**\n     * Returns the union of the bounds of all of the composite's bodies.\n     * @method bounds\n     * @param {composite} composite The composite.\n     * @returns {bounds} The composite bounds.\n     */\n    Composite.bounds = function(composite) {\n        var bodies = Composite.allBodies(composite),\n            vertices = [];\n\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i];\n            vertices.push(body.bounds.min, body.bounds.max);\n        }\n\n        return Bounds.create(vertices);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, before objects have been added.\n    *\n    * @event beforeAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.add` is made, after objects have been added.\n    *\n    * @event afterAdd\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been added (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, before objects have been removed.\n    *\n    * @event beforeRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) to be removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a call to `Composite.remove` is made, after objects have been removed.\n    *\n    * @event afterRemove\n    * @param {} event An event object\n    * @param {} event.object The object(s) that have been removed (may be a single body, constraint, composite or a mixed array of these)\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"composite\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage composites.\n     *\n     * @property label\n     * @type string\n     * @default \"Composite\"\n     */\n\n    /**\n     * A flag that specifies whether the composite has been modified during the current step.\n     * This is automatically managed when bodies, constraints or composites are added or removed.\n     *\n     * @property isModified\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The `Composite` that is the parent of this composite. It is automatically managed by the `Matter.Composite` methods.\n     *\n     * @property parent\n     * @type composite\n     * @default null\n     */\n\n    /**\n     * An array of `Body` that are _direct_ children of this composite.\n     * To add or remove bodies you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allBodies` method.\n     *\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * An array of `Constraint` that are _direct_ children of this composite.\n     * To add or remove constraints you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allConstraints` method.\n     *\n     * @property constraints\n     * @type constraint[]\n     * @default []\n     */\n\n    /**\n     * An array of `Composite` that are _direct_ children of this composite.\n     * To add or remove composites you should use `Composite.add` and `Composite.remove` methods rather than directly modifying this property.\n     * If you wish to recursively find all descendants, you should use the `Composite.allComposites` method.\n     *\n     * @property composites\n     * @type composite[]\n     * @default []\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * An object used for storing cached results for performance reasons.\n     * This is used internally only and is automatically managed.\n     *\n     * @private\n     * @property cache\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Body` module contains methods for creating and manipulating body models.\n* A `Matter.Body` is a rigid body that can be simulated by a `Matter.Engine`.\n* Factories for commonly used body configurations (such as rectangles, circles and other polygons) can be found in the module `Matter.Bodies`.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n\n* @class Body\n*/\n\nvar Body = {};\n\nmodule.exports = Body;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Render = __webpack_require__(16);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\n\n(function() {\n\n    Body._inertiaScale = 4;\n    Body._nextCollidingGroupId = 1;\n    Body._nextNonCollidingGroupId = -1;\n    Body._nextCategory = 0x0001;\n\n    /**\n     * Creates a new rigid body model. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * Vertices must be specified in clockwise order.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {body} body\n     */\n    Body.create = function(options) {\n        var defaults = {\n            id: Common.nextId(),\n            type: 'body',\n            label: 'Body',\n            parts: [],\n            plugin: {},\n            angle: 0,\n            vertices: Vertices.fromPath('L 0 0 L 40 0 L 40 40 L 0 40'),\n            position: { x: 0, y: 0 },\n            force: { x: 0, y: 0 },\n            torque: 0,\n            positionImpulse: { x: 0, y: 0 },\n            constraintImpulse: { x: 0, y: 0, angle: 0 },\n            totalContacts: 0,\n            speed: 0,\n            angularSpeed: 0,\n            velocity: { x: 0, y: 0 },\n            angularVelocity: 0,\n            isSensor: false,\n            isStatic: false,\n            isSleeping: false,\n            motion: 0,\n            sleepThreshold: 60,\n            density: 0.001,\n            restitution: 0,\n            friction: 0.1,\n            frictionStatic: 0.5,\n            frictionAir: 0.01,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            },\n            slop: 0.05,\n            timeScale: 1,\n            render: {\n                visible: true,\n                opacity: 1,\n                strokeStyle: null,\n                fillStyle: null,\n                lineWidth: null,\n                sprite: {\n                    xScale: 1,\n                    yScale: 1,\n                    xOffset: 0,\n                    yOffset: 0\n                }\n            },\n            events: null,\n            bounds: null,\n            chamfer: null,\n            circleRadius: 0,\n            positionPrev: null,\n            anglePrev: 0,\n            parent: null,\n            axes: null,\n            area: 0,\n            mass: 0,\n            inertia: 0,\n            _original: null\n        };\n\n        var body = Common.extend(defaults, options);\n\n        _initProperties(body, options);\n\n        return body;\n    };\n\n    /**\n     * Returns the next unique group index for which bodies will collide.\n     * If `isNonColliding` is `true`, returns the next unique group index for which bodies will _not_ collide.\n     * See `body.collisionFilter` for more information.\n     * @method nextGroup\n     * @param {bool} [isNonColliding=false]\n     * @return {Number} Unique group index\n     */\n    Body.nextGroup = function(isNonColliding) {\n        if (isNonColliding)\n            return Body._nextNonCollidingGroupId--;\n\n        return Body._nextCollidingGroupId++;\n    };\n\n    /**\n     * Returns the next unique category bitfield (starting after the initial default category `0x0001`).\n     * There are 32 available. See `body.collisionFilter` for more information.\n     * @method nextCategory\n     * @return {Number} Unique category bitfield\n     */\n    Body.nextCategory = function() {\n        Body._nextCategory = Body._nextCategory << 1;\n        return Body._nextCategory;\n    };\n\n    /**\n     * Initialises body properties.\n     * @method _initProperties\n     * @private\n     * @param {body} body\n     * @param {} [options]\n     */\n    var _initProperties = function(body, options) {\n        options = options || {};\n\n        // init required properties (order is important)\n        Body.set(body, {\n            bounds: body.bounds || Bounds.create(body.vertices),\n            positionPrev: body.positionPrev || Vector.clone(body.position),\n            anglePrev: body.anglePrev || body.angle,\n            vertices: body.vertices,\n            parts: body.parts || [body],\n            isStatic: body.isStatic,\n            isSleeping: body.isSleeping,\n            parent: body.parent || body\n        });\n\n        Vertices.rotate(body.vertices, body.angle, body.position);\n        Axes.rotate(body.axes, body.angle);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n\n        // allow options to override the automatically calculated properties\n        Body.set(body, {\n            axes: options.axes || body.axes,\n            area: options.area || body.area,\n            mass: options.mass || body.mass,\n            inertia: options.inertia || body.inertia\n        });\n\n        // render properties\n        var defaultFillStyle = (body.isStatic ? '#14151f' : Common.choose(['#f19648', '#f5d259', '#f55a3c', '#063e7b', '#ececd1'])),\n            defaultStrokeStyle = body.isStatic ? '#555' : '#ccc',\n            defaultLineWidth = body.isStatic && body.render.fillStyle === null ? 1 : 0;\n        body.render.fillStyle = body.render.fillStyle || defaultFillStyle;\n        body.render.strokeStyle = body.render.strokeStyle || defaultStrokeStyle;\n        body.render.lineWidth = body.render.lineWidth || defaultLineWidth;\n        body.render.sprite.xOffset += -(body.bounds.min.x - body.position.x) / (body.bounds.max.x - body.bounds.min.x);\n        body.render.sprite.yOffset += -(body.bounds.min.y - body.position.y) / (body.bounds.max.y - body.bounds.min.y);\n    };\n\n    /**\n     * Given a property and a value (or map of), sets the property(s) on the body, using the appropriate setter functions if they exist.\n     * Prefer to use the actual setter functions in performance critical situations.\n     * @method set\n     * @param {body} body\n     * @param {} settings A property name (or map of properties and values) to set on the body.\n     * @param {} value The value to set if `settings` is a single property name.\n     */\n    Body.set = function(body, settings, value) {\n        var property;\n\n        if (typeof settings === 'string') {\n            property = settings;\n            settings = {};\n            settings[property] = value;\n        }\n\n        for (property in settings) {\n            if (!Object.prototype.hasOwnProperty.call(settings, property))\n                continue;\n\n            value = settings[property];\n            switch (property) {\n\n            case 'isStatic':\n                Body.setStatic(body, value);\n                break;\n            case 'isSleeping':\n                Sleeping.set(body, value);\n                break;\n            case 'mass':\n                Body.setMass(body, value);\n                break;\n            case 'density':\n                Body.setDensity(body, value);\n                break;\n            case 'inertia':\n                Body.setInertia(body, value);\n                break;\n            case 'vertices':\n                Body.setVertices(body, value);\n                break;\n            case 'position':\n                Body.setPosition(body, value);\n                break;\n            case 'angle':\n                Body.setAngle(body, value);\n                break;\n            case 'velocity':\n                Body.setVelocity(body, value);\n                break;\n            case 'angularVelocity':\n                Body.setAngularVelocity(body, value);\n                break;\n            case 'parts':\n                Body.setParts(body, value);\n                break;\n            case 'centre':\n                Body.setCentre(body, value);\n                break;\n            default:\n                body[property] = value;\n\n            }\n        }\n    };\n\n    /**\n     * Sets the body as static, including isStatic flag and setting mass and inertia to Infinity.\n     * @method setStatic\n     * @param {body} body\n     * @param {bool} isStatic\n     */\n    Body.setStatic = function(body, isStatic) {\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.isStatic = isStatic;\n\n            if (isStatic) {\n                part._original = {\n                    restitution: part.restitution,\n                    friction: part.friction,\n                    mass: part.mass,\n                    inertia: part.inertia,\n                    density: part.density,\n                    inverseMass: part.inverseMass,\n                    inverseInertia: part.inverseInertia\n                };\n\n                part.restitution = 0;\n                part.friction = 1;\n                part.mass = part.inertia = part.density = Infinity;\n                part.inverseMass = part.inverseInertia = 0;\n\n                part.positionPrev.x = part.position.x;\n                part.positionPrev.y = part.position.y;\n                part.anglePrev = part.angle;\n                part.angularVelocity = 0;\n                part.speed = 0;\n                part.angularSpeed = 0;\n                part.motion = 0;\n            } else if (part._original) {\n                part.restitution = part._original.restitution;\n                part.friction = part._original.friction;\n                part.mass = part._original.mass;\n                part.inertia = part._original.inertia;\n                part.density = part._original.density;\n                part.inverseMass = part._original.inverseMass;\n                part.inverseInertia = part._original.inverseInertia;\n\n                part._original = null;\n            }\n        }\n    };\n\n    /**\n     * Sets the mass of the body. Inverse mass, density and inertia are automatically updated to reflect the change.\n     * @method setMass\n     * @param {body} body\n     * @param {number} mass\n     */\n    Body.setMass = function(body, mass) {\n        var moment = body.inertia / (body.mass / 6);\n        body.inertia = moment * (mass / 6);\n        body.inverseInertia = 1 / body.inertia;\n\n        body.mass = mass;\n        body.inverseMass = 1 / body.mass;\n        body.density = body.mass / body.area;\n    };\n\n    /**\n     * Sets the density of the body. Mass and inertia are automatically updated to reflect the change.\n     * @method setDensity\n     * @param {body} body\n     * @param {number} density\n     */\n    Body.setDensity = function(body, density) {\n        Body.setMass(body, density * body.area);\n        body.density = density;\n    };\n\n    /**\n     * Sets the moment of inertia (i.e. second moment of area) of the body. \n     * Inverse inertia is automatically updated to reflect the change. Mass is not changed.\n     * @method setInertia\n     * @param {body} body\n     * @param {number} inertia\n     */\n    Body.setInertia = function(body, inertia) {\n        body.inertia = inertia;\n        body.inverseInertia = 1 / body.inertia;\n    };\n\n    /**\n     * Sets the body's vertices and updates body properties accordingly, including inertia, area and mass (with respect to `body.density`).\n     * Vertices will be automatically transformed to be orientated around their centre of mass as the origin.\n     * They are then automatically translated to world space based on `body.position`.\n     *\n     * The `vertices` argument should be passed as an array of `Matter.Vector` points (or a `Matter.Vertices` array).\n     * Vertices must form a convex hull, concave hulls are not supported.\n     *\n     * @method setVertices\n     * @param {body} body\n     * @param {vector[]} vertices\n     */\n    Body.setVertices = function(body, vertices) {\n        // change vertices\n        if (vertices[0].body === body) {\n            body.vertices = vertices;\n        } else {\n            body.vertices = Vertices.create(vertices, body);\n        }\n\n        // update properties\n        body.axes = Axes.fromVertices(body.vertices);\n        body.area = Vertices.area(body.vertices);\n        Body.setMass(body, body.density * body.area);\n\n        // orient vertices around the centre of mass at origin (0, 0)\n        var centre = Vertices.centre(body.vertices);\n        Vertices.translate(body.vertices, centre, -1);\n\n        // update inertia while vertices are at origin (0, 0)\n        Body.setInertia(body, Body._inertiaScale * Vertices.inertia(body.vertices, body.mass));\n\n        // update geometry\n        Vertices.translate(body.vertices, body.position);\n        Bounds.update(body.bounds, body.vertices, body.velocity);\n    };\n\n    /**\n     * Sets the parts of the `body` and updates mass, inertia and centroid.\n     * Each part will have its parent set to `body`.\n     * By default the convex hull will be automatically computed and set on `body`, unless `autoHull` is set to `false.`\n     * Note that this method will ensure that the first part in `body.parts` will always be the `body`.\n     * @method setParts\n     * @param {body} body\n     * @param [body] parts\n     * @param {bool} [autoHull=true]\n     */\n    Body.setParts = function(body, parts, autoHull) {\n        var i;\n\n        // add all the parts, ensuring that the first part is always the parent body\n        parts = parts.slice(0);\n        body.parts.length = 0;\n        body.parts.push(body);\n        body.parent = body;\n\n        for (i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            if (part !== body) {\n                part.parent = body;\n                body.parts.push(part);\n            }\n        }\n\n        if (body.parts.length === 1)\n            return;\n\n        autoHull = typeof autoHull !== 'undefined' ? autoHull : true;\n\n        // find the convex hull of all parts to set on the parent body\n        if (autoHull) {\n            var vertices = [];\n            for (i = 0; i < parts.length; i++) {\n                vertices = vertices.concat(parts[i].vertices);\n            }\n\n            Vertices.clockwiseSort(vertices);\n\n            var hull = Vertices.hull(vertices),\n                hullCentre = Vertices.centre(hull);\n\n            Body.setVertices(body, hull);\n            Vertices.translate(body.vertices, hullCentre);\n        }\n\n        // sum the properties of all compound parts of the parent body\n        var total = Body._totalProperties(body);\n\n        body.area = total.area;\n        body.parent = body;\n        body.position.x = total.centre.x;\n        body.position.y = total.centre.y;\n        body.positionPrev.x = total.centre.x;\n        body.positionPrev.y = total.centre.y;\n\n        Body.setMass(body, total.mass);\n        Body.setInertia(body, total.inertia);\n        Body.setPosition(body, total.centre);\n    };\n\n    /**\n     * Set the centre of mass of the body. \n     * The `centre` is a vector in world-space unless `relative` is set, in which case it is a translation.\n     * The centre of mass is the point the body rotates about and can be used to simulate non-uniform density.\n     * This is equal to moving `body.position` but not the `body.vertices`.\n     * Invalid if the `centre` falls outside the body's convex hull.\n     * @method setCentre\n     * @param {body} body\n     * @param {vector} centre\n     * @param {bool} relative\n     */\n    Body.setCentre = function(body, centre, relative) {\n        if (!relative) {\n            body.positionPrev.x = centre.x - (body.position.x - body.positionPrev.x);\n            body.positionPrev.y = centre.y - (body.position.y - body.positionPrev.y);\n            body.position.x = centre.x;\n            body.position.y = centre.y;\n        } else {\n            body.positionPrev.x += centre.x;\n            body.positionPrev.y += centre.y;\n            body.position.x += centre.x;\n            body.position.y += centre.y;\n        }\n    };\n\n    /**\n     * Sets the position of the body instantly. Velocity, angle, force etc. are unchanged.\n     * @method setPosition\n     * @param {body} body\n     * @param {vector} position\n     */\n    Body.setPosition = function(body, position) {\n        var delta = Vector.sub(position, body.position);\n        body.positionPrev.x += delta.x;\n        body.positionPrev.y += delta.y;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.position.x += delta.x;\n            part.position.y += delta.y;\n            Vertices.translate(part.vertices, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Sets the angle of the body instantly. Angular velocity, position, force etc. are unchanged.\n     * @method setAngle\n     * @param {body} body\n     * @param {number} angle\n     */\n    Body.setAngle = function(body, angle) {\n        var delta = angle - body.angle;\n        body.anglePrev += delta;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n            part.angle += delta;\n            Vertices.rotate(part.vertices, delta, body.position);\n            Axes.rotate(part.axes, delta);\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n            if (i > 0) {\n                Vector.rotateAbout(part.position, delta, body.position, part.position);\n            }\n        }\n    };\n\n    /**\n     * Sets the linear velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.\n     * @method setVelocity\n     * @param {body} body\n     * @param {vector} velocity\n     */\n    Body.setVelocity = function(body, velocity) {\n        body.positionPrev.x = body.position.x - velocity.x;\n        body.positionPrev.y = body.position.y - velocity.y;\n        body.velocity.x = velocity.x;\n        body.velocity.y = velocity.y;\n        body.speed = Vector.magnitude(body.velocity);\n    };\n\n    /**\n     * Sets the angular velocity of the body instantly. Position, angle, force etc. are unchanged. See also `Body.applyForce`.\n     * @method setAngularVelocity\n     * @param {body} body\n     * @param {number} velocity\n     */\n    Body.setAngularVelocity = function(body, velocity) {\n        body.anglePrev = body.angle - velocity;\n        body.angularVelocity = velocity;\n        body.angularSpeed = Math.abs(body.angularVelocity);\n    };\n\n    /**\n     * Moves a body by a given vector relative to its current position, without imparting any velocity.\n     * @method translate\n     * @param {body} body\n     * @param {vector} translation\n     */\n    Body.translate = function(body, translation) {\n        Body.setPosition(body, Vector.add(body.position, translation));\n    };\n\n    /**\n     * Rotates a body by a given angle relative to its current angle, without imparting any angular velocity.\n     * @method rotate\n     * @param {body} body\n     * @param {number} rotation\n     * @param {vector} [point]\n     */\n    Body.rotate = function(body, rotation, point) {\n        if (!point) {\n            Body.setAngle(body, body.angle + rotation);\n        } else {\n            var cos = Math.cos(rotation),\n                sin = Math.sin(rotation),\n                dx = body.position.x - point.x,\n                dy = body.position.y - point.y;\n                \n            Body.setPosition(body, {\n                x: point.x + (dx * cos - dy * sin),\n                y: point.y + (dx * sin + dy * cos)\n            });\n\n            Body.setAngle(body, body.angle + rotation);\n        }\n    };\n\n    /**\n     * Scales the body, including updating physical properties (mass, area, axes, inertia), from a world-space point (default is body centre).\n     * @method scale\n     * @param {body} body\n     * @param {number} scaleX\n     * @param {number} scaleY\n     * @param {vector} [point]\n     */\n    Body.scale = function(body, scaleX, scaleY, point) {\n        var totalArea = 0,\n            totalInertia = 0;\n\n        point = point || body.position;\n\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            // scale vertices\n            Vertices.scale(part.vertices, scaleX, scaleY, point);\n\n            // update properties\n            part.axes = Axes.fromVertices(part.vertices);\n            part.area = Vertices.area(part.vertices);\n            Body.setMass(part, body.density * part.area);\n\n            // update inertia (requires vertices to be at origin)\n            Vertices.translate(part.vertices, { x: -part.position.x, y: -part.position.y });\n            Body.setInertia(part, Body._inertiaScale * Vertices.inertia(part.vertices, part.mass));\n            Vertices.translate(part.vertices, { x: part.position.x, y: part.position.y });\n\n            if (i > 0) {\n                totalArea += part.area;\n                totalInertia += part.inertia;\n            }\n\n            // scale position\n            part.position.x = point.x + (part.position.x - point.x) * scaleX;\n            part.position.y = point.y + (part.position.y - point.y) * scaleY;\n\n            // update bounds\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n\n        // handle parent body\n        if (body.parts.length > 1) {\n            body.area = totalArea;\n\n            if (!body.isStatic) {\n                Body.setMass(body, body.density * totalArea);\n                Body.setInertia(body, totalInertia);\n            }\n        }\n\n        // handle circles\n        if (body.circleRadius) { \n            if (scaleX === scaleY) {\n                body.circleRadius *= scaleX;\n            } else {\n                // body is no longer a circle\n                body.circleRadius = null;\n            }\n        }\n    };\n\n    /**\n     * Performs a simulation step for the given `body`, including updating position and angle using Verlet integration.\n     * @method update\n     * @param {body} body\n     * @param {number} deltaTime\n     * @param {number} timeScale\n     * @param {number} correction\n     */\n    Body.update = function(body, deltaTime, timeScale, correction) {\n        var deltaTimeSquared = Math.pow(deltaTime * timeScale * body.timeScale, 2);\n\n        // from the previous step\n        var frictionAir = 1 - body.frictionAir * timeScale * body.timeScale,\n            velocityPrevX = body.position.x - body.positionPrev.x,\n            velocityPrevY = body.position.y - body.positionPrev.y;\n\n        // update velocity with Verlet integration\n        body.velocity.x = (velocityPrevX * frictionAir * correction) + (body.force.x / body.mass) * deltaTimeSquared;\n        body.velocity.y = (velocityPrevY * frictionAir * correction) + (body.force.y / body.mass) * deltaTimeSquared;\n\n        body.positionPrev.x = body.position.x;\n        body.positionPrev.y = body.position.y;\n        body.position.x += body.velocity.x;\n        body.position.y += body.velocity.y;\n\n        // update angular velocity with Verlet integration\n        body.angularVelocity = ((body.angle - body.anglePrev) * frictionAir * correction) + (body.torque / body.inertia) * deltaTimeSquared;\n        body.anglePrev = body.angle;\n        body.angle += body.angularVelocity;\n\n        // track speed and acceleration\n        body.speed = Vector.magnitude(body.velocity);\n        body.angularSpeed = Math.abs(body.angularVelocity);\n\n        // transform the body geometry\n        for (var i = 0; i < body.parts.length; i++) {\n            var part = body.parts[i];\n\n            Vertices.translate(part.vertices, body.velocity);\n            \n            if (i > 0) {\n                part.position.x += body.velocity.x;\n                part.position.y += body.velocity.y;\n            }\n\n            if (body.angularVelocity !== 0) {\n                Vertices.rotate(part.vertices, body.angularVelocity, body.position);\n                Axes.rotate(part.axes, body.angularVelocity);\n                if (i > 0) {\n                    Vector.rotateAbout(part.position, body.angularVelocity, body.position, part.position);\n                }\n            }\n\n            Bounds.update(part.bounds, part.vertices, body.velocity);\n        }\n    };\n\n    /**\n     * Applies a force to a body from a given world-space position, including resulting torque.\n     * @method applyForce\n     * @param {body} body\n     * @param {vector} position\n     * @param {vector} force\n     */\n    Body.applyForce = function(body, position, force) {\n        body.force.x += force.x;\n        body.force.y += force.y;\n        var offset = { x: position.x - body.position.x, y: position.y - body.position.y };\n        body.torque += offset.x * force.y - offset.y * force.x;\n    };\n\n    /**\n     * Returns the sums of the properties of all compound parts of the parent body.\n     * @method _totalProperties\n     * @private\n     * @param {body} body\n     * @return {}\n     */\n    Body._totalProperties = function(body) {\n        // from equations at:\n        // https://ecourses.ou.edu/cgi-bin/ebook.cgi?doc=&topic=st&chap_sec=07.2&page=theory\n        // http://output.to/sideway/default.asp?qno=121100087\n\n        var properties = {\n            mass: 0,\n            area: 0,\n            inertia: 0,\n            centre: { x: 0, y: 0 }\n        };\n\n        // sum the properties of all compound parts of the parent body\n        for (var i = body.parts.length === 1 ? 0 : 1; i < body.parts.length; i++) {\n            var part = body.parts[i],\n                mass = part.mass !== Infinity ? part.mass : 1;\n\n            properties.mass += mass;\n            properties.area += part.area;\n            properties.inertia += part.inertia;\n            properties.centre = Vector.add(properties.centre, Vector.mult(part.position, mass));\n        }\n\n        properties.centre = Vector.div(properties.centre, properties.mass);\n\n        return properties;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when a body starts sleeping (where `this` is the body).\n    *\n    * @event sleepStart\n    * @this {body} The body that has started sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when a body ends sleeping (where `this` is the body).\n    *\n    * @event sleepEnd\n    * @this {body} The body that has ended sleeping\n    * @param {} event An event object\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Body.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"body\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Body\"\n     */\n\n    /**\n     * An array of bodies that make up this body. \n     * The first body in the array must always be a self reference to the current body instance.\n     * All bodies in the `parts` array together form a single rigid compound body.\n     * Parts are allowed to overlap, have gaps or holes or even form concave bodies.\n     * Parts themselves should never be added to a `World`, only the parent body should be.\n     * Use `Body.setParts` when setting parts to ensure correct updates of all properties.\n     *\n     * @property parts\n     * @type body[]\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * A self reference if the body is _not_ a part of another body.\n     * Otherwise this is a reference to the body that this is a part of.\n     * See `body.parts`.\n     *\n     * @property parent\n     * @type body\n     */\n\n    /**\n     * A `Number` specifying the angle of the body, in radians.\n     *\n     * @property angle\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * An array of `Vector` objects that specify the convex hull of the rigid body.\n     * These should be provided about the origin `(0, 0)`. E.g.\n     *\n     *     [{ x: 0, y: 0 }, { x: 25, y: 50 }, { x: 50, y: 0 }]\n     *\n     * When passed via `Body.create`, the vertices are translated relative to `body.position` (i.e. world-space, and constantly updated by `Body.update` during simulation).\n     * The `Vector` objects are also augmented with additional properties required for efficient collision detection. \n     *\n     * Other properties such as `inertia` and `bounds` are automatically calculated from the passed vertices (unless provided via `options`).\n     * Concave hulls are not currently supported. The module `Matter.Vertices` contains useful methods for working with vertices.\n     *\n     * @property vertices\n     * @type vector[]\n     */\n\n    /**\n     * A `Vector` that specifies the current world-space position of the body.\n     *\n     * @property position\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that specifies the force to apply in the current step. It is zeroed after every `Body.update`. See also `Body.applyForce`.\n     *\n     * @property force\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that specifies the torque (turning force) to apply in the current step. It is zeroed after every `Body.update`.\n     *\n     * @property torque\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that _measures_ the current speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.velocity`).\n     *\n     * @readOnly\n     * @property speed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that _measures_ the current angular speed of the body after the last `Body.update`. It is read-only and always positive (it's the magnitude of `body.angularVelocity`).\n     *\n     * @readOnly\n     * @property angularSpeed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Vector` that _measures_ the current velocity of the body after the last `Body.update`. It is read-only. \n     * If you need to modify a body's velocity directly, you should either apply a force or simply change the body's `position` (as the engine uses position-Verlet integration).\n     *\n     * @readOnly\n     * @property velocity\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that _measures_ the current angular velocity of the body after the last `Body.update`. It is read-only. \n     * If you need to modify a body's angular velocity directly, you should apply a torque or simply change the body's `angle` (as the engine uses position-Verlet integration).\n     *\n     * @readOnly\n     * @property angularVelocity\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A flag that indicates whether a body is considered static. A static body can never change position or angle and is completely fixed.\n     * If you need to set a body as static after its creation, you should use `Body.setStatic` as this requires more than just setting this flag.\n     *\n     * @property isStatic\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag that indicates whether a body is a sensor. Sensor triggers collision events, but doesn't react with colliding body physically.\n     *\n     * @property isSensor\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag that indicates whether the body is considered sleeping. A sleeping body acts similar to a static body, except it is only temporary and can be awoken.\n     * If you need to set a body as sleeping, you should use `Sleeping.set` as this requires more than just setting this flag.\n     *\n     * @property isSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A `Number` that _measures_ the amount of movement a body currently has (a combination of `speed` and `angularSpeed`). It is read-only and always positive.\n     * It is used and updated by the `Matter.Sleeping` module during simulation to decide if a body has come to rest.\n     *\n     * @readOnly\n     * @property motion\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the number of updates in which this body must have near-zero velocity before it is set as sleeping by the `Matter.Sleeping` module (if sleeping is enabled by the engine).\n     *\n     * @property sleepThreshold\n     * @type number\n     * @default 60\n     */\n\n    /**\n     * A `Number` that defines the density of the body, that is its mass per unit area.\n     * If you pass the density via `Body.create` the `mass` property is automatically calculated for you based on the size (area) of the object.\n     * This is generally preferable to simply setting mass and allows for more intuitive definition of materials (e.g. rock has a higher density than wood).\n     *\n     * @property density\n     * @type number\n     * @default 0.001\n     */\n\n    /**\n     * A `Number` that defines the mass of the body, although it may be more appropriate to specify the `density` property instead.\n     * If you modify this value, you must also modify the `body.inverseMass` property (`1 / mass`).\n     *\n     * @property mass\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the inverse mass of the body (`1 / mass`).\n     * If you modify this value, you must also modify the `body.mass` property.\n     *\n     * @property inverseMass\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the moment of inertia (i.e. second moment of area) of the body.\n     * It is automatically calculated from the given convex hull (`vertices` array) and density in `Body.create`.\n     * If you modify this value, you must also modify the `body.inverseInertia` property (`1 / inertia`).\n     *\n     * @property inertia\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the inverse moment of inertia of the body (`1 / inertia`).\n     * If you modify this value, you must also modify the `body.inertia` property.\n     *\n     * @property inverseInertia\n     * @type number\n     */\n\n    /**\n     * A `Number` that defines the restitution (elasticity) of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means collisions may be perfectly inelastic and no bouncing may occur. \n     * A value of `0.8` means the body may bounce back with approximately 80% of its kinetic energy.\n     * Note that collision response is based on _pairs_ of bodies, and that `restitution` values are _combined_ with the following formula:\n     *\n     *     Math.max(bodyA.restitution, bodyB.restitution)\n     *\n     * @property restitution\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that defines the friction of the body. The value is always positive and is in the range `(0, 1)`.\n     * A value of `0` means that the body may slide indefinitely.\n     * A value of `1` means the body may come to a stop almost instantly after a force is applied.\n     *\n     * The effects of the value may be non-linear. \n     * High values may be unstable depending on the body.\n     * The engine uses a Coulomb friction model including static and kinetic friction.\n     * Note that collision response is based on _pairs_ of bodies, and that `friction` values are _combined_ with the following formula:\n     *\n     *     Math.min(bodyA.friction, bodyB.friction)\n     *\n     * @property friction\n     * @type number\n     * @default 0.1\n     */\n\n    /**\n     * A `Number` that defines the static friction of the body (in the Coulomb friction model). \n     * A value of `0` means the body will never 'stick' when it is nearly stationary and only dynamic `friction` is used.\n     * The higher the value (e.g. `10`), the more force it will take to initially get the body moving when nearly stationary.\n     * This value is multiplied with the `friction` property to make it easier to change `friction` and maintain an appropriate amount of static friction.\n     *\n     * @property frictionStatic\n     * @type number\n     * @default 0.5\n     */\n\n    /**\n     * A `Number` that defines the air friction of the body (air resistance). \n     * A value of `0` means the body will never slow as it moves through space.\n     * The higher the value, the faster a body slows when moving through space.\n     * The effects of the value are non-linear. \n     *\n     * @property frictionAir\n     * @type number\n     * @default 0.01\n     */\n\n    /**\n     * An `Object` that specifies the collision filtering properties of this body.\n     *\n     * Collisions between two bodies will obey the following rules:\n     * - If the two bodies have the same non-zero value of `collisionFilter.group`,\n     *   they will always collide if the value is positive, and they will never collide\n     *   if the value is negative.\n     * - If the two bodies have different values of `collisionFilter.group` or if one\n     *   (or both) of the bodies has a value of 0, then the category/mask rules apply as follows:\n     *\n     * Each body belongs to a collision category, given by `collisionFilter.category`. This\n     * value is used as a bit field and the category should have only one bit set, meaning that\n     * the value of this property is a power of two in the range [1, 2^31]. Thus, there are 32\n     * different collision categories available.\n     *\n     * Each body also defines a collision bitmask, given by `collisionFilter.mask` which specifies\n     * the categories it collides with (the value is the bitwise AND value of all these categories).\n     *\n     * Using the category/mask rules, two bodies `A` and `B` collide if each includes the other's\n     * category in its mask, i.e. `(categoryA & maskB) !== 0` and `(categoryB & maskA) !== 0`\n     * are both true.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n    /**\n     * An Integer `Number`, that specifies the collision group this body belongs to.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.group\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * A bit field that specifies the collision category this body belongs to.\n     * The category value should have only one bit set, for example `0x0001`.\n     * This means there are up to 32 unique collision categories available.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.category\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * A bit mask that specifies the collision categories this body may collide with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter.mask\n     * @type object\n     * @default -1\n     */\n\n    /**\n     * A `Number` that specifies a tolerance on how far a body is allowed to 'sink' or rotate into other bodies.\n     * Avoid changing this value unless you understand the purpose of `slop` in physics engines.\n     * The default should generally suffice, although very large bodies may require larger values for stable stacking.\n     *\n     * @property slop\n     * @type number\n     * @default 0.05\n     */\n\n    /**\n     * A `Number` that allows per-body time scaling, e.g. a force-field where bodies inside are in slow-motion, while others are at full speed.\n     *\n     * @property timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the body should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * Sets the opacity to use when rendering.\n     *\n     * @property render.opacity\n     * @type number\n     * @default 1\n    */\n\n    /**\n     * An `Object` that defines the sprite properties to use when rendering, if any.\n     *\n     * @property render.sprite\n     * @type object\n     */\n\n    /**\n     * An `String` that defines the path to the image to use as the sprite texture, if any.\n     *\n     * @property render.sprite.texture\n     * @type string\n     */\n     \n    /**\n     * A `Number` that defines the scaling in the x-axis for the sprite, if any.\n     *\n     * @property render.sprite.xScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that defines the scaling in the y-axis for the sprite, if any.\n     *\n     * @property render.sprite.yScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n      * A `Number` that defines the offset in the x-axis for the sprite (normalised by texture width).\n      *\n      * @property render.sprite.xOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n      * A `Number` that defines the offset in the y-axis for the sprite (normalised by texture height).\n      *\n      * @property render.sprite.yOffset\n      * @type number\n      * @default 0\n      */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the body outline (if a sprite is not defined).\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `String` that defines the fill style to use when rendering the body (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.fillStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the body outline (if a sprite is not defined).\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * An array of unique axis vectors (edge normals) used for collision detection.\n     * These are automatically calculated from the given convex hull (`vertices` array) in `Body.create`.\n     * They are constantly updated by `Body.update` during the simulation.\n     *\n     * @property axes\n     * @type vector[]\n     */\n     \n    /**\n     * A `Number` that _measures_ the area of the body's convex hull, calculated at creation by `Body.create`.\n     *\n     * @property area\n     * @type string\n     * @default \n     */\n\n    /**\n     * A `Bounds` object that defines the AABB region for the body.\n     * It is automatically calculated from the given convex hull (`vertices` array) in `Body.create` and constantly updated by `Body.update` during simulation.\n     *\n     * @property bounds\n     * @type bounds\n     */\n\n})();\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Sleeping` module contains methods to manage the sleeping state of bodies.\n*\n* @class Sleeping\n*/\n\nvar Sleeping = {};\n\nmodule.exports = Sleeping;\n\nvar Events = __webpack_require__(4);\n\n(function() {\n\n    Sleeping._motionWakeThreshold = 0.18;\n    Sleeping._motionSleepThreshold = 0.08;\n    Sleeping._minBias = 0.9;\n\n    /**\n     * Puts bodies to sleep or wakes them up depending on their motion.\n     * @method update\n     * @param {body[]} bodies\n     * @param {number} timeScale\n     */\n    Sleeping.update = function(bodies, timeScale) {\n        var timeFactor = timeScale * timeScale * timeScale;\n\n        // update bodies sleeping status\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                motion = body.speed * body.speed + body.angularSpeed * body.angularSpeed;\n\n            // wake up bodies if they have a force applied\n            if (body.force.x !== 0 || body.force.y !== 0) {\n                Sleeping.set(body, false);\n                continue;\n            }\n\n            var minMotion = Math.min(body.motion, motion),\n                maxMotion = Math.max(body.motion, motion);\n        \n            // biased average motion estimation between frames\n            body.motion = Sleeping._minBias * minMotion + (1 - Sleeping._minBias) * maxMotion;\n            \n            if (body.sleepThreshold > 0 && body.motion < Sleeping._motionSleepThreshold * timeFactor) {\n                body.sleepCounter += 1;\n                \n                if (body.sleepCounter >= body.sleepThreshold)\n                    Sleeping.set(body, true);\n            } else if (body.sleepCounter > 0) {\n                body.sleepCounter -= 1;\n            }\n        }\n    };\n\n    /**\n     * Given a set of colliding pairs, wakes the sleeping bodies involved.\n     * @method afterCollisions\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Sleeping.afterCollisions = function(pairs, timeScale) {\n        var timeFactor = timeScale * timeScale * timeScale;\n\n        // wake up bodies involved in collisions\n        for (var i = 0; i < pairs.length; i++) {\n            var pair = pairs[i];\n            \n            // don't wake inactive pairs\n            if (!pair.isActive)\n                continue;\n\n            var collision = pair.collision,\n                bodyA = collision.bodyA.parent, \n                bodyB = collision.bodyB.parent;\n        \n            // don't wake if at least one body is static\n            if ((bodyA.isSleeping && bodyB.isSleeping) || bodyA.isStatic || bodyB.isStatic)\n                continue;\n        \n            if (bodyA.isSleeping || bodyB.isSleeping) {\n                var sleepingBody = (bodyA.isSleeping && !bodyA.isStatic) ? bodyA : bodyB,\n                    movingBody = sleepingBody === bodyA ? bodyB : bodyA;\n\n                if (!sleepingBody.isStatic && movingBody.motion > Sleeping._motionWakeThreshold * timeFactor) {\n                    Sleeping.set(sleepingBody, false);\n                }\n            }\n        }\n    };\n  \n    /**\n     * Set a body as sleeping or awake.\n     * @method set\n     * @param {body} body\n     * @param {boolean} isSleeping\n     */\n    Sleeping.set = function(body, isSleeping) {\n        var wasSleeping = body.isSleeping;\n\n        if (isSleeping) {\n            body.isSleeping = true;\n            body.sleepCounter = body.sleepThreshold;\n\n            body.positionImpulse.x = 0;\n            body.positionImpulse.y = 0;\n\n            body.positionPrev.x = body.position.x;\n            body.positionPrev.y = body.position.y;\n\n            body.anglePrev = body.angle;\n            body.speed = 0;\n            body.angularSpeed = 0;\n            body.motion = 0;\n\n            if (!wasSleeping) {\n                Events.trigger(body, 'sleepStart');\n            }\n        } else {\n            body.isSleeping = false;\n            body.sleepCounter = 0;\n\n            if (wasSleeping) {\n                Events.trigger(body, 'sleepEnd');\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Collision` module contains methods for detecting collisions between a given pair of bodies.\n*\n* For efficient detection between a list of bodies, see `Matter.Detector` and `Matter.Query`.\n*\n* See `Matter.Engine` for collision events.\n*\n* @class Collision\n*/\n\nvar Collision = {};\n\nmodule.exports = Collision;\n\nvar Vertices = __webpack_require__(3);\nvar Pair = __webpack_require__(9);\n\n(function() {\n    var _supports = [];\n\n    var _overlapAB = {\n        overlap: 0,\n        axis: null\n    };\n\n    var _overlapBA = {\n        overlap: 0,\n        axis: null\n    };\n\n    /**\n     * Creates a new collision record.\n     * @method create\n     * @param {body} bodyA The first body part represented by the collision record\n     * @param {body} bodyB The second body part represented by the collision record\n     * @return {collision} A new collision record\n     */\n    Collision.create = function(bodyA, bodyB) {\n        return { \n            pair: null,\n            collided: false,\n            bodyA: bodyA,\n            bodyB: bodyB,\n            parentA: bodyA.parent,\n            parentB: bodyB.parent,\n            depth: 0,\n            normal: { x: 0, y: 0 },\n            tangent: { x: 0, y: 0 },\n            penetration: { x: 0, y: 0 },\n            supports: []\n        };\n    };\n\n    /**\n     * Detect collision between two bodies.\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {pairs} [pairs] Optionally reuse collision records from existing pairs.\n     * @return {collision|null} A collision record if detected, otherwise null\n     */\n    Collision.collides = function(bodyA, bodyB, pairs) {\n        Collision._overlapAxes(_overlapAB, bodyA.vertices, bodyB.vertices, bodyA.axes);\n\n        if (_overlapAB.overlap <= 0) {\n            return null;\n        }\n\n        Collision._overlapAxes(_overlapBA, bodyB.vertices, bodyA.vertices, bodyB.axes);\n\n        if (_overlapBA.overlap <= 0) {\n            return null;\n        }\n\n        // reuse collision records for gc efficiency\n        var pair = pairs && pairs.table[Pair.id(bodyA, bodyB)],\n            collision;\n\n        if (!pair) {\n            collision = Collision.create(bodyA, bodyB);\n            collision.collided = true;\n            collision.bodyA = bodyA.id < bodyB.id ? bodyA : bodyB;\n            collision.bodyB = bodyA.id < bodyB.id ? bodyB : bodyA;\n            collision.parentA = collision.bodyA.parent;\n            collision.parentB = collision.bodyB.parent;\n        } else {\n            collision = pair.collision;\n        }\n\n        bodyA = collision.bodyA;\n        bodyB = collision.bodyB;\n\n        var minOverlap;\n\n        if (_overlapAB.overlap < _overlapBA.overlap) {\n            minOverlap = _overlapAB;\n        } else {\n            minOverlap = _overlapBA;\n        }\n\n        var normal = collision.normal,\n            supports = collision.supports,\n            minAxis = minOverlap.axis,\n            minAxisX = minAxis.x,\n            minAxisY = minAxis.y;\n\n        // ensure normal is facing away from bodyA\n        if (minAxisX * (bodyB.position.x - bodyA.position.x) + minAxisY * (bodyB.position.y - bodyA.position.y) < 0) {\n            normal.x = minAxisX;\n            normal.y = minAxisY;\n        } else {\n            normal.x = -minAxisX;\n            normal.y = -minAxisY;\n        }\n        \n        collision.tangent.x = -normal.y;\n        collision.tangent.y = normal.x;\n\n        collision.depth = minOverlap.overlap;\n\n        collision.penetration.x = normal.x * collision.depth;\n        collision.penetration.y = normal.y * collision.depth;\n\n        // find support points, there is always either exactly one or two\n        var supportsB = Collision._findSupports(bodyA, bodyB, normal, 1),\n            supportCount = 0;\n\n        // find the supports from bodyB that are inside bodyA\n        if (Vertices.contains(bodyA.vertices, supportsB[0])) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        if (Vertices.contains(bodyA.vertices, supportsB[1])) {\n            supports[supportCount++] = supportsB[1];\n        }\n\n        // find the supports from bodyA that are inside bodyB\n        if (supportCount < 2) {\n            var supportsA = Collision._findSupports(bodyB, bodyA, normal, -1);\n\n            if (Vertices.contains(bodyB.vertices, supportsA[0])) {\n                supports[supportCount++] = supportsA[0];\n            }\n\n            if (supportCount < 2 && Vertices.contains(bodyB.vertices, supportsA[1])) {\n                supports[supportCount++] = supportsA[1];\n            }\n        }\n\n        // account for the edge case of overlapping but no vertex containment\n        if (supportCount === 0) {\n            supports[supportCount++] = supportsB[0];\n        }\n\n        // update supports array size\n        supports.length = supportCount;\n\n        return collision;\n    };\n\n    /**\n     * Find the overlap between two sets of vertices.\n     * @method _overlapAxes\n     * @private\n     * @param {object} result\n     * @param {vertices} verticesA\n     * @param {vertices} verticesB\n     * @param {axes} axes\n     */\n    Collision._overlapAxes = function(result, verticesA, verticesB, axes) {\n        var verticesALength = verticesA.length,\n            verticesBLength = verticesB.length,\n            verticesAX = verticesA[0].x,\n            verticesAY = verticesA[0].y,\n            verticesBX = verticesB[0].x,\n            verticesBY = verticesB[0].y,\n            axesLength = axes.length,\n            overlapMin = Number.MAX_VALUE,\n            overlapAxisNumber = 0,\n            overlap,\n            overlapAB,\n            overlapBA,\n            dot,\n            i,\n            j;\n\n        for (i = 0; i < axesLength; i++) {\n            var axis = axes[i],\n                axisX = axis.x,\n                axisY = axis.y,\n                minA = verticesAX * axisX + verticesAY * axisY,\n                minB = verticesBX * axisX + verticesBY * axisY,\n                maxA = minA,\n                maxB = minB;\n            \n            for (j = 1; j < verticesALength; j += 1) {\n                dot = verticesA[j].x * axisX + verticesA[j].y * axisY;\n\n                if (dot > maxA) { \n                    maxA = dot;\n                } else if (dot < minA) { \n                    minA = dot;\n                }\n            }\n\n            for (j = 1; j < verticesBLength; j += 1) {\n                dot = verticesB[j].x * axisX + verticesB[j].y * axisY;\n\n                if (dot > maxB) { \n                    maxB = dot;\n                } else if (dot < minB) { \n                    minB = dot;\n                }\n            }\n\n            overlapAB = maxA - minB;\n            overlapBA = maxB - minA;\n            overlap = overlapAB < overlapBA ? overlapAB : overlapBA;\n\n            if (overlap < overlapMin) {\n                overlapMin = overlap;\n                overlapAxisNumber = i;\n\n                if (overlap <= 0) {\n                    // can not be intersecting\n                    break;\n                }\n            } \n        }\n\n        result.axis = axes[overlapAxisNumber];\n        result.overlap = overlapMin;\n    };\n\n    /**\n     * Projects vertices on an axis and returns an interval.\n     * @method _projectToAxis\n     * @private\n     * @param {} projection\n     * @param {} vertices\n     * @param {} axis\n     */\n    Collision._projectToAxis = function(projection, vertices, axis) {\n        var min = vertices[0].x * axis.x + vertices[0].y * axis.y,\n            max = min;\n\n        for (var i = 1; i < vertices.length; i += 1) {\n            var dot = vertices[i].x * axis.x + vertices[i].y * axis.y;\n\n            if (dot > max) { \n                max = dot; \n            } else if (dot < min) { \n                min = dot; \n            }\n        }\n\n        projection.min = min;\n        projection.max = max;\n    };\n\n    /**\n     * Finds supporting vertices given two bodies along a given direction using hill-climbing.\n     * @method _findSupports\n     * @private\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @param {vector} normal\n     * @param {number} direction\n     * @return [vector]\n     */\n    Collision._findSupports = function(bodyA, bodyB, normal, direction) {\n        var vertices = bodyB.vertices,\n            verticesLength = vertices.length,\n            bodyAPositionX = bodyA.position.x,\n            bodyAPositionY = bodyA.position.y,\n            normalX = normal.x * direction,\n            normalY = normal.y * direction,\n            nearestDistance = Number.MAX_VALUE,\n            vertexA,\n            vertexB,\n            vertexC,\n            distance,\n            j;\n\n        // find deepest vertex relative to the axis\n        for (j = 0; j < verticesLength; j += 1) {\n            vertexB = vertices[j];\n            distance = normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y);\n\n            // convex hill-climbing\n            if (distance < nearestDistance) {\n                nearestDistance = distance;\n                vertexA = vertexB;\n            }\n        }\n\n        // measure next vertex\n        vertexC = vertices[(verticesLength + vertexA.index - 1) % verticesLength];\n        nearestDistance = normalX * (bodyAPositionX - vertexC.x) + normalY * (bodyAPositionY - vertexC.y);\n\n        // compare with previous vertex\n        vertexB = vertices[(vertexA.index + 1) % verticesLength];\n        if (normalX * (bodyAPositionX - vertexB.x) + normalY * (bodyAPositionY - vertexB.y) < nearestDistance) {\n            _supports[0] = vertexA;\n            _supports[1] = vertexB;\n\n            return _supports;\n        }\n\n        _supports[0] = vertexA;\n        _supports[1] = vertexC;\n\n        return _supports;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A reference to the pair using this collision record, if there is one.\n     *\n     * @property pair\n     * @type {pair|null}\n     * @default null\n     */\n\n    /**\n     * A flag that indicates if the bodies were colliding when the collision was last updated.\n     * \n     * @property collided\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * The first body part represented by the collision (see also `collision.parentA`).\n     * \n     * @property bodyA\n     * @type body\n     */\n\n    /**\n     * The second body part represented by the collision (see also `collision.parentB`).\n     * \n     * @property bodyB\n     * @type body\n     */\n\n    /**\n     * The first body represented by the collision (i.e. `collision.bodyA.parent`).\n     * \n     * @property parentA\n     * @type body\n     */\n\n    /**\n     * The second body represented by the collision (i.e. `collision.bodyB.parent`).\n     * \n     * @property parentB\n     * @type body\n     */\n\n    /**\n     * A `Number` that represents the minimum separating distance between the bodies along the collision normal.\n     *\n     * @readOnly\n     * @property depth\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A normalised `Vector` that represents the direction between the bodies that provides the minimum separating distance.\n     *\n     * @property normal\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A normalised `Vector` that is the tangent direction to the collision normal.\n     *\n     * @property tangent\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that represents the direction and depth of the collision.\n     *\n     * @property penetration\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * An array of body vertices that represent the support points in the collision.\n     * These are the deepest vertices (along the collision normal) of each body that are contained by the other body's vertices.\n     *\n     * @property supports\n     * @type vector[]\n     * @default []\n     */\n\n})();\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pair` module contains methods for creating and manipulating collision pairs.\n*\n* @class Pair\n*/\n\nvar Pair = {};\n\nmodule.exports = Pair;\n\nvar Contact = __webpack_require__(17);\n\n(function() {\n    \n    /**\n     * Creates a pair.\n     * @method create\n     * @param {collision} collision\n     * @param {number} timestamp\n     * @return {pair} A new pair\n     */\n    Pair.create = function(collision, timestamp) {\n        var bodyA = collision.bodyA,\n            bodyB = collision.bodyB;\n\n        var pair = {\n            id: Pair.id(bodyA, bodyB),\n            bodyA: bodyA,\n            bodyB: bodyB,\n            collision: collision,\n            contacts: [],\n            activeContacts: [],\n            separation: 0,\n            isActive: true,\n            confirmedActive: true,\n            isSensor: bodyA.isSensor || bodyB.isSensor,\n            timeCreated: timestamp,\n            timeUpdated: timestamp,\n            inverseMass: 0,\n            friction: 0,\n            frictionStatic: 0,\n            restitution: 0,\n            slop: 0\n        };\n\n        Pair.update(pair, collision, timestamp);\n\n        return pair;\n    };\n\n    /**\n     * Updates a pair given a collision.\n     * @method update\n     * @param {pair} pair\n     * @param {collision} collision\n     * @param {number} timestamp\n     */\n    Pair.update = function(pair, collision, timestamp) {\n        var contacts = pair.contacts,\n            supports = collision.supports,\n            activeContacts = pair.activeContacts,\n            parentA = collision.parentA,\n            parentB = collision.parentB,\n            parentAVerticesLength = parentA.vertices.length;\n        \n        pair.isActive = true;\n        pair.timeUpdated = timestamp;\n        pair.collision = collision;\n        pair.separation = collision.depth;\n        pair.inverseMass = parentA.inverseMass + parentB.inverseMass;\n        pair.friction = parentA.friction < parentB.friction ? parentA.friction : parentB.friction;\n        pair.frictionStatic = parentA.frictionStatic > parentB.frictionStatic ? parentA.frictionStatic : parentB.frictionStatic;\n        pair.restitution = parentA.restitution > parentB.restitution ? parentA.restitution : parentB.restitution;\n        pair.slop = parentA.slop > parentB.slop ? parentA.slop : parentB.slop;\n\n        collision.pair = pair;\n        activeContacts.length = 0;\n        \n        for (var i = 0; i < supports.length; i++) {\n            var support = supports[i],\n                contactId = support.body === parentA ? support.index : parentAVerticesLength + support.index,\n                contact = contacts[contactId];\n\n            if (contact) {\n                activeContacts.push(contact);\n            } else {\n                activeContacts.push(contacts[contactId] = Contact.create(support));\n            }\n        }\n    };\n    \n    /**\n     * Set a pair as active or inactive.\n     * @method setActive\n     * @param {pair} pair\n     * @param {bool} isActive\n     * @param {number} timestamp\n     */\n    Pair.setActive = function(pair, isActive, timestamp) {\n        if (isActive) {\n            pair.isActive = true;\n            pair.timeUpdated = timestamp;\n        } else {\n            pair.isActive = false;\n            pair.activeContacts.length = 0;\n        }\n    };\n\n    /**\n     * Get the id for the given pair.\n     * @method id\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {string} Unique pairId\n     */\n    Pair.id = function(bodyA, bodyB) {\n        if (bodyA.id < bodyB.id) {\n            return 'A' + bodyA.id + 'B' + bodyB.id;\n        } else {\n            return 'A' + bodyB.id + 'B' + bodyA.id;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Constraint` module contains methods for creating and manipulating constraints.\n* Constraints are used for specifying that a fixed distance must be maintained between two bodies (or a body and a fixed world-space position).\n* The stiffness of constraints can be modified to create springs or elastic.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Constraint\n*/\n\nvar Constraint = {};\n\nmodule.exports = Constraint;\n\nvar Vertices = __webpack_require__(3);\nvar Vector = __webpack_require__(2);\nvar Sleeping = __webpack_require__(7);\nvar Bounds = __webpack_require__(1);\nvar Axes = __webpack_require__(11);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Constraint._warming = 0.4;\n    Constraint._torqueDampen = 1;\n    Constraint._minLength = 0.000001;\n\n    /**\n     * Creates a new constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * To simulate a revolute constraint (or pin joint) set `length: 0` and a high `stiffness` value (e.g. `0.7` or above).\n     * If the constraint is unstable, try lowering the `stiffness` value and / or increasing `engine.constraintIterations`.\n     * For compound bodies, constraints must be applied to the parent body (not one of its parts).\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {} options\n     * @return {constraint} constraint\n     */\n    Constraint.create = function(options) {\n        var constraint = options;\n\n        // if bodies defined but no points, use body centre\n        if (constraint.bodyA && !constraint.pointA)\n            constraint.pointA = { x: 0, y: 0 };\n        if (constraint.bodyB && !constraint.pointB)\n            constraint.pointB = { x: 0, y: 0 };\n\n        // calculate static length using initial world space points\n        var initialPointA = constraint.bodyA ? Vector.add(constraint.bodyA.position, constraint.pointA) : constraint.pointA,\n            initialPointB = constraint.bodyB ? Vector.add(constraint.bodyB.position, constraint.pointB) : constraint.pointB,\n            length = Vector.magnitude(Vector.sub(initialPointA, initialPointB));\n    \n        constraint.length = typeof constraint.length !== 'undefined' ? constraint.length : length;\n\n        // option defaults\n        constraint.id = constraint.id || Common.nextId();\n        constraint.label = constraint.label || 'Constraint';\n        constraint.type = 'constraint';\n        constraint.stiffness = constraint.stiffness || (constraint.length > 0 ? 1 : 0.7);\n        constraint.damping = constraint.damping || 0;\n        constraint.angularStiffness = constraint.angularStiffness || 0;\n        constraint.angleA = constraint.bodyA ? constraint.bodyA.angle : constraint.angleA;\n        constraint.angleB = constraint.bodyB ? constraint.bodyB.angle : constraint.angleB;\n        constraint.plugin = {};\n\n        // render\n        var render = {\n            visible: true,\n            lineWidth: 2,\n            strokeStyle: '#ffffff',\n            type: 'line',\n            anchors: true\n        };\n\n        if (constraint.length === 0 && constraint.stiffness > 0.1) {\n            render.type = 'pin';\n            render.anchors = false;\n        } else if (constraint.stiffness < 0.9) {\n            render.type = 'spring';\n        }\n\n        constraint.render = Common.extend(render, constraint.render);\n\n        return constraint;\n    };\n\n    /**\n     * Prepares for solving by constraint warming.\n     * @private\n     * @method preSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.preSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i += 1) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            body.position.x += impulse.x;\n            body.position.y += impulse.y;\n            body.angle += impulse.angle;\n        }\n    };\n\n    /**\n     * Solves all constraints in a list of collisions.\n     * @private\n     * @method solveAll\n     * @param {constraint[]} constraints\n     * @param {number} timeScale\n     */\n    Constraint.solveAll = function(constraints, timeScale) {\n        // Solve fixed constraints first.\n        for (var i = 0; i < constraints.length; i += 1) {\n            var constraint = constraints[i],\n                fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic),\n                fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (fixedA || fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n\n        // Solve free constraints last.\n        for (i = 0; i < constraints.length; i += 1) {\n            constraint = constraints[i];\n            fixedA = !constraint.bodyA || (constraint.bodyA && constraint.bodyA.isStatic);\n            fixedB = !constraint.bodyB || (constraint.bodyB && constraint.bodyB.isStatic);\n\n            if (!fixedA && !fixedB) {\n                Constraint.solve(constraints[i], timeScale);\n            }\n        }\n    };\n\n    /**\n     * Solves a distance constraint with Gauss-Siedel method.\n     * @private\n     * @method solve\n     * @param {constraint} constraint\n     * @param {number} timeScale\n     */\n    Constraint.solve = function(constraint, timeScale) {\n        var bodyA = constraint.bodyA,\n            bodyB = constraint.bodyB,\n            pointA = constraint.pointA,\n            pointB = constraint.pointB;\n\n        if (!bodyA && !bodyB)\n            return;\n\n        // update reference angle\n        if (bodyA && !bodyA.isStatic) {\n            Vector.rotate(pointA, bodyA.angle - constraint.angleA, pointA);\n            constraint.angleA = bodyA.angle;\n        }\n        \n        // update reference angle\n        if (bodyB && !bodyB.isStatic) {\n            Vector.rotate(pointB, bodyB.angle - constraint.angleB, pointB);\n            constraint.angleB = bodyB.angle;\n        }\n\n        var pointAWorld = pointA,\n            pointBWorld = pointB;\n\n        if (bodyA) pointAWorld = Vector.add(bodyA.position, pointA);\n        if (bodyB) pointBWorld = Vector.add(bodyB.position, pointB);\n\n        if (!pointAWorld || !pointBWorld)\n            return;\n\n        var delta = Vector.sub(pointAWorld, pointBWorld),\n            currentLength = Vector.magnitude(delta);\n\n        // prevent singularity\n        if (currentLength < Constraint._minLength) {\n            currentLength = Constraint._minLength;\n        }\n\n        // solve distance constraint with Gauss-Siedel method\n        var difference = (currentLength - constraint.length) / currentLength,\n            stiffness = constraint.stiffness < 1 ? constraint.stiffness * timeScale : constraint.stiffness,\n            force = Vector.mult(delta, difference * stiffness),\n            massTotal = (bodyA ? bodyA.inverseMass : 0) + (bodyB ? bodyB.inverseMass : 0),\n            inertiaTotal = (bodyA ? bodyA.inverseInertia : 0) + (bodyB ? bodyB.inverseInertia : 0),\n            resistanceTotal = massTotal + inertiaTotal,\n            torque,\n            share,\n            normal,\n            normalVelocity,\n            relativeVelocity;\n\n        if (constraint.damping) {\n            var zero = Vector.create();\n            normal = Vector.div(delta, currentLength);\n\n            relativeVelocity = Vector.sub(\n                bodyB && Vector.sub(bodyB.position, bodyB.positionPrev) || zero,\n                bodyA && Vector.sub(bodyA.position, bodyA.positionPrev) || zero\n            );\n\n            normalVelocity = Vector.dot(normal, relativeVelocity);\n        }\n\n        if (bodyA && !bodyA.isStatic) {\n            share = bodyA.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyA.constraintImpulse.x -= force.x * share;\n            bodyA.constraintImpulse.y -= force.y * share;\n\n            // apply forces\n            bodyA.position.x -= force.x * share;\n            bodyA.position.y -= force.y * share;\n\n            // apply damping\n            if (constraint.damping) {\n                bodyA.positionPrev.x -= constraint.damping * normal.x * normalVelocity * share;\n                bodyA.positionPrev.y -= constraint.damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointA, force) / resistanceTotal) * Constraint._torqueDampen * bodyA.inverseInertia * (1 - constraint.angularStiffness);\n            bodyA.constraintImpulse.angle -= torque;\n            bodyA.angle -= torque;\n        }\n\n        if (bodyB && !bodyB.isStatic) {\n            share = bodyB.inverseMass / massTotal;\n\n            // keep track of applied impulses for post solving\n            bodyB.constraintImpulse.x += force.x * share;\n            bodyB.constraintImpulse.y += force.y * share;\n            \n            // apply forces\n            bodyB.position.x += force.x * share;\n            bodyB.position.y += force.y * share;\n\n            // apply damping\n            if (constraint.damping) {\n                bodyB.positionPrev.x += constraint.damping * normal.x * normalVelocity * share;\n                bodyB.positionPrev.y += constraint.damping * normal.y * normalVelocity * share;\n            }\n\n            // apply torque\n            torque = (Vector.cross(pointB, force) / resistanceTotal) * Constraint._torqueDampen * bodyB.inverseInertia * (1 - constraint.angularStiffness);\n            bodyB.constraintImpulse.angle += torque;\n            bodyB.angle += torque;\n        }\n\n    };\n\n    /**\n     * Performs body updates required after solving constraints.\n     * @private\n     * @method postSolveAll\n     * @param {body[]} bodies\n     */\n    Constraint.postSolveAll = function(bodies) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                impulse = body.constraintImpulse;\n\n            if (body.isStatic || (impulse.x === 0 && impulse.y === 0 && impulse.angle === 0)) {\n                continue;\n            }\n\n            Sleeping.set(body, false);\n\n            // update geometry and reset\n            for (var j = 0; j < body.parts.length; j++) {\n                var part = body.parts[j];\n                \n                Vertices.translate(part.vertices, impulse);\n\n                if (j > 0) {\n                    part.position.x += impulse.x;\n                    part.position.y += impulse.y;\n                }\n\n                if (impulse.angle !== 0) {\n                    Vertices.rotate(part.vertices, impulse.angle, body.position);\n                    Axes.rotate(part.axes, impulse.angle);\n                    if (j > 0) {\n                        Vector.rotateAbout(part.position, impulse.angle, body.position, part.position);\n                    }\n                }\n\n                Bounds.update(part.bounds, part.vertices, body.velocity);\n            }\n\n            // dampen the cached impulse for warming next step\n            impulse.angle *= Constraint._warming;\n            impulse.x *= Constraint._warming;\n            impulse.y *= Constraint._warming;\n        }\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointA`, accounting for `constraint.bodyA`.\n     * @method pointAWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointAWorld = function(constraint) {\n        return {\n            x: (constraint.bodyA ? constraint.bodyA.position.x : 0) + constraint.pointA.x,\n            y: (constraint.bodyA ? constraint.bodyA.position.y : 0) + constraint.pointA.y\n        };\n    };\n\n    /**\n     * Returns the world-space position of `constraint.pointB`, accounting for `constraint.bodyB`.\n     * @method pointBWorld\n     * @param {constraint} constraint\n     * @returns {vector} the world-space position\n     */\n    Constraint.pointBWorld = function(constraint) {\n        return {\n            x: (constraint.bodyB ? constraint.bodyB.position.x : 0) + constraint.pointB.x,\n            y: (constraint.bodyB ? constraint.bodyB.position.y : 0) + constraint.pointB.y\n        };\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` uniquely identifying number generated in `Composite.create` by `Common.nextId`.\n     *\n     * @property id\n     * @type number\n     */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * An arbitrary `String` name to help the user identify and manage bodies.\n     *\n     * @property label\n     * @type string\n     * @default \"Constraint\"\n     */\n\n    /**\n     * An `Object` that defines the rendering properties to be consumed by the module `Matter.Render`.\n     *\n     * @property render\n     * @type object\n     */\n\n    /**\n     * A flag that indicates if the constraint should be rendered.\n     *\n     * @property render.visible\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Number` that defines the line width to use when rendering the constraint outline.\n     * A value of `0` means no outline will be rendered.\n     *\n     * @property render.lineWidth\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A `String` that defines the stroke style to use when rendering the constraint outline.\n     * It is the same as when using a canvas, so it accepts CSS style property values.\n     *\n     * @property render.strokeStyle\n     * @type string\n     * @default a random colour\n     */\n\n    /**\n     * A `String` that defines the constraint rendering type. \n     * The possible values are 'line', 'pin', 'spring'.\n     * An appropriate render type will be automatically chosen unless one is given in options.\n     *\n     * @property render.type\n     * @type string\n     * @default 'line'\n     */\n\n    /**\n     * A `Boolean` that defines if the constraint's anchor points should be rendered.\n     *\n     * @property render.anchors\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * The first possible `Body` that this constraint is attached to.\n     *\n     * @property bodyA\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The second possible `Body` that this constraint is attached to.\n     *\n     * @property bodyB\n     * @type body\n     * @default null\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyA` if defined, otherwise a world-space position.\n     *\n     * @property pointA\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Vector` that specifies the offset of the constraint from center of the `constraint.bodyB` if defined, otherwise a world-space position.\n     *\n     * @property pointB\n     * @type vector\n     * @default { x: 0, y: 0 }\n     */\n\n    /**\n     * A `Number` that specifies the stiffness of the constraint, i.e. the rate at which it returns to its resting `constraint.length`.\n     * A value of `1` means the constraint should be very stiff.\n     * A value of `0.2` means the constraint acts like a soft spring.\n     *\n     * @property stiffness\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the damping of the constraint, \n     * i.e. the amount of resistance applied to each body based on their velocities to limit the amount of oscillation.\n     * Damping will only be apparent when the constraint also has a very low `stiffness`.\n     * A value of `0.1` means the constraint will apply heavy damping, resulting in little to no oscillation.\n     * A value of `0` means the constraint will apply no damping.\n     *\n     * @property damping\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that specifies the target resting length of the constraint. \n     * It is calculated automatically in `Constraint.create` from initial positions of the `constraint.bodyA` and `constraint.bodyB`.\n     *\n     * @property length\n     * @type number\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n})();\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Axes` module contains methods for creating and manipulating sets of axes.\n*\n* @class Axes\n*/\n\nvar Axes = {};\n\nmodule.exports = Axes;\n\nvar Vector = __webpack_require__(2);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new set of axes from the given vertices.\n     * @method fromVertices\n     * @param {vertices} vertices\n     * @return {axes} A new axes from the given vertices\n     */\n    Axes.fromVertices = function(vertices) {\n        var axes = {};\n\n        // find the unique axes, using edge normal gradients\n        for (var i = 0; i < vertices.length; i++) {\n            var j = (i + 1) % vertices.length, \n                normal = Vector.normalise({ \n                    x: vertices[j].y - vertices[i].y, \n                    y: vertices[i].x - vertices[j].x\n                }),\n                gradient = (normal.y === 0) ? Infinity : (normal.x / normal.y);\n            \n            // limit precision\n            gradient = gradient.toFixed(3).toString();\n            axes[gradient] = normal;\n        }\n\n        return Common.values(axes);\n    };\n\n    /**\n     * Rotates a set of axes by the given angle.\n     * @method rotate\n     * @param {axes} axes\n     * @param {number} angle\n     */\n    Axes.rotate = function(axes, angle) {\n        if (angle === 0)\n            return;\n        \n        var cos = Math.cos(angle),\n            sin = Math.sin(angle);\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i],\n                xx;\n            xx = axis.x * cos - axis.y * sin;\n            axis.y = axis.x * sin + axis.y * cos;\n            axis.x = xx;\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Bodies` module contains factory methods for creating rigid body models \n* with commonly used body configurations (such as rectangles, circles and other polygons).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Bodies\n*/\n\n// TODO: true circle bodies\n\nvar Bodies = {};\n\nmodule.exports = Bodies;\n\nvar Vertices = __webpack_require__(3);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\nvar Bounds = __webpack_require__(1);\nvar Vector = __webpack_require__(2);\n\n(function() {\n\n    /**\n     * Creates a new rigid body model with a rectangle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method rectangle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {object} [options]\n     * @return {body} A new rectangle body\n     */\n    Bodies.rectangle = function(x, y, width, height, options) {\n        options = options || {};\n\n        var rectangle = { \n            label: 'Rectangle Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath('L 0 0 L ' + width + ' 0 L ' + width + ' ' + height + ' L 0 ' + height)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            rectangle.vertices = Vertices.chamfer(rectangle.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, rectangle, options));\n    };\n    \n    /**\n     * Creates a new rigid body model with a trapezoid hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method trapezoid\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} slope\n     * @param {object} [options]\n     * @return {body} A new trapezoid body\n     */\n    Bodies.trapezoid = function(x, y, width, height, slope, options) {\n        options = options || {};\n\n        slope *= 0.5;\n        var roof = (1 - (slope * 2)) * width;\n        \n        var x1 = width * slope,\n            x2 = x1 + roof,\n            x3 = x2 + x1,\n            verticesPath;\n\n        if (slope < 0.5) {\n            verticesPath = 'L 0 0 L ' + x1 + ' ' + (-height) + ' L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        } else {\n            verticesPath = 'L 0 0 L ' + x2 + ' ' + (-height) + ' L ' + x3 + ' 0';\n        }\n\n        var trapezoid = { \n            label: 'Trapezoid Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(verticesPath)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            trapezoid.vertices = Vertices.chamfer(trapezoid.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, trapezoid, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a circle hull. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method circle\n     * @param {number} x\n     * @param {number} y\n     * @param {number} radius\n     * @param {object} [options]\n     * @param {number} [maxSides]\n     * @return {body} A new circle body\n     */\n    Bodies.circle = function(x, y, radius, options, maxSides) {\n        options = options || {};\n\n        var circle = {\n            label: 'Circle Body',\n            circleRadius: radius\n        };\n        \n        // approximate circles with polygons until true circles implemented in SAT\n        maxSides = maxSides || 25;\n        var sides = Math.ceil(Math.max(10, Math.min(maxSides, radius)));\n\n        // optimisation: always use even number of sides (half the number of unique axes)\n        if (sides % 2 === 1)\n            sides += 1;\n\n        return Bodies.polygon(x, y, sides, radius, Common.extend({}, circle, options));\n    };\n\n    /**\n     * Creates a new rigid body model with a regular polygon hull with the given number of sides. \n     * The options parameter is an object that specifies any properties you wish to override the defaults.\n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method polygon\n     * @param {number} x\n     * @param {number} y\n     * @param {number} sides\n     * @param {number} radius\n     * @param {object} [options]\n     * @return {body} A new regular polygon body\n     */\n    Bodies.polygon = function(x, y, sides, radius, options) {\n        options = options || {};\n\n        if (sides < 3)\n            return Bodies.circle(x, y, radius, options);\n\n        var theta = 2 * Math.PI / sides,\n            path = '',\n            offset = theta * 0.5;\n\n        for (var i = 0; i < sides; i += 1) {\n            var angle = offset + (i * theta),\n                xx = Math.cos(angle) * radius,\n                yy = Math.sin(angle) * radius;\n\n            path += 'L ' + xx.toFixed(3) + ' ' + yy.toFixed(3) + ' ';\n        }\n\n        var polygon = { \n            label: 'Polygon Body',\n            position: { x: x, y: y },\n            vertices: Vertices.fromPath(path)\n        };\n\n        if (options.chamfer) {\n            var chamfer = options.chamfer;\n            polygon.vertices = Vertices.chamfer(polygon.vertices, chamfer.radius, \n                chamfer.quality, chamfer.qualityMin, chamfer.qualityMax);\n            delete options.chamfer;\n        }\n\n        return Body.create(Common.extend({}, polygon, options));\n    };\n\n    /**\n     * Utility to create a compound body based on set(s) of vertices.\n     * \n     * _Note:_ To optionally enable automatic concave vertices decomposition the [poly-decomp](https://github.com/schteppe/poly-decomp.js) \n     * package must be first installed and provided see `Common.setDecomp`, otherwise the convex hull of each vertex set will be used.\n     * \n     * The resulting vertices are reorientated about their centre of mass,\n     * and offset such that `body.position` corresponds to this point.\n     * \n     * The resulting offset may be found if needed by subtracting `body.bounds` from the original input bounds.\n     * To later move the centre of mass see `Body.setCentre`.\n     * \n     * Note that automatic conconcave decomposition results are not always optimal. \n     * For best results, simplify the input vertices as much as possible first.\n     * By default this function applies some addtional simplification to help.\n     * \n     * Some outputs may also require further manual processing afterwards to be robust.\n     * In particular some parts may need to be overlapped to avoid collision gaps.\n     * Thin parts and sharp points should be avoided or removed where possible.\n     *\n     * The options parameter object specifies any `Matter.Body` properties you wish to override the defaults.\n     * \n     * See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.\n     * @method fromVertices\n     * @param {number} x\n     * @param {number} y\n     * @param {array} vertexSets One or more arrays of vertex points e.g. `[[{ x: 0, y: 0 }...], ...]`.\n     * @param {object} [options] The body options.\n     * @param {bool} [flagInternal=false] Optionally marks internal edges with `isInternal`.\n     * @param {number} [removeCollinear=0.01] Threshold when simplifying vertices along the same edge.\n     * @param {number} [minimumArea=10] Threshold when removing small parts.\n     * @param {number} [removeDuplicatePoints=0.01] Threshold when simplifying nearby vertices.\n     * @return {body}\n     */\n    Bodies.fromVertices = function(x, y, vertexSets, options, flagInternal, removeCollinear, minimumArea, removeDuplicatePoints) {\n        var decomp = Common.getDecomp(),\n            canDecomp,\n            body,\n            parts,\n            isConvex,\n            isConcave,\n            vertices,\n            i,\n            j,\n            k,\n            v,\n            z;\n\n        // check decomp is as expected\n        canDecomp = Boolean(decomp && decomp.quickDecomp);\n\n        options = options || {};\n        parts = [];\n\n        flagInternal = typeof flagInternal !== 'undefined' ? flagInternal : false;\n        removeCollinear = typeof removeCollinear !== 'undefined' ? removeCollinear : 0.01;\n        minimumArea = typeof minimumArea !== 'undefined' ? minimumArea : 10;\n        removeDuplicatePoints = typeof removeDuplicatePoints !== 'undefined' ? removeDuplicatePoints : 0.01;\n\n        // ensure vertexSets is an array of arrays\n        if (!Common.isArray(vertexSets[0])) {\n            vertexSets = [vertexSets];\n        }\n\n        for (v = 0; v < vertexSets.length; v += 1) {\n            vertices = vertexSets[v];\n            isConvex = Vertices.isConvex(vertices);\n            isConcave = !isConvex;\n\n            if (isConcave && !canDecomp) {\n                Common.warnOnce(\n                    'Bodies.fromVertices: Install the \\'poly-decomp\\' library and use Common.setDecomp or provide \\'decomp\\' as a global to decompose concave vertices.'\n                );\n            }\n\n            if (isConvex || !canDecomp) {\n                if (isConvex) {\n                    vertices = Vertices.clockwiseSort(vertices);\n                } else {\n                    // fallback to convex hull when decomposition is not possible\n                    vertices = Vertices.hull(vertices);\n                }\n\n                parts.push({\n                    position: { x: x, y: y },\n                    vertices: vertices\n                });\n            } else {\n                // initialise a decomposition\n                var concave = vertices.map(function(vertex) {\n                    return [vertex.x, vertex.y];\n                });\n\n                // vertices are concave and simple, we can decompose into parts\n                decomp.makeCCW(concave);\n                if (removeCollinear !== false)\n                    decomp.removeCollinearPoints(concave, removeCollinear);\n                if (removeDuplicatePoints !== false && decomp.removeDuplicatePoints)\n                    decomp.removeDuplicatePoints(concave, removeDuplicatePoints);\n\n                // use the quick decomposition algorithm (Bayazit)\n                var decomposed = decomp.quickDecomp(concave);\n\n                // for each decomposed chunk\n                for (i = 0; i < decomposed.length; i++) {\n                    var chunk = decomposed[i];\n\n                    // convert vertices into the correct structure\n                    var chunkVertices = chunk.map(function(vertices) {\n                        return {\n                            x: vertices[0],\n                            y: vertices[1]\n                        };\n                    });\n\n                    // skip small chunks\n                    if (minimumArea > 0 && Vertices.area(chunkVertices) < minimumArea)\n                        continue;\n\n                    // create a compound part\n                    parts.push({\n                        position: Vertices.centre(chunkVertices),\n                        vertices: chunkVertices\n                    });\n                }\n            }\n        }\n\n        // create body parts\n        for (i = 0; i < parts.length; i++) {\n            parts[i] = Body.create(Common.extend(parts[i], options));\n        }\n\n        // flag internal edges (coincident part edges)\n        if (flagInternal) {\n            var coincident_max_dist = 5;\n\n            for (i = 0; i < parts.length; i++) {\n                var partA = parts[i];\n\n                for (j = i + 1; j < parts.length; j++) {\n                    var partB = parts[j];\n\n                    if (Bounds.overlaps(partA.bounds, partB.bounds)) {\n                        var pav = partA.vertices,\n                            pbv = partB.vertices;\n\n                        // iterate vertices of both parts\n                        for (k = 0; k < partA.vertices.length; k++) {\n                            for (z = 0; z < partB.vertices.length; z++) {\n                                // find distances between the vertices\n                                var da = Vector.magnitudeSquared(Vector.sub(pav[(k + 1) % pav.length], pbv[z])),\n                                    db = Vector.magnitudeSquared(Vector.sub(pav[k], pbv[(z + 1) % pbv.length]));\n\n                                // if both vertices are very close, consider the edge concident (internal)\n                                if (da < coincident_max_dist && db < coincident_max_dist) {\n                                    pav[k].isInternal = true;\n                                    pbv[z].isInternal = true;\n                                }\n                            }\n                        }\n\n                    }\n                }\n            }\n        }\n\n        if (parts.length > 1) {\n            // create the parent body to be returned, that contains generated compound parts\n            body = Body.create(Common.extend({ parts: parts.slice(0) }, options));\n\n            // offset such that body.position is at the centre off mass\n            Body.setPosition(body, { x: x, y: y });\n\n            return body;\n        } else {\n            return parts[0];\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Mouse` module contains methods for creating and manipulating mouse inputs.\n*\n* @class Mouse\n*/\n\nvar Mouse = {};\n\nmodule.exports = Mouse;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a mouse input.\n     * @method create\n     * @param {HTMLElement} element\n     * @return {mouse} A new mouse\n     */\n    Mouse.create = function(element) {\n        var mouse = {};\n\n        if (!element) {\n            Common.log('Mouse.create: element was undefined, defaulting to document.body', 'warn');\n        }\n        \n        mouse.element = element || document.body;\n        mouse.absolute = { x: 0, y: 0 };\n        mouse.position = { x: 0, y: 0 };\n        mouse.mousedownPosition = { x: 0, y: 0 };\n        mouse.mouseupPosition = { x: 0, y: 0 };\n        mouse.offset = { x: 0, y: 0 };\n        mouse.scale = { x: 1, y: 1 };\n        mouse.wheelDelta = 0;\n        mouse.button = -1;\n        mouse.pixelRatio = parseInt(mouse.element.getAttribute('data-pixel-ratio'), 10) || 1;\n\n        mouse.sourceEvents = {\n            mousemove: null,\n            mousedown: null,\n            mouseup: null,\n            mousewheel: null\n        };\n        \n        mouse.mousemove = function(event) { \n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.sourceEvents.mousemove = event;\n        };\n        \n        mouse.mousedown = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                mouse.button = 0;\n                event.preventDefault();\n            } else {\n                mouse.button = event.button;\n            }\n\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mousedownPosition.x = mouse.position.x;\n            mouse.mousedownPosition.y = mouse.position.y;\n            mouse.sourceEvents.mousedown = event;\n        };\n        \n        mouse.mouseup = function(event) {\n            var position = Mouse._getRelativeMousePosition(event, mouse.element, mouse.pixelRatio),\n                touches = event.changedTouches;\n\n            if (touches) {\n                event.preventDefault();\n            }\n            \n            mouse.button = -1;\n            mouse.absolute.x = position.x;\n            mouse.absolute.y = position.y;\n            mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n            mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n            mouse.mouseupPosition.x = mouse.position.x;\n            mouse.mouseupPosition.y = mouse.position.y;\n            mouse.sourceEvents.mouseup = event;\n        };\n\n        mouse.mousewheel = function(event) {\n            mouse.wheelDelta = Math.max(-1, Math.min(1, event.wheelDelta || -event.detail));\n            event.preventDefault();\n        };\n\n        Mouse.setElement(mouse, mouse.element);\n\n        return mouse;\n    };\n\n    /**\n     * Sets the element the mouse is bound to (and relative to).\n     * @method setElement\n     * @param {mouse} mouse\n     * @param {HTMLElement} element\n     */\n    Mouse.setElement = function(mouse, element) {\n        mouse.element = element;\n\n        element.addEventListener('mousemove', mouse.mousemove);\n        element.addEventListener('mousedown', mouse.mousedown);\n        element.addEventListener('mouseup', mouse.mouseup);\n        \n        element.addEventListener('mousewheel', mouse.mousewheel);\n        element.addEventListener('DOMMouseScroll', mouse.mousewheel);\n\n        element.addEventListener('touchmove', mouse.mousemove);\n        element.addEventListener('touchstart', mouse.mousedown);\n        element.addEventListener('touchend', mouse.mouseup);\n    };\n\n    /**\n     * Clears all captured source events.\n     * @method clearSourceEvents\n     * @param {mouse} mouse\n     */\n    Mouse.clearSourceEvents = function(mouse) {\n        mouse.sourceEvents.mousemove = null;\n        mouse.sourceEvents.mousedown = null;\n        mouse.sourceEvents.mouseup = null;\n        mouse.sourceEvents.mousewheel = null;\n        mouse.wheelDelta = 0;\n    };\n\n    /**\n     * Sets the mouse position offset.\n     * @method setOffset\n     * @param {mouse} mouse\n     * @param {vector} offset\n     */\n    Mouse.setOffset = function(mouse, offset) {\n        mouse.offset.x = offset.x;\n        mouse.offset.y = offset.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n\n    /**\n     * Sets the mouse position scale.\n     * @method setScale\n     * @param {mouse} mouse\n     * @param {vector} scale\n     */\n    Mouse.setScale = function(mouse, scale) {\n        mouse.scale.x = scale.x;\n        mouse.scale.y = scale.y;\n        mouse.position.x = mouse.absolute.x * mouse.scale.x + mouse.offset.x;\n        mouse.position.y = mouse.absolute.y * mouse.scale.y + mouse.offset.y;\n    };\n    \n    /**\n     * Gets the mouse position relative to an element given a screen pixel ratio.\n     * @method _getRelativeMousePosition\n     * @private\n     * @param {} event\n     * @param {} element\n     * @param {number} pixelRatio\n     * @return {}\n     */\n    Mouse._getRelativeMousePosition = function(event, element, pixelRatio) {\n        var elementBounds = element.getBoundingClientRect(),\n            rootNode = (document.documentElement || document.body.parentNode || document.body),\n            scrollX = (window.pageXOffset !== undefined) ? window.pageXOffset : rootNode.scrollLeft,\n            scrollY = (window.pageYOffset !== undefined) ? window.pageYOffset : rootNode.scrollTop,\n            touches = event.changedTouches,\n            x, y;\n        \n        if (touches) {\n            x = touches[0].pageX - elementBounds.left - scrollX;\n            y = touches[0].pageY - elementBounds.top - scrollY;\n        } else {\n            x = event.pageX - elementBounds.left - scrollX;\n            y = event.pageY - elementBounds.top - scrollY;\n        }\n\n        return { \n            x: x / (element.clientWidth / (element.width || element.clientWidth) * pixelRatio),\n            y: y / (element.clientHeight / (element.height || element.clientHeight) * pixelRatio)\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Detector` module contains methods for efficiently detecting collisions between a list of bodies using a broadphase algorithm.\n*\n* @class Detector\n*/\n\nvar Detector = {};\n\nmodule.exports = Detector;\n\nvar Common = __webpack_require__(0);\nvar Collision = __webpack_require__(8);\n\n(function() {\n\n    /**\n     * Creates a new collision detector.\n     * @method create\n     * @param {} options\n     * @return {detector} A new collision detector\n     */\n    Detector.create = function(options) {\n        var defaults = {\n            bodies: [],\n            pairs: null\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * Sets the list of bodies in the detector.\n     * @method setBodies\n     * @param {detector} detector\n     * @param {body[]} bodies\n     */\n    Detector.setBodies = function(detector, bodies) {\n        detector.bodies = bodies.slice(0);\n    };\n\n    /**\n     * Clears the detector including its list of bodies.\n     * @method clear\n     * @param {detector} detector\n     */\n    Detector.clear = function(detector) {\n        detector.bodies = [];\n    };\n\n    /**\n     * Efficiently finds all collisions among all the bodies in `detector.bodies` using a broadphase algorithm.\n     * \n     * _Note:_ The specific ordering of collisions returned is not guaranteed between releases and may change for performance reasons.\n     * If a specific ordering is required then apply a sort to the resulting array.\n     * @method collisions\n     * @param {detector} detector\n     * @return {collision[]} collisions\n     */\n    Detector.collisions = function(detector) {\n        var collisions = [],\n            pairs = detector.pairs,\n            bodies = detector.bodies,\n            bodiesLength = bodies.length,\n            canCollide = Detector.canCollide,\n            collides = Collision.collides,\n            i,\n            j;\n\n        bodies.sort(Detector._compareBoundsX);\n\n        for (i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                boundsA = bodyA.bounds,\n                boundXMax = bodyA.bounds.max.x,\n                boundYMax = bodyA.bounds.max.y,\n                boundYMin = bodyA.bounds.min.y,\n                bodyAStatic = bodyA.isStatic || bodyA.isSleeping,\n                partsALength = bodyA.parts.length,\n                partsASingle = partsALength === 1;\n\n            for (j = i + 1; j < bodiesLength; j++) {\n                var bodyB = bodies[j],\n                    boundsB = bodyB.bounds;\n\n                if (boundsB.min.x > boundXMax) {\n                    break;\n                }\n\n                if (boundYMax < boundsB.min.y || boundYMin > boundsB.max.y) {\n                    continue;\n                }\n\n                if (bodyAStatic && (bodyB.isStatic || bodyB.isSleeping)) {\n                    continue;\n                }\n\n                if (!canCollide(bodyA.collisionFilter, bodyB.collisionFilter)) {\n                    continue;\n                }\n\n                var partsBLength = bodyB.parts.length;\n\n                if (partsASingle && partsBLength === 1) {\n                    var collision = collides(bodyA, bodyB, pairs);\n\n                    if (collision) {\n                        collisions.push(collision);\n                    }\n                } else {\n                    var partsAStart = partsALength > 1 ? 1 : 0,\n                        partsBStart = partsBLength > 1 ? 1 : 0;\n                    \n                    for (var k = partsAStart; k < partsALength; k++) {\n                        var partA = bodyA.parts[k],\n                            boundsA = partA.bounds;\n\n                        for (var z = partsBStart; z < partsBLength; z++) {\n                            var partB = bodyB.parts[z],\n                                boundsB = partB.bounds;\n\n                            if (boundsA.min.x > boundsB.max.x || boundsA.max.x < boundsB.min.x\n                                || boundsA.max.y < boundsB.min.y || boundsA.min.y > boundsB.max.y) {\n                                continue;\n                            }\n\n                            var collision = collides(partA, partB, pairs);\n\n                            if (collision) {\n                                collisions.push(collision);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns `true` if both supplied collision filters will allow a collision to occur.\n     * See `body.collisionFilter` for more information.\n     * @method canCollide\n     * @param {} filterA\n     * @param {} filterB\n     * @return {bool} `true` if collision can occur\n     */\n    Detector.canCollide = function(filterA, filterB) {\n        if (filterA.group === filterB.group && filterA.group !== 0)\n            return filterA.group > 0;\n\n        return (filterA.mask & filterB.category) !== 0 && (filterB.mask & filterA.category) !== 0;\n    };\n\n    /**\n     * The comparison function used in the broadphase algorithm.\n     * Returns the signed delta of the bodies bounds on the x-axis.\n     * @private\n     * @method _sortCompare\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {number} The signed delta used for sorting\n     */\n    Detector._compareBoundsX = function(bodyA, bodyB) {\n        return bodyA.bounds.min.x - bodyB.bounds.min.x;\n    };\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * The array of `Matter.Body` between which the detector finds collisions.\n     * \n     * _Note:_ The order of bodies in this array _is not fixed_ and will be continually managed by the detector.\n     * @property bodies\n     * @type body[]\n     * @default []\n     */\n\n    /**\n     * Optional. A `Matter.Pairs` object from which previous collision objects may be reused. Intended for internal `Matter.Engine` usage.\n     * @property pairs\n     * @type {pairs|null}\n     * @default null\n     */\n\n})();\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Plugin` module contains functions for registering and installing plugins on modules.\n*\n* @class Plugin\n*/\n\nvar Plugin = {};\n\nmodule.exports = Plugin;\n\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    Plugin._registry = {};\n\n    /**\n     * Registers a plugin object so it can be resolved later by name.\n     * @method register\n     * @param plugin {} The plugin to register.\n     * @return {object} The plugin.\n     */\n    Plugin.register = function(plugin) {\n        if (!Plugin.isPlugin(plugin)) {\n            Common.warn('Plugin.register:', Plugin.toString(plugin), 'does not implement all required fields.');\n        }\n\n        if (plugin.name in Plugin._registry) {\n            var registered = Plugin._registry[plugin.name],\n                pluginVersion = Plugin.versionParse(plugin.version).number,\n                registeredVersion = Plugin.versionParse(registered.version).number;\n\n            if (pluginVersion > registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'was upgraded to', Plugin.toString(plugin));\n                Plugin._registry[plugin.name] = plugin;\n            } else if (pluginVersion < registeredVersion) {\n                Common.warn('Plugin.register:', Plugin.toString(registered), 'can not be downgraded to', Plugin.toString(plugin));\n            } else if (plugin !== registered) {\n                Common.warn('Plugin.register:', Plugin.toString(plugin), 'is already registered to different plugin object');\n            }\n        } else {\n            Plugin._registry[plugin.name] = plugin;\n        }\n\n        return plugin;\n    };\n\n    /**\n     * Resolves a dependency to a plugin object from the registry if it exists. \n     * The `dependency` may contain a version, but only the name matters when resolving.\n     * @method resolve\n     * @param dependency {string} The dependency.\n     * @return {object} The plugin if resolved, otherwise `undefined`.\n     */\n    Plugin.resolve = function(dependency) {\n        return Plugin._registry[Plugin.dependencyParse(dependency).name];\n    };\n\n    /**\n     * Returns a pretty printed plugin name and version.\n     * @method toString\n     * @param plugin {} The plugin.\n     * @return {string} Pretty printed plugin name and version.\n     */\n    Plugin.toString = function(plugin) {\n        return typeof plugin === 'string' ? plugin : (plugin.name || 'anonymous') + '@' + (plugin.version || plugin.range || '0.0.0');\n    };\n\n    /**\n     * Returns `true` if the object meets the minimum standard to be considered a plugin.\n     * This means it must define the following properties:\n     * - `name`\n     * - `version`\n     * - `install`\n     * @method isPlugin\n     * @param obj {} The obj to test.\n     * @return {boolean} `true` if the object can be considered a plugin otherwise `false`.\n     */\n    Plugin.isPlugin = function(obj) {\n        return obj && obj.name && obj.version && obj.install;\n    };\n\n    /**\n     * Returns `true` if a plugin with the given `name` been installed on `module`.\n     * @method isUsed\n     * @param module {} The module.\n     * @param name {string} The plugin name.\n     * @return {boolean} `true` if a plugin with the given `name` been installed on `module`, otherwise `false`.\n     */\n    Plugin.isUsed = function(module, name) {\n        return module.used.indexOf(name) > -1;\n    };\n\n    /**\n     * Returns `true` if `plugin.for` is applicable to `module` by comparing against `module.name` and `module.version`.\n     * If `plugin.for` is not specified then it is assumed to be applicable.\n     * The value of `plugin.for` is a string of the format `'module-name'` or `'module-name@version'`.\n     * @method isFor\n     * @param plugin {} The plugin.\n     * @param module {} The module.\n     * @return {boolean} `true` if `plugin.for` is applicable to `module`, otherwise `false`.\n     */\n    Plugin.isFor = function(plugin, module) {\n        var parsed = plugin.for && Plugin.dependencyParse(plugin.for);\n        return !plugin.for || (module.name === parsed.name && Plugin.versionSatisfies(module.version, parsed.range));\n    };\n\n    /**\n     * Installs the plugins by calling `plugin.install` on each plugin specified in `plugins` if passed, otherwise `module.uses`.\n     * For installing plugins on `Matter` see the convenience function `Matter.use`.\n     * Plugins may be specified either by their name or a reference to the plugin object.\n     * Plugins themselves may specify further dependencies, but each plugin is installed only once.\n     * Order is important, a topological sort is performed to find the best resulting order of installation.\n     * This sorting attempts to satisfy every dependency's requested ordering, but may not be exact in all cases.\n     * This function logs the resulting status of each dependency in the console, along with any warnings.\n     * - A green tick  indicates a dependency was resolved and installed.\n     * - An orange diamond  indicates a dependency was resolved but a warning was thrown for it or one if its dependencies.\n     * - A red cross  indicates a dependency could not be resolved.\n     * Avoid calling this function multiple times on the same module unless you intend to manually control installation order.\n     * @method use\n     * @param module {} The module install plugins on.\n     * @param [plugins=module.uses] {} The plugins to install on module (optional, defaults to `module.uses`).\n     */\n    Plugin.use = function(module, plugins) {\n        module.uses = (module.uses || []).concat(plugins || []);\n\n        if (module.uses.length === 0) {\n            Common.warn('Plugin.use:', Plugin.toString(module), 'does not specify any dependencies to install.');\n            return;\n        }\n\n        var dependencies = Plugin.dependencies(module),\n            sortedDependencies = Common.topologicalSort(dependencies),\n            status = [];\n\n        for (var i = 0; i < sortedDependencies.length; i += 1) {\n            if (sortedDependencies[i] === module.name) {\n                continue;\n            }\n\n            var plugin = Plugin.resolve(sortedDependencies[i]);\n\n            if (!plugin) {\n                status.push(' ' + sortedDependencies[i]);\n                continue;\n            }\n\n            if (Plugin.isUsed(module, plugin.name)) {\n                continue;\n            }\n\n            if (!Plugin.isFor(plugin, module)) {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'is for', plugin.for, 'but installed on', Plugin.toString(module) + '.');\n                plugin._warned = true;\n            }\n\n            if (plugin.install) {\n                plugin.install(module);\n            } else {\n                Common.warn('Plugin.use:', Plugin.toString(plugin), 'does not specify an install function.');\n                plugin._warned = true;\n            }\n\n            if (plugin._warned) {\n                status.push(' ' + Plugin.toString(plugin));\n                delete plugin._warned;\n            } else {\n                status.push(' ' + Plugin.toString(plugin));\n            }\n\n            module.used.push(plugin.name);\n        }\n\n        if (status.length > 0) {\n            Common.info(status.join('  '));\n        }\n    };\n\n    /**\n     * Recursively finds all of a module's dependencies and returns a flat dependency graph.\n     * @method dependencies\n     * @param module {} The module.\n     * @return {object} A dependency graph.\n     */\n    Plugin.dependencies = function(module, tracked) {\n        var parsedBase = Plugin.dependencyParse(module),\n            name = parsedBase.name;\n\n        tracked = tracked || {};\n\n        if (name in tracked) {\n            return;\n        }\n\n        module = Plugin.resolve(module) || module;\n\n        tracked[name] = Common.map(module.uses || [], function(dependency) {\n            if (Plugin.isPlugin(dependency)) {\n                Plugin.register(dependency);\n            }\n\n            var parsed = Plugin.dependencyParse(dependency),\n                resolved = Plugin.resolve(dependency);\n\n            if (resolved && !Plugin.versionSatisfies(resolved.version, parsed.range)) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(resolved), 'does not satisfy',\n                    Plugin.toString(parsed), 'used by', Plugin.toString(parsedBase) + '.'\n                );\n\n                resolved._warned = true;\n                module._warned = true;\n            } else if (!resolved) {\n                Common.warn(\n                    'Plugin.dependencies:', Plugin.toString(dependency), 'used by',\n                    Plugin.toString(parsedBase), 'could not be resolved.'\n                );\n\n                module._warned = true;\n            }\n\n            return parsed.name;\n        });\n\n        for (var i = 0; i < tracked[name].length; i += 1) {\n            Plugin.dependencies(tracked[name][i], tracked);\n        }\n\n        return tracked;\n    };\n\n    /**\n     * Parses a dependency string into its components.\n     * The `dependency` is a string of the format `'module-name'` or `'module-name@version'`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * This function can also handle dependencies that are already resolved (e.g. a module object).\n     * @method dependencyParse\n     * @param dependency {string} The dependency of the format `'module-name'` or `'module-name@version'`.\n     * @return {object} The dependency parsed into its components.\n     */\n    Plugin.dependencyParse = function(dependency) {\n        if (Common.isString(dependency)) {\n            var pattern = /^[\\w-]+(@(\\*|[\\^~]?\\d+\\.\\d+\\.\\d+(-[0-9A-Za-z-+]+)?))?$/;\n\n            if (!pattern.test(dependency)) {\n                Common.warn('Plugin.dependencyParse:', dependency, 'is not a valid dependency string.');\n            }\n\n            return {\n                name: dependency.split('@')[0],\n                range: dependency.split('@')[1] || '*'\n            };\n        }\n\n        return {\n            name: dependency.name,\n            range: dependency.range || dependency.version\n        };\n    };\n\n    /**\n     * Parses a version string into its components.  \n     * Versions are strictly of the format `x.y.z` (as in [semver](http://semver.org/)).\n     * Versions may optionally have a prerelease tag in the format `x.y.z-alpha`.\n     * Ranges are a strict subset of [npm ranges](https://docs.npmjs.com/misc/semver#advanced-range-syntax).\n     * Only the following range types are supported:\n     * - Tilde ranges e.g. `~1.2.3`\n     * - Caret ranges e.g. `^1.2.3`\n     * - Greater than ranges e.g. `>1.2.3`\n     * - Greater than or equal ranges e.g. `>=1.2.3`\n     * - Exact version e.g. `1.2.3`\n     * - Any version `*`\n     * @method versionParse\n     * @param range {string} The version string.\n     * @return {object} The version range parsed into its components.\n     */\n    Plugin.versionParse = function(range) {\n        var pattern = /^(\\*)|(\\^|~|>=|>)?\\s*((\\d+)\\.(\\d+)\\.(\\d+))(-[0-9A-Za-z-+]+)?$/;\n\n        if (!pattern.test(range)) {\n            Common.warn('Plugin.versionParse:', range, 'is not a valid version or range.');\n        }\n\n        var parts = pattern.exec(range);\n        var major = Number(parts[4]);\n        var minor = Number(parts[5]);\n        var patch = Number(parts[6]);\n\n        return {\n            isRange: Boolean(parts[1] || parts[2]),\n            version: parts[3],\n            range: range,\n            operator: parts[1] || parts[2] || '',\n            major: major,\n            minor: minor,\n            patch: patch,\n            parts: [major, minor, patch],\n            prerelease: parts[7],\n            number: major * 1e8 + minor * 1e4 + patch\n        };\n    };\n\n    /**\n     * Returns `true` if `version` satisfies the given `range`.\n     * See documentation for `Plugin.versionParse` for a description of the format.\n     * If a version or range is not specified, then any version (`*`) is assumed to satisfy.\n     * @method versionSatisfies\n     * @param version {string} The version string.\n     * @param range {string} The range string.\n     * @return {boolean} `true` if `version` satisfies `range`, otherwise `false`.\n     */\n    Plugin.versionSatisfies = function(version, range) {\n        range = range || '*';\n\n        var r = Plugin.versionParse(range),\n            v = Plugin.versionParse(version);\n\n        if (r.isRange) {\n            if (r.operator === '*' || version === '*') {\n                return true;\n            }\n\n            if (r.operator === '>') {\n                return v.number > r.number;\n            }\n\n            if (r.operator === '>=') {\n                return v.number >= r.number;\n            }\n\n            if (r.operator === '~') {\n                return v.major === r.major && v.minor === r.minor && v.patch >= r.patch;\n            }\n\n            if (r.operator === '^') {\n                if (r.major > 0) {\n                    return v.major === r.major && v.number >= r.number;\n                }\n\n                if (r.minor > 0) {\n                    return v.minor === r.minor && v.patch >= r.patch;\n                }\n\n                return v.patch === r.patch;\n            }\n        }\n\n        return version === range || version === '*';\n    };\n\n})();\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Render` module is a simple canvas based renderer for visualising instances of `Matter.Engine`.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* It includes a number of drawing options including wireframe, vector with support for sprites and viewports.\n*\n* @class Render\n*/\n\nvar Render = {};\n\nmodule.exports = Render;\n\nvar Common = __webpack_require__(0);\nvar Composite = __webpack_require__(5);\nvar Bounds = __webpack_require__(1);\nvar Events = __webpack_require__(4);\nvar Vector = __webpack_require__(2);\nvar Mouse = __webpack_require__(13);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame\n                                      || function(callback){ window.setTimeout(function() { callback(Common.now()); }, 1000 / 60); };\n\n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame\n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    Render._goodFps = 30;\n    Render._goodDelta = 1000 / 60;\n\n    /**\n     * Creates a new renderer. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {render} A new renderer\n     */\n    Render.create = function(options) {\n        var defaults = {\n            controller: Render,\n            engine: null,\n            element: null,\n            canvas: null,\n            mouse: null,\n            frameRequestId: null,\n            timing: {\n                historySize: 60,\n                delta: 0,\n                deltaHistory: [],\n                lastTime: 0,\n                lastTimestamp: 0,\n                lastElapsed: 0,\n                timestampElapsed: 0,\n                timestampElapsedHistory: [],\n                engineDeltaHistory: [],\n                engineElapsedHistory: [],\n                elapsedHistory: []\n            },\n            options: {\n                width: 800,\n                height: 600,\n                pixelRatio: 1,\n                background: '#14151f',\n                wireframeBackground: '#14151f',\n                hasBounds: !!options.bounds,\n                enabled: true,\n                wireframes: true,\n                showSleeping: true,\n                showDebug: false,\n                showStats: false,\n                showPerformance: false,\n                showBounds: false,\n                showVelocity: false,\n                showCollisions: false,\n                showSeparations: false,\n                showAxes: false,\n                showPositions: false,\n                showAngleIndicator: false,\n                showIds: false,\n                showVertexNumbers: false,\n                showConvexHulls: false,\n                showInternalEdges: false,\n                showMousePosition: false\n            }\n        };\n\n        var render = Common.extend(defaults, options);\n\n        if (render.canvas) {\n            render.canvas.width = render.options.width || render.canvas.width;\n            render.canvas.height = render.options.height || render.canvas.height;\n        }\n\n        render.mouse = options.mouse;\n        render.engine = options.engine;\n        render.canvas = render.canvas || _createCanvas(render.options.width, render.options.height);\n        render.context = render.canvas.getContext('2d');\n        render.textures = {};\n\n        render.bounds = render.bounds || {\n            min: {\n                x: 0,\n                y: 0\n            },\n            max: {\n                x: render.canvas.width,\n                y: render.canvas.height\n            }\n        };\n\n        // for temporary back compatibility only\n        render.options.showBroadphase = false;\n\n        if (render.options.pixelRatio !== 1) {\n            Render.setPixelRatio(render, render.options.pixelRatio);\n        }\n\n        if (Common.isElement(render.element)) {\n            render.element.appendChild(render.canvas);\n        } else if (!render.canvas.parentNode) {\n            Common.log('Render.create: options.element was undefined, render.canvas was created but not appended', 'warn');\n        }\n\n        return render;\n    };\n\n    /**\n     * Continuously updates the render canvas on the `requestAnimationFrame` event.\n     * @method run\n     * @param {render} render\n     */\n    Render.run = function(render) {\n        (function loop(time){\n            render.frameRequestId = _requestAnimationFrame(loop);\n            \n            _updateTiming(render, time);\n\n            Render.world(render, time);\n\n            if (render.options.showStats || render.options.showDebug) {\n                Render.stats(render, render.context, time);\n            }\n\n            if (render.options.showPerformance || render.options.showDebug) {\n                Render.performance(render, render.context, time);\n            }\n        })();\n    };\n\n    /**\n     * Ends execution of `Render.run` on the given `render`, by canceling the animation frame request event loop.\n     * @method stop\n     * @param {render} render\n     */\n    Render.stop = function(render) {\n        _cancelAnimationFrame(render.frameRequestId);\n    };\n\n    /**\n     * Sets the pixel ratio of the renderer and updates the canvas.\n     * To automatically detect the correct ratio, pass the string `'auto'` for `pixelRatio`.\n     * @method setPixelRatio\n     * @param {render} render\n     * @param {number} pixelRatio\n     */\n    Render.setPixelRatio = function(render, pixelRatio) {\n        var options = render.options,\n            canvas = render.canvas;\n\n        if (pixelRatio === 'auto') {\n            pixelRatio = _getPixelRatio(canvas);\n        }\n\n        options.pixelRatio = pixelRatio;\n        canvas.setAttribute('data-pixel-ratio', pixelRatio);\n        canvas.width = options.width * pixelRatio;\n        canvas.height = options.height * pixelRatio;\n        canvas.style.width = options.width + 'px';\n        canvas.style.height = options.height + 'px';\n    };\n\n    /**\n     * Positions and sizes the viewport around the given object bounds.\n     * Objects must have at least one of the following properties:\n     * - `object.bounds`\n     * - `object.position`\n     * - `object.min` and `object.max`\n     * - `object.x` and `object.y`\n     * @method lookAt\n     * @param {render} render\n     * @param {object[]} objects\n     * @param {vector} [padding]\n     * @param {bool} [center=true]\n     */\n    Render.lookAt = function(render, objects, padding, center) {\n        center = typeof center !== 'undefined' ? center : true;\n        objects = Common.isArray(objects) ? objects : [objects];\n        padding = padding || {\n            x: 0,\n            y: 0\n        };\n\n        // find bounds of all objects\n        var bounds = {\n            min: { x: Infinity, y: Infinity },\n            max: { x: -Infinity, y: -Infinity }\n        };\n\n        for (var i = 0; i < objects.length; i += 1) {\n            var object = objects[i],\n                min = object.bounds ? object.bounds.min : (object.min || object.position || object),\n                max = object.bounds ? object.bounds.max : (object.max || object.position || object);\n\n            if (min && max) {\n                if (min.x < bounds.min.x)\n                    bounds.min.x = min.x;\n\n                if (max.x > bounds.max.x)\n                    bounds.max.x = max.x;\n\n                if (min.y < bounds.min.y)\n                    bounds.min.y = min.y;\n\n                if (max.y > bounds.max.y)\n                    bounds.max.y = max.y;\n            }\n        }\n\n        // find ratios\n        var width = (bounds.max.x - bounds.min.x) + 2 * padding.x,\n            height = (bounds.max.y - bounds.min.y) + 2 * padding.y,\n            viewHeight = render.canvas.height,\n            viewWidth = render.canvas.width,\n            outerRatio = viewWidth / viewHeight,\n            innerRatio = width / height,\n            scaleX = 1,\n            scaleY = 1;\n\n        // find scale factor\n        if (innerRatio > outerRatio) {\n            scaleY = innerRatio / outerRatio;\n        } else {\n            scaleX = outerRatio / innerRatio;\n        }\n\n        // enable bounds\n        render.options.hasBounds = true;\n\n        // position and size\n        render.bounds.min.x = bounds.min.x;\n        render.bounds.max.x = bounds.min.x + width * scaleX;\n        render.bounds.min.y = bounds.min.y;\n        render.bounds.max.y = bounds.min.y + height * scaleY;\n\n        // center\n        if (center) {\n            render.bounds.min.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.max.x += width * 0.5 - (width * scaleX) * 0.5;\n            render.bounds.min.y += height * 0.5 - (height * scaleY) * 0.5;\n            render.bounds.max.y += height * 0.5 - (height * scaleY) * 0.5;\n        }\n\n        // padding\n        render.bounds.min.x -= padding.x;\n        render.bounds.max.x -= padding.x;\n        render.bounds.min.y -= padding.y;\n        render.bounds.max.y -= padding.y;\n\n        // update mouse\n        if (render.mouse) {\n            Mouse.setScale(render.mouse, {\n                x: (render.bounds.max.x - render.bounds.min.x) / render.canvas.width,\n                y: (render.bounds.max.y - render.bounds.min.y) / render.canvas.height\n            });\n\n            Mouse.setOffset(render.mouse, render.bounds.min);\n        }\n    };\n\n    /**\n     * Applies viewport transforms based on `render.bounds` to a render context.\n     * @method startViewTransform\n     * @param {render} render\n     */\n    Render.startViewTransform = function(render) {\n        var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n            boundsHeight = render.bounds.max.y - render.bounds.min.y,\n            boundsScaleX = boundsWidth / render.options.width,\n            boundsScaleY = boundsHeight / render.options.height;\n\n        render.context.setTransform(\n            render.options.pixelRatio / boundsScaleX, 0, 0, \n            render.options.pixelRatio / boundsScaleY, 0, 0\n        );\n        \n        render.context.translate(-render.bounds.min.x, -render.bounds.min.y);\n    };\n\n    /**\n     * Resets all transforms on the render context.\n     * @method endViewTransform\n     * @param {render} render\n     */\n    Render.endViewTransform = function(render) {\n        render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n    };\n\n    /**\n     * Renders the given `engine`'s `Matter.World` object.\n     * This is the entry point for all rendering and should be called every time the scene changes.\n     * @method world\n     * @param {render} render\n     */\n    Render.world = function(render, time) {\n        var startTime = Common.now(),\n            engine = render.engine,\n            world = engine.world,\n            canvas = render.canvas,\n            context = render.context,\n            options = render.options,\n            timing = render.timing;\n\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world),\n            background = options.wireframes ? options.wireframeBackground : options.background,\n            bodies = [],\n            constraints = [],\n            i;\n\n        var event = {\n            timestamp: engine.timing.timestamp\n        };\n\n        Events.trigger(render, 'beforeRender', event);\n\n        // apply background if it has changed\n        if (render.currentBackground !== background)\n            _applyBackground(render, background);\n\n        // clear the canvas with a transparent fill, to allow the canvas background to show\n        context.globalCompositeOperation = 'source-in';\n        context.fillStyle = \"transparent\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n        context.globalCompositeOperation = 'source-over';\n\n        // handle bounds\n        if (options.hasBounds) {\n            // filter out bodies that are not in view\n            for (i = 0; i < allBodies.length; i++) {\n                var body = allBodies[i];\n                if (Bounds.overlaps(body.bounds, render.bounds))\n                    bodies.push(body);\n            }\n\n            // filter out constraints that are not in view\n            for (i = 0; i < allConstraints.length; i++) {\n                var constraint = allConstraints[i],\n                    bodyA = constraint.bodyA,\n                    bodyB = constraint.bodyB,\n                    pointAWorld = constraint.pointA,\n                    pointBWorld = constraint.pointB;\n\n                if (bodyA) pointAWorld = Vector.add(bodyA.position, constraint.pointA);\n                if (bodyB) pointBWorld = Vector.add(bodyB.position, constraint.pointB);\n\n                if (!pointAWorld || !pointBWorld)\n                    continue;\n\n                if (Bounds.contains(render.bounds, pointAWorld) || Bounds.contains(render.bounds, pointBWorld))\n                    constraints.push(constraint);\n            }\n\n            // transform the view\n            Render.startViewTransform(render);\n\n            // update mouse\n            if (render.mouse) {\n                Mouse.setScale(render.mouse, {\n                    x: (render.bounds.max.x - render.bounds.min.x) / render.options.width,\n                    y: (render.bounds.max.y - render.bounds.min.y) / render.options.height\n                });\n\n                Mouse.setOffset(render.mouse, render.bounds.min);\n            }\n        } else {\n            constraints = allConstraints;\n            bodies = allBodies;\n\n            if (render.options.pixelRatio !== 1) {\n                render.context.setTransform(render.options.pixelRatio, 0, 0, render.options.pixelRatio, 0, 0);\n            }\n        }\n\n        if (!options.wireframes || (engine.enableSleeping && options.showSleeping)) {\n            // fully featured rendering of bodies\n            Render.bodies(render, bodies, context);\n        } else {\n            if (options.showConvexHulls)\n                Render.bodyConvexHulls(render, bodies, context);\n\n            // optimised method for wireframes only\n            Render.bodyWireframes(render, bodies, context);\n        }\n\n        if (options.showBounds)\n            Render.bodyBounds(render, bodies, context);\n\n        if (options.showAxes || options.showAngleIndicator)\n            Render.bodyAxes(render, bodies, context);\n\n        if (options.showPositions)\n            Render.bodyPositions(render, bodies, context);\n\n        if (options.showVelocity)\n            Render.bodyVelocity(render, bodies, context);\n\n        if (options.showIds)\n            Render.bodyIds(render, bodies, context);\n\n        if (options.showSeparations)\n            Render.separations(render, engine.pairs.list, context);\n\n        if (options.showCollisions)\n            Render.collisions(render, engine.pairs.list, context);\n\n        if (options.showVertexNumbers)\n            Render.vertexNumbers(render, bodies, context);\n\n        if (options.showMousePosition)\n            Render.mousePosition(render, render.mouse, context);\n\n        Render.constraints(constraints, context);\n\n        if (options.hasBounds) {\n            // revert view transforms\n            Render.endViewTransform(render);\n        }\n\n        Events.trigger(render, 'afterRender', event);\n\n        // log the time elapsed computing this update\n        timing.lastElapsed = Common.now() - startTime;\n    };\n\n    /**\n     * Renders statistics about the engine and world useful for debugging.\n     * @private\n     * @method stats\n     * @param {render} render\n     * @param {RenderingContext} context\n     * @param {Number} time\n     */\n    Render.stats = function(render, context, time) {\n        var engine = render.engine,\n            world = engine.world,\n            bodies = Composite.allBodies(world),\n            parts = 0,\n            width = 55,\n            height = 44,\n            x = 0,\n            y = 0;\n        \n        // count parts\n        for (var i = 0; i < bodies.length; i += 1) {\n            parts += bodies[i].parts.length;\n        }\n\n        // sections\n        var sections = {\n            'Part': parts,\n            'Body': bodies.length,\n            'Cons': Composite.allConstraints(world).length,\n            'Comp': Composite.allComposites(world).length,\n            'Pair': engine.pairs.list.length\n        };\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(x, y, width * 5.5, height);\n\n        context.font = '12px Arial';\n        context.textBaseline = 'top';\n        context.textAlign = 'right';\n\n        // sections\n        for (var key in sections) {\n            var section = sections[key];\n            // label\n            context.fillStyle = '#aaa';\n            context.fillText(key, x + width, y + 8);\n\n            // value\n            context.fillStyle = '#eee';\n            context.fillText(section, x + width, y + 26);\n\n            x += width;\n        }\n    };\n\n    /**\n     * Renders engine and render performance information.\n     * @private\n     * @method performance\n     * @param {render} render\n     * @param {RenderingContext} context\n     */\n    Render.performance = function(render, context) {\n        var engine = render.engine,\n            timing = render.timing,\n            deltaHistory = timing.deltaHistory,\n            elapsedHistory = timing.elapsedHistory,\n            timestampElapsedHistory = timing.timestampElapsedHistory,\n            engineDeltaHistory = timing.engineDeltaHistory,\n            engineElapsedHistory = timing.engineElapsedHistory,\n            lastEngineDelta = engine.timing.lastDelta;\n        \n        var deltaMean = _mean(deltaHistory),\n            elapsedMean = _mean(elapsedHistory),\n            engineDeltaMean = _mean(engineDeltaHistory),\n            engineElapsedMean = _mean(engineElapsedHistory),\n            timestampElapsedMean = _mean(timestampElapsedHistory),\n            rateMean = (timestampElapsedMean / deltaMean) || 0,\n            fps = (1000 / deltaMean) || 0;\n\n        var graphHeight = 4,\n            gap = 12,\n            width = 60,\n            height = 34,\n            x = 10,\n            y = 69;\n\n        // background\n        context.fillStyle = '#0e0f19';\n        context.fillRect(0, 50, gap * 4 + width * 5 + 22, height);\n\n        // show FPS\n        Render.status(\n            context, x, y, width, graphHeight, deltaHistory.length, \n            Math.round(fps) + ' fps', \n            fps / Render._goodFps,\n            function(i) { return (deltaHistory[i] / deltaMean) - 1; }\n        );\n\n        // show engine delta\n        Render.status(\n            context, x + gap + width, y, width, graphHeight, engineDeltaHistory.length,\n            lastEngineDelta.toFixed(2) + ' dt', \n            Render._goodDelta / lastEngineDelta,\n            function(i) { return (engineDeltaHistory[i] / engineDeltaMean) - 1; }\n        );\n\n        // show engine update time\n        Render.status(\n            context, x + (gap + width) * 2, y, width, graphHeight, engineElapsedHistory.length,\n            engineElapsedMean.toFixed(2) + ' ut', \n            1 - (engineElapsedMean / Render._goodFps),\n            function(i) { return (engineElapsedHistory[i] / engineElapsedMean) - 1; }\n        );\n\n        // show render time\n        Render.status(\n            context, x + (gap + width) * 3, y, width, graphHeight, elapsedHistory.length,\n            elapsedMean.toFixed(2) + ' rt', \n            1 - (elapsedMean / Render._goodFps),\n            function(i) { return (elapsedHistory[i] / elapsedMean) - 1; }\n        );\n\n        // show effective speed\n        Render.status(\n            context, x + (gap + width) * 4, y, width, graphHeight, timestampElapsedHistory.length, \n            rateMean.toFixed(2) + ' x', \n            rateMean * rateMean * rateMean,\n            function(i) { return (((timestampElapsedHistory[i] / deltaHistory[i]) / rateMean) || 0) - 1; }\n        );\n    };\n\n    /**\n     * Renders a label, indicator and a chart.\n     * @private\n     * @method status\n     * @param {RenderingContext} context\n     * @param {number} x\n     * @param {number} y\n     * @param {number} width\n     * @param {number} height\n     * @param {number} count\n     * @param {string} label\n     * @param {string} indicator\n     * @param {function} plotY\n     */\n    Render.status = function(context, x, y, width, height, count, label, indicator, plotY) {\n        // background\n        context.strokeStyle = '#888';\n        context.fillStyle = '#444';\n        context.lineWidth = 1;\n        context.fillRect(x, y + 7, width, 1);\n\n        // chart\n        context.beginPath();\n        context.moveTo(x, y + 7 - height * Common.clamp(0.4 * plotY(0), -2, 2));\n        for (var i = 0; i < width; i += 1) {\n            context.lineTo(x + i, y + 7 - (i < count ? height * Common.clamp(0.4 * plotY(i), -2, 2) : 0));\n        }\n        context.stroke();\n\n        // indicator\n        context.fillStyle = 'hsl(' + Common.clamp(25 + 95 * indicator, 0, 120) + ',100%,60%)';\n        context.fillRect(x, y - 7, 4, 4);\n\n        // label\n        context.font = '12px Arial';\n        context.textBaseline = 'middle';\n        context.textAlign = 'right';\n        context.fillStyle = '#eee';\n        context.fillText(label, x + width, y - 5);\n    };\n\n    /**\n     * Description\n     * @private\n     * @method constraints\n     * @param {constraint[]} constraints\n     * @param {RenderingContext} context\n     */\n    Render.constraints = function(constraints, context) {\n        var c = context;\n\n        for (var i = 0; i < constraints.length; i++) {\n            var constraint = constraints[i];\n\n            if (!constraint.render.visible || !constraint.pointA || !constraint.pointB)\n                continue;\n\n            var bodyA = constraint.bodyA,\n                bodyB = constraint.bodyB,\n                start,\n                end;\n\n            if (bodyA) {\n                start = Vector.add(bodyA.position, constraint.pointA);\n            } else {\n                start = constraint.pointA;\n            }\n\n            if (constraint.render.type === 'pin') {\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n            } else {\n                if (bodyB) {\n                    end = Vector.add(bodyB.position, constraint.pointB);\n                } else {\n                    end = constraint.pointB;\n                }\n\n                c.beginPath();\n                c.moveTo(start.x, start.y);\n\n                if (constraint.render.type === 'spring') {\n                    var delta = Vector.sub(end, start),\n                        normal = Vector.perp(Vector.normalise(delta)),\n                        coils = Math.ceil(Common.clamp(constraint.length / 5, 12, 20)),\n                        offset;\n\n                    for (var j = 1; j < coils; j += 1) {\n                        offset = j % 2 === 0 ? 1 : -1;\n\n                        c.lineTo(\n                            start.x + delta.x * (j / coils) + normal.x * offset * 4,\n                            start.y + delta.y * (j / coils) + normal.y * offset * 4\n                        );\n                    }\n                }\n\n                c.lineTo(end.x, end.y);\n            }\n\n            if (constraint.render.lineWidth) {\n                c.lineWidth = constraint.render.lineWidth;\n                c.strokeStyle = constraint.render.strokeStyle;\n                c.stroke();\n            }\n\n            if (constraint.render.anchors) {\n                c.fillStyle = constraint.render.strokeStyle;\n                c.beginPath();\n                c.arc(start.x, start.y, 3, 0, 2 * Math.PI);\n                c.arc(end.x, end.y, 3, 0, 2 * Math.PI);\n                c.closePath();\n                c.fill();\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method bodies\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodies = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            showInternalEdges = options.showInternalEdges || !options.wireframes,\n            body,\n            part,\n            i,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                if (!part.render.visible)\n                    continue;\n\n                if (options.showSleeping && body.isSleeping) {\n                    c.globalAlpha = 0.5 * part.render.opacity;\n                } else if (part.render.opacity !== 1) {\n                    c.globalAlpha = part.render.opacity;\n                }\n\n                if (part.render.sprite && part.render.sprite.texture && !options.wireframes) {\n                    // part sprite\n                    var sprite = part.render.sprite,\n                        texture = _getTexture(render, sprite.texture);\n\n                    c.translate(part.position.x, part.position.y);\n                    c.rotate(part.angle);\n\n                    c.drawImage(\n                        texture,\n                        texture.width * -sprite.xOffset * sprite.xScale,\n                        texture.height * -sprite.yOffset * sprite.yScale,\n                        texture.width * sprite.xScale,\n                        texture.height * sprite.yScale\n                    );\n\n                    // revert translation, hopefully faster than save / restore\n                    c.rotate(-part.angle);\n                    c.translate(-part.position.x, -part.position.y);\n                } else {\n                    // part polygon\n                    if (part.circleRadius) {\n                        c.beginPath();\n                        c.arc(part.position.x, part.position.y, part.circleRadius, 0, 2 * Math.PI);\n                    } else {\n                        c.beginPath();\n                        c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                        for (var j = 1; j < part.vertices.length; j++) {\n                            if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                                c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                            } else {\n                                c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                            }\n\n                            if (part.vertices[j].isInternal && !showInternalEdges) {\n                                c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                            }\n                        }\n\n                        c.lineTo(part.vertices[0].x, part.vertices[0].y);\n                        c.closePath();\n                    }\n\n                    if (!options.wireframes) {\n                        c.fillStyle = part.render.fillStyle;\n\n                        if (part.render.lineWidth) {\n                            c.lineWidth = part.render.lineWidth;\n                            c.strokeStyle = part.render.strokeStyle;\n                            c.stroke();\n                        }\n\n                        c.fill();\n                    } else {\n                        c.lineWidth = 1;\n                        c.strokeStyle = '#bbb';\n                        c.stroke();\n                    }\n                }\n\n                c.globalAlpha = 1;\n            }\n        }\n    };\n\n    /**\n     * Optimised method for drawing body wireframes in one pass\n     * @private\n     * @method bodyWireframes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyWireframes = function(render, bodies, context) {\n        var c = context,\n            showInternalEdges = render.options.showInternalEdges,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render all bodies\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = body.parts.length > 1 ? 1 : 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n\n                c.moveTo(part.vertices[0].x, part.vertices[0].y);\n\n                for (j = 1; j < part.vertices.length; j++) {\n                    if (!part.vertices[j - 1].isInternal || showInternalEdges) {\n                        c.lineTo(part.vertices[j].x, part.vertices[j].y);\n                    } else {\n                        c.moveTo(part.vertices[j].x, part.vertices[j].y);\n                    }\n\n                    if (part.vertices[j].isInternal && !showInternalEdges) {\n                        c.moveTo(part.vertices[(j + 1) % part.vertices.length].x, part.vertices[(j + 1) % part.vertices.length].y);\n                    }\n                }\n\n                c.lineTo(part.vertices[0].x, part.vertices[0].y);\n            }\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = '#bbb';\n        c.stroke();\n    };\n\n    /**\n     * Optimised method for drawing body convex hull wireframes in one pass\n     * @private\n     * @method bodyConvexHulls\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyConvexHulls = function(render, bodies, context) {\n        var c = context,\n            body,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        // render convex hulls\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible || body.parts.length === 1)\n                continue;\n\n            c.moveTo(body.vertices[0].x, body.vertices[0].y);\n\n            for (j = 1; j < body.vertices.length; j++) {\n                c.lineTo(body.vertices[j].x, body.vertices[j].y);\n            }\n\n            c.lineTo(body.vertices[0].x, body.vertices[0].y);\n        }\n\n        c.lineWidth = 1;\n        c.strokeStyle = 'rgba(255,255,255,0.2)';\n        c.stroke();\n    };\n\n    /**\n     * Renders body vertex numbers.\n     * @private\n     * @method vertexNumbers\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.vertexNumbers = function(render, bodies, context) {\n        var c = context,\n            i,\n            j,\n            k;\n\n        for (i = 0; i < bodies.length; i++) {\n            var parts = bodies[i].parts;\n            for (k = parts.length > 1 ? 1 : 0; k < parts.length; k++) {\n                var part = parts[k];\n                for (j = 0; j < part.vertices.length; j++) {\n                    c.fillStyle = 'rgba(255,255,255,0.2)';\n                    c.fillText(i + '_' + j, part.position.x + (part.vertices[j].x - part.position.x) * 0.8, part.position.y + (part.vertices[j].y - part.position.y) * 0.8);\n                }\n            }\n        }\n    };\n\n    /**\n     * Renders mouse position.\n     * @private\n     * @method mousePosition\n     * @param {render} render\n     * @param {mouse} mouse\n     * @param {RenderingContext} context\n     */\n    Render.mousePosition = function(render, mouse, context) {\n        var c = context;\n        c.fillStyle = 'rgba(255,255,255,0.8)';\n        c.fillText(mouse.position.x + '  ' + mouse.position.y, mouse.position.x + 5, mouse.position.y - 5);\n    };\n\n    /**\n     * Draws body bounds\n     * @private\n     * @method bodyBounds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyBounds = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.render.visible) {\n                var parts = bodies[i].parts;\n                for (var j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    var part = parts[j];\n                    c.rect(part.bounds.min.x, part.bounds.min.y, part.bounds.max.x - part.bounds.min.x, part.bounds.max.y - part.bounds.min.y);\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,255,255,0.08)';\n        } else {\n            c.strokeStyle = 'rgba(0,0,0,0.1)';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Draws body angle indicators and axes\n     * @private\n     * @method bodyAxes\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyAxes = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            part,\n            i,\n            j,\n            k;\n\n        c.beginPath();\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                parts = body.parts;\n\n            if (!body.render.visible)\n                continue;\n\n            if (options.showAxes) {\n                // render all axes\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        var axis = part.axes[k];\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo(part.position.x + axis.x * 20, part.position.y + axis.y * 20);\n                    }\n                }\n            } else {\n                for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                    part = parts[j];\n                    for (k = 0; k < part.axes.length; k++) {\n                        // render a single axis indicator\n                        c.moveTo(part.position.x, part.position.y);\n                        c.lineTo((part.vertices[0].x + part.vertices[part.vertices.length-1].x) / 2,\n                            (part.vertices[0].y + part.vertices[part.vertices.length-1].y) / 2);\n                    }\n                }\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'indianred';\n            c.lineWidth = 1;\n        } else {\n            c.strokeStyle = 'rgba(255, 255, 255, 0.4)';\n            c.globalCompositeOperation = 'overlay';\n            c.lineWidth = 2;\n        }\n\n        c.stroke();\n        c.globalCompositeOperation = 'source-over';\n    };\n\n    /**\n     * Draws body positions\n     * @private\n     * @method bodyPositions\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyPositions = function(render, bodies, context) {\n        var c = context,\n            engine = render.engine,\n            options = render.options,\n            body,\n            part,\n            i,\n            k;\n\n        c.beginPath();\n\n        // render current positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            // handle compound parts\n            for (k = 0; k < body.parts.length; k++) {\n                part = body.parts[k];\n                c.arc(part.position.x, part.position.y, 3, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'indianred';\n        } else {\n            c.fillStyle = 'rgba(0,0,0,0.5)';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render previous positions\n        for (i = 0; i < bodies.length; i++) {\n            body = bodies[i];\n            if (body.render.visible) {\n                c.arc(body.positionPrev.x, body.positionPrev.y, 2, 0, 2 * Math.PI, false);\n                c.closePath();\n            }\n        }\n\n        c.fillStyle = 'rgba(255,165,0,0.8)';\n        c.fill();\n    };\n\n    /**\n     * Draws body velocity\n     * @private\n     * @method bodyVelocity\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyVelocity = function(render, bodies, context) {\n        var c = context;\n\n        c.beginPath();\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (!body.render.visible)\n                continue;\n\n            c.moveTo(body.position.x, body.position.y);\n            c.lineTo(body.position.x + (body.position.x - body.positionPrev.x) * 2, body.position.y + (body.position.y - body.positionPrev.y) * 2);\n        }\n\n        c.lineWidth = 3;\n        c.strokeStyle = 'cornflowerblue';\n        c.stroke();\n    };\n\n    /**\n     * Draws body ids\n     * @private\n     * @method bodyIds\n     * @param {render} render\n     * @param {body[]} bodies\n     * @param {RenderingContext} context\n     */\n    Render.bodyIds = function(render, bodies, context) {\n        var c = context,\n            i,\n            j;\n\n        for (i = 0; i < bodies.length; i++) {\n            if (!bodies[i].render.visible)\n                continue;\n\n            var parts = bodies[i].parts;\n            for (j = parts.length > 1 ? 1 : 0; j < parts.length; j++) {\n                var part = parts[j];\n                c.font = \"12px Arial\";\n                c.fillStyle = 'rgba(255,255,255,0.5)';\n                c.fillText(part.id, part.position.x + 10, part.position.y - 10);\n            }\n        }\n    };\n\n    /**\n     * Description\n     * @private\n     * @method collisions\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.collisions = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render collision positions\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            for (j = 0; j < pair.activeContacts.length; j++) {\n                var contact = pair.activeContacts[j],\n                    vertex = contact.vertex;\n                c.rect(vertex.x - 1.5, vertex.y - 1.5, 3.5, 3.5);\n            }\n        }\n\n        if (options.wireframes) {\n            c.fillStyle = 'rgba(255,255,255,0.7)';\n        } else {\n            c.fillStyle = 'orange';\n        }\n        c.fill();\n\n        c.beginPath();\n\n        // render collision normals\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n\n            if (pair.activeContacts.length > 0) {\n                var normalPosX = pair.activeContacts[0].vertex.x,\n                    normalPosY = pair.activeContacts[0].vertex.y;\n\n                if (pair.activeContacts.length === 2) {\n                    normalPosX = (pair.activeContacts[0].vertex.x + pair.activeContacts[1].vertex.x) / 2;\n                    normalPosY = (pair.activeContacts[0].vertex.y + pair.activeContacts[1].vertex.y) / 2;\n                }\n\n                if (collision.bodyB === collision.supports[0].body || collision.bodyA.isStatic === true) {\n                    c.moveTo(normalPosX - collision.normal.x * 8, normalPosY - collision.normal.y * 8);\n                } else {\n                    c.moveTo(normalPosX + collision.normal.x * 8, normalPosY + collision.normal.y * 8);\n                }\n\n                c.lineTo(normalPosX, normalPosY);\n            }\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.7)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n\n        c.lineWidth = 1;\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method separations\n     * @param {render} render\n     * @param {pair[]} pairs\n     * @param {RenderingContext} context\n     */\n    Render.separations = function(render, pairs, context) {\n        var c = context,\n            options = render.options,\n            pair,\n            collision,\n            corrected,\n            bodyA,\n            bodyB,\n            i,\n            j;\n\n        c.beginPath();\n\n        // render separations\n        for (i = 0; i < pairs.length; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.bodyA;\n            bodyB = collision.bodyB;\n\n            var k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyB.isStatic) k = 0;\n\n            c.moveTo(bodyB.position.x, bodyB.position.y);\n            c.lineTo(bodyB.position.x - collision.penetration.x * k, bodyB.position.y - collision.penetration.y * k);\n\n            k = 1;\n\n            if (!bodyB.isStatic && !bodyA.isStatic) k = 0.5;\n            if (bodyA.isStatic) k = 0;\n\n            c.moveTo(bodyA.position.x, bodyA.position.y);\n            c.lineTo(bodyA.position.x + collision.penetration.x * k, bodyA.position.y + collision.penetration.y * k);\n        }\n\n        if (options.wireframes) {\n            c.strokeStyle = 'rgba(255,165,0,0.5)';\n        } else {\n            c.strokeStyle = 'orange';\n        }\n        c.stroke();\n    };\n\n    /**\n     * Description\n     * @private\n     * @method inspector\n     * @param {inspector} inspector\n     * @param {RenderingContext} context\n     */\n    Render.inspector = function(inspector, context) {\n        var engine = inspector.engine,\n            selected = inspector.selected,\n            render = inspector.render,\n            options = render.options,\n            bounds;\n\n        if (options.hasBounds) {\n            var boundsWidth = render.bounds.max.x - render.bounds.min.x,\n                boundsHeight = render.bounds.max.y - render.bounds.min.y,\n                boundsScaleX = boundsWidth / render.options.width,\n                boundsScaleY = boundsHeight / render.options.height;\n\n            context.scale(1 / boundsScaleX, 1 / boundsScaleY);\n            context.translate(-render.bounds.min.x, -render.bounds.min.y);\n        }\n\n        for (var i = 0; i < selected.length; i++) {\n            var item = selected[i].data;\n\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.9)';\n            context.setLineDash([1,2]);\n\n            switch (item.type) {\n\n            case 'body':\n\n                // render body selections\n                bounds = item.bounds;\n                context.beginPath();\n                context.rect(Math.floor(bounds.min.x - 3), Math.floor(bounds.min.y - 3),\n                    Math.floor(bounds.max.x - bounds.min.x + 6), Math.floor(bounds.max.y - bounds.min.y + 6));\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            case 'constraint':\n\n                // render constraint selections\n                var point = item.pointA;\n                if (item.bodyA)\n                    point = item.pointB;\n                context.beginPath();\n                context.arc(point.x, point.y, 10, 0, 2 * Math.PI);\n                context.closePath();\n                context.stroke();\n\n                break;\n\n            }\n\n            context.setLineDash([]);\n            context.translate(-0.5, -0.5);\n        }\n\n        // render selection region\n        if (inspector.selectStart !== null) {\n            context.translate(0.5, 0.5);\n            context.lineWidth = 1;\n            context.strokeStyle = 'rgba(255,165,0,0.6)';\n            context.fillStyle = 'rgba(255,165,0,0.1)';\n            bounds = inspector.selectBounds;\n            context.beginPath();\n            context.rect(Math.floor(bounds.min.x), Math.floor(bounds.min.y),\n                Math.floor(bounds.max.x - bounds.min.x), Math.floor(bounds.max.y - bounds.min.y));\n            context.closePath();\n            context.stroke();\n            context.fill();\n            context.translate(-0.5, -0.5);\n        }\n\n        if (options.hasBounds)\n            context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n\n    /**\n     * Updates render timing.\n     * @method _updateTiming\n     * @private\n     * @param {render} render\n     * @param {number} time\n     */\n    var _updateTiming = function(render, time) {\n        var engine = render.engine,\n            timing = render.timing,\n            historySize = timing.historySize,\n            timestamp = engine.timing.timestamp;\n\n        timing.delta = time - timing.lastTime || Render._goodDelta;\n        timing.lastTime = time;\n\n        timing.timestampElapsed = timestamp - timing.lastTimestamp || 0;\n        timing.lastTimestamp = timestamp;\n\n        timing.deltaHistory.unshift(timing.delta);\n        timing.deltaHistory.length = Math.min(timing.deltaHistory.length, historySize);\n\n        timing.engineDeltaHistory.unshift(engine.timing.lastDelta);\n        timing.engineDeltaHistory.length = Math.min(timing.engineDeltaHistory.length, historySize);\n\n        timing.timestampElapsedHistory.unshift(timing.timestampElapsed);\n        timing.timestampElapsedHistory.length = Math.min(timing.timestampElapsedHistory.length, historySize);\n\n        timing.engineElapsedHistory.unshift(engine.timing.lastElapsed);\n        timing.engineElapsedHistory.length = Math.min(timing.engineElapsedHistory.length, historySize);\n\n        timing.elapsedHistory.unshift(timing.lastElapsed);\n        timing.elapsedHistory.length = Math.min(timing.elapsedHistory.length, historySize);\n    };\n\n    /**\n     * Returns the mean value of the given numbers.\n     * @method _mean\n     * @private\n     * @param {Number[]} values\n     * @return {Number} the mean of given values\n     */\n    var _mean = function(values) {\n        var result = 0;\n        for (var i = 0; i < values.length; i += 1) {\n            result += values[i];\n        }\n        return (result / values.length) || 0;\n    };\n\n    /**\n     * @method _createCanvas\n     * @private\n     * @param {} width\n     * @param {} height\n     * @return canvas\n     */\n    var _createCanvas = function(width, height) {\n        var canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        canvas.oncontextmenu = function() { return false; };\n        canvas.onselectstart = function() { return false; };\n        return canvas;\n    };\n\n    /**\n     * Gets the pixel ratio of the canvas.\n     * @method _getPixelRatio\n     * @private\n     * @param {HTMLElement} canvas\n     * @return {Number} pixel ratio\n     */\n    var _getPixelRatio = function(canvas) {\n        var context = canvas.getContext('2d'),\n            devicePixelRatio = window.devicePixelRatio || 1,\n            backingStorePixelRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio\n                                      || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio\n                                      || context.backingStorePixelRatio || 1;\n\n        return devicePixelRatio / backingStorePixelRatio;\n    };\n\n    /**\n     * Gets the requested texture (an Image) via its path\n     * @method _getTexture\n     * @private\n     * @param {render} render\n     * @param {string} imagePath\n     * @return {Image} texture\n     */\n    var _getTexture = function(render, imagePath) {\n        var image = render.textures[imagePath];\n\n        if (image)\n            return image;\n\n        image = render.textures[imagePath] = new Image();\n        image.src = imagePath;\n\n        return image;\n    };\n\n    /**\n     * Applies the background to the canvas using CSS.\n     * @method applyBackground\n     * @private\n     * @param {render} render\n     * @param {string} background\n     */\n    var _applyBackground = function(render, background) {\n        var cssBackground = background;\n\n        if (/(jpg|gif|png)$/.test(background))\n            cssBackground = 'url(' + background + ')';\n\n        render.canvas.style.background = cssBackground;\n        render.canvas.style.backgroundSize = \"contain\";\n        render.currentBackground = background;\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired before rendering\n    *\n    * @event beforeRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after rendering\n    *\n    * @event afterRender\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A back-reference to the `Matter.Render` module.\n     *\n     * @property controller\n     * @type render\n     */\n\n    /**\n     * A reference to the `Matter.Engine` instance to be used.\n     *\n     * @property engine\n     * @type engine\n     */\n\n    /**\n     * A reference to the element where the canvas is to be inserted (if `render.canvas` has not been specified)\n     *\n     * @property element\n     * @type HTMLElement\n     * @default null\n     */\n\n    /**\n     * The canvas element to render to. If not specified, one will be created if `render.element` has been specified.\n     *\n     * @property canvas\n     * @type HTMLCanvasElement\n     * @default null\n     */\n\n    /**\n     * A `Bounds` object that specifies the drawing view region.\n     * Rendering will be automatically transformed and scaled to fit within the canvas size (`render.options.width` and `render.options.height`).\n     * This allows for creating views that can pan or zoom around the scene.\n     * You must also set `render.options.hasBounds` to `true` to enable bounded rendering.\n     *\n     * @property bounds\n     * @type bounds\n     */\n\n    /**\n     * The 2d rendering context from the `render.canvas` element.\n     *\n     * @property context\n     * @type CanvasRenderingContext2D\n     */\n\n    /**\n     * The sprite texture cache.\n     *\n     * @property textures\n     * @type {}\n     */\n\n    /**\n     * The mouse to render if `render.options.showMousePosition` is enabled.\n     *\n     * @property mouse\n     * @type mouse\n     * @default null\n     */\n\n    /**\n     * The configuration options of the renderer.\n     *\n     * @property options\n     * @type {}\n     */\n\n    /**\n     * The target width in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.width\n     * @type number\n     * @default 800\n     */\n\n    /**\n     * The target height in pixels of the `render.canvas` to be created.\n     * See also the `options.pixelRatio` property to change render quality.\n     *\n     * @property options.height\n     * @type number\n     * @default 600\n     */\n\n    /**\n     * The [pixel ratio](https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio) to use when rendering.\n     *\n     * @property options.pixelRatio\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is disabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.background\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A CSS background color string to use when `render.options.wireframes` is enabled.\n     * This may be also set to `'transparent'` or equivalent.\n     *\n     * @property options.wireframeBackground\n     * @type string\n     * @default '#14151f'\n     */\n\n    /**\n     * A flag that specifies if `render.bounds` should be used when rendering.\n     *\n     * @property options.hasBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable all debug information overlays together.  \n     * This includes and has priority over the values of:\n     *\n     * - `render.options.showStats`\n     * - `render.options.showPerformance`\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the engine stats info overlay.  \n     * From left to right, the values shown are:\n     *\n     * - body parts total\n     * - body total\n     * - constraints total\n     * - composites total\n     * - collision pairs total\n     *\n     * @property options.showStats\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable performance charts.  \n     * From left to right, the values shown are:\n     *\n     * - average render frequency (e.g. 60 fps)\n     * - exact engine delta time used for last update (e.g. 16.66ms)\n     * - average engine execution duration (e.g. 5.00ms)\n     * - average render execution duration (e.g. 0.40ms)\n     * - average effective play speed (e.g. '1.00x' is 'real-time')\n     *\n     * Each value is recorded over a fixed sample of past frames (60 frames).\n     *\n     * A chart shown below each value indicates the variance from the average over the sample.\n     * The more stable or fixed the value is the flatter the chart will appear.\n     *\n     * @property options.showPerformance\n     * @type boolean\n     * @default false\n     */\n    \n    /**\n     * A flag to enable or disable rendering entirely.\n     *\n     * @property options.enabled\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to toggle wireframe rendering otherwise solid fill rendering is used.\n     *\n     * @property options.wireframes\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable sleeping bodies indicators.\n     *\n     * @property options.showSleeping\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A flag to enable or disable the debug information overlay.\n     *\n     * @property options.showDebug\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision broadphase debug overlay.\n     *\n     * @deprecated no longer implemented\n     * @property options.showBroadphase\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body bounds debug overlay.\n     *\n     * @property options.showBounds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body velocity debug overlay.\n     *\n     * @property options.showVelocity\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body collisions debug overlay.\n     *\n     * @property options.showCollisions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the collision resolver separations debug overlay.\n     *\n     * @property options.showSeparations\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body axes debug overlay.\n     *\n     * @property options.showAxes\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body positions debug overlay.\n     *\n     * @property options.showPositions\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body angle debug overlay.\n     *\n     * @property options.showAngleIndicator\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body and part ids debug overlay.\n     *\n     * @property options.showIds\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body vertex numbers debug overlay.\n     *\n     * @property options.showVertexNumbers\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body convex hulls debug overlay.\n     *\n     * @property options.showConvexHulls\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the body internal edges debug overlay.\n     *\n     * @property options.showInternalEdges\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A flag to enable or disable the mouse position debug overlay.\n     *\n     * @property options.showMousePosition\n     * @type boolean\n     * @default false\n     */\n\n})();\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n/**\n* The `Matter.Contact` module contains methods for creating and manipulating collision contacts.\n*\n* @class Contact\n*/\n\nvar Contact = {};\n\nmodule.exports = Contact;\n\n(function() {\n\n    /**\n     * Creates a new contact.\n     * @method create\n     * @param {vertex} vertex\n     * @return {contact} A new contact\n     */\n    Contact.create = function(vertex) {\n        return {\n            vertex: vertex,\n            normalImpulse: 0,\n            tangentImpulse: 0\n        };\n    };\n\n})();\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Engine` module contains methods for creating and manipulating engines.\n* An engine is a controller that manages updating the simulation of the world.\n* See `Matter.Runner` for an optional game loop utility.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Engine\n*/\n\nvar Engine = {};\n\nmodule.exports = Engine;\n\nvar Sleeping = __webpack_require__(7);\nvar Resolver = __webpack_require__(19);\nvar Detector = __webpack_require__(14);\nvar Pairs = __webpack_require__(20);\nvar Events = __webpack_require__(4);\nvar Composite = __webpack_require__(5);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\n\n(function() {\n\n    /**\n     * Creates a new engine. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {object} [options]\n     * @return {engine} engine\n     */\n    Engine.create = function(options) {\n        options = options || {};\n\n        var defaults = {\n            positionIterations: 6,\n            velocityIterations: 4,\n            constraintIterations: 2,\n            enableSleeping: false,\n            events: [],\n            plugin: {},\n            gravity: {\n                x: 0,\n                y: 1,\n                scale: 0.001\n            },\n            timing: {\n                timestamp: 0,\n                timeScale: 1,\n                lastDelta: 0,\n                lastElapsed: 0\n            }\n        };\n\n        var engine = Common.extend(defaults, options);\n\n        engine.world = options.world || Composite.create({ label: 'World' });\n        engine.pairs = options.pairs || Pairs.create();\n        engine.detector = options.detector || Detector.create();\n\n        // for temporary back compatibility only\n        engine.grid = { buckets: [] };\n        engine.world.gravity = engine.gravity;\n        engine.broadphase = engine.grid;\n        engine.metrics = {};\n        \n        return engine;\n    };\n\n    /**\n     * Moves the simulation forward in time by `delta` ms.\n     * The `correction` argument is an optional `Number` that specifies the time correction factor to apply to the update.\n     * This can help improve the accuracy of the simulation in cases where `delta` is changing between updates.\n     * The value of `correction` is defined as `delta / lastDelta`, i.e. the percentage change of `delta` over the last step.\n     * Therefore the value is always `1` (no correction) when `delta` constant (or when no correction is desired, which is the default).\n     * See the paper on <a href=\"http://lonesock.net/article/verlet.html\">Time Corrected Verlet</a> for more information.\n     *\n     * Triggers `beforeUpdate` and `afterUpdate` events.\n     * Triggers `collisionStart`, `collisionActive` and `collisionEnd` events.\n     * @method update\n     * @param {engine} engine\n     * @param {number} [delta=16.666]\n     * @param {number} [correction=1]\n     */\n    Engine.update = function(engine, delta, correction) {\n        var startTime = Common.now();\n\n        delta = delta || 1000 / 60;\n        correction = correction || 1;\n\n        var world = engine.world,\n            detector = engine.detector,\n            pairs = engine.pairs,\n            timing = engine.timing,\n            timestamp = timing.timestamp,\n            i;\n\n        // increment timestamp\n        timing.timestamp += delta * timing.timeScale;\n        timing.lastDelta = delta * timing.timeScale;\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp\n        };\n\n        Events.trigger(engine, 'beforeUpdate', event);\n\n        // get all bodies and all constraints in the world\n        var allBodies = Composite.allBodies(world),\n            allConstraints = Composite.allConstraints(world);\n\n        // update the detector bodies if they have changed\n        if (world.isModified) {\n            Detector.setBodies(detector, allBodies);\n        }\n\n        // reset all composite modified flags\n        if (world.isModified) {\n            Composite.setModified(world, false, false, true);\n        }\n\n        // update sleeping if enabled\n        if (engine.enableSleeping)\n            Sleeping.update(allBodies, timing.timeScale);\n\n        // apply gravity to all bodies\n        Engine._bodiesApplyGravity(allBodies, engine.gravity);\n\n        // update all body position and rotation by integration\n        Engine._bodiesUpdate(allBodies, delta, timing.timeScale, correction, world.bounds);\n\n        // update all constraints (first pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, timing.timeScale);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // find all collisions\n        detector.pairs = engine.pairs;\n        var collisions = Detector.collisions(detector);\n\n        // update collision pairs\n        Pairs.update(pairs, collisions, timestamp);\n\n        // wake up bodies involved in collisions\n        if (engine.enableSleeping)\n            Sleeping.afterCollisions(pairs.list, timing.timeScale);\n\n        // trigger collision events\n        if (pairs.collisionStart.length > 0)\n            Events.trigger(engine, 'collisionStart', { pairs: pairs.collisionStart });\n\n        // iteratively resolve position between collisions\n        Resolver.preSolvePosition(pairs.list);\n        for (i = 0; i < engine.positionIterations; i++) {\n            Resolver.solvePosition(pairs.list, timing.timeScale);\n        }\n        Resolver.postSolvePosition(allBodies);\n\n        // update all constraints (second pass)\n        Constraint.preSolveAll(allBodies);\n        for (i = 0; i < engine.constraintIterations; i++) {\n            Constraint.solveAll(allConstraints, timing.timeScale);\n        }\n        Constraint.postSolveAll(allBodies);\n\n        // iteratively resolve velocity between collisions\n        Resolver.preSolveVelocity(pairs.list);\n        for (i = 0; i < engine.velocityIterations; i++) {\n            Resolver.solveVelocity(pairs.list, timing.timeScale);\n        }\n\n        // trigger collision events\n        if (pairs.collisionActive.length > 0)\n            Events.trigger(engine, 'collisionActive', { pairs: pairs.collisionActive });\n\n        if (pairs.collisionEnd.length > 0)\n            Events.trigger(engine, 'collisionEnd', { pairs: pairs.collisionEnd });\n\n        // clear force buffers\n        Engine._bodiesClearForces(allBodies);\n\n        Events.trigger(engine, 'afterUpdate', event);\n\n        // log the time elapsed computing this update\n        engine.timing.lastElapsed = Common.now() - startTime;\n\n        return engine;\n    };\n    \n    /**\n     * Merges two engines by keeping the configuration of `engineA` but replacing the world with the one from `engineB`.\n     * @method merge\n     * @param {engine} engineA\n     * @param {engine} engineB\n     */\n    Engine.merge = function(engineA, engineB) {\n        Common.extend(engineA, engineB);\n        \n        if (engineB.world) {\n            engineA.world = engineB.world;\n\n            Engine.clear(engineA);\n\n            var bodies = Composite.allBodies(engineA.world);\n\n            for (var i = 0; i < bodies.length; i++) {\n                var body = bodies[i];\n                Sleeping.set(body, false);\n                body.id = Common.nextId();\n            }\n        }\n    };\n\n    /**\n     * Clears the engine pairs and detector.\n     * @method clear\n     * @param {engine} engine\n     */\n    Engine.clear = function(engine) {\n        Pairs.clear(engine.pairs);\n        Detector.clear(engine.detector);\n    };\n\n    /**\n     * Zeroes the `body.force` and `body.torque` force buffers.\n     * @method _bodiesClearForces\n     * @private\n     * @param {body[]} bodies\n     */\n    Engine._bodiesClearForces = function(bodies) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            // reset force buffers\n            body.force.x = 0;\n            body.force.y = 0;\n            body.torque = 0;\n        }\n    };\n\n    /**\n     * Applys a mass dependant force to all given bodies.\n     * @method _bodiesApplyGravity\n     * @private\n     * @param {body[]} bodies\n     * @param {vector} gravity\n     */\n    Engine._bodiesApplyGravity = function(bodies, gravity) {\n        var gravityScale = typeof gravity.scale !== 'undefined' ? gravity.scale : 0.001;\n\n        if ((gravity.x === 0 && gravity.y === 0) || gravityScale === 0) {\n            return;\n        }\n        \n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            // apply gravity\n            body.force.y += body.mass * gravity.y * gravityScale;\n            body.force.x += body.mass * gravity.x * gravityScale;\n        }\n    };\n\n    /**\n     * Applys `Body.update` to all given `bodies`.\n     * @method _bodiesUpdate\n     * @private\n     * @param {body[]} bodies\n     * @param {number} deltaTime \n     * The amount of time elapsed between updates\n     * @param {number} timeScale\n     * @param {number} correction \n     * The Verlet correction factor (deltaTime / lastDeltaTime)\n     * @param {bounds} worldBounds\n     */\n    Engine._bodiesUpdate = function(bodies, deltaTime, timeScale, correction, worldBounds) {\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isStatic || body.isSleeping)\n                continue;\n\n            Body.update(body, deltaTime, timeScale, correction);\n        }\n    };\n\n    /**\n     * A deprecated alias for `Runner.run`, use `Matter.Runner.run(engine)` instead and see `Matter.Runner` for more information.\n     * @deprecated use Matter.Runner.run(engine) instead\n     * @method run\n     * @param {engine} engine\n     */\n\n    /**\n    * Fired just before an update\n    *\n    * @event beforeUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update and all collision events\n    *\n    * @event afterUpdate\n    * @param {object} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have started to collide in the current tick (if any)\n    *\n    * @event collisionStart\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that are colliding in the current tick (if any)\n    *\n    * @event collisionActive\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine update, provides a list of all pairs that have ended collision in the current tick (if any)\n    *\n    * @event collisionEnd\n    * @param {object} event An event object\n    * @param {pair[]} event.pairs List of affected pairs\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {engine} event.source The source object of the event\n    * @param {string} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * An integer `Number` that specifies the number of position iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property positionIterations\n     * @type number\n     * @default 6\n     */\n\n    /**\n     * An integer `Number` that specifies the number of velocity iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     *\n     * @property velocityIterations\n     * @type number\n     * @default 4\n     */\n\n    /**\n     * An integer `Number` that specifies the number of constraint iterations to perform each update.\n     * The higher the value, the higher quality the simulation will be at the expense of performance.\n     * The default value of `2` is usually very adequate.\n     *\n     * @property constraintIterations\n     * @type number\n     * @default 2\n     */\n\n    /**\n     * A flag that specifies whether the engine should allow sleeping via the `Matter.Sleeping` module.\n     * Sleeping can improve stability and performance, but often at the expense of accuracy.\n     *\n     * @property enableSleeping\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * An `Object` containing properties regarding the timing systems of the engine. \n     *\n     * @property timing\n     * @type object\n     */\n\n    /**\n     * A `Number` that specifies the global scaling factor of time for all bodies.\n     * A value of `0` freezes the simulation.\n     * A value of `0.1` gives a slow-motion effect.\n     * A value of `1.2` gives a speed-up effect.\n     *\n     * @property timing.timeScale\n     * @type number\n     * @default 1\n     */\n\n    /**\n     * A `Number` that specifies the current simulation-time in milliseconds starting from `0`. \n     * It is incremented on every `Engine.update` by the given `delta` argument. \n     *\n     * @property timing.timestamp\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the total execution time elapsed during the last `Engine.update` in milliseconds.\n     * It is updated by timing from the start of the last `Engine.update` call until it ends.\n     *\n     * This value will also include the total execution time of all event handlers directly or indirectly triggered by the engine update.\n     *\n     * @property timing.lastElapsed\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Number` that represents the `delta` value used in the last engine update.\n     *\n     * @property timing.lastDelta\n     * @type number\n     * @default 0\n     */\n\n    /**\n     * A `Matter.Detector` instance.\n     *\n     * @property detector\n     * @type detector\n     * @default a Matter.Detector instance\n     */\n\n    /**\n     * A `Matter.Grid` instance.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property grid\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * Replaced by and now alias for `engine.grid`.\n     *\n     * @deprecated replaced by `engine.detector`\n     * @property broadphase\n     * @type grid\n     * @default a Matter.Grid instance\n     */\n\n    /**\n     * The root `Matter.Composite` instance that will contain all bodies, constraints and other composites to be simulated by this engine.\n     *\n     * @property world\n     * @type composite\n     * @default a Matter.Composite instance\n     */\n\n    /**\n     * An object reserved for storing plugin-specific properties.\n     *\n     * @property plugin\n     * @type {}\n     */\n\n    /**\n     * The gravity to apply on all bodies in `engine.world`.\n     *\n     * @property gravity\n     * @type object\n     */\n\n    /**\n     * The gravity x component.\n     *\n     * @property gravity.x\n     * @type object\n     * @default 0\n     */\n\n    /**\n     * The gravity y component.\n     *\n     * @property gravity.y\n     * @type object\n     * @default 1\n     */\n\n    /**\n     * The gravity scale factor.\n     *\n     * @property gravity.scale\n     * @type object\n     * @default 0.001\n     */\n\n})();\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Resolver` module contains methods for resolving collision pairs.\n*\n* @class Resolver\n*/\n\nvar Resolver = {};\n\nmodule.exports = Resolver;\n\nvar Vertices = __webpack_require__(3);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    Resolver._restingThresh = 4;\n    Resolver._restingThreshTangent = 6;\n    Resolver._positionDampen = 0.9;\n    Resolver._positionWarming = 0.8;\n    Resolver._frictionNormalMultiplier = 5;\n\n    /**\n     * Prepare pairs for position solving.\n     * @method preSolvePosition\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolvePosition = function(pairs) {\n        var i,\n            pair,\n            activeCount,\n            pairsLength = pairs.length;\n\n        // find total contacts on each body\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive)\n                continue;\n            \n            activeCount = pair.activeContacts.length;\n            pair.collision.parentA.totalContacts += activeCount;\n            pair.collision.parentB.totalContacts += activeCount;\n        }\n    };\n\n    /**\n     * Find a solution for pair positions.\n     * @method solvePosition\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Resolver.solvePosition = function(pairs, timeScale) {\n        var i,\n            pair,\n            collision,\n            bodyA,\n            bodyB,\n            normal,\n            contactShare,\n            positionImpulse,\n            positionDampen = Resolver._positionDampen,\n            pairsLength = pairs.length;\n\n        // find impulses required to resolve penetration\n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n\n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n\n            // get current separation between body edges involved in collision\n            pair.separation = \n                normal.x * (bodyB.positionImpulse.x + collision.penetration.x - bodyA.positionImpulse.x)\n                + normal.y * (bodyB.positionImpulse.y + collision.penetration.y - bodyA.positionImpulse.y);\n        }\n        \n        for (i = 0; i < pairsLength; i++) {\n            pair = pairs[i];\n\n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            collision = pair.collision;\n            bodyA = collision.parentA;\n            bodyB = collision.parentB;\n            normal = collision.normal;\n            positionImpulse = (pair.separation - pair.slop) * timeScale;\n\n            if (bodyA.isStatic || bodyB.isStatic)\n                positionImpulse *= 2;\n            \n            if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                contactShare = positionDampen / bodyA.totalContacts;\n                bodyA.positionImpulse.x += normal.x * positionImpulse * contactShare;\n                bodyA.positionImpulse.y += normal.y * positionImpulse * contactShare;\n            }\n\n            if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                contactShare = positionDampen / bodyB.totalContacts;\n                bodyB.positionImpulse.x -= normal.x * positionImpulse * contactShare;\n                bodyB.positionImpulse.y -= normal.y * positionImpulse * contactShare;\n            }\n        }\n    };\n\n    /**\n     * Apply position resolution.\n     * @method postSolvePosition\n     * @param {body[]} bodies\n     */\n    Resolver.postSolvePosition = function(bodies) {\n        var positionWarming = Resolver._positionWarming,\n            bodiesLength = bodies.length,\n            verticesTranslate = Vertices.translate,\n            boundsUpdate = Bounds.update;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var body = bodies[i],\n                positionImpulse = body.positionImpulse,\n                positionImpulseX = positionImpulse.x,\n                positionImpulseY = positionImpulse.y,\n                velocity = body.velocity;\n\n            // reset contact count\n            body.totalContacts = 0;\n\n            if (positionImpulseX !== 0 || positionImpulseY !== 0) {\n                // update body geometry\n                for (var j = 0; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n                    verticesTranslate(part.vertices, positionImpulse);\n                    boundsUpdate(part.bounds, part.vertices, velocity);\n                    part.position.x += positionImpulseX;\n                    part.position.y += positionImpulseY;\n                }\n\n                // move the body without changing velocity\n                body.positionPrev.x += positionImpulseX;\n                body.positionPrev.y += positionImpulseY;\n\n                if (positionImpulseX * velocity.x + positionImpulseY * velocity.y < 0) {\n                    // reset cached impulse if the body has velocity along it\n                    positionImpulse.x = 0;\n                    positionImpulse.y = 0;\n                } else {\n                    // warm the next iteration\n                    positionImpulse.x *= positionWarming;\n                    positionImpulse.y *= positionWarming;\n                }\n            }\n        }\n    };\n\n    /**\n     * Prepare pairs for velocity solving.\n     * @method preSolveVelocity\n     * @param {pair[]} pairs\n     */\n    Resolver.preSolveVelocity = function(pairs) {\n        var pairsLength = pairs.length,\n            i,\n            j;\n        \n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                normal = collision.normal,\n                tangent = collision.tangent;\n    \n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex,\n                    normalImpulse = contact.normalImpulse,\n                    tangentImpulse = contact.tangentImpulse;\n    \n                if (normalImpulse !== 0 || tangentImpulse !== 0) {\n                    // total impulse from contact\n                    var impulseX = normal.x * normalImpulse + tangent.x * tangentImpulse,\n                        impulseY = normal.y * normalImpulse + tangent.y * tangentImpulse;\n                    \n                    // apply impulse from contact\n                    if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                        bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                        bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                        bodyA.anglePrev += bodyA.inverseInertia * (\n                            (contactVertex.x - bodyA.position.x) * impulseY\n                            - (contactVertex.y - bodyA.position.y) * impulseX\n                        );\n                    }\n    \n                    if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                        bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                        bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                        bodyB.anglePrev -= bodyB.inverseInertia * (\n                            (contactVertex.x - bodyB.position.x) * impulseY \n                            - (contactVertex.y - bodyB.position.y) * impulseX\n                        );\n                    }\n                }\n            }\n        }\n    };\n\n    /**\n     * Find a solution for pair velocities.\n     * @method solveVelocity\n     * @param {pair[]} pairs\n     * @param {number} timeScale\n     */\n    Resolver.solveVelocity = function(pairs, timeScale) {\n        var timeScaleSquared = timeScale * timeScale,\n            restingThresh = Resolver._restingThresh * timeScaleSquared,\n            frictionNormalMultiplier = Resolver._frictionNormalMultiplier,\n            restingThreshTangent = Resolver._restingThreshTangent * timeScaleSquared,\n            NumberMaxValue = Number.MAX_VALUE,\n            pairsLength = pairs.length,\n            tangentImpulse,\n            maxFriction,\n            i,\n            j;\n\n        for (i = 0; i < pairsLength; i++) {\n            var pair = pairs[i];\n            \n            if (!pair.isActive || pair.isSensor)\n                continue;\n            \n            var collision = pair.collision,\n                bodyA = collision.parentA,\n                bodyB = collision.parentB,\n                bodyAVelocity = bodyA.velocity,\n                bodyBVelocity = bodyB.velocity,\n                normalX = collision.normal.x,\n                normalY = collision.normal.y,\n                tangentX = collision.tangent.x,\n                tangentY = collision.tangent.y,\n                contacts = pair.activeContacts,\n                contactsLength = contacts.length,\n                contactShare = 1 / contactsLength,\n                inverseMassTotal = bodyA.inverseMass + bodyB.inverseMass,\n                friction = pair.friction * pair.frictionStatic * frictionNormalMultiplier * timeScaleSquared;\n\n            // update body velocities\n            bodyAVelocity.x = bodyA.position.x - bodyA.positionPrev.x;\n            bodyAVelocity.y = bodyA.position.y - bodyA.positionPrev.y;\n            bodyBVelocity.x = bodyB.position.x - bodyB.positionPrev.x;\n            bodyBVelocity.y = bodyB.position.y - bodyB.positionPrev.y;\n            bodyA.angularVelocity = bodyA.angle - bodyA.anglePrev;\n            bodyB.angularVelocity = bodyB.angle - bodyB.anglePrev;\n\n            // resolve each contact\n            for (j = 0; j < contactsLength; j++) {\n                var contact = contacts[j],\n                    contactVertex = contact.vertex;\n\n                var offsetAX = contactVertex.x - bodyA.position.x,\n                    offsetAY = contactVertex.y - bodyA.position.y,\n                    offsetBX = contactVertex.x - bodyB.position.x,\n                    offsetBY = contactVertex.y - bodyB.position.y;\n \n                var velocityPointAX = bodyAVelocity.x - offsetAY * bodyA.angularVelocity,\n                    velocityPointAY = bodyAVelocity.y + offsetAX * bodyA.angularVelocity,\n                    velocityPointBX = bodyBVelocity.x - offsetBY * bodyB.angularVelocity,\n                    velocityPointBY = bodyBVelocity.y + offsetBX * bodyB.angularVelocity;\n\n                var relativeVelocityX = velocityPointAX - velocityPointBX,\n                    relativeVelocityY = velocityPointAY - velocityPointBY;\n\n                var normalVelocity = normalX * relativeVelocityX + normalY * relativeVelocityY,\n                    tangentVelocity = tangentX * relativeVelocityX + tangentY * relativeVelocityY;\n\n                // coulomb friction\n                var normalOverlap = pair.separation + normalVelocity;\n                var normalForce = Math.min(normalOverlap, 1);\n                normalForce = normalOverlap < 0 ? 0 : normalForce;\n                \n                var frictionLimit = normalForce * friction;\n\n                if (tangentVelocity > frictionLimit || -tangentVelocity > frictionLimit) {\n                    maxFriction = tangentVelocity > 0 ? tangentVelocity : -tangentVelocity;\n                    tangentImpulse = pair.friction * (tangentVelocity > 0 ? 1 : -1) * timeScaleSquared;\n                    \n                    if (tangentImpulse < -maxFriction) {\n                        tangentImpulse = -maxFriction;\n                    } else if (tangentImpulse > maxFriction) {\n                        tangentImpulse = maxFriction;\n                    }\n                } else {\n                    tangentImpulse = tangentVelocity;\n                    maxFriction = NumberMaxValue;\n                }\n\n                // account for mass, inertia and contact offset\n                var oAcN = offsetAX * normalY - offsetAY * normalX,\n                    oBcN = offsetBX * normalY - offsetBY * normalX,\n                    share = contactShare / (inverseMassTotal + bodyA.inverseInertia * oAcN * oAcN + bodyB.inverseInertia * oBcN * oBcN);\n\n                // raw impulses\n                var normalImpulse = (1 + pair.restitution) * normalVelocity * share;\n                tangentImpulse *= share;\n\n                // handle high velocity and resting collisions separately\n                if (normalVelocity * normalVelocity > restingThresh && normalVelocity < 0) {\n                    // high normal velocity so clear cached contact normal impulse\n                    contact.normalImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // impulse constraint tends to 0\n                    var contactNormalImpulse = contact.normalImpulse;\n                    contact.normalImpulse += normalImpulse;\n                    contact.normalImpulse = Math.min(contact.normalImpulse, 0);\n                    normalImpulse = contact.normalImpulse - contactNormalImpulse;\n                }\n\n                // handle high velocity and resting collisions separately\n                if (tangentVelocity * tangentVelocity > restingThreshTangent) {\n                    // high tangent velocity so clear cached contact tangent impulse\n                    contact.tangentImpulse = 0;\n                } else {\n                    // solve resting collision constraints using Erin Catto's method (GDC08)\n                    // tangent impulse tends to -tangentSpeed or +tangentSpeed\n                    var contactTangentImpulse = contact.tangentImpulse;\n                    contact.tangentImpulse += tangentImpulse;\n                    if (contact.tangentImpulse < -maxFriction) contact.tangentImpulse = -maxFriction;\n                    if (contact.tangentImpulse > maxFriction) contact.tangentImpulse = maxFriction;\n                    tangentImpulse = contact.tangentImpulse - contactTangentImpulse;\n                }\n\n                // total impulse from contact\n                var impulseX = normalX * normalImpulse + tangentX * tangentImpulse,\n                    impulseY = normalY * normalImpulse + tangentY * tangentImpulse;\n                \n                // apply impulse from contact\n                if (!(bodyA.isStatic || bodyA.isSleeping)) {\n                    bodyA.positionPrev.x += impulseX * bodyA.inverseMass;\n                    bodyA.positionPrev.y += impulseY * bodyA.inverseMass;\n                    bodyA.anglePrev += (offsetAX * impulseY - offsetAY * impulseX) * bodyA.inverseInertia;\n                }\n\n                if (!(bodyB.isStatic || bodyB.isSleeping)) {\n                    bodyB.positionPrev.x -= impulseX * bodyB.inverseMass;\n                    bodyB.positionPrev.y -= impulseY * bodyB.inverseMass;\n                    bodyB.anglePrev -= (offsetBX * impulseY - offsetBY * impulseX) * bodyB.inverseInertia;\n                }\n            }\n        }\n    };\n\n})();\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Pairs` module contains methods for creating and manipulating collision pair sets.\n*\n* @class Pairs\n*/\n\nvar Pairs = {};\n\nmodule.exports = Pairs;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Creates a new pairs structure.\n     * @method create\n     * @param {object} options\n     * @return {pairs} A new pairs structure\n     */\n    Pairs.create = function(options) {\n        return Common.extend({ \n            table: {},\n            list: [],\n            collisionStart: [],\n            collisionActive: [],\n            collisionEnd: []\n        }, options);\n    };\n\n    /**\n     * Updates pairs given a list of collisions.\n     * @method update\n     * @param {object} pairs\n     * @param {collision[]} collisions\n     * @param {number} timestamp\n     */\n    Pairs.update = function(pairs, collisions, timestamp) {\n        var pairsList = pairs.list,\n            pairsListLength = pairsList.length,\n            pairsTable = pairs.table,\n            collisionsLength = collisions.length,\n            collisionStart = pairs.collisionStart,\n            collisionEnd = pairs.collisionEnd,\n            collisionActive = pairs.collisionActive,\n            collision,\n            pairIndex,\n            pair,\n            i;\n\n        // clear collision state arrays, but maintain old reference\n        collisionStart.length = 0;\n        collisionEnd.length = 0;\n        collisionActive.length = 0;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pairsList[i].confirmedActive = false;\n        }\n\n        for (i = 0; i < collisionsLength; i++) {\n            collision = collisions[i];\n            pair = collision.pair;\n\n            if (pair) {\n                // pair already exists (but may or may not be active)\n                if (pair.isActive) {\n                    // pair exists and is active\n                    collisionActive.push(pair);\n                } else {\n                    // pair exists but was inactive, so a collision has just started again\n                    collisionStart.push(pair);\n                }\n\n                // update the pair\n                Pair.update(pair, collision, timestamp);\n                pair.confirmedActive = true;\n            } else {\n                // pair did not exist, create a new pair\n                pair = Pair.create(collision, timestamp);\n                pairsTable[pair.id] = pair;\n\n                // push the new pair\n                collisionStart.push(pair);\n                pairsList.push(pair);\n            }\n        }\n\n        // find pairs that are no longer active\n        var removePairIndex = [];\n        pairsListLength = pairsList.length;\n\n        for (i = 0; i < pairsListLength; i++) {\n            pair = pairsList[i];\n            \n            if (!pair.confirmedActive) {\n                Pair.setActive(pair, false, timestamp);\n                collisionEnd.push(pair);\n\n                if (!pair.collision.bodyA.isSleeping && !pair.collision.bodyB.isSleeping) {\n                    removePairIndex.push(i);\n                }\n            }\n        }\n\n        // remove inactive pairs\n        for (i = 0; i < removePairIndex.length; i++) {\n            pairIndex = removePairIndex[i] - i;\n            pair = pairsList[pairIndex];\n            pairsList.splice(pairIndex, 1);\n            delete pairsTable[pair.id];\n        }\n    };\n\n    /**\n     * Clears the given pairs structure.\n     * @method clear\n     * @param {pairs} pairs\n     * @return {pairs} pairs\n     */\n    Pairs.clear = function(pairs) {\n        pairs.table = {};\n        pairs.list.length = 0;\n        pairs.collisionStart.length = 0;\n        pairs.collisionActive.length = 0;\n        pairs.collisionEnd.length = 0;\n        return pairs;\n    };\n\n})();\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Matter = module.exports = __webpack_require__(22);\r\n\r\nMatter.Axes = __webpack_require__(11);\r\nMatter.Bodies = __webpack_require__(12);\r\nMatter.Body = __webpack_require__(6);\r\nMatter.Bounds = __webpack_require__(1);\r\nMatter.Collision = __webpack_require__(8);\r\nMatter.Common = __webpack_require__(0);\r\nMatter.Composite = __webpack_require__(5);\r\nMatter.Composites = __webpack_require__(23);\r\nMatter.Constraint = __webpack_require__(10);\r\nMatter.Contact = __webpack_require__(17);\r\nMatter.Detector = __webpack_require__(14);\r\nMatter.Engine = __webpack_require__(18);\r\nMatter.Events = __webpack_require__(4);\r\nMatter.Grid = __webpack_require__(24);\r\nMatter.Mouse = __webpack_require__(13);\r\nMatter.MouseConstraint = __webpack_require__(25);\r\nMatter.Pair = __webpack_require__(9);\r\nMatter.Pairs = __webpack_require__(20);\r\nMatter.Plugin = __webpack_require__(15);\r\nMatter.Query = __webpack_require__(26);\r\nMatter.Render = __webpack_require__(16);\r\nMatter.Resolver = __webpack_require__(19);\r\nMatter.Runner = __webpack_require__(27);\r\nMatter.SAT = __webpack_require__(28);\r\nMatter.Sleeping = __webpack_require__(7);\r\nMatter.Svg = __webpack_require__(29);\r\nMatter.Vector = __webpack_require__(2);\r\nMatter.Vertices = __webpack_require__(3);\r\nMatter.World = __webpack_require__(30);\r\n\r\n// temporary back compatibility\r\nMatter.Engine.run = Matter.Runner.run;\r\nMatter.Common.deprecated(Matter.Engine, 'run', 'Engine.run  use Matter.Runner.run(engine) instead');\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\r\n* The `Matter` module is the top level namespace. It also includes a function for installing plugins on top of the library.\r\n*\r\n* @class Matter\r\n*/\r\n\r\nvar Matter = {};\r\n\r\nmodule.exports = Matter;\r\n\r\nvar Plugin = __webpack_require__(15);\r\nvar Common = __webpack_require__(0);\r\n\r\n(function() {\r\n\r\n    /**\r\n     * The library name.\r\n     * @property name\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.name = 'matter-js';\r\n\r\n    /**\r\n     * The library version.\r\n     * @property version\r\n     * @readOnly\r\n     * @type {String}\r\n     */\r\n    Matter.version =  true ? \"0.18.0\" : undefined;\r\n\r\n    /**\r\n     * A list of plugin dependencies to be installed. These are normally set and installed through `Matter.use`.\r\n     * Alternatively you may set `Matter.uses` manually and install them by calling `Plugin.use(Matter)`.\r\n     * @property uses\r\n     * @type {Array}\r\n     */\r\n    Matter.uses = [];\r\n\r\n    /**\r\n     * The plugins that have been installed through `Matter.Plugin.install`. Read only.\r\n     * @property used\r\n     * @readOnly\r\n     * @type {Array}\r\n     */\r\n    Matter.used = [];\r\n\r\n    /**\r\n     * Installs the given plugins on the `Matter` namespace.\r\n     * This is a short-hand for `Plugin.use`, see it for more information.\r\n     * Call this function once at the start of your code, with all of the plugins you wish to install as arguments.\r\n     * Avoid calling this function multiple times unless you intend to manually control installation order.\r\n     * @method use\r\n     * @param ...plugin {Function} The plugin(s) to install on `base` (multi-argument).\r\n     */\r\n    Matter.use = function() {\r\n        Plugin.use(Matter, Array.prototype.slice.call(arguments));\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute before the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method before\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain before the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.before = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathBefore(Matter, path, func);\r\n    };\r\n\r\n    /**\r\n     * Chains a function to excute after the original function on the given `path` relative to `Matter`.\r\n     * See also docs for `Common.chain`.\r\n     * @method after\r\n     * @param {string} path The path relative to `Matter`\r\n     * @param {function} func The function to chain after the original\r\n     * @return {function} The chained function that replaced the original\r\n     */\r\n    Matter.after = function(path, func) {\r\n        path = path.replace(/^Matter./, '');\r\n        return Common.chainPathAfter(Matter, path, func);\r\n    };\r\n\r\n})();\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Composites` module contains factory methods for creating composite bodies\n* with commonly used configurations (such as stacks and chains).\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Composites\n*/\n\nvar Composites = {};\n\nmodule.exports = Composites;\n\nvar Composite = __webpack_require__(5);\nvar Constraint = __webpack_require__(10);\nvar Common = __webpack_require__(0);\nvar Body = __webpack_require__(6);\nvar Bodies = __webpack_require__(12);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Create a new composite containing bodies created in the callback in a grid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method stack\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.stack = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        var stack = Composite.create({ label: 'Stack' }),\n            x = xx,\n            y = yy,\n            lastBody,\n            i = 0;\n\n        for (var row = 0; row < rows; row++) {\n            var maxHeight = 0;\n            \n            for (var column = 0; column < columns; column++) {\n                var body = callback(x, y, column, row, lastBody, i);\n                    \n                if (body) {\n                    var bodyHeight = body.bounds.max.y - body.bounds.min.y,\n                        bodyWidth = body.bounds.max.x - body.bounds.min.x; \n\n                    if (bodyHeight > maxHeight)\n                        maxHeight = bodyHeight;\n                    \n                    Body.translate(body, { x: bodyWidth * 0.5, y: bodyHeight * 0.5 });\n\n                    x = body.bounds.max.x + columnGap;\n\n                    Composite.addBody(stack, body);\n                    \n                    lastBody = body;\n                    i += 1;\n                } else {\n                    x += columnGap;\n                }\n            }\n            \n            y += maxHeight + rowGap;\n            x = xx;\n        }\n\n        return stack;\n    };\n    \n    /**\n     * Chains all bodies in the given composite together using constraints.\n     * @method chain\n     * @param {composite} composite\n     * @param {number} xOffsetA\n     * @param {number} yOffsetA\n     * @param {number} xOffsetB\n     * @param {number} yOffsetB\n     * @param {object} options\n     * @return {composite} A new composite containing objects chained together with constraints\n     */\n    Composites.chain = function(composite, xOffsetA, yOffsetA, xOffsetB, yOffsetB, options) {\n        var bodies = composite.bodies;\n        \n        for (var i = 1; i < bodies.length; i++) {\n            var bodyA = bodies[i - 1],\n                bodyB = bodies[i],\n                bodyAHeight = bodyA.bounds.max.y - bodyA.bounds.min.y,\n                bodyAWidth = bodyA.bounds.max.x - bodyA.bounds.min.x, \n                bodyBHeight = bodyB.bounds.max.y - bodyB.bounds.min.y,\n                bodyBWidth = bodyB.bounds.max.x - bodyB.bounds.min.x;\n        \n            var defaults = {\n                bodyA: bodyA,\n                pointA: { x: bodyAWidth * xOffsetA, y: bodyAHeight * yOffsetA },\n                bodyB: bodyB,\n                pointB: { x: bodyBWidth * xOffsetB, y: bodyBHeight * yOffsetB }\n            };\n            \n            var constraint = Common.extend(defaults, options);\n        \n            Composite.addConstraint(composite, Constraint.create(constraint));\n        }\n\n        composite.label += ' Chain';\n        \n        return composite;\n    };\n\n    /**\n     * Connects bodies in the composite with constraints in a grid pattern, with optional cross braces.\n     * @method mesh\n     * @param {composite} composite\n     * @param {number} columns\n     * @param {number} rows\n     * @param {boolean} crossBrace\n     * @param {object} options\n     * @return {composite} The composite containing objects meshed together with constraints\n     */\n    Composites.mesh = function(composite, columns, rows, crossBrace, options) {\n        var bodies = composite.bodies,\n            row,\n            col,\n            bodyA,\n            bodyB,\n            bodyC;\n        \n        for (row = 0; row < rows; row++) {\n            for (col = 1; col < columns; col++) {\n                bodyA = bodies[(col - 1) + (row * columns)];\n                bodyB = bodies[col + (row * columns)];\n                Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n            }\n\n            if (row > 0) {\n                for (col = 0; col < columns; col++) {\n                    bodyA = bodies[col + ((row - 1) * columns)];\n                    bodyB = bodies[col + (row * columns)];\n                    Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyA, bodyB: bodyB }, options)));\n\n                    if (crossBrace && col > 0) {\n                        bodyC = bodies[(col - 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n\n                    if (crossBrace && col < columns - 1) {\n                        bodyC = bodies[(col + 1) + ((row - 1) * columns)];\n                        Composite.addConstraint(composite, Constraint.create(Common.extend({ bodyA: bodyC, bodyB: bodyB }, options)));\n                    }\n                }\n            }\n        }\n\n        composite.label += ' Mesh';\n        \n        return composite;\n    };\n    \n    /**\n     * Create a new composite containing bodies created in the callback in a pyramid arrangement.\n     * This function uses the body's bounds to prevent overlaps.\n     * @method pyramid\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {function} callback\n     * @return {composite} A new composite containing objects created in the callback\n     */\n    Composites.pyramid = function(xx, yy, columns, rows, columnGap, rowGap, callback) {\n        return Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y, column, row, lastBody, i) {\n            var actualRows = Math.min(rows, Math.ceil(columns / 2)),\n                lastBodyWidth = lastBody ? lastBody.bounds.max.x - lastBody.bounds.min.x : 0;\n            \n            if (row > actualRows)\n                return;\n            \n            // reverse row order\n            row = actualRows - row;\n            \n            var start = row,\n                end = columns - 1 - row;\n\n            if (column < start || column > end)\n                return;\n            \n            // retroactively fix the first body's position, since width was unknown\n            if (i === 1) {\n                Body.translate(lastBody, { x: (column + (columns % 2 === 1 ? 1 : -1)) * lastBodyWidth, y: 0 });\n            }\n\n            var xOffset = lastBody ? column * lastBodyWidth : 0;\n            \n            return callback(xx + xOffset + column * columnGap, y, column, row, lastBody, i);\n        });\n    };\n\n    /**\n     * This has now moved to the [newtonsCradle example](https://github.com/liabru/matter-js/blob/master/examples/newtonsCradle.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to newtonsCradle example\n     * @method newtonsCradle\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} number\n     * @param {number} size\n     * @param {number} length\n     * @return {composite} A new composite newtonsCradle body\n     */\n    Composites.newtonsCradle = function(xx, yy, number, size, length) {\n        var newtonsCradle = Composite.create({ label: 'Newtons Cradle' });\n\n        for (var i = 0; i < number; i++) {\n            var separation = 1.9,\n                circle = Bodies.circle(xx + i * (size * separation), yy + length, size, \n                    { inertia: Infinity, restitution: 1, friction: 0, frictionAir: 0.0001, slop: 1 }),\n                constraint = Constraint.create({ pointA: { x: xx + i * (size * separation), y: yy }, bodyB: circle });\n\n            Composite.addBody(newtonsCradle, circle);\n            Composite.addConstraint(newtonsCradle, constraint);\n        }\n\n        return newtonsCradle;\n    };\n\n    deprecated(Composites, 'newtonsCradle', 'Composites.newtonsCradle  moved to newtonsCradle example');\n    \n    /**\n     * This has now moved to the [car example](https://github.com/liabru/matter-js/blob/master/examples/car.js), follow that instead as this function is deprecated here.\n     * @deprecated moved to car example\n     * @method car\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} width\n     * @param {number} height\n     * @param {number} wheelSize\n     * @return {composite} A new composite car body\n     */\n    Composites.car = function(xx, yy, width, height, wheelSize) {\n        var group = Body.nextGroup(true),\n            wheelBase = 20,\n            wheelAOffset = -width * 0.5 + wheelBase,\n            wheelBOffset = width * 0.5 - wheelBase,\n            wheelYOffset = 0;\n    \n        var car = Composite.create({ label: 'Car' }),\n            body = Bodies.rectangle(xx, yy, width, height, { \n                collisionFilter: {\n                    group: group\n                },\n                chamfer: {\n                    radius: height * 0.5\n                },\n                density: 0.0002\n            });\n    \n        var wheelA = Bodies.circle(xx + wheelAOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var wheelB = Bodies.circle(xx + wheelBOffset, yy + wheelYOffset, wheelSize, { \n            collisionFilter: {\n                group: group\n            },\n            friction: 0.8\n        });\n                    \n        var axelA = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelAOffset, y: wheelYOffset },\n            bodyA: wheelA,\n            stiffness: 1,\n            length: 0\n        });\n                        \n        var axelB = Constraint.create({\n            bodyB: body,\n            pointB: { x: wheelBOffset, y: wheelYOffset },\n            bodyA: wheelB,\n            stiffness: 1,\n            length: 0\n        });\n        \n        Composite.addBody(car, body);\n        Composite.addBody(car, wheelA);\n        Composite.addBody(car, wheelB);\n        Composite.addConstraint(car, axelA);\n        Composite.addConstraint(car, axelB);\n\n        return car;\n    };\n\n    deprecated(Composites, 'car', 'Composites.car  moved to car example');\n\n    /**\n     * This has now moved to the [softBody example](https://github.com/liabru/matter-js/blob/master/examples/softBody.js)\n     * and the [cloth example](https://github.com/liabru/matter-js/blob/master/examples/cloth.js), follow those instead as this function is deprecated here.\n     * @deprecated moved to softBody and cloth examples\n     * @method softBody\n     * @param {number} xx\n     * @param {number} yy\n     * @param {number} columns\n     * @param {number} rows\n     * @param {number} columnGap\n     * @param {number} rowGap\n     * @param {boolean} crossBrace\n     * @param {number} particleRadius\n     * @param {} particleOptions\n     * @param {} constraintOptions\n     * @return {composite} A new composite softBody\n     */\n    Composites.softBody = function(xx, yy, columns, rows, columnGap, rowGap, crossBrace, particleRadius, particleOptions, constraintOptions) {\n        particleOptions = Common.extend({ inertia: Infinity }, particleOptions);\n        constraintOptions = Common.extend({ stiffness: 0.2, render: { type: 'line', anchors: false } }, constraintOptions);\n\n        var softBody = Composites.stack(xx, yy, columns, rows, columnGap, rowGap, function(x, y) {\n            return Bodies.circle(x, y, particleRadius, particleOptions);\n        });\n\n        Composites.mesh(softBody, columns, rows, crossBrace, constraintOptions);\n\n        softBody.label = 'Soft Body';\n\n        return softBody;\n    };\n\n    deprecated(Composites, 'softBody', 'Composites.softBody  moved to softBody and cloth examples');\n})();\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Detector`.\n*\n* All usage should be migrated to `Matter.Detector` or another alternative.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.Grid` module contains methods for creating and manipulating collision broadphase grid structures.\n*\n* @class Grid\n* @deprecated\n*/\n\nvar Grid = {};\n\nmodule.exports = Grid;\n\nvar Pair = __webpack_require__(9);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Creates a new grid.\n     * @deprecated replaced by Matter.Detector\n     * @method create\n     * @param {} options\n     * @return {grid} A new grid\n     */\n    Grid.create = function(options) {\n        var defaults = {\n            buckets: {},\n            pairs: {},\n            pairsList: [],\n            bucketWidth: 48,\n            bucketHeight: 48\n        };\n\n        return Common.extend(defaults, options);\n    };\n\n    /**\n     * The width of a single grid bucket.\n     *\n     * @property bucketWidth\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * The height of a single grid bucket.\n     *\n     * @property bucketHeight\n     * @type number\n     * @default 48\n     */\n\n    /**\n     * Updates the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method update\n     * @param {grid} grid\n     * @param {body[]} bodies\n     * @param {engine} engine\n     * @param {boolean} forceUpdate\n     */\n    Grid.update = function(grid, bodies, engine, forceUpdate) {\n        var i, col, row,\n            world = engine.world,\n            buckets = grid.buckets,\n            bucket,\n            bucketId,\n            gridChanged = false;\n\n        for (i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n\n            if (body.isSleeping && !forceUpdate)\n                continue;\n\n            // temporary back compatibility bounds check\n            if (world.bounds && (body.bounds.max.x < world.bounds.min.x || body.bounds.min.x > world.bounds.max.x\n                || body.bounds.max.y < world.bounds.min.y || body.bounds.min.y > world.bounds.max.y))\n                continue;\n\n            var newRegion = Grid._getRegion(grid, body);\n\n            // if the body has changed grid region\n            if (!body.region || newRegion.id !== body.region.id || forceUpdate) {\n\n                if (!body.region || forceUpdate)\n                    body.region = newRegion;\n\n                var union = Grid._regionUnion(newRegion, body.region);\n\n                // update grid buckets affected by region change\n                // iterate over the union of both regions\n                for (col = union.startCol; col <= union.endCol; col++) {\n                    for (row = union.startRow; row <= union.endRow; row++) {\n                        bucketId = Grid._getBucketId(col, row);\n                        bucket = buckets[bucketId];\n\n                        var isInsideNewRegion = (col >= newRegion.startCol && col <= newRegion.endCol\n                                                && row >= newRegion.startRow && row <= newRegion.endRow);\n\n                        var isInsideOldRegion = (col >= body.region.startCol && col <= body.region.endCol\n                                                && row >= body.region.startRow && row <= body.region.endRow);\n\n                        // remove from old region buckets\n                        if (!isInsideNewRegion && isInsideOldRegion) {\n                            if (isInsideOldRegion) {\n                                if (bucket)\n                                    Grid._bucketRemoveBody(grid, bucket, body);\n                            }\n                        }\n\n                        // add to new region buckets\n                        if (body.region === newRegion || (isInsideNewRegion && !isInsideOldRegion) || forceUpdate) {\n                            if (!bucket)\n                                bucket = Grid._createBucket(buckets, bucketId);\n                            Grid._bucketAddBody(grid, bucket, body);\n                        }\n                    }\n                }\n\n                // set the new region\n                body.region = newRegion;\n\n                // flag changes so we can update pairs\n                gridChanged = true;\n            }\n        }\n\n        // update pairs list only if pairs changed (i.e. a body changed region)\n        if (gridChanged)\n            grid.pairsList = Grid._createActivePairsList(grid);\n    };\n\n    deprecated(Grid, 'update', 'Grid.update  replaced by Matter.Detector');\n\n    /**\n     * Clears the grid.\n     * @deprecated replaced by Matter.Detector\n     * @method clear\n     * @param {grid} grid\n     */\n    Grid.clear = function(grid) {\n        grid.buckets = {};\n        grid.pairs = {};\n        grid.pairsList = [];\n    };\n\n    deprecated(Grid, 'clear', 'Grid.clear  replaced by Matter.Detector');\n\n    /**\n     * Finds the union of two regions.\n     * @method _regionUnion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} regionA\n     * @param {} regionB\n     * @return {} region\n     */\n    Grid._regionUnion = function(regionA, regionB) {\n        var startCol = Math.min(regionA.startCol, regionB.startCol),\n            endCol = Math.max(regionA.endCol, regionB.endCol),\n            startRow = Math.min(regionA.startRow, regionB.startRow),\n            endRow = Math.max(regionA.endRow, regionB.endRow);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Gets the region a given body falls in for a given grid.\n     * @method _getRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} body\n     * @return {} region\n     */\n    Grid._getRegion = function(grid, body) {\n        var bounds = body.bounds,\n            startCol = Math.floor(bounds.min.x / grid.bucketWidth),\n            endCol = Math.floor(bounds.max.x / grid.bucketWidth),\n            startRow = Math.floor(bounds.min.y / grid.bucketHeight),\n            endRow = Math.floor(bounds.max.y / grid.bucketHeight);\n\n        return Grid._createRegion(startCol, endCol, startRow, endRow);\n    };\n\n    /**\n     * Creates a region.\n     * @method _createRegion\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} startCol\n     * @param {} endCol\n     * @param {} startRow\n     * @param {} endRow\n     * @return {} region\n     */\n    Grid._createRegion = function(startCol, endCol, startRow, endRow) {\n        return { \n            id: startCol + ',' + endCol + ',' + startRow + ',' + endRow,\n            startCol: startCol, \n            endCol: endCol, \n            startRow: startRow, \n            endRow: endRow \n        };\n    };\n\n    /**\n     * Gets the bucket id at the given position.\n     * @method _getBucketId\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} column\n     * @param {} row\n     * @return {string} bucket id\n     */\n    Grid._getBucketId = function(column, row) {\n        return 'C' + column + 'R' + row;\n    };\n\n    /**\n     * Creates a bucket.\n     * @method _createBucket\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} buckets\n     * @param {} bucketId\n     * @return {} bucket\n     */\n    Grid._createBucket = function(buckets, bucketId) {\n        var bucket = buckets[bucketId] = [];\n        return bucket;\n    };\n\n    /**\n     * Adds a body to a bucket.\n     * @method _bucketAddBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketAddBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            bucketLength = bucket.length,\n            i;\n\n        // add new pairs\n        for (i = 0; i < bucketLength; i++) {\n            var bodyB = bucket[i];\n\n            if (body.id === bodyB.id || (body.isStatic && bodyB.isStatic))\n                continue;\n\n            // keep track of the number of buckets the pair exists in\n            // important for Grid.update to work\n            var id = pairId(body, bodyB),\n                pair = gridPairs[id];\n\n            if (pair) {\n                pair[2] += 1;\n            } else {\n                gridPairs[id] = [body, bodyB, 1];\n            }\n        }\n\n        // add to bodies (after pairs, otherwise pairs with self)\n        bucket.push(body);\n    };\n\n    /**\n     * Removes a body from a bucket.\n     * @method _bucketRemoveBody\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @param {} bucket\n     * @param {} body\n     */\n    Grid._bucketRemoveBody = function(grid, bucket, body) {\n        var gridPairs = grid.pairs,\n            pairId = Pair.id,\n            i;\n\n        // remove from bucket\n        bucket.splice(Common.indexOf(bucket, body), 1);\n\n        var bucketLength = bucket.length;\n\n        // update pair counts\n        for (i = 0; i < bucketLength; i++) {\n            // keep track of the number of buckets the pair exists in\n            // important for _createActivePairsList to work\n            var pair = gridPairs[pairId(body, bucket[i])];\n\n            if (pair)\n                pair[2] -= 1;\n        }\n    };\n\n    /**\n     * Generates a list of the active pairs in the grid.\n     * @method _createActivePairsList\n     * @deprecated replaced by Matter.Detector\n     * @private\n     * @param {} grid\n     * @return [] pairs\n     */\n    Grid._createActivePairsList = function(grid) {\n        var pair,\n            gridPairs = grid.pairs,\n            pairKeys = Common.keys(gridPairs),\n            pairKeysLength = pairKeys.length,\n            pairs = [],\n            k;\n\n        // iterate over grid.pairs\n        for (k = 0; k < pairKeysLength; k++) {\n            pair = gridPairs[pairKeys[k]];\n\n            // if pair exists in at least one bucket\n            // it is a pair that needs further collision testing so push it\n            if (pair[2] > 0) {\n                pairs.push(pair);\n            } else {\n                delete gridPairs[pairKeys[k]];\n            }\n        }\n\n        return pairs;\n    };\n    \n})();\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.MouseConstraint` module contains methods for creating mouse constraints.\n* Mouse constraints are used for allowing user interaction, providing the ability to move bodies via the mouse or touch.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class MouseConstraint\n*/\n\nvar MouseConstraint = {};\n\nmodule.exports = MouseConstraint;\n\nvar Vertices = __webpack_require__(3);\nvar Sleeping = __webpack_require__(7);\nvar Mouse = __webpack_require__(13);\nvar Events = __webpack_require__(4);\nvar Detector = __webpack_require__(14);\nvar Constraint = __webpack_require__(10);\nvar Composite = __webpack_require__(5);\nvar Common = __webpack_require__(0);\nvar Bounds = __webpack_require__(1);\n\n(function() {\n\n    /**\n     * Creates a new mouse constraint.\n     * All properties have default values, and many are pre-calculated automatically based on other properties.\n     * See the properties section below for detailed information on what you can pass via the `options` object.\n     * @method create\n     * @param {engine} engine\n     * @param {} options\n     * @return {MouseConstraint} A new MouseConstraint\n     */\n    MouseConstraint.create = function(engine, options) {\n        var mouse = (engine ? engine.mouse : null) || (options ? options.mouse : null);\n\n        if (!mouse) {\n            if (engine && engine.render && engine.render.canvas) {\n                mouse = Mouse.create(engine.render.canvas);\n            } else if (options && options.element) {\n                mouse = Mouse.create(options.element);\n            } else {\n                mouse = Mouse.create();\n                Common.warn('MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected');\n            }\n        }\n\n        var constraint = Constraint.create({ \n            label: 'Mouse Constraint',\n            pointA: mouse.position,\n            pointB: { x: 0, y: 0 },\n            length: 0.01, \n            stiffness: 0.1,\n            angularStiffness: 1,\n            render: {\n                strokeStyle: '#90EE90',\n                lineWidth: 3\n            }\n        });\n\n        var defaults = {\n            type: 'mouseConstraint',\n            mouse: mouse,\n            element: null,\n            body: null,\n            constraint: constraint,\n            collisionFilter: {\n                category: 0x0001,\n                mask: 0xFFFFFFFF,\n                group: 0\n            }\n        };\n\n        var mouseConstraint = Common.extend(defaults, options);\n\n        Events.on(engine, 'beforeUpdate', function() {\n            var allBodies = Composite.allBodies(engine.world);\n            MouseConstraint.update(mouseConstraint, allBodies);\n            MouseConstraint._triggerEvents(mouseConstraint);\n        });\n\n        return mouseConstraint;\n    };\n\n    /**\n     * Updates the given mouse constraint.\n     * @private\n     * @method update\n     * @param {MouseConstraint} mouseConstraint\n     * @param {body[]} bodies\n     */\n    MouseConstraint.update = function(mouseConstraint, bodies) {\n        var mouse = mouseConstraint.mouse,\n            constraint = mouseConstraint.constraint,\n            body = mouseConstraint.body;\n\n        if (mouse.button === 0) {\n            if (!constraint.bodyB) {\n                for (var i = 0; i < bodies.length; i++) {\n                    body = bodies[i];\n                    if (Bounds.contains(body.bounds, mouse.position) \n                            && Detector.canCollide(body.collisionFilter, mouseConstraint.collisionFilter)) {\n                        for (var j = body.parts.length > 1 ? 1 : 0; j < body.parts.length; j++) {\n                            var part = body.parts[j];\n                            if (Vertices.contains(part.vertices, mouse.position)) {\n                                constraint.pointA = mouse.position;\n                                constraint.bodyB = mouseConstraint.body = body;\n                                constraint.pointB = { x: mouse.position.x - body.position.x, y: mouse.position.y - body.position.y };\n                                constraint.angleB = body.angle;\n\n                                Sleeping.set(body, false);\n                                Events.trigger(mouseConstraint, 'startdrag', { mouse: mouse, body: body });\n\n                                break;\n                            }\n                        }\n                    }\n                }\n            } else {\n                Sleeping.set(constraint.bodyB, false);\n                constraint.pointA = mouse.position;\n            }\n        } else {\n            constraint.bodyB = mouseConstraint.body = null;\n            constraint.pointB = null;\n\n            if (body)\n                Events.trigger(mouseConstraint, 'enddrag', { mouse: mouse, body: body });\n        }\n    };\n\n    /**\n     * Triggers mouse constraint events.\n     * @method _triggerEvents\n     * @private\n     * @param {mouse} mouseConstraint\n     */\n    MouseConstraint._triggerEvents = function(mouseConstraint) {\n        var mouse = mouseConstraint.mouse,\n            mouseEvents = mouse.sourceEvents;\n\n        if (mouseEvents.mousemove)\n            Events.trigger(mouseConstraint, 'mousemove', { mouse: mouse });\n\n        if (mouseEvents.mousedown)\n            Events.trigger(mouseConstraint, 'mousedown', { mouse: mouse });\n\n        if (mouseEvents.mouseup)\n            Events.trigger(mouseConstraint, 'mouseup', { mouse: mouse });\n\n        // reset the mouse state ready for the next step\n        Mouse.clearSourceEvents(mouse);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired when the mouse has moved (or a touch moves) during the last step\n    *\n    * @event mousemove\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is down (or a touch has started) during the last step\n    *\n    * @event mousedown\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the mouse is up (or a touch has ended) during the last step\n    *\n    * @event mouseup\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user starts dragging a body\n    *\n    * @event startdrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired when the user ends dragging a body\n    *\n    * @event enddrag\n    * @param {} event An event object\n    * @param {mouse} event.mouse The engine's mouse instance\n    * @param {body} event.body The body that has stopped being dragged\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A `String` denoting the type of object.\n     *\n     * @property type\n     * @type string\n     * @default \"constraint\"\n     * @readOnly\n     */\n\n    /**\n     * The `Mouse` instance in use. If not supplied in `MouseConstraint.create`, one will be created.\n     *\n     * @property mouse\n     * @type mouse\n     * @default mouse\n     */\n\n    /**\n     * The `Body` that is currently being moved by the user, or `null` if no body.\n     *\n     * @property body\n     * @type body\n     * @default null\n     */\n\n    /**\n     * The `Constraint` object that is used to move the body during interaction.\n     *\n     * @property constraint\n     * @type constraint\n     */\n\n    /**\n     * An `Object` that specifies the collision filter properties.\n     * The collision filter allows the user to define which types of body this mouse constraint can interact with.\n     * See `body.collisionFilter` for more information.\n     *\n     * @property collisionFilter\n     * @type object\n     */\n\n})();\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Query` module contains methods for performing collision queries.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Query\n*/\n\nvar Query = {};\n\nmodule.exports = Query;\n\nvar Vector = __webpack_require__(2);\nvar Collision = __webpack_require__(8);\nvar Bounds = __webpack_require__(1);\nvar Bodies = __webpack_require__(12);\nvar Vertices = __webpack_require__(3);\n\n(function() {\n\n    /**\n     * Returns a list of collisions between `body` and `bodies`.\n     * @method collides\n     * @param {body} body\n     * @param {body[]} bodies\n     * @return {collision[]} Collisions\n     */\n    Query.collides = function(body, bodies) {\n        var collisions = [],\n            bodiesLength = bodies.length,\n            bounds = body.bounds,\n            collides = Collision.collides,\n            overlaps = Bounds.overlaps;\n\n        for (var i = 0; i < bodiesLength; i++) {\n            var bodyA = bodies[i],\n                partsALength = bodyA.parts.length,\n                partsAStart = partsALength === 1 ? 0 : 1;\n            \n            if (overlaps(bodyA.bounds, bounds)) {\n                for (var j = partsAStart; j < partsALength; j++) {\n                    var part = bodyA.parts[j];\n\n                    if (overlaps(part.bounds, bounds)) {\n                        var collision = collides(part, body);\n\n                        if (collision) {\n                            collisions.push(collision);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n\n        return collisions;\n    };\n\n    /**\n     * Casts a ray segment against a set of bodies and returns all collisions, ray width is optional. Intersection points are not provided.\n     * @method ray\n     * @param {body[]} bodies\n     * @param {vector} startPoint\n     * @param {vector} endPoint\n     * @param {number} [rayWidth]\n     * @return {collision[]} Collisions\n     */\n    Query.ray = function(bodies, startPoint, endPoint, rayWidth) {\n        rayWidth = rayWidth || 1e-100;\n\n        var rayAngle = Vector.angle(startPoint, endPoint),\n            rayLength = Vector.magnitude(Vector.sub(startPoint, endPoint)),\n            rayX = (endPoint.x + startPoint.x) * 0.5,\n            rayY = (endPoint.y + startPoint.y) * 0.5,\n            ray = Bodies.rectangle(rayX, rayY, rayLength, rayWidth, { angle: rayAngle }),\n            collisions = Query.collides(ray, bodies);\n\n        for (var i = 0; i < collisions.length; i += 1) {\n            var collision = collisions[i];\n            collision.body = collision.bodyB = collision.bodyA;            \n        }\n\n        return collisions;\n    };\n\n    /**\n     * Returns all bodies whose bounds are inside (or outside if set) the given set of bounds, from the given set of bodies.\n     * @method region\n     * @param {body[]} bodies\n     * @param {bounds} bounds\n     * @param {bool} [outside=false]\n     * @return {body[]} The bodies matching the query\n     */\n    Query.region = function(bodies, bounds, outside) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i],\n                overlaps = Bounds.overlaps(body.bounds, bounds);\n            if ((overlaps && !outside) || (!overlaps && outside))\n                result.push(body);\n        }\n\n        return result;\n    };\n\n    /**\n     * Returns all bodies whose vertices contain the given point, from the given set of bodies.\n     * @method point\n     * @param {body[]} bodies\n     * @param {vector} point\n     * @return {body[]} The bodies matching the query\n     */\n    Query.point = function(bodies, point) {\n        var result = [];\n\n        for (var i = 0; i < bodies.length; i++) {\n            var body = bodies[i];\n            \n            if (Bounds.contains(body.bounds, point)) {\n                for (var j = body.parts.length === 1 ? 0 : 1; j < body.parts.length; j++) {\n                    var part = body.parts[j];\n\n                    if (Bounds.contains(part.bounds, point)\n                        && Vertices.contains(part.vertices, point)) {\n                        result.push(body);\n                        break;\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n\n})();\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Runner` module is an optional utility which provides a game loop, \n* that handles continuously updating a `Matter.Engine` for you within a browser.\n* It is intended for development and debugging purposes, but may also be suitable for simple games.\n* If you are using your own game loop instead, then you do not need the `Matter.Runner` module.\n* Instead just call `Engine.update(engine, delta)` in your own loop.\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Runner\n*/\n\nvar Runner = {};\n\nmodule.exports = Runner;\n\nvar Events = __webpack_require__(4);\nvar Engine = __webpack_require__(18);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    var _requestAnimationFrame,\n        _cancelAnimationFrame;\n\n    if (typeof window !== 'undefined') {\n        _requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n                                      || window.mozRequestAnimationFrame || window.msRequestAnimationFrame;\n   \n        _cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame \n                                      || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\n    }\n\n    if (!_requestAnimationFrame) {\n        var _frameTimeout;\n\n        _requestAnimationFrame = function(callback){ \n            _frameTimeout = setTimeout(function() { \n                callback(Common.now()); \n            }, 1000 / 60);\n        };\n\n        _cancelAnimationFrame = function() {\n            clearTimeout(_frameTimeout);\n        };\n    }\n\n    /**\n     * Creates a new Runner. The options parameter is an object that specifies any properties you wish to override the defaults.\n     * @method create\n     * @param {} options\n     */\n    Runner.create = function(options) {\n        var defaults = {\n            fps: 60,\n            correction: 1,\n            deltaSampleSize: 60,\n            counterTimestamp: 0,\n            frameCounter: 0,\n            deltaHistory: [],\n            timePrev: null,\n            timeScalePrev: 1,\n            frameRequestId: null,\n            isFixed: false,\n            enabled: true\n        };\n\n        var runner = Common.extend(defaults, options);\n\n        runner.delta = runner.delta || 1000 / runner.fps;\n        runner.deltaMin = runner.deltaMin || 1000 / runner.fps;\n        runner.deltaMax = runner.deltaMax || 1000 / (runner.fps * 0.5);\n        runner.fps = 1000 / runner.delta;\n\n        return runner;\n    };\n\n    /**\n     * Continuously ticks a `Matter.Engine` by calling `Runner.tick` on the `requestAnimationFrame` event.\n     * @method run\n     * @param {engine} engine\n     */\n    Runner.run = function(runner, engine) {\n        // create runner if engine is first argument\n        if (typeof runner.positionIterations !== 'undefined') {\n            engine = runner;\n            runner = Runner.create();\n        }\n\n        (function render(time){\n            runner.frameRequestId = _requestAnimationFrame(render);\n\n            if (time && runner.enabled) {\n                Runner.tick(runner, engine, time);\n            }\n        })();\n\n        return runner;\n    };\n\n    /**\n     * A game loop utility that updates the engine and renderer by one step (a 'tick').\n     * Features delta smoothing, time correction and fixed or dynamic timing.\n     * Consider just `Engine.update(engine, delta)` if you're using your own loop.\n     * @method tick\n     * @param {runner} runner\n     * @param {engine} engine\n     * @param {number} time\n     */\n    Runner.tick = function(runner, engine, time) {\n        var timing = engine.timing,\n            correction = 1,\n            delta;\n\n        // create an event object\n        var event = {\n            timestamp: timing.timestamp\n        };\n\n        Events.trigger(runner, 'beforeTick', event);\n\n        if (runner.isFixed) {\n            // fixed timestep\n            delta = runner.delta;\n        } else {\n            // dynamic timestep based on wall clock between calls\n            delta = (time - runner.timePrev) || runner.delta;\n            runner.timePrev = time;\n\n            // optimistically filter delta over a few frames, to improve stability\n            runner.deltaHistory.push(delta);\n            runner.deltaHistory = runner.deltaHistory.slice(-runner.deltaSampleSize);\n            delta = Math.min.apply(null, runner.deltaHistory);\n            \n            // limit delta\n            delta = delta < runner.deltaMin ? runner.deltaMin : delta;\n            delta = delta > runner.deltaMax ? runner.deltaMax : delta;\n\n            // correction for delta\n            correction = delta / runner.delta;\n\n            // update engine timing object\n            runner.delta = delta;\n        }\n\n        // time correction for time scaling\n        if (runner.timeScalePrev !== 0)\n            correction *= timing.timeScale / runner.timeScalePrev;\n\n        if (timing.timeScale === 0)\n            correction = 0;\n\n        runner.timeScalePrev = timing.timeScale;\n        runner.correction = correction;\n\n        // fps counter\n        runner.frameCounter += 1;\n        if (time - runner.counterTimestamp >= 1000) {\n            runner.fps = runner.frameCounter * ((time - runner.counterTimestamp) / 1000);\n            runner.counterTimestamp = time;\n            runner.frameCounter = 0;\n        }\n\n        Events.trigger(runner, 'tick', event);\n\n        // update\n        Events.trigger(runner, 'beforeUpdate', event);\n        Engine.update(engine, delta, correction);\n        Events.trigger(runner, 'afterUpdate', event);\n\n        Events.trigger(runner, 'afterTick', event);\n    };\n\n    /**\n     * Ends execution of `Runner.run` on the given `runner`, by canceling the animation frame request event loop.\n     * If you wish to only temporarily pause the engine, see `engine.enabled` instead.\n     * @method stop\n     * @param {runner} runner\n     */\n    Runner.stop = function(runner) {\n        _cancelAnimationFrame(runner.frameRequestId);\n    };\n\n    /**\n     * Alias for `Runner.run`.\n     * @method start\n     * @param {runner} runner\n     * @param {engine} engine\n     */\n    Runner.start = function(runner, engine) {\n        Runner.run(runner, engine);\n    };\n\n    /*\n    *\n    *  Events Documentation\n    *\n    */\n\n    /**\n    * Fired at the start of a tick, before any updates to the engine or timing\n    *\n    * @event beforeTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after engine timing updated, but just before update\n    *\n    * @event tick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired at the end of a tick, after engine update and after rendering\n    *\n    * @event afterTick\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired before update\n    *\n    * @event beforeUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /**\n    * Fired after update\n    *\n    * @event afterUpdate\n    * @param {} event An event object\n    * @param {number} event.timestamp The engine.timing.timestamp of the event\n    * @param {} event.source The source object of the event\n    * @param {} event.name The name of the event\n    */\n\n    /*\n    *\n    *  Properties Documentation\n    *\n    */\n\n    /**\n     * A flag that specifies whether the runner is running or not.\n     *\n     * @property enabled\n     * @type boolean\n     * @default true\n     */\n\n    /**\n     * A `Boolean` that specifies if the runner should use a fixed timestep (otherwise it is variable).\n     * If timing is fixed, then the apparent simulation speed will change depending on the frame rate (but behaviour will be deterministic).\n     * If the timing is variable, then the apparent simulation speed will be constant (approximately, but at the cost of determininism).\n     *\n     * @property isFixed\n     * @type boolean\n     * @default false\n     */\n\n    /**\n     * A `Number` that specifies the time step between updates in milliseconds.\n     * If `engine.timing.isFixed` is set to `true`, then `delta` is fixed.\n     * If it is `false`, then `delta` can dynamically change to maintain the correct apparent simulation speed.\n     *\n     * @property delta\n     * @type number\n     * @default 1000 / 60\n     */\n\n})();\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Collision`.\n*\n* All usage should be migrated to `Matter.Collision`.\n* For back-compatibility purposes this module will remain for a short term and then later removed in a future release.\n*\n* The `Matter.SAT` module contains methods for detecting collisions using the Separating Axis Theorem.\n*\n* @class SAT\n* @deprecated\n*/\n\nvar SAT = {};\n\nmodule.exports = SAT;\n\nvar Collision = __webpack_require__(8);\nvar Common = __webpack_require__(0);\nvar deprecated = Common.deprecated;\n\n(function() {\n\n    /**\n     * Detect collision between two bodies using the Separating Axis Theorem.\n     * @deprecated replaced by Collision.collides\n     * @method collides\n     * @param {body} bodyA\n     * @param {body} bodyB\n     * @return {collision} collision\n     */\n    SAT.collides = function(bodyA, bodyB) {\n        return Collision.collides(bodyA, bodyB);\n    };\n\n    deprecated(SAT, 'collides', 'SAT.collides  replaced by Collision.collides');\n\n})();\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* The `Matter.Svg` module contains methods for converting SVG images into an array of vector points.\n*\n* To use this module you also need the SVGPathSeg polyfill: https://github.com/progers/pathseg\n*\n* See the included usage [examples](https://github.com/liabru/matter-js/tree/master/examples).\n*\n* @class Svg\n*/\n\nvar Svg = {};\n\nmodule.exports = Svg;\n\nvar Bounds = __webpack_require__(1);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * Converts an SVG path into an array of vector points.\n     * If the input path forms a concave shape, you must decompose the result into convex parts before use.\n     * See `Bodies.fromVertices` which provides support for this.\n     * Note that this function is not guaranteed to support complex paths (such as those with holes).\n     * You must load the `pathseg.js` polyfill on newer browsers.\n     * @method pathToVertices\n     * @param {SVGPathElement} path\n     * @param {Number} [sampleLength=15]\n     * @return {Vector[]} points\n     */\n    Svg.pathToVertices = function(path, sampleLength) {\n        if (typeof window !== 'undefined' && !('SVGPathSeg' in window)) {\n            Common.warn('Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.');\n        }\n\n        // https://github.com/wout/svg.topoly.js/blob/master/svg.topoly.js\n        var i, il, total, point, segment, segments, \n            segmentsQueue, lastSegment, \n            lastPoint, segmentIndex, points = [],\n            lx, ly, length = 0, x = 0, y = 0;\n\n        sampleLength = sampleLength || 15;\n\n        var addPoint = function(px, py, pathSegType) {\n            // all odd-numbered path types are relative except PATHSEG_CLOSEPATH (1)\n            var isRelative = pathSegType % 2 === 1 && pathSegType > 1;\n\n            // when the last point doesn't equal the current point add the current point\n            if (!lastPoint || px != lastPoint.x || py != lastPoint.y) {\n                if (lastPoint && isRelative) {\n                    lx = lastPoint.x;\n                    ly = lastPoint.y;\n                } else {\n                    lx = 0;\n                    ly = 0;\n                }\n\n                var point = {\n                    x: lx + px,\n                    y: ly + py\n                };\n\n                // set last point\n                if (isRelative || !lastPoint) {\n                    lastPoint = point;\n                }\n\n                points.push(point);\n\n                x = lx + px;\n                y = ly + py;\n            }\n        };\n\n        var addSegmentPoint = function(segment) {\n            var segType = segment.pathSegTypeAsLetter.toUpperCase();\n\n            // skip path ends\n            if (segType === 'Z') \n                return;\n\n            // map segment to x and y\n            switch (segType) {\n\n            case 'M':\n            case 'L':\n            case 'T':\n            case 'C':\n            case 'S':\n            case 'Q':\n                x = segment.x;\n                y = segment.y;\n                break;\n            case 'H':\n                x = segment.x;\n                break;\n            case 'V':\n                y = segment.y;\n                break;\n            }\n\n            addPoint(x, y, segment.pathSegType);\n        };\n\n        // ensure path is absolute\n        Svg._svgPathToAbsolute(path);\n\n        // get total length\n        total = path.getTotalLength();\n\n        // queue segments\n        segments = [];\n        for (i = 0; i < path.pathSegList.numberOfItems; i += 1)\n            segments.push(path.pathSegList.getItem(i));\n\n        segmentsQueue = segments.concat();\n\n        // sample through path\n        while (length < total) {\n            // get segment at position\n            segmentIndex = path.getPathSegAtLength(length);\n            segment = segments[segmentIndex];\n\n            // new segment\n            if (segment != lastSegment) {\n                while (segmentsQueue.length && segmentsQueue[0] != segment)\n                    addSegmentPoint(segmentsQueue.shift());\n\n                lastSegment = segment;\n            }\n\n            // add points in between when curving\n            // TODO: adaptive sampling\n            switch (segment.pathSegTypeAsLetter.toUpperCase()) {\n\n            case 'C':\n            case 'T':\n            case 'S':\n            case 'Q':\n            case 'A':\n                point = path.getPointAtLength(length);\n                addPoint(point.x, point.y, 0);\n                break;\n\n            }\n\n            // increment by sample value\n            length += sampleLength;\n        }\n\n        // add remaining segments not passed by sampling\n        for (i = 0, il = segmentsQueue.length; i < il; ++i)\n            addSegmentPoint(segmentsQueue[i]);\n\n        return points;\n    };\n\n    Svg._svgPathToAbsolute = function(path) {\n        // http://phrogz.net/convert-svg-path-to-all-absolute-commands\n        // Copyright (c) Gavin Kistner\n        // http://phrogz.net/js/_ReuseLicense.txt\n        // Modifications: tidy formatting and naming\n        var x0, y0, x1, y1, x2, y2, segs = path.pathSegList,\n            x = 0, y = 0, len = segs.numberOfItems;\n\n        for (var i = 0; i < len; ++i) {\n            var seg = segs.getItem(i),\n                segType = seg.pathSegTypeAsLetter;\n\n            if (/[MLHVCSQTA]/.test(segType)) {\n                if ('x' in seg) x = seg.x;\n                if ('y' in seg) y = seg.y;\n            } else {\n                if ('x1' in seg) x1 = x + seg.x1;\n                if ('x2' in seg) x2 = x + seg.x2;\n                if ('y1' in seg) y1 = y + seg.y1;\n                if ('y2' in seg) y2 = y + seg.y2;\n                if ('x' in seg) x += seg.x;\n                if ('y' in seg) y += seg.y;\n\n                switch (segType) {\n\n                case 'm':\n                    segs.replaceItem(path.createSVGPathSegMovetoAbs(x, y), i);\n                    break;\n                case 'l':\n                    segs.replaceItem(path.createSVGPathSegLinetoAbs(x, y), i);\n                    break;\n                case 'h':\n                    segs.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(x), i);\n                    break;\n                case 'v':\n                    segs.replaceItem(path.createSVGPathSegLinetoVerticalAbs(y), i);\n                    break;\n                case 'c':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicAbs(x, y, x1, y1, x2, y2), i);\n                    break;\n                case 's':\n                    segs.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(x, y, x2, y2), i);\n                    break;\n                case 'q':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(x, y, x1, y1), i);\n                    break;\n                case 't':\n                    segs.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(x, y), i);\n                    break;\n                case 'a':\n                    segs.replaceItem(path.createSVGPathSegArcAbs(x, y, seg.r1, seg.r2, seg.angle, seg.largeArcFlag, seg.sweepFlag), i);\n                    break;\n                case 'z':\n                case 'Z':\n                    x = x0;\n                    y = y0;\n                    break;\n\n                }\n            }\n\n            if (segType == 'M' || segType == 'm') {\n                x0 = x;\n                y0 = y;\n            }\n        }\n    };\n\n})();\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* This module has now been replaced by `Matter.Composite`.\n*\n* All usage should be migrated to the equivalent functions found on `Matter.Composite`.\n* For example `World.add(world, body)` now becomes `Composite.add(world, body)`.\n*\n* The property `world.gravity` has been moved to `engine.gravity`.\n*\n* For back-compatibility purposes this module will remain as a direct alias to `Matter.Composite` in the short term during migration.\n* Eventually this alias module will be marked as deprecated and then later removed in a future release.\n*\n* @class World\n*/\n\nvar World = {};\n\nmodule.exports = World;\n\nvar Composite = __webpack_require__(5);\nvar Common = __webpack_require__(0);\n\n(function() {\n\n    /**\n     * See above, aliases for back compatibility only\n     */\n    World.create = Composite.create;\n    World.add = Composite.add;\n    World.remove = Composite.remove;\n    World.clear = Composite.clear;\n    World.addComposite = Composite.addComposite;\n    World.addBody = Composite.addBody;\n    World.addConstraint = Composite.addConstraint;\n\n})();\n\n\n/***/ })\n/******/ ]);\n});","/*!\n * Paper.js v0.12.17 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Thu Nov 3 21:15:36 2022 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jrg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([Item.INSERT]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.17\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\t\tvar exports = paper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t\treturn exports;\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tANGULAR_EPSILON: 1e-5,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tINSERT: { insert: true },\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert == true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT && props !== Item.INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(arg0, arg1) {\n\t\tvar resolution,\n\t\t\tinsert,\n\t\t\traster;\n\t\tif (Base.isPlainObject(arg0)) {\n\t\t\tresolution = arg0.resolution;\n\t\t\tinsert = arg0.insert;\n\t\t\traster = arg0.raster;\n\t\t} else {\n\t\t\tresolution = arg0;\n\t\t\tinsert = arg1;\n\t\t}\n\t\tif (!raster) {\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t}\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tboundsSize = new Size(bottomRight.subtract(topLeft)),\n\t\t\trasterSize = boundsSize.multiply(scale);\n\t\traster.setSize(rasterSize, true);\n\n\t\tif (!rasterSize.isZero()) {\n\t\t\tvar ctx = raster.getContext(true),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t}\n\t\traster._matrix.set(\n\t\t\tnew Matrix()\n\t\t\t\t.translate(topLeft.add(boundsSize.divide(2)))\n\t\t\t\t.scale(1 / scale)\n\t\t);\n\t\tif (insert === undefined || insert) {\n\t\t\traster.insertAbove(this);\n\t\t}\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: 'low',\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function(_size, _clear) {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = !_clear && this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t} else if (_clear) {\n\t\t\tthis.clear();\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = typeof smoothing === 'string'\n\t\t\t? smoothing\n\t\t\t: smoothing ? 'low' : 'off';\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tputImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\tsetImageData: function(data) {\n\t\tthis.setSize(data);\n\t\tthis.getContext(true).putImageData(data, 0, 0);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tvar smoothing = this._smoothing,\n\t\t\t\tdisabled = smoothing === 'off';\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx,\n\t\t\t\tdisabled ? 'imageSmoothingEnabled' : 'imageSmoothingQuality',\n\t\t\t\tdisabled ? false : smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-5,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360\n\t\t\t\t\t\t? 4\n\t\t\t\t\t\t: Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && (\n\t\t\t\tprops.insert == true ? Item.INSERT\n\t\t\t\t: props.insert == false ? Item.NO_INSERT\n\t\t\t\t: null\n\t\t\t));\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, Item.INSERT);\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1, {\n\t\t\t\t\t\t\twillReadFrequently: true\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: new Base({\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t})\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height, options) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d', options || {});\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height, options) {\n\t\tvar canvas = this.getCanvas(width, height, options);\n\t\treturn canvas ? canvas.getContext('2d', options || {}) : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1, { willReadFrequently: true });\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nBase.exports.PaperScript = function() {\n\tvar global = this,\n\t\tacorn = global.acorn;\n\tif (!acorn && typeof require !== 'undefined') {\n\t\ttry { acorn = require('acorn'); } catch(e) {}\n\t}\n\tif (!acorn) {\n\t\tvar exports, module;\n\t\tacorn = exports = module = {};\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n  mod(root.acorn || (root.acorn = {}));\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.5.0\";\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\treturn parseTopLevel(options.program);\n  };\n\n  var defaultOptions = exports.defaultOptions = {\n\tecmaVersion: 5,\n\tstrictSemicolons: false,\n\tallowTrailingCommas: true,\n\tforbidReserved: false,\n\tallowReturnOutsideFunction: false,\n\tlocations: false,\n\tonComment: null,\n\tranges: false,\n\tprogram: null,\n\tsourceFile: null,\n\tdirectSourceFile: null\n  };\n\n  function setOptions(opts) {\n\toptions = opts || {};\n\tfor (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n\t  options[opt] = defaultOptions[opt];\n\tsourceFile = options.sourceFile || null;\n  }\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n\tfor (var line = 1, cur = 0;;) {\n\t  lineBreak.lastIndex = cur;\n\t  var match = lineBreak.exec(input);\n\t  if (match && match.index < offset) {\n\t\t++line;\n\t\tcur = match.index + match[0].length;\n\t  } else break;\n\t}\n\treturn {line: line, column: offset - cur};\n  };\n\n  exports.tokenize = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\n\tvar t = {};\n\tfunction getToken(forceRegexp) {\n\t  lastEnd = tokEnd;\n\t  readToken(forceRegexp);\n\t  t.start = tokStart; t.end = tokEnd;\n\t  t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n\t  t.type = tokType; t.value = tokVal;\n\t  return t;\n\t}\n\tgetToken.jumpTo = function(pos, reAllowed) {\n\t  tokPos = pos;\n\t  if (options.locations) {\n\t\ttokCurLine = 1;\n\t\ttokLineStart = lineBreak.lastIndex = 0;\n\t\tvar match;\n\t\twhile ((match = lineBreak.exec(input)) && match.index < pos) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = match.index + match[0].length;\n\t\t}\n\t  }\n\t  tokRegexpAllowed = reAllowed;\n\t  skipSpace();\n\t};\n\treturn getToken;\n  };\n\n  var tokPos;\n\n  var tokStart, tokEnd;\n\n  var tokStartLoc, tokEndLoc;\n\n  var tokType, tokVal;\n\n  var tokRegexpAllowed;\n\n  var tokCurLine, tokLineStart;\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  var inFunction, labels, strict;\n\n  function raise(pos, message) {\n\tvar loc = getLineInfo(input, pos);\n\tmessage += \" (\" + loc.line + \":\" + loc.column + \")\";\n\tvar err = new SyntaxError(message);\n\terr.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n\tthrow err;\n  }\n\n  var empty = [];\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n\t\t\t\t\t  \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n\t\t\t\t\t  \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n\t\t\t\t\t  \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n\t\t\t\t\t  \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n\t\t\t\t\t  \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n\t\t\t\t\t  \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n\t\t\t\t\t  \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n\t\t\t\t\t  parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n\t\t\t\t\t  dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n\t\t\t\t\t  num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  function makePredicate(words) {\n\twords = words.split(\" \");\n\tvar f = \"\", cats = [];\n\tout: for (var i = 0; i < words.length; ++i) {\n\t  for (var j = 0; j < cats.length; ++j)\n\t\tif (cats[j][0].length == words[i].length) {\n\t\t  cats[j].push(words[i]);\n\t\t  continue out;\n\t\t}\n\t  cats.push([words[i]]);\n\t}\n\tfunction compareTo(arr) {\n\t  if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n\t  f += \"switch(str){\";\n\t  for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\t  f += \"return true}return false;\";\n\t}\n\n\tif (cats.length > 3) {\n\t  cats.sort(function(a, b) {return b.length - a.length;});\n\t  f += \"switch(str.length){\";\n\t  for (var i = 0; i < cats.length; ++i) {\n\t\tvar cat = cats[i];\n\t\tf += \"case \" + cat[0].length + \":\";\n\t\tcompareTo(cat);\n\t  }\n\t  f += \"}\";\n\n\t} else {\n\t  compareTo(words);\n\t}\n\treturn new Function(\"str\", f);\n  }\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n\tif (code < 65) return code === 36;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n\tif (code < 48) return code === 36;\n\tif (code < 58) return true;\n\tif (code < 65) return false;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  function line_loc_t() {\n\tthis.line = tokCurLine;\n\tthis.column = tokPos - tokLineStart;\n  }\n\n  function initTokenState() {\n\ttokCurLine = 1;\n\ttokPos = tokLineStart = 0;\n\ttokRegexpAllowed = true;\n\tskipSpace();\n  }\n\n  function finishToken(type, val) {\n\ttokEnd = tokPos;\n\tif (options.locations) tokEndLoc = new line_loc_t;\n\ttokType = type;\n\tskipSpace();\n\ttokVal = val;\n\ttokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n\tif (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n\ttokPos = end + 2;\n\tif (options.locations) {\n\t  lineBreak.lastIndex = start;\n\t  var match;\n\t  while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n\t\t++tokCurLine;\n\t\ttokLineStart = match.index + match[0].length;\n\t  }\n\t}\n\tif (options.onComment)\n\t  options.onComment(true, input.slice(start + 2, end), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n\tvar start = tokPos;\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar ch = input.charCodeAt(tokPos+=2);\n\twhile (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n\t  ++tokPos;\n\t  ch = input.charCodeAt(tokPos);\n\t}\n\tif (options.onComment)\n\t  options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipSpace() {\n\twhile (tokPos < inputLen) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === 32) {\n\t\t++tokPos;\n\t  } else if (ch === 13) {\n\t\t++tokPos;\n\t\tvar next = input.charCodeAt(tokPos);\n\t\tif (next === 10) {\n\t\t  ++tokPos;\n\t\t}\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch === 10 || ch === 8232 || ch === 8233) {\n\t\t++tokPos;\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch > 8 && ch < 14) {\n\t\t++tokPos;\n\t  } else if (ch === 47) {\n\t\tvar next = input.charCodeAt(tokPos + 1);\n\t\tif (next === 42) {\n\t\t  skipBlockComment();\n\t\t} else if (next === 47) {\n\t\t  skipLineComment();\n\t\t} else break;\n\t  } else if (ch === 160) {\n\t\t++tokPos;\n\t  } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n\t\t++tokPos;\n\t  } else {\n\t\tbreak;\n\t  }\n\t}\n  }\n\n  function readToken_dot() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next >= 48 && next <= 57) return readNumber(true);\n\t++tokPos;\n\treturn finishToken(_dot);\n  }\n\n  function readToken_slash() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (tokRegexpAllowed) {++tokPos; return readRegexp();}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) {\n\t  if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n\t\t  newline.test(input.slice(lastEnd, tokPos))) {\n\t\ttokPos += 3;\n\t\tskipLineComment();\n\t\tskipSpace();\n\t\treturn readToken();\n\t  }\n\t  return finishOp(_incDec, 2);\n\t}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tvar size = 1;\n\tif (next === code) {\n\t  size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n\t  if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n\t  return finishOp(_bitShift, size);\n\t}\n\tif (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n\t\tinput.charCodeAt(tokPos + 3) == 45) {\n\t  tokPos += 4;\n\t  skipLineComment();\n\t  skipSpace();\n\t  return readToken();\n\t}\n\tif (next === 61)\n\t  size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n\treturn finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n\treturn finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n\tswitch(code) {\n\tcase 46:\n\t  return readToken_dot();\n\n\tcase 40: ++tokPos; return finishToken(_parenL);\n\tcase 41: ++tokPos; return finishToken(_parenR);\n\tcase 59: ++tokPos; return finishToken(_semi);\n\tcase 44: ++tokPos; return finishToken(_comma);\n\tcase 91: ++tokPos; return finishToken(_bracketL);\n\tcase 93: ++tokPos; return finishToken(_bracketR);\n\tcase 123: ++tokPos; return finishToken(_braceL);\n\tcase 125: ++tokPos; return finishToken(_braceR);\n\tcase 58: ++tokPos; return finishToken(_colon);\n\tcase 63: ++tokPos; return finishToken(_question);\n\n\tcase 48:\n\t  var next = input.charCodeAt(tokPos + 1);\n\t  if (next === 120 || next === 88) return readHexNumber();\n\tcase 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57:\n\t  return readNumber(false);\n\n\tcase 34: case 39:\n\t  return readString(code);\n\n\tcase 47:\n\t  return readToken_slash(code);\n\n\tcase 37: case 42:\n\t  return readToken_mult_modulo();\n\n\tcase 124: case 38:\n\t  return readToken_pipe_amp(code);\n\n\tcase 94:\n\t  return readToken_caret();\n\n\tcase 43: case 45:\n\t  return readToken_plus_min(code);\n\n\tcase 60: case 62:\n\t  return readToken_lt_gt(code);\n\n\tcase 61: case 33:\n\t  return readToken_eq_excl(code);\n\n\tcase 126:\n\t  return finishOp(_prefix, 1);\n\t}\n\n\treturn false;\n  }\n\n  function readToken(forceRegexp) {\n\tif (!forceRegexp) tokStart = tokPos;\n\telse tokPos = tokStart + 1;\n\tif (options.locations) tokStartLoc = new line_loc_t;\n\tif (forceRegexp) return readRegexp();\n\tif (tokPos >= inputLen) return finishToken(_eof);\n\n\tvar code = input.charCodeAt(tokPos);\n\tif (isIdentifierStart(code) || code === 92 ) return readWord();\n\n\tvar tok = getTokenFromCode(code);\n\n\tif (tok === false) {\n\t  var ch = String.fromCharCode(code);\n\t  if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n\t  raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n\t}\n\treturn tok;\n  }\n\n  function finishOp(type, size) {\n\tvar str = input.slice(tokPos, tokPos + size);\n\ttokPos += size;\n\tfinishToken(type, str);\n  }\n\n  function readRegexp() {\n\tvar content = \"\", escaped, inClass, start = tokPos;\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n\t  var ch = input.charAt(tokPos);\n\t  if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\t  if (!escaped) {\n\t\tif (ch === \"[\") inClass = true;\n\t\telse if (ch === \"]\" && inClass) inClass = false;\n\t\telse if (ch === \"/\" && !inClass) break;\n\t\tescaped = ch === \"\\\\\";\n\t  } else escaped = false;\n\t  ++tokPos;\n\t}\n\tvar content = input.slice(start, tokPos);\n\t++tokPos;\n\tvar mods = readWord1();\n\tif (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\ttry {\n\t  var value = new RegExp(content, mods);\n\t} catch (e) {\n\t  if (e instanceof SyntaxError) raise(start, e.message);\n\t  raise(e);\n\t}\n\treturn finishToken(_regexp, value);\n  }\n\n  function readInt(radix, len) {\n\tvar start = tokPos, total = 0;\n\tfor (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n\t  var code = input.charCodeAt(tokPos), val;\n\t  if (code >= 97) val = code - 97 + 10;\n\t  else if (code >= 65) val = code - 65 + 10;\n\t  else if (code >= 48 && code <= 57) val = code - 48;\n\t  else val = Infinity;\n\t  if (val >= radix) break;\n\t  ++tokPos;\n\t  total = total * radix + val;\n\t}\n\tif (tokPos === start || len != null && tokPos - start !== len) return null;\n\n\treturn total;\n  }\n\n  function readHexNumber() {\n\ttokPos += 2;\n\tvar val = readInt(16);\n\tif (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\treturn finishToken(_num, val);\n  }\n\n  function readNumber(startsWithDot) {\n\tvar start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n\tif (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\tif (input.charCodeAt(tokPos) === 46) {\n\t  ++tokPos;\n\t  readInt(10);\n\t  isFloat = true;\n\t}\n\tvar next = input.charCodeAt(tokPos);\n\tif (next === 69 || next === 101) {\n\t  next = input.charCodeAt(++tokPos);\n\t  if (next === 43 || next === 45) ++tokPos;\n\t  if (readInt(10) === null) raise(start, \"Invalid number\");\n\t  isFloat = true;\n\t}\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n\tvar str = input.slice(start, tokPos), val;\n\tif (isFloat) val = parseFloat(str);\n\telse if (!octal || str.length === 1) val = parseInt(str, 10);\n\telse if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n\telse val = parseInt(str, 8);\n\treturn finishToken(_num, val);\n  }\n\n  function readString(quote) {\n\ttokPos++;\n\tvar out = \"\";\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === quote) {\n\t\t++tokPos;\n\t\treturn finishToken(_string, out);\n\t  }\n\t  if (ch === 92) {\n\t\tch = input.charCodeAt(++tokPos);\n\t\tvar octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n\t\tif (octal) octal = octal[0];\n\t\twhile (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\t\tif (octal === \"0\") octal = null;\n\t\t++tokPos;\n\t\tif (octal) {\n\t\t  if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n\t\t  out += String.fromCharCode(parseInt(octal, 8));\n\t\t  tokPos += octal.length - 1;\n\t\t} else {\n\t\t  switch (ch) {\n\t\t  case 110: out += \"\\n\"; break;\n\t\t  case 114: out += \"\\r\"; break;\n\t\t  case 120: out += String.fromCharCode(readHexChar(2)); break;\n\t\t  case 117: out += String.fromCharCode(readHexChar(4)); break;\n\t\t  case 85: out += String.fromCharCode(readHexChar(8)); break;\n\t\t  case 116: out += \"\\t\"; break;\n\t\t  case 98: out += \"\\b\"; break;\n\t\t  case 118: out += \"\\u000b\"; break;\n\t\t  case 102: out += \"\\f\"; break;\n\t\t  case 48: out += \"\\0\"; break;\n\t\t  case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\t\t  case 10:\n\t\t\tif (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n\t\t\tbreak;\n\t\t  default: out += String.fromCharCode(ch); break;\n\t\t  }\n\t\t}\n\t  } else {\n\t\tif (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n\t\tout += String.fromCharCode(ch);\n\t\t++tokPos;\n\t  }\n\t}\n  }\n\n  function readHexChar(len) {\n\tvar n = readInt(16, len);\n\tif (n === null) raise(tokStart, \"Bad character escape sequence\");\n\treturn n;\n  }\n\n  var containsEsc;\n\n  function readWord1() {\n\tcontainsEsc = false;\n\tvar word, first = true, start = tokPos;\n\tfor (;;) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (isIdentifierChar(ch)) {\n\t\tif (containsEsc) word += input.charAt(tokPos);\n\t\t++tokPos;\n\t  } else if (ch === 92) {\n\t\tif (!containsEsc) word = input.slice(start, tokPos);\n\t\tcontainsEsc = true;\n\t\tif (input.charCodeAt(++tokPos) != 117)\n\t\t  raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n\t\t++tokPos;\n\t\tvar esc = readHexChar(4);\n\t\tvar escStr = String.fromCharCode(esc);\n\t\tif (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n\t\tif (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n\t\t  raise(tokPos - 4, \"Invalid Unicode escape\");\n\t\tword += escStr;\n\t  } else {\n\t\tbreak;\n\t  }\n\t  first = false;\n\t}\n\treturn containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  function readWord() {\n\tvar word = readWord1();\n\tvar type = _name;\n\tif (!containsEsc && isKeyword(word))\n\t  type = keywordTypes[word];\n\treturn finishToken(type, word);\n  }\n\n  function next() {\n\tlastStart = tokStart;\n\tlastEnd = tokEnd;\n\tlastEndLoc = tokEndLoc;\n\treadToken();\n  }\n\n  function setStrict(strct) {\n\tstrict = strct;\n\ttokPos = tokStart;\n\tif (options.locations) {\n\t  while (tokPos < tokLineStart) {\n\t\ttokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n\t\t--tokCurLine;\n\t  }\n\t}\n\tskipSpace();\n\treadToken();\n  }\n\n  function node_t() {\n\tthis.type = null;\n\tthis.start = tokStart;\n\tthis.end = null;\n  }\n\n  function node_loc_t() {\n\tthis.start = tokStartLoc;\n\tthis.end = null;\n\tif (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n\tvar node = new node_t();\n\tif (options.locations)\n\t  node.loc = new node_loc_t();\n\tif (options.directSourceFile)\n\t  node.sourceFile = options.directSourceFile;\n\tif (options.ranges)\n\t  node.range = [tokStart, 0];\n\treturn node;\n  }\n\n  function startNodeFrom(other) {\n\tvar node = new node_t();\n\tnode.start = other.start;\n\tif (options.locations) {\n\t  node.loc = new node_loc_t();\n\t  node.loc.start = other.loc.start;\n\t}\n\tif (options.ranges)\n\t  node.range = [other.range[0], 0];\n\n\treturn node;\n  }\n\n  function finishNode(node, type) {\n\tnode.type = type;\n\tnode.end = lastEnd;\n\tif (options.locations)\n\t  node.loc.end = lastEndLoc;\n\tif (options.ranges)\n\t  node.range[1] = lastEnd;\n\treturn node;\n  }\n\n  function isUseStrict(stmt) {\n\treturn options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n\t  stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  function eat(type) {\n\tif (tokType === type) {\n\t  next();\n\t  return true;\n\t}\n  }\n\n  function canInsertSemicolon() {\n\treturn !options.strictSemicolons &&\n\t  (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  function semicolon() {\n\tif (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  function expect(type) {\n\tif (tokType === type) next();\n\telse unexpected();\n  }\n\n  function unexpected() {\n\traise(tokStart, \"Unexpected token\");\n  }\n\n  function checkLVal(expr) {\n\tif (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n\t  raise(expr.start, \"Assigning to rvalue\");\n\tif (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n\t  raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  function parseTopLevel(program) {\n\tlastStart = lastEnd = tokPos;\n\tif (options.locations) lastEndLoc = new line_loc_t;\n\tinFunction = strict = null;\n\tlabels = [];\n\treadToken();\n\n\tvar node = program || startNode(), first = true;\n\tif (!program) node.body = [];\n\twhile (tokType !== _eof) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && isUseStrict(stmt)) setStrict(true);\n\t  first = false;\n\t}\n\treturn finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  function parseStatement() {\n\tif (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n\t  readToken(true);\n\n\tvar starttype = tokType, node = startNode();\n\n\tswitch (starttype) {\n\tcase _break: case _continue:\n\t  next();\n\t  var isBreak = starttype === _break;\n\t  if (eat(_semi) || canInsertSemicolon()) node.label = null;\n\t  else if (tokType !== _name) unexpected();\n\t  else {\n\t\tnode.label = parseIdent();\n\t\tsemicolon();\n\t  }\n\n\t  for (var i = 0; i < labels.length; ++i) {\n\t\tvar lab = labels[i];\n\t\tif (node.label == null || lab.name === node.label.name) {\n\t\t  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n\t\t  if (node.label && isBreak) break;\n\t\t}\n\t  }\n\t  if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n\t  return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n\tcase _debugger:\n\t  next();\n\t  semicolon();\n\t  return finishNode(node, \"DebuggerStatement\");\n\n\tcase _do:\n\t  next();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  expect(_while);\n\t  node.test = parseParenExpression();\n\t  semicolon();\n\t  return finishNode(node, \"DoWhileStatement\");\n\n\tcase _for:\n\t  next();\n\t  labels.push(loopLabel);\n\t  expect(_parenL);\n\t  if (tokType === _semi) return parseFor(node, null);\n\t  if (tokType === _var) {\n\t\tvar init = startNode();\n\t\tnext();\n\t\tparseVar(init, true);\n\t\tfinishNode(init, \"VariableDeclaration\");\n\t\tif (init.declarations.length === 1 && eat(_in))\n\t\t  return parseForIn(node, init);\n\t\treturn parseFor(node, init);\n\t  }\n\t  var init = parseExpression(false, true);\n\t  if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n\t  return parseFor(node, init);\n\n\tcase _function:\n\t  next();\n\t  return parseFunction(node, true);\n\n\tcase _if:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  node.consequent = parseStatement();\n\t  node.alternate = eat(_else) ? parseStatement() : null;\n\t  return finishNode(node, \"IfStatement\");\n\n\tcase _return:\n\t  if (!inFunction && !options.allowReturnOutsideFunction)\n\t\traise(tokStart, \"'return' outside of function\");\n\t  next();\n\n\t  if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n\t  else { node.argument = parseExpression(); semicolon(); }\n\t  return finishNode(node, \"ReturnStatement\");\n\n\tcase _switch:\n\t  next();\n\t  node.discriminant = parseParenExpression();\n\t  node.cases = [];\n\t  expect(_braceL);\n\t  labels.push(switchLabel);\n\n\t  for (var cur, sawDefault; tokType != _braceR;) {\n\t\tif (tokType === _case || tokType === _default) {\n\t\t  var isCase = tokType === _case;\n\t\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t\t  node.cases.push(cur = startNode());\n\t\t  cur.consequent = [];\n\t\t  next();\n\t\t  if (isCase) cur.test = parseExpression();\n\t\t  else {\n\t\t\tif (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n\t\t\tcur.test = null;\n\t\t  }\n\t\t  expect(_colon);\n\t\t} else {\n\t\t  if (!cur) unexpected();\n\t\t  cur.consequent.push(parseStatement());\n\t\t}\n\t  }\n\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t  next();\n\t  labels.pop();\n\t  return finishNode(node, \"SwitchStatement\");\n\n\tcase _throw:\n\t  next();\n\t  if (newline.test(input.slice(lastEnd, tokStart)))\n\t\traise(lastEnd, \"Illegal newline after throw\");\n\t  node.argument = parseExpression();\n\t  semicolon();\n\t  return finishNode(node, \"ThrowStatement\");\n\n\tcase _try:\n\t  next();\n\t  node.block = parseBlock();\n\t  node.handler = null;\n\t  if (tokType === _catch) {\n\t\tvar clause = startNode();\n\t\tnext();\n\t\texpect(_parenL);\n\t\tclause.param = parseIdent();\n\t\tif (strict && isStrictBadIdWord(clause.param.name))\n\t\t  raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n\t\texpect(_parenR);\n\t\tclause.guard = null;\n\t\tclause.body = parseBlock();\n\t\tnode.handler = finishNode(clause, \"CatchClause\");\n\t  }\n\t  node.guardedHandlers = empty;\n\t  node.finalizer = eat(_finally) ? parseBlock() : null;\n\t  if (!node.handler && !node.finalizer)\n\t\traise(node.start, \"Missing catch or finally clause\");\n\t  return finishNode(node, \"TryStatement\");\n\n\tcase _var:\n\t  next();\n\t  parseVar(node);\n\t  semicolon();\n\t  return finishNode(node, \"VariableDeclaration\");\n\n\tcase _while:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  return finishNode(node, \"WhileStatement\");\n\n\tcase _with:\n\t  if (strict) raise(tokStart, \"'with' in strict mode\");\n\t  next();\n\t  node.object = parseParenExpression();\n\t  node.body = parseStatement();\n\t  return finishNode(node, \"WithStatement\");\n\n\tcase _braceL:\n\t  return parseBlock();\n\n\tcase _semi:\n\t  next();\n\t  return finishNode(node, \"EmptyStatement\");\n\n\tdefault:\n\t  var maybeName = tokVal, expr = parseExpression();\n\t  if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n\t\tfor (var i = 0; i < labels.length; ++i)\n\t\t  if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\t\tvar kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n\t\tlabels.push({name: maybeName, kind: kind});\n\t\tnode.body = parseStatement();\n\t\tlabels.pop();\n\t\tnode.label = expr;\n\t\treturn finishNode(node, \"LabeledStatement\");\n\t  } else {\n\t\tnode.expression = expr;\n\t\tsemicolon();\n\t\treturn finishNode(node, \"ExpressionStatement\");\n\t  }\n\t}\n  }\n\n  function parseParenExpression() {\n\texpect(_parenL);\n\tvar val = parseExpression();\n\texpect(_parenR);\n\treturn val;\n  }\n\n  function parseBlock(allowStrict) {\n\tvar node = startNode(), first = true, strict = false, oldStrict;\n\tnode.body = [];\n\texpect(_braceL);\n\twhile (!eat(_braceR)) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && allowStrict && isUseStrict(stmt)) {\n\t\toldStrict = strict;\n\t\tsetStrict(strict = true);\n\t  }\n\t  first = false;\n\t}\n\tif (strict && !oldStrict) setStrict(false);\n\treturn finishNode(node, \"BlockStatement\");\n  }\n\n  function parseFor(node, init) {\n\tnode.init = init;\n\texpect(_semi);\n\tnode.test = tokType === _semi ? null : parseExpression();\n\texpect(_semi);\n\tnode.update = tokType === _parenR ? null : parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForStatement\");\n  }\n\n  function parseForIn(node, init) {\n\tnode.left = init;\n\tnode.right = parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForInStatement\");\n  }\n\n  function parseVar(node, noIn) {\n\tnode.declarations = [];\n\tnode.kind = \"var\";\n\tfor (;;) {\n\t  var decl = startNode();\n\t  decl.id = parseIdent();\n\t  if (strict && isStrictBadIdWord(decl.id.name))\n\t\traise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n\t  decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n\t  node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n\t  if (!eat(_comma)) break;\n\t}\n\treturn node;\n  }\n\n  function parseExpression(noComma, noIn) {\n\tvar expr = parseMaybeAssign(noIn);\n\tif (!noComma && tokType === _comma) {\n\t  var node = startNodeFrom(expr);\n\t  node.expressions = [expr];\n\t  while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\t  return finishNode(node, \"SequenceExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseMaybeAssign(noIn) {\n\tvar left = parseMaybeConditional(noIn);\n\tif (tokType.isAssign) {\n\t  var node = startNodeFrom(left);\n\t  node.operator = tokVal;\n\t  node.left = left;\n\t  next();\n\t  node.right = parseMaybeAssign(noIn);\n\t  checkLVal(left);\n\t  return finishNode(node, \"AssignmentExpression\");\n\t}\n\treturn left;\n  }\n\n  function parseMaybeConditional(noIn) {\n\tvar expr = parseExprOps(noIn);\n\tif (eat(_question)) {\n\t  var node = startNodeFrom(expr);\n\t  node.test = expr;\n\t  node.consequent = parseExpression(true);\n\t  expect(_colon);\n\t  node.alternate = parseExpression(true, noIn);\n\t  return finishNode(node, \"ConditionalExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprOps(noIn) {\n\treturn parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  function parseExprOp(left, minPrec, noIn) {\n\tvar prec = tokType.binop;\n\tif (prec != null && (!noIn || tokType !== _in)) {\n\t  if (prec > minPrec) {\n\t\tvar node = startNodeFrom(left);\n\t\tnode.left = left;\n\t\tnode.operator = tokVal;\n\t\tvar op = tokType;\n\t\tnext();\n\t\tnode.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n\t\tvar exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n\t\treturn parseExprOp(exprNode, minPrec, noIn);\n\t  }\n\t}\n\treturn left;\n  }\n\n  function parseMaybeUnary() {\n\tif (tokType.prefix) {\n\t  var node = startNode(), update = tokType.isUpdate;\n\t  node.operator = tokVal;\n\t  node.prefix = true;\n\t  tokRegexpAllowed = true;\n\t  next();\n\t  node.argument = parseMaybeUnary();\n\t  if (update) checkLVal(node.argument);\n\t  else if (strict && node.operator === \"delete\" &&\n\t\t\t   node.argument.type === \"Identifier\")\n\t\traise(node.start, \"Deleting local variable in strict mode\");\n\t  return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n\t}\n\tvar expr = parseExprSubscripts();\n\twhile (tokType.postfix && !canInsertSemicolon()) {\n\t  var node = startNodeFrom(expr);\n\t  node.operator = tokVal;\n\t  node.prefix = false;\n\t  node.argument = expr;\n\t  checkLVal(expr);\n\t  next();\n\t  expr = finishNode(node, \"UpdateExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprSubscripts() {\n\treturn parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n\tif (eat(_dot)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseIdent(true);\n\t  node.computed = false;\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (eat(_bracketL)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseExpression();\n\t  node.computed = true;\n\t  expect(_bracketR);\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (!noCalls && eat(_parenL)) {\n\t  var node = startNodeFrom(base);\n\t  node.callee = base;\n\t  node.arguments = parseExprList(_parenR, false);\n\t  return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n\t} else return base;\n  }\n\n  function parseExprAtom() {\n\tswitch (tokType) {\n\tcase _this:\n\t  var node = startNode();\n\t  next();\n\t  return finishNode(node, \"ThisExpression\");\n\tcase _name:\n\t  return parseIdent();\n\tcase _num: case _string: case _regexp:\n\t  var node = startNode();\n\t  node.value = tokVal;\n\t  node.raw = input.slice(tokStart, tokEnd);\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _null: case _true: case _false:\n\t  var node = startNode();\n\t  node.value = tokType.atomValue;\n\t  node.raw = tokType.keyword;\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _parenL:\n\t  var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n\t  next();\n\t  var val = parseExpression();\n\t  val.start = tokStart1;\n\t  val.end = tokEnd;\n\t  if (options.locations) {\n\t\tval.loc.start = tokStartLoc1;\n\t\tval.loc.end = tokEndLoc;\n\t  }\n\t  if (options.ranges)\n\t\tval.range = [tokStart1, tokEnd];\n\t  expect(_parenR);\n\t  return val;\n\n\tcase _bracketL:\n\t  var node = startNode();\n\t  next();\n\t  node.elements = parseExprList(_bracketR, true, true);\n\t  return finishNode(node, \"ArrayExpression\");\n\n\tcase _braceL:\n\t  return parseObj();\n\n\tcase _function:\n\t  var node = startNode();\n\t  next();\n\t  return parseFunction(node, false);\n\n\tcase _new:\n\t  return parseNew();\n\n\tdefault:\n\t  unexpected();\n\t}\n  }\n\n  function parseNew() {\n\tvar node = startNode();\n\tnext();\n\tnode.callee = parseSubscripts(parseExprAtom(), true);\n\tif (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n\telse node.arguments = empty;\n\treturn finishNode(node, \"NewExpression\");\n  }\n\n  function parseObj() {\n\tvar node = startNode(), first = true, sawGetSet = false;\n\tnode.properties = [];\n\tnext();\n\twhile (!eat(_braceR)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (options.allowTrailingCommas && eat(_braceR)) break;\n\t  } else first = false;\n\n\t  var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n\t  if (eat(_colon)) {\n\t\tprop.value = parseExpression(true);\n\t\tkind = prop.kind = \"init\";\n\t  } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n\t\t\t\t (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n\t\tisGetSet = sawGetSet = true;\n\t\tkind = prop.kind = prop.key.name;\n\t\tprop.key = parsePropertyName();\n\t\tif (tokType !== _parenL) unexpected();\n\t\tprop.value = parseFunction(startNode(), false);\n\t  } else unexpected();\n\n\t  if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n\t\tfor (var i = 0; i < node.properties.length; ++i) {\n\t\t  var other = node.properties[i];\n\t\t  if (other.key.name === prop.key.name) {\n\t\t\tvar conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n\t\t\t  kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n\t\t\tif (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n\t\t\tif (conflict) raise(prop.key.start, \"Redefinition of property\");\n\t\t  }\n\t\t}\n\t  }\n\t  node.properties.push(prop);\n\t}\n\treturn finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n\tif (tokType === _num || tokType === _string) return parseExprAtom();\n\treturn parseIdent(true);\n  }\n\n  function parseFunction(node, isStatement) {\n\tif (tokType === _name) node.id = parseIdent();\n\telse if (isStatement) unexpected();\n\telse node.id = null;\n\tnode.params = [];\n\tvar first = true;\n\texpect(_parenL);\n\twhile (!eat(_parenR)) {\n\t  if (!first) expect(_comma); else first = false;\n\t  node.params.push(parseIdent());\n\t}\n\n\tvar oldInFunc = inFunction, oldLabels = labels;\n\tinFunction = true; labels = [];\n\tnode.body = parseBlock(true);\n\tinFunction = oldInFunc; labels = oldLabels;\n\n\tif (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n\t  for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n\t\tvar id = i < 0 ? node.id : node.params[i];\n\t\tif (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n\t\t  raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n\t\tif (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n\t\t  raise(id.start, \"Argument name clash in strict mode\");\n\t  }\n\t}\n\n\treturn finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n\tvar elts = [], first = true;\n\twhile (!eat(close)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n\t  } else first = false;\n\n\t  if (allowEmpty && tokType === _comma) elts.push(null);\n\t  else elts.push(parseExpression(true));\n\t}\n\treturn elts;\n  }\n\n  function parseIdent(liberal) {\n\tvar node = startNode();\n\tif (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\tif (tokType === _name) {\n\t  if (!liberal &&\n\t\t  (options.forbidReserved &&\n\t\t   (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n\t\t   strict && isStrictReservedWord(tokVal)) &&\n\t\t  input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n\t\traise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n\t  node.name = tokVal;\n\t} else if (liberal && tokType.keyword) {\n\t  node.name = tokType.keyword;\n\t} else {\n\t  unexpected();\n\t}\n\ttokRegexpAllowed = false;\n\tnext();\n\treturn finishNode(node, \"Identifier\");\n  }\n\n});\n\n\t\tif (!acorn.version)\n\t\t\tacorn = null;\n\t}\n\n\tfunction parse(code, options) {\n\t\treturn (global.acorn || acorn).parse(code, options);\n\t}\n\n\tvar binaryOperators = {\n\t\t'+': '__add',\n\t\t'-': '__subtract',\n\t\t'*': '__multiply',\n\t\t'/': '__divide',\n\t\t'%': '__modulo',\n\t\t'==': '__equals',\n\t\t'!=': '__equals'\n\t};\n\n\tvar unaryOperators = {\n\t\t'-': '__negate',\n\t\t'+': '__self'\n\t};\n\n\tvar fields = Base.each(\n\t\t['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'],\n\t\tfunction(name) {\n\t\t\tthis['__' + name] = '#' + name;\n\t\t},\n\t\t{\n\t\t\t__self: function() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t);\n\tPoint.inject(fields);\n\tSize.inject(fields);\n\tColor.inject(fields);\n\n\tfunction __$__(left, operator, right) {\n\t\tvar handler = binaryOperators[operator];\n\t\tif (left && left[handler]) {\n\t\t\tvar res = left[handler](right);\n\t\t\treturn operator === '!=' ? !res : res;\n\t\t}\n\t\tswitch (operator) {\n\t\tcase '+': return left + right;\n\t\tcase '-': return left - right;\n\t\tcase '*': return left * right;\n\t\tcase '/': return left / right;\n\t\tcase '%': return left % right;\n\t\tcase '==': return left == right;\n\t\tcase '!=': return left != right;\n\t\t}\n\t}\n\n\tfunction $__(operator, value) {\n\t\tvar handler = unaryOperators[operator];\n\t\tif (value && value[handler])\n\t\t\treturn value[handler]();\n\t\tswitch (operator) {\n\t\tcase '+': return +value;\n\t\tcase '-': return -value;\n\t\t}\n\t}\n\n\tfunction compile(code, options) {\n\t\tif (!code)\n\t\t\treturn '';\n\t\toptions = options || {};\n\n\t\tvar insertions = [];\n\n\t\tfunction getOffset(offset) {\n\t\t\tfor (var i = 0, l = insertions.length; i < l; i++) {\n\t\t\t\tvar insertion = insertions[i];\n\t\t\t\tif (insertion[0] >= offset)\n\t\t\t\t\tbreak;\n\t\t\t\toffset += insertion[1];\n\t\t\t}\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction getCode(node) {\n\t\t\treturn code.substring(getOffset(node.range[0]),\n\t\t\t\t\tgetOffset(node.range[1]));\n\t\t}\n\n\t\tfunction getBetween(left, right) {\n\t\t\treturn code.substring(getOffset(left.range[1]),\n\t\t\t\t\tgetOffset(right.range[0]));\n\t\t}\n\n\t\tfunction replaceCode(node, str) {\n\t\t\tvar start = getOffset(node.range[0]),\n\t\t\t\tend = getOffset(node.range[1]),\n\t\t\t\tinsert = 0;\n\t\t\tfor (var i = insertions.length - 1; i >= 0; i--) {\n\t\t\t\tif (start > insertions[i][0]) {\n\t\t\t\t\tinsert = i + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinsertions.splice(insert, 0, [start, str.length - end + start]);\n\t\t\tcode = code.substring(0, start) + str + code.substring(end);\n\t\t}\n\n\t\tfunction handleOverloading(node, parent) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'UnaryExpression':\n\t\t\t\tif (node.operator in unaryOperators\n\t\t\t\t\t\t&& node.argument.type !== 'Literal') {\n\t\t\t\t\tvar arg = getCode(node.argument);\n\t\t\t\t\treplaceCode(node, '$__(\"' + node.operator + '\", '\n\t\t\t\t\t\t\t+ arg + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'BinaryExpression':\n\t\t\t\tif (node.operator in binaryOperators\n\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\tbetween = getBetween(node.left, node.right),\n\t\t\t\t\t\toperator = node.operator;\n\t\t\t\t\treplaceCode(node, '__$__(' + left + ','\n\t\t\t\t\t\t\t+ between.replace(new RegExp('\\\\' + operator),\n\t\t\t\t\t\t\t\t'\"' + operator + '\"')\n\t\t\t\t\t\t\t+ ', ' + right + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'UpdateExpression':\n\t\t\tcase 'AssignmentExpression':\n\t\t\t\tvar parentType = parent && parent.type;\n\t\t\t\tif (!(\n\t\t\t\t\t\tparentType === 'ForStatement'\n\t\t\t\t\t\t|| parentType === 'BinaryExpression'\n\t\t\t\t\t\t\t&& /^[=!<>]/.test(parent.operator)\n\t\t\t\t\t\t|| parentType === 'MemberExpression' && parent.computed\n\t\t\t\t)) {\n\t\t\t\t\tif (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tvar arg = getCode(node.argument),\n\t\t\t\t\t\t\texp = '__$__(' + arg + ', \"' + node.operator[0]\n\t\t\t\t\t\t\t\t\t+ '\", 1)',\n\t\t\t\t\t\t\tstr = arg + ' = ' + exp;\n\t\t\t\t\t\tif (node.prefix) {\n\t\t\t\t\t\t\tstr = '(' + str + ')';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tparentType === 'AssignmentExpression' ||\n\t\t\t\t\t\t\tparentType === 'VariableDeclarator' ||\n\t\t\t\t\t\t\tparentType === 'BinaryExpression'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (getCode(parent.left || parent.id) === arg)\n\t\t\t\t\t\t\t\tstr = exp;\n\t\t\t\t\t\t\tstr = arg + '; ' + str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplaceCode(node, str);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^.=$/.test(node.operator)\n\t\t\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\t\t\texp = left + ' = __$__(' + left + ', \"'\n\t\t\t\t\t\t\t\t\t+ node.operator[0] + '\", ' + right + ')';\n\t\t\t\t\t\t\treplaceCode(node, /^\\(.*\\)$/.test(getCode(node))\n\t\t\t\t\t\t\t\t\t? '(' + exp + ')' : exp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction handleExports(node) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'ExportDefaultDeclaration':\n\t\t\t\treplaceCode({\n\t\t\t\t\trange: [node.start, node.declaration.start]\n\t\t\t\t}, 'module.exports = ');\n\t\t\t\tbreak;\n\t\t\tcase 'ExportNamedDeclaration':\n\t\t\t\tvar declaration = node.declaration;\n\t\t\t\tvar specifiers = node.specifiers;\n\t\t\t\tif (declaration) {\n\t\t\t\t\tvar declarations = declaration.declarations;\n\t\t\t\t\tif (declarations) {\n\t\t\t\t\t\tdeclarations.forEach(function(dec) {\n\t\t\t\t\t\t\treplaceCode(dec, 'module.exports.' + getCode(dec));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treplaceCode({\n\t\t\t\t\t\t\trange: [\n\t\t\t\t\t\t\t\tnode.start,\n\t\t\t\t\t\t\t\tdeclaration.start + declaration.kind.length\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t}\n\t\t\t\t} else if (specifiers) {\n\t\t\t\t\tvar exports = specifiers.map(function(specifier) {\n\t\t\t\t\t\tvar name = getCode(specifier);\n\t\t\t\t\t\treturn 'module.exports.' + name + ' = ' + name + '; ';\n\t\t\t\t\t}).join('');\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\treplaceCode(node, exports);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction walkAST(node, parent, paperFeatures) {\n\t\t\tif (node) {\n\t\t\t\tfor (var key in node) {\n\t\t\t\t\tif (key !== 'range' && key !== 'loc') {\n\t\t\t\t\t\tvar value = node[key];\n\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (var i = 0, l = value.length; i < l; i++) {\n\t\t\t\t\t\t\t\twalkAST(value[i], node, paperFeatures);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (value && typeof value === 'object') {\n\t\t\t\t\t\t\twalkAST(value, node, paperFeatures);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.operatorOverloading !== false) {\n\t\t\t\t\thandleOverloading(node, parent);\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.moduleExports !== false) {\n\t\t\t\t\thandleExports(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction encodeVLQ(value) {\n\t\t\tvar res = '',\n\t\t\t\tbase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\tvalue = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\t\t\twhile (value || !res) {\n\t\t\t\tvar next = value & (32 - 1);\n\t\t\t\tvalue >>= 5;\n\t\t\t\tif (value)\n\t\t\t\t\tnext |= 32;\n\t\t\t\tres += base64[next];\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tvar url = options.url || '',\n\t\t\tsourceMaps = options.sourceMaps,\n\t\t\tpaperFeatures = options.paperFeatures || {},\n\t\t\tsource = options.source || code,\n\t\t\toffset = options.offset || 0,\n\t\t\tagent = paper.agent,\n\t\t\tversion = agent.versionNumber,\n\t\t\toffsetCode = false,\n\t\t\tlineBreaks = /\\r\\n|\\n|\\r/mg,\n\t\t\tmap;\n\t\tif (sourceMaps && (agent.chrome && version >= 30\n\t\t\t\t|| agent.webkit && version >= 537.76\n\t\t\t\t|| agent.firefox && version >= 23\n\t\t\t\t|| agent.node)) {\n\t\t\tif (agent.node) {\n\t\t\t\toffset -= 2;\n\t\t\t} else if (window && url && !window.location.href.indexOf(url)) {\n\t\t\t\tvar html = document.getElementsByTagName('html')[0].innerHTML;\n\t\t\t\toffset = html.substr(0, html.indexOf(code) + 1).match(\n\t\t\t\t\t\tlineBreaks).length + 1;\n\t\t\t}\n\t\t\toffsetCode = offset > 0 && !(\n\t\t\t\t\tagent.chrome && version >= 36 ||\n\t\t\t\t\tagent.safari && version >= 600 ||\n\t\t\t\t\tagent.firefox && version >= 40 ||\n\t\t\t\t\tagent.node);\n\t\t\tvar mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n\t\t\tmappings.length = (code.match(lineBreaks) || []).length + 1\n\t\t\t\t\t+ (offsetCode ? offset : 0);\n\t\t\tmap = {\n\t\t\t\tversion: 3,\n\t\t\t\tfile: url,\n\t\t\t\tnames:[],\n\t\t\t\tmappings: mappings.join(';AACA'),\n\t\t\t\tsourceRoot: '',\n\t\t\t\tsources: [url],\n\t\t\t\tsourcesContent: [source]\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tpaperFeatures.operatorOverloading !== false ||\n\t\t\tpaperFeatures.moduleExports !== false\n\t\t) {\n\t\t\twalkAST(parse(code, {\n\t\t\t\tranges: true,\n\t\t\t\tpreserveParens: true,\n\t\t\t\tsourceType: 'module'\n\t\t\t}), null, paperFeatures);\n\t\t}\n\t\tif (map) {\n\t\t\tif (offsetCode) {\n\t\t\t\tcode = new Array(offset + 1).join('\\n') + code;\n\t\t\t}\n\t\t\tif (/^(inline|both)$/.test(sourceMaps)) {\n\t\t\t\tcode += \"\\n//# sourceMappingURL=data:application/json;base64,\"\n\t\t\t\t\t\t+ self.btoa(unescape(encodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify(map))));\n\t\t\t}\n\t\t\tcode += \"\\n//# sourceURL=\" + (url || 'paperscript');\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tsource: source,\n\t\t\tcode: code,\n\t\t\tmap: map\n\t\t};\n\t}\n\n\tfunction execute(code, scope, options) {\n\t\tpaper = scope;\n\t\tvar view = scope.getView(),\n\t\t\ttool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/\n\t\t\t\t\t.test(code) && !/\\bnew\\s+Tool\\b/.test(code)\n\t\t\t\t\t\t? new Tool() : null,\n\t\t\ttoolHandlers = tool ? tool._events : [],\n\t\t\thandlers = ['onFrame', 'onResize'].concat(toolHandlers),\n\t\t\tparams = [],\n\t\t\targs = [],\n\t\t\tfunc,\n\t\t\tcompiled = typeof code === 'object' ? code : compile(code, options);\n\t\tcode = compiled.code;\n\t\tfunction expose(scope, hidden) {\n\t\t\tfor (var key in scope) {\n\t\t\t\tif ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)'\n\t\t\t\t\t\t+ key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t\targs.push(scope[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texpose({ __$__: __$__, $__: $__, paper: scope, tool: tool },\n\t\t\t\ttrue);\n\t\texpose(scope);\n\t\tcode = 'var module = { exports: {} }; ' + code;\n\t\tvar exports = Base.each(handlers, function(key) {\n\t\t\tif (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n\t\t\t\tparams.push(key);\n\t\t\t\tthis.push('module.exports.' + key + ' = ' + key + ';');\n\t\t\t}\n\t\t}, []).join('\\n');\n\t\tif (exports) {\n\t\t\tcode += '\\n' + exports;\n\t\t}\n\t\tcode += '\\nreturn module.exports;';\n\t\tvar agent = paper.agent;\n\t\tif (document && (agent.chrome\n\t\t\t\t|| agent.firefox && agent.versionNumber < 40)) {\n\t\t\tvar script = document.createElement('script'),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\t\t\tif (agent.firefox)\n\t\t\t\tcode = '\\n' + code;\n\t\t\tscript.appendChild(document.createTextNode(\n\t\t\t\t'document.__paperscript__ = function(' + params + ') {' +\n\t\t\t\t\tcode +\n\t\t\t\t'\\n}'\n\t\t\t));\n\t\t\thead.appendChild(script);\n\t\t\tfunc = document.__paperscript__;\n\t\t\tdelete document.__paperscript__;\n\t\t\thead.removeChild(script);\n\t\t} else {\n\t\t\tfunc = Function(params, code);\n\t\t}\n\t\tvar exports = func && func.apply(scope, args);\n\t\tvar obj = exports || {};\n\t\tBase.each(toolHandlers, function(key) {\n\t\t\tvar value = obj[key];\n\t\t\tif (value)\n\t\t\t\ttool[key] = value;\n\t\t});\n\t\tif (view) {\n\t\t\tif (obj.onResize)\n\t\t\t\tview.setOnResize(obj.onResize);\n\t\t\tview.emit('resize', {\n\t\t\t\tsize: view.size,\n\t\t\t\tdelta: new Point()\n\t\t\t});\n\t\t\tif (obj.onFrame)\n\t\t\t\tview.setOnFrame(obj.onFrame);\n\t\t\tview.requestUpdate();\n\t\t}\n\t\treturn exports;\n\t}\n\n\tfunction loadScript(script) {\n\t\tif (/^text\\/(?:x-|)paperscript$/.test(script.type)\n\t\t\t\t&& PaperScope.getAttribute(script, 'ignore') !== 'true') {\n\t\t\tvar canvasId = PaperScope.getAttribute(script, 'canvas'),\n\t\t\t\tcanvas = document.getElementById(canvasId),\n\t\t\t\tsrc = script.src || script.getAttribute('data-src'),\n\t\t\t\tasync = PaperScope.hasAttribute(script, 'async'),\n\t\t\t\tscopeAttribute = 'data-paper-scope';\n\t\t\tif (!canvas)\n\t\t\t\tthrow new Error('Unable to find canvas with id \"'\n\t\t\t\t\t\t+ canvasId + '\"');\n\t\t\tvar scope = PaperScope.get(canvas.getAttribute(scopeAttribute))\n\t\t\t\t\t\t|| new PaperScope().setup(canvas);\n\t\t\tcanvas.setAttribute(scopeAttribute, scope._id);\n\t\t\tif (src) {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: src,\n\t\t\t\t\tasync: async,\n\t\t\t\t\tmimeType: 'text/plain',\n\t\t\t\t\tonLoad: function(code) {\n\t\t\t\t\t\texecute(code, scope, src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\texecute(script.innerHTML, scope, script.baseURI);\n\t\t\t}\n\t\t\tscript.setAttribute('data-paper-ignore', 'true');\n\t\t\treturn scope;\n\t\t}\n\t}\n\n\tfunction loadAll() {\n\t\tBase.each(document && document.getElementsByTagName('script'),\n\t\t\t\tloadScript);\n\t}\n\n\tfunction load(script) {\n\t\treturn script ? loadScript(script) : loadAll();\n\t}\n\n\tif (window) {\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(loadAll);\n\t\t} else {\n\t\t\tDomEvent.add(window, { load: loadAll });\n\t\t}\n\t}\n\n\treturn {\n\t\tcompile: compile,\n\t\texecute: execute,\n\t\tload: load,\n\t\tparse: parse,\n\t\tcalculateBinary: __$__,\n\t\tcalculateUnary: $__\n\t};\n\n}.call(this);\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","import{useCallback as e,useEffect as n,useMemo as t,useLayoutEffect as r,useState as o,useRef as i,useReducer as u}from\"react\";import{nanoid as c}from\"nanoid\";import{throttle as a}from\"throttle-debounce\";import{useRouter as s}from\"next/router\";import{useSpring as d,useTransform as l,useMotionValue as f,useMotionTemplate as v,animate as m}from\"framer-motion\";import{singletonHook as h}from\"react-singleton-hook\";import*as g from\"matter-js\";import w from\"paper\";function p(t,r){var o=e(function(e){t.current&&!t.current.contains(e.target)&&r()},[t,r]);n(function(){return document.addEventListener(\"mousedown\",o),function(){document.removeEventListener(\"mousedown\",o)}},[o])}var y=function(){return t(function(){return\"undefined\"!=typeof window&&(window.location.href.includes(\"#debug\")||\"development\"===process.env.NODE_ENV||process.env.NEXT_PUBLIC_DEBUG_MODE||process.env.NEXT_PUBLIC_DEBUG)},[])},E=\"undefined\"!=typeof window,b=function(e,n,t,r,o){return(e-n)*(o-r)/(t-n)+r},O=function(e,n,t){return(1-t)*e+t*n},L=E?r:n,S=\"undefined\"!=typeof window?function(){var e=o(document.readyState),n=e[0],t=e[1];return L(function(){function e(){t(document.readyState)}return t(document.readyState),document.addEventListener(\"readystatechange\",e,!1),function(){return document.removeEventListener(\"readystatechange\",e,!1)}},[]),n}:function(){},x=[],C=function(e){var n=e.type;\"string\"==typeof e&&(n=e);var t=[];t.push(\"string\"==typeof e?{type:n}:e),x.forEach(function(e){var r=e[0],o=e[1];\"string\"==typeof r&&r!==n||(\"function\"!=typeof r||r.apply(void 0,t))&&o.apply(void 0,t)})},R=function(e,t,r){return void 0===r&&(r=[]),n(function(){return function(e,n){if(null!=e&&null!=n)return x=[].concat(x,[[e,n]]),function(){x=x.filter(function(e){return e[1]!==n})}}(e,t)},[].concat(r,[t,e])),C};function I(e,t,r,o){var u=i(r),c=i(o);n(function(){u.current=r,c.current=o}),n(function(){var n=e&&\"current\"in e?e.current:e;if(n){var r=0;n.addEventListener(t,i);var o=c.current;return function(){r=1,n.removeEventListener(t,i),o&&o()}}function i(){r||u.current.apply(this,[].slice.call(arguments))}},[e,t])}var j=function(e,t,r){void 0===r&&(r=window);var o=i();n(function(){o.current=t},[t]),n(function(){if(r&&r.addEventListener){var n=function(e){return o.current(e)};return r.addEventListener(e,n),function(){r.removeEventListener(e,n)}}},[e,r])};function _(){return t(function(){return c()},[])}var P=function(e,t){var r=i();n(function(){r.current=e}),n(function(){if(null!==t){var e=setInterval(function(){r.current()},t);return function(){return clearInterval(e)}}},[t])},T=function(){var n=o(void 0),t=n[0],r=n[1],i=e(function(){r(\"ontouchstart\"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return L(function(){return i(),window.addEventListener(\"resize\",i,!1),function(){window.removeEventListener(\"resize\",i,!1)}},[]),t},D=function(t){var r=void 0===t?{}:t,u=r.root,c=void 0===u?null:u,a=r.rootMargin,s=void 0===a?\"0px\":a,d=r.threshold,l=void 0===d?1:d,f=r.once,v=void 0!==f&&f,m=i(),h=i(),g=o(!1),w=g[0],p=g[1],y=e(function(e){p(e[0].isIntersecting)},[]);return n(function(){return m.current=new IntersectionObserver(y,{root:c,rootMargin:s,threshold:l}),h.current&&m.current.observe(h.current),function(){m.current.disconnect()}},[y]),n(function(){v&&w&&m.current.disconnect()},[w]),{setRef:function(e){h.current||(h.current=e)},inView:w}},Y=function(n){var t=o(void 0),r=t[0],i=t[1],u=e(function(e){i(e.matches)},[]);return L(function(){var e=window.matchMedia(n);return u(e),e.addEventListener(\"change\",u),function(){e.removeEventListener(\"change\",u)}}),r},M=function(e,n){\"function\"==typeof e?e(n):e&&(e.current=n)},k=function(e,n){return t(function(){return null==e&&null==n?null:function(t){M(e,t),M(n,t)}},[e,n])};function A(){return A=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},A.apply(this,arguments)}function X(e,n){void 0===n&&(n=0);var t=n+e.offsetTop;return e.offsetParent?X(e.offsetParent,t):t}function B(e,n){void 0===n&&(n=0);var t=n+e.offsetLeft;return e.offsetParent?B(e.offsetParent,t):t}function z(e){var n=(void 0===e?{}:e).debounce,t=void 0===n?1e3:n,r=i(),u=o({top:void 0,left:void 0,width:void 0,height:void 0}),c=u[0],s=u[1],d=function(){r.current&&s(function(e){return A({},e,{top:X(r.current),left:B(r.current)})})};L(function(){var e=a(t,d),n=new ResizeObserver(e);return n.observe(document.body),function(){n.disconnect(),e.cancel({upcomingOnly:!0})}},[t]);var l=function(e){var n=e[0].contentRect,t=n.width,r=n.height;s(function(e){return A({},e,{width:t,height:r})})},f=i();return[function(e){var n;e&&e!==r.current&&(null==(n=f.current)||n.disconnect(),f.current=new ResizeObserver(l),f.current.observe(e),r.current=e)},c,function(e,n){return c}]}var U=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);var r=t(function(){return n&&[n].flat()},[n]),o=t(function(){return e&&[e].flat()},[e]),i=t(function(){return r&&o&&o.map(function(e){var n;return null==(n=r.find(function(n){return n.type===e}))?void 0:n.props.children})},[r,o]);return e[0]?i:i[0]},W=function(){var n=o(),t=n[0],r=n[1],i=e(function(){r({width:window.innerWidth,height:window.innerHeight})},[]);return L(function(){return window.addEventListener(\"resize\",i),i(),function(){return window.removeEventListener(\"resize\",i)}},[]),t},K=function(n,t){void 0===n&&(n=function(){}),void 0===t&&(t=function(){});var r=o(!0),i=r[0],u=r[1],c=e(function(){n(),u(!0)},[n]),a=e(function(){t(),u(!1)},[t]);return L(function(){return window.addEventListener(\"focus\",c),window.addEventListener(\"blur\",a),function(){window.removeEventListener(\"focus\",c),window.removeEventListener(\"blur\",a)}},[]),{focused:i}},N=function(e){var n=s(),t=n.asPath;L(function(){if(n.isReady&&e){var r=function(e){return e.split(\"#\")[1]}(t);if(r)try{n.push({pathname:\"/\",hash:r})}catch(e){console.log(\"Error pushing route\",e)}else window.scrollTo(0,0)}},[e])},F=function(e,n,t){return d(l(e,t),n)};function G(e,n){var t=e-window.innerWidth;return n>t?t:0>n?0:n}function H(e){var t=o(0),r=t[0],i=t[1];return n(function(){var n,t=null==e||null==(n=e.current)?void 0:n.scrollWidth;if(t){var r,o=a(function(e){var n=Math.round(e.touches[0].clientY-r);i(function(e){return G(t,e-n)})},16);return document.addEventListener(\"wheel\",c),document.addEventListener(\"touchmove\",o),document.addEventListener(\"touchstart\",s),document.addEventListener(\"touchend\",d),window.addEventListener(\"resize\",u),function(){document.removeEventListener(\"wheel\",c),document.removeEventListener(\"touchmove\",o),document.removeEventListener(\"touchstart\",s),document.removeEventListener(\"touchend\",d),window.removeEventListener(\"resize\",u)}}function u(){var n;t=null==e||null==(n=e.current)?void 0:n.scrollWidth,i(0)}function c(e){var n=e.deltaY;i(function(e){return G(t,e+n)})}function s(e){r=e.touches[0].clientY}function d(){r=0}},[e,i]),r}var q=\"undefined\"!=typeof performance?performance:Date,V=function(){return q.now()};function J(t,r,o){void 0===r&&(r=30),void 0===o&&(o=!1);var u,c,a=(c=i(u=t),n(function(){c.current=u}),c),s=1e3/r,d=i(0),l=i(),f=function(){return l.current&&clearTimeout(l.current)},v=[r,o,a];return n(function(){return function(){d.current=0,f()}},v),e(function(){var e=arguments,n=V(),t=function(){d.current=n,f(),a.current.apply(null,e)},r=d.current;if(o&&0===r)return t();if(n-r>s){if(r>0)return t();d.current=n}f(),l.current=setTimeout(function(){t(),d.current=0},s)},v)}function Q(e,n,t){var r=useState(e);return[r[0],J(r[1],n,t)]}function Z(e,n){void 0===n&&(n={});var t=n.fps,r=void 0===t?30:t,o=n.enterDelay,i=void 0===o?0:o,c=n.leaveDelay,a=void 0===c?0:c,s=u(function(e,n){var t=e.mouse,r=e.context,o=function(e,n){if(\"undefined\"==typeof window)return e;var t,r=n.event,o=(t=\"touches\"in r?r.touches[0]:r).clientX,i=t.clientY,u=t.screenX,c=t.screenY,a=t.pageX,s=void 0===a?0:a,d=t.pageY,l=void 0===d?0:d,f=n.element.getBoundingClientRect(),v=s-f.left-(window.pageXOffset||window.scrollX),m=l-f.top-(window.pageYOffset||window.scrollY);return\"touches\"in r&&(v<0||m<0||v>f.width||m>f.height)?Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{hoverStatus:\"leave\",touchStatus:\"end\"})}):{context:Object.assign(Object.assign({},e.context),{hoverStatus:\"enter\"}),mouse:Object.assign(Object.assign({},e.mouse),{x:v,y:m,pageX:s,pageY:l,clientX:o,clientY:i,screenX:u,screenY:c,elementWidth:f.width,elementHeight:f.height,isOver:!0,isTouch:\"touches\"in r})}};return\"mousemove\"===n.type?\"end\"===r.touchStatus?e:o(e,n):\"touchmove\"===n.type?o({context:Object.assign(Object.assign({},r),{touchStatus:\"start\"}),mouse:t},n):\"touchdown\"===n.type?o({context:Object.assign(Object.assign({},r),{touchStatus:\"start\"}),mouse:Object.assign(Object.assign({},t),{isDown:!0})},n):\"mousedown\"===n.type?{context:r,mouse:Object.assign(Object.assign({},t),{isDown:!0})}:\"mouseup\"===n.type?{context:r,mouse:Object.assign(Object.assign({},t),{isDown:!1})}:\"mouseleave\"===n.type?{context:Object.assign(Object.assign({},r),{hoverStatus:\"leave\"}),mouse:Object.assign(Object.assign({},t),{isOver:!1})}:\"touchleave\"===n.type?{context:Object.assign(Object.assign({},r),{hoverStatus:\"leave\",touchStatus:\"end\"}),mouse:Object.assign(Object.assign({},t),{isOver:!1,isDown:!1})}:\"activeStatus\"===n.type?{context:Object.assign(Object.assign({},r),{activeStatus:n.value}),mouse:t}:e},{mouse:$,context:ee}),d=s[0],l=s[1],f=Q(function(n){var t=e&&\"current\"in e?e.current:e;t&&l({type:\"mousemove\",event:n,element:t})},r,!0),v=Q(function(n){var t=e&&\"current\"in e?e.current:e;t&&l({type:\"touchmove\",event:n,element:t})},r,!0),m=Q(function(){return l({type:\"mouseleave\"})},r,!1),h=Q(function(n){var t=e&&\"current\"in e?e.current:e;t&&l(\"touches\"in n?{type:\"touchdown\",element:t,event:n}:{type:\"mousedown\",element:t,event:n})},r,!0),g=Q(function(){return l({type:\"mouseup\"})},r,!1),w=Q(function(){return l({type:\"touchleave\"})},r,!1);return I(e,\"mouseenter\",f),I(e,\"mousemove\",f),I(e,\"mouseleave\",m),I(e,\"mousedown\",h),I(\"undefined\"!=typeof window?window:null,\"mousedown\",h),I(\"undefined\"!=typeof window?window:null,\"mouseup\",g),I(e,\"touchstart\",h),I(e,\"touchmove\",v),I(e,\"touchend\",w),I(e,\"touchcancel\",w),useEffect(function(){if(\"enter\"===d.context.hoverStatus){if(i){var e=setTimeout(function(){return l({type:\"activeStatus\",value:\"active\"})},i);return function(){return clearTimeout(e)}}l({type:\"activeStatus\",value:\"active\"})}else{if(a){var n=setTimeout(function(){return l({type:\"activeStatus\",value:\"inactive\"})},a);return function(){return clearTimeout(n)}}l({type:\"activeStatus\",value:\"inactive\"})}},[d.context.hoverStatus,i,a]),\"active\"===d.context.activeStatus?d.mouse:$}var $={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},ee={hoverStatus:\"idle\",touchStatus:\"idle\",activeStatus:\"inactive\"};function ne(){var e=o({x:null,y:null}),t=e[0],r=e[1];return n(function(){var e=function(e){r({x:e.clientX,y:e.clientY})};return document.addEventListener(\"mousemove\",e),function(){document.removeEventListener(\"mousemove\",e)}},[]),t}var te=function(){var e=W(),n=e.width,t=e.height,r=ne(),o=r.x,i=r.y;return{direction:o>n/2&&i>t/2?\"se\":o<n/2&&i>t/2?\"sw\":o>n/2&&i<t/2?\"ne\":\"nw\",hasMovedCursor:\"number\"==typeof o&&\"number\"==typeof i}},re=function(e,t){var r=ne(),o=r.x,i=r.y,u=f(0),c=f(0),a=f(0),s=f(0),d=f(0),l=f(0),h=v(\"translate(\"+u.get()+\"px, \"+a.get()+\"px) rotate(\"+d.get()+\"deg)\"),g=\"brightness(\"+l.get()+\")\";return n(function(){var n=e.current.getBoundingClientRect(),r=t.current.getBoundingClientRect(),c=Math.abs(o-n.left)-r.width/2,s=Math.abs(i-n.top)-r.height/2;u.set(c),a.set(s)},[o,i]),n(function(){function e(){var e={x:c.get()-u.get(),y:s.get()-a.get()};c.set(O(c.get(),u.getPrevious(),.08)),s.set(O(s.get(),a.getPrevious(),.08));var n,t=(n=Math.abs(e.x))<=0?0:n>=100?100:n,r=b(t,0,100,0,e.x<0?33:-33);m(d,r,{duration:.25,ease:\"linear\"});var o=b(t,0,100,1,3);l.set(o)}var n=u.onChange(e),t=a.onChange(e);return function(){n(),t()}},[]),{transform:h,filter:g}},oe=function(e,n){return l(e,[0,1],[-n,n])},ie=h(!1,function(e){void 0===e&&(e=940);var t=o(!1),r=t[0],i=t[1];return n(function(){function n(){var n=window.innerWidth;i(n<e)}return window.addEventListener(\"resize\",n),n(),function(){return window.removeEventListener(\"resize\",n)}},[]),r}),ue=function(){var n=e(function(){\"undefined\"!=typeof window&&(localStorage.getItem(\"theme\")?\"light\"===localStorage.getItem(\"theme\")?(document.documentElement.classList.add(\"dark\"),localStorage.setItem(\"theme\",\"dark\")):(document.documentElement.classList.remove(\"dark\"),localStorage.setItem(\"theme\",\"light\")):document.documentElement.classList.contains(\"dark\")?(document.documentElement.classList.remove(\"dark\"),localStorage.setItem(\"theme\",\"light\")):(document.documentElement.classList.add(\"dark\"),localStorage.setItem(\"theme\",\"dark\")))},[]),t=e(function(){return\"undefined\"!=typeof window?localStorage.getItem(\"theme\"):null},[]);return L(function(){localStorage.getItem(\"theme\")&&(\"light\"===localStorage.getItem(\"theme\")?document.documentElement.classList.remove(\"dark\"):document.documentElement.classList.add(\"dark\"))},[n]),{toggle:n,getTheme:t}},ce=function(e,t,r){void 0===t&&(t=[0]),void 0===r&&(r=null);var i=o(!1),u=i[0],c=i[1],a=d(0,{damping:400,friction:100});return n(function(){var n=new IntersectionObserver(function(e){var n=e[0];n.isIntersecting?(c(!0),a.set(n.intersectionRatio)):c(!1)},{root:r,rootMargin:\"0px 0px 0px 0px\",threshold:t});return n.observe(e.current),function(){return n.disconnect()}},[e,t,r,a]),{inView:u,springValue:a}},ae=function(){return L(function(){var e=\"font-size:15px;\";console.log(\"%cFOMOLOL Police \",\"color:red; font-size:65px; font-weight:bold; -webkit-text-stroke: 1px black\"),console.log(\"%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and could give them access to your wallet.\",e),console.log(\"%cIf you need a job see https://jobs.fomolol.com for more info.\",e)},[]),null},se=function(e){var n=e.cookieAcceptKey,t=e.onAccepted,r=e.onDeclined,i=o(),u=i[0],c=i[1];return L(function(){null!==window.localStorage.getItem(process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY||n)?(c(!0),t()):(c(!1),r())},[]),u},de=function(t){var r=o(!1),i=r[0],u=r[1],c=e(function(){i||u(function(e){var n=document.createElement(\"textarea\");n.value=e,n.setAttribute(\"readonly\",\"\"),n.style.position=\"absolute\",n.style.left=\"-9999px\",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select();var r=document.execCommand(\"copy\");return document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t)),r}(t))},[t]);return n(function(){return function(){return u(!1)}},[t]),[i,c]},le=function(e){void 0===e&&(e=\"pokemon\");var n=o(null),t=n[0],r=n[1],i=o(!1),u=i[0],c=i[1];return useEffect(function(){if(e&&!t&&!u)try{c(!0),require(\"giphy-api\")(process.env.GIPHY_API_KEY||process.env.NEXT_PUBLIC_GIPHY_API_KEY).search(e,function(e,n){if(200===n.meta.status){var t=Math.floor(Math.random()*(n.data.length-1)+1),o=n.data[t];if(o&&o.images){console.log(\"randomGif\",o);var i=o.images;r({data:o,url:(null==i?void 0:i.fixed_width).webp}),c(!1)}}else c(!1),console.error(n.meta.msg,e)})}catch(e){c(!1),console.error(\"Error occurred initializing Giphy API\",e)}},[t,u,e]),[u,t]},fe=function(e,n){void 0===e&&(e=\"header-not-at-top\"),void 0===n&&(n=\"#top-of-site-pixel-anchor\");var t,r,o=function(){document.documentElement.dataset.scroll=window.scrollY};document.addEventListener(\"scroll\",(t=o,function(){var e=arguments;r&&cancelAnimationFrame(r),r=requestAnimationFrame(function(){t.apply(void 0,[].slice.call(e))})}),{passive:!0}),o(),\"IntersectionObserver\"in window&&\"IntersectionObserverEntry\"in window&&\"intersectionRatio\"in window.IntersectionObserverEntry.prototype&&new IntersectionObserver(function(n){n[0].boundingClientRect.y<0?document.body.classList.add(e):document.body.classList.remove(e)}).observe(document.querySelector(n))},ve=function(n){var t=n.title,r=void 0===t?\"\":t,o=n.width,u=void 0===o?500:o,c=n.height,a=void 0===c?1050:c,s=n.url,d=n.storageKey,l=void 0===d?\"FOMOLOL_TEMP_DATA\":d,f=n.onCreate,v=void 0===f?function(e){return console.log(\"Created a window with url\",e)}:f,m=n.onData,h=void 0===m?function(e){return console.log(\"data\",e)}:m,g=n.onClose,w=void 0===g?function(){}:g,p=n.onError,y=void 0===p?function(e){return console.log(\"Popup error\",error)}:p,E=i(),b=i(),O=e(function(){try{var e=localStorage.getItem(l);if(e){var n,t=JSON.parse(e);h(t),window.localStorage.removeItem(l),null==(n=E.current)||n.close(),window.removeEventListener(\"storage\",O)}}catch(e){y(e),window.removeEventListener(\"storage\",O)}},[h,y,l,E]),L=e(function(e){var n,t=e.url,r=e.title,o=e.height,i=e.width,u=e.onClose,c=\"width=\"+i+\",height=\"+o+\",left=\"+(window.screenX+(window.outerWidth-i)/2)+\",top=\"+(window.screenY+(window.outerHeight-o)/2.5);null===E.current||null!=(n=E.current)&&n.closed?E.current=window.open(t,r,c):b.current!==t?(E.current=window.open(t,r,c),E.current.focus()):E.current.focus(),window.addEventListener(\"storage\",O),window.addEventListener(\"beforeunload\",function(){u()},!1),b.current=t,v(t)},[E,O]);return{onClick:e(function(){L({url:s,title:r,width:u,height:a,onData:h,onClose:w,onError:y,storageKey:l})},[L,s,r,u,a,h,w,y,l])}},me=function(e){var n=e.ref,r=e.width,o=e.height,i=e.wireframes,u=void 0!==i&&i,c=e.hasBounds,a=void 0===c||c,s=e.background,d=void 0===s?\"transparent\":s;return t(function(){g.use(\"matter-attractors\"),g.use(\"matter-wrap\");var e=g.Engine.create(),t=e.world;e.timing.timeScale=1.5;var i=g.Render.create({element:n.current,engine:e,options:{hasBounds:a,wireframes:u,width:r,height:o,background:d}}),c=i.canvas;g.Render.run(i);var s=g.Runner.create();g.Runner.run(s,e);var l=g.Mouse.create(c),f=g.MouseConstraint.create(e,{mouse:l,constraint:{stiffness:.2,render:{visible:!1}}});return g.World.add(t,f),i.mouse=l,g.Render.lookAt(i,{min:{x:0,y:0},max:{x:r,y:o}}),f.mouse.element.removeEventListener(\"mousewheel\",f.mouse.mousewheel),f.mouse.element.removeEventListener(\"DOMMouseScroll\",f.mouse.mousewheel),{loaded:!0,engine:e,render:i,runner:s,mouse:l}},[n,d,u,a,o,r])},he=function(e){var n=e.ref,t=o(),r=t[0],i=t[1];return L(function(){if(!r&&n&&n.current){var e=new w.Project(n.current);i(e)}},[r,n]),r},ge=function(e,t){var r=i();n(function(){r.current=e},[e]),n(function(){if(null!==t){var e=setTimeout(function(){r.current()},1e3*t);return function(){return clearTimeout(e)}}},[t])},we=function(e,t){void 0===t&&(t=\"2d\");var r=i(null);return n(function(){var n=r.current.getContext(t),o=requestAnimationFrame(function t(){o=requestAnimationFrame(t),e(n)});return function(){return cancelAnimationFrame(o)}},[e,t]),r},pe=function(n,t){var r=e(function(){t({type:\"ADD_CURSOR_BORDER\"})},[t]),o=e(function(){t({type:\"REMOVE_CURSOR_BORDER\"})},[t]);return A({},n,{addCursorColor:e(function(e){t({type:\"ADD_CURSOR_COLOR\",payload:e})},[t]),resetCursorColor:e(function(){t({type:\"RESET_CURSOR_COLOR\"})},[t]),addCursorBorder:r,removeCursorBorder:o,lockCursorPosition:e(function(e){t({type:\"LOCK_CURSOR_POSITION\",payload:e})},[t])})};export{C as dispatch,we as useCanvas,de as useClipboard,se as useCookieBanner,pe as useCursorStyle,ae as useCustomConsole,y as useDebug,S as useDocumentReadyState,I as useEvent,R as useEventBus,j as useEventListener,K as useFocus,k as useForkRef,le as useGiphy,N as useHashScroll,H as useHorizontalScroll,re as useHoverImage,_ as useId,ce as useIntersectionObserver,P as useInterval,ie as useIsMobile,T as useIsTouchDevice,D as useIsVisible,L as useLayoutEffect,me as useMatterJS,Y as useMediaQuery,Z as useMouse,te as useMouseDirection,ne as useMousePosition,p as useOutsideClickEvent,he as usePaperJS,oe as useParallax,ve as usePopup,z as useRect,U as useSlots,F as useSmoothTransform,fe as useSticky,ue as useTheme,ge as useTimeout,W as useWindowSize};\n//# sourceMappingURL=index.mjs.map\n"],"names":["exports","_asyncToGenerator","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","__name","fn","self","args","err","removeTrailingSlash_1","removeTrailingSlash","route","parsePath_1","parsePath","path","hashIndex","queryIndex","hasQuery","_removeTrailingSlash","require$$0","_parsePath","require$$1","normalizePathTrailingSlash","pathname","query","hash","module","getAssetPathFromRoute_1","getAssetPathFromRoute","ext","__unsafeCreateTrustedScriptURL","policy","getPolicy","ref","input","url","markAssetError","isAssetError","getClientBuildManifest","createRouteLoader","_interop_require_default","_trustedTypes","require$$2","_requestIdleCallback","require$$3","MS_MAX_IDLE_DELAY","withFuture","map","generator","entry","resolver","prom","ASSET_LOAD_ERROR","hasPrefetch","link","canPrefetch","prefetchViaDom","href","as","selector","appendScript","src","script","resolvePromiseWithTimeout","p","ms","cancelled","r","onBuildManifest","cb","getFilesForRoute","assetPrefix","manifest","allFiles","v","entrypoints","loadedScripts","styleSheets","routes","maybeExecuteScript","fetchStyleSheet","res","text","execute","old","prefetch","scripts","css","entrypoint","styles","cn","output","isPlainObject_1","getObjectClassLabel","isPlainObject","prototype","isError_1","isError","getProperError","_isPlainObject","sortedRoutes","getSortedRoutes","UrlNode","urlPath","prefix","childrenPaths","c","prev","curr","urlPaths","slugNames","isCatchAll","nextSegment","handleSlug","previousSlug","nextSlug","slug","segmentName","isOptional","normalizedPages","root","pagePath","isDynamic","isDynamicRoute","TEST_ROUTE","_sortedRoutes","_isDynamic","normalizePathSep_1","normalizePathSep","denormalizePagePath_1","denormalizePagePath","_utils","_normalizePathSep","page","_page","normalizeLocalePath_1","normalizeLocalePath","locales","detectedLocale","pathnameParts","locale","mitt_1","mitt","all","type","handler","evts","utils","execOnce","getLocationOrigin","getURL","getDisplayName","isResSent","normalizeRepeatedSlashes","loadGetInitialProps","_async_to_generator","WEB_VITALS","used","result","ABSOLUTE_URL_REGEX","isAbsoluteUrl","protocol","hostname","port","origin","Component","urlParts","App","ctx","_loadGetInitialProps","props","message","SP","ST","method","DecodeError","NormalizeError","PageNotFoundError","MissingStaticPage","MiddlewareNotFoundError","querystring","searchParamsToUrlQuery","urlQueryToSearchParams","assign","searchParams","stringifyUrlQueryParam","param","urlQuery","item","target","searchParamsList","parseRelativeUrl_1","parseRelativeUrl","_querystring","base","globalBase","resolvedBase","search","pathToRegexp_1","lexer","str","tokens","i","char","name","j","code","count","pattern","parse","options","_a","prefixes","defaultPattern","escapeString","tryConsume","mustConsume","nextType","index","consumeText","open","name_1","pattern_1","suffix","compile","tokensToFunction","reFlags","flags","encode","x","_b","validate","matches","token","data","optional","repeat","segment","typeOfMessage","match","keys","re","pathToRegexp","regexpToFunction","decode","m","params","_loop_1","regexpToRegexp","groups","arrayToRegexp","paths","parts","stringToRegexp","tokensToRegexp","strict","start","_c","end","_d","endsWith","delimiter","_i","tokens_1","mod","endToken","isEndDelimited","pathMatch","getPathMatch","_extends","_pathToRegexp","regexp","matcher","escapeRegexp","escapeStringRegexp","reHasRegExp","reReplaceRegExp","parseUrl_1","parseUrl","_parseRelativeUrl","parsedURL","prepareDestination_1","matchHas","compileNonPath","prepareDestination","_escapeRegexp","_parseUrl","getSafeParamName","paramName","newParamName","charCode","escapeSegment","unescapeSegments","req","has","missing","hasMatch","hasItem","host","groupKey","escapedDestination","parsedDestination","destQuery","destPath","destHostname","destPathParamKeys","destHostnameParamKeys","destParams","destPathCompiler","destHostnameCompiler","key1","strOrArray","paramKeys","newUrl","pathHasPrefix_1","pathHasPrefix","hasBasePath","_pathHasPrefix","basePath","removeBasePath","_hasBasePath","resolveRewrites_1","resolveRewrites","_pathMatch","_prepareDestination","_normalizeLocalePath","_removeBasePath","require$$4","require$$5","asPath","pages","rewrites","resolveHref","matchedPage","externalDest","parsedAs","fsPathname","resolvedHref","handleRewrite","rewrite","hasParams","acc","destRes","finished","routeMatcher","getRouteMatcher","routeMatch","slugName","routeRegex","getRouteRegex","getNamedRouteRegex","getNamedMiddlewareRegex","parseParameter","getParametrizedRoute","segments","groupIndex","normalizedRoute","parameterizedRoute","buildGetSafeRouteKey","routeKeyCharCode","routeKeyCharLength","routeKey","getNamedParametrizedRoute","getSafeRouteKey","routeKeys","cleanedKey","invalidKey","catchAll","namedParameterizedRoute","formatUrl_1","formatUrl","formatWithValidation","_interop_require_wildcard","slashedProtocols","urlObj","auth","urlObjectKeys","detectDomainLocale_1","detectDomainLocale","domainItems","domainItem","ref1","domainHostname","addPathPrefix_1","addPathPrefix","addLocale_1","addLocale","_addPathPrefix","defaultLocale","ignorePrefix","_normalizeTrailingSlash","removeLocale","pathLower","localeLower","addBasePath","required","removePathPrefix_1","removePathPrefix","withoutPrefix","getNextPathnameInfo_1","getNextPathnameInfo","_removePathPrefix","_nextConfig","i18n","trailingSlash","buildId","pathLocale","addPathSuffix_1","addPathSuffix","formatNextPathnameInfo_1","formatNextPathnameInfo","_addPathSuffix","_addLocale","compareStates","compareRouterStates","a","b","stateKeys","queryKeys","queryKey","isBot_1","isBot","userAgent","router","matchesMiddleware","isLocalURL","interpolateAs","createKey","_routeLoader","require$$6","_script","require$$7","_isError","require$$8","_denormalizePagePath","require$$9","require$$10","_mitt","require$$11","require$$12","require$$13","require$$14","require$$15","_resolveRewrites","require$$16","_routeMatcher","require$$17","_routeRegex","require$$18","_formatUrl","require$$19","_detectDomainLocale","require$$20","require$$21","require$$22","_removeLocale","require$$23","require$$24","_addBasePath","require$$25","require$$26","_getNextPathnameInfo","require$$27","_formatNextPathnameInfo","require$$28","_compareStates","require$$29","_isBot","require$$30","buildCancellationError","_matchesMiddleware","matchers","asPathname","cleanedAs","asWithBasePathAndLocale","stripOrigin","omit","object","omitted","locationOrigin","resolved","interpolatedRoute","dynamicRegex","dynamicGroups","dynamicMatches","replaced","resolveAs","urlAsString","urlProtoMatch","urlAsStringNoProto","normalizedUrl","finalUrl","interpolatedAs","prepareUrlAs","resolvedAs","hrefHadOrigin","asHadOrigin","preparedUrl","preparedAs","resolveDynamicRoute","cleanPathname","getMiddlewareData","source","response","nextConfig","rewriteHeader","rewriteTarget","matchedPath","parsedRewriteTarget","pathnameInfo","parsedSource","resolvedPathname","redirectTarget","withMiddlewareEffects","effect","_err","manualScrollRestoration","SSG_DATA_NOT_FOUND","fetchRetry","attempts","handleSmoothScroll","htmlElement","existing","tryToParseAsJSON","fetchNextData","dataHref","inflightCache","isPrefetch","hasMiddleware","isServerRender","parseJSON","persistCache","isBackground","unstable_skipClientCache","cacheKey","getData","handleHardNavigation","getCancelledHandler","cancel","Router","forcedScroll","_this","isQueryUpdating","shouldResolveHref","nextState","readyStateChange","isSsr","prevLocale","localePathResult","didNavigate","detectedDomain","asNoBasePath","shallow","scroll","routeProps","localeChange","parsed","parsedAsPathname","isMiddlewareRewrite","isMiddlewareMatch","rewritesResult","shouldInterpolate","missingParams","ref2","ref3","routeInfo","cleanedParsedPathname","rewriteAs","localeResult","curRouteMatch","__N_SSG","__N_SSP","component","destination","parsedHref","newAs","notFoundRoute","_route","isValidShallowRoute","_scroll","shouldScroll","resetScroll","upcomingRouterState","upcomingScrollState","e","err1","loadErrorFail","gipErr","routeInfoErr","requestedRoute","isPreview","ref4","ref5","ref6","handleCancelled","existingInfo","cachedRouteInfo","fetchNextDataParams","resolvedRoute","wasBailedPrefetch","shouldFetchData","json","_cacheKey","state","oldUrlNoHash","oldHash","newUrlNoHash","newHash","rawHash","idEl","nameEl","originalPathname","isSsg","componentResult","AppTree","pathname1","query1","as1","initialProps","pageLoader","wrapApp","subscription","isFallback","domainLocales","isFirstPopStateEvent","autoExportDynamic","routerContext","_react","RouterContext","withRouter","_router","ComposedComponent","WithRouterWrapper","_withRouter","useRouter","createRouter","makePublicRouterInstance","_routerContext","singletonRouter","urlPropertyFields","routerEvents","coreMethodFields","getRouter","field","event","eventField","_singletonRouter","_default","scopedRouter","instance","property","SingleItemContainer","_ref","initValue","useHookBody","applyStateChange","lastState","useRef","val","useLayoutEffect","warning","globalObject","global","this","batch","unstable_batchedUpdates","mount","C","document","createElement","container","createRoot","render","_jsx","nextKey","automaticRender","manualRender","workingSet","renderedContainers","notifyContainersAsync","forEach","updateRenderedHooks","SingletonHooksContainer","automaticContainerInternalUseOnly","_useState","useState","hooks","setHooks","currentHooksRef","current","useEffect","mounted","_","concat","push","length","splice","indexOf","_Fragment","_ref2","hook","_createElement","addHook","findIndex","h","singletonHook","removeHook","initStateCalculated","lastKnownState","consumers","_options","_options$unmountIfNoC","unmountIfNoConsumers","newState","stateInitializer","setState","factory","modules","installedModules","__webpack_require__","moduleId","getter","mode","ns","Common","obj","deep","argsStart","deepClone","prop","values","begin","array","temp","choices","min","max","_seededRandom","colorString","haystack","needle","list","func","mapped","graph","visited","node","neighbors","neighbor","funcs","chain","lastResult","l","decomp","Bounds","vertices","bounds","velocity","vertex","point","boundsA","boundsB","vector","position","deltaX","deltaY","Vector","y","angle","cos","sin","magnitude","vectorA","vectorB","vectorC","scalar","negate","Vertices","points","body","pathPattern","area","centre","cross","average","signed","mass","numerator","denominator","n","verticesLength","translateX","translateY","pointX","pointY","dx","dy","nextVertex","scaleX","scaleY","delta","radius","quality","qualityMin","qualityMax","newVertices","prevVertex","currentRadius","prevNormal","nextNormal","diagonalRadius","radiusVector","midNormal","scaledVertex","precision","alpha","theta","vertexA","vertexB","flag","k","z","upper","lower","Events","eventNames","callback","names","callbacks","newCallbacks","eventClone","events","Composite","Body","composite","isModified","updateParents","updateChildren","childComposite","objects","compositeA","compositeB","constraint","keepStatic","bodies","constraints","composites","id","translation","recursive","rotation","Sleeping","Axes","defaults","_initProperties","isNonColliding","defaultFillStyle","defaultStrokeStyle","defaultLineWidth","settings","isStatic","part","moment","density","inertia","autoHull","hull","hullCentre","total","relative","totalArea","totalInertia","deltaTime","timeScale","correction","deltaTimeSquared","frictionAir","velocityPrevX","velocityPrevY","force","offset","properties","timeFactor","motion","minMotion","maxMotion","pairs","pair","collision","bodyA","bodyB","sleepingBody","movingBody","isSleeping","wasSleeping","Collision","Pair","_supports","_overlapAB","_overlapBA","minOverlap","normal","supports","minAxis","minAxisX","minAxisY","supportsB","supportCount","supportsA","verticesA","verticesB","axes","verticesALength","verticesBLength","verticesAX","verticesAY","verticesBX","verticesBY","axesLength","overlapMin","overlapAxisNumber","overlap","overlapAB","overlapBA","dot","axis","axisX","axisY","minA","minB","maxA","maxB","projection","direction","bodyAPositionX","bodyAPositionY","normalX","normalY","nearestDistance","vertexC","distance","Contact","timestamp","contacts","activeContacts","parentA","parentB","parentAVerticesLength","support","contactId","contact","isActive","Constraint","initialPointA","initialPointB","impulse","fixedA","fixedB","pointA","pointB","pointAWorld","pointBWorld","currentLength","difference","stiffness","massTotal","inertiaTotal","resistanceTotal","torque","share","normalVelocity","relativeVelocity","zero","gradient","xx","Bodies","width","height","rectangle","chamfer","slope","roof","x1","x2","x3","verticesPath","trapezoid","maxSides","circle","sides","yy","polygon","vertexSets","flagInternal","removeCollinear","minimumArea","removeDuplicatePoints","canDecomp","isConvex","isConcave","concave","decomposed","chunk","chunkVertices","coincident_max_dist","partA","partB","pav","pbv","da","db","Mouse","element","mouse","touches","scale","pixelRatio","elementBounds","rootNode","scrollX","scrollY","Detector","detector","collisions","bodiesLength","canCollide","collides","boundXMax","boundYMax","boundYMin","bodyAStatic","partsALength","partsASingle","partsBLength","partsAStart","partsBStart","filterA","filterB","Plugin","plugin","registered","pluginVersion","registeredVersion","dependency","plugins","dependencies","sortedDependencies","status","tracked","parsedBase","range","major","minor","patch","version","Render","_requestAnimationFrame","_cancelAnimationFrame","_createCanvas","loop","time","_updateTiming","canvas","_getPixelRatio","padding","center","viewHeight","viewWidth","outerRatio","innerRatio","boundsWidth","boundsHeight","boundsScaleX","boundsScaleY","startTime","engine","world","context","timing","allBodies","allConstraints","background","_applyBackground","sections","section","deltaHistory","elapsedHistory","timestampElapsedHistory","engineDeltaHistory","engineElapsedHistory","lastEngineDelta","deltaMean","_mean","elapsedMean","engineDeltaMean","engineElapsedMean","timestampElapsedMean","rateMean","fps","graphHeight","gap","label","indicator","plotY","coils","showInternalEdges","sprite","texture","_getTexture","normalPosX","normalPosY","inspector","selected","historySize","devicePixelRatio","backingStorePixelRatio","imagePath","image","cssBackground","Engine","Resolver","Pairs","engineA","engineB","gravity","gravityScale","worldBounds","activeCount","pairsLength","contactShare","positionImpulse","positionDampen","positionWarming","verticesTranslate","boundsUpdate","positionImpulseX","positionImpulseY","contactsLength","tangent","contactVertex","normalImpulse","tangentImpulse","impulseX","impulseY","timeScaleSquared","restingThresh","frictionNormalMultiplier","restingThreshTangent","NumberMaxValue","maxFriction","bodyAVelocity","bodyBVelocity","tangentX","tangentY","inverseMassTotal","friction","offsetAX","offsetAY","offsetBX","offsetBY","velocityPointAX","velocityPointAY","velocityPointBX","velocityPointBY","relativeVelocityX","relativeVelocityY","tangentVelocity","normalOverlap","normalForce","frictionLimit","oAcN","oBcN","contactNormalImpulse","contactTangentImpulse","pairsList","pairsListLength","pairsTable","collisionsLength","collisionStart","collisionEnd","collisionActive","pairIndex","removePairIndex","Matter","Composites","deprecated","columns","rows","columnGap","rowGap","stack","lastBody","row","maxHeight","column","bodyHeight","bodyWidth","xOffsetA","yOffsetA","xOffsetB","yOffsetB","bodyAHeight","bodyAWidth","bodyBHeight","bodyBWidth","crossBrace","col","bodyC","actualRows","lastBodyWidth","xOffset","number","size","newtonsCradle","separation","wheelSize","group","wheelBase","wheelAOffset","wheelBOffset","wheelYOffset","car","wheelA","wheelB","axelA","axelB","particleRadius","particleOptions","constraintOptions","softBody","Grid","grid","forceUpdate","buckets","bucket","bucketId","gridChanged","newRegion","union","isInsideNewRegion","isInsideOldRegion","regionA","regionB","startCol","endCol","startRow","endRow","gridPairs","pairId","bucketLength","pairKeys","pairKeysLength","MouseConstraint","mouseConstraint","mouseEvents","Query","overlaps","startPoint","endPoint","rayWidth","rayAngle","rayLength","rayX","rayY","ray","outside","Runner","_frameTimeout","runner","SAT","Svg","sampleLength","il","segmentsQueue","lastSegment","lastPoint","segmentIndex","lx","ly","addPoint","px","py","pathSegType","isRelative","addSegmentPoint","segType","x0","y0","y1","y2","segs","len","seg","World","undefined","window","Base","hidden","slice","create","describe","define","iter","bind","forIn","set","dst","each","desc","inject","dest","enumerable","beans","preserve","beansNames","isFunc","bean","get","statics","ctor","proto","Formatter","exclude","extend","obj1","obj2","amount","readIndex","filtered","hasValue","that","read","prioritize","processed","handleKey","asString","compact","dictionary","isRoot","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","useTarget","Item","Layer","items","itemsLength","startLength","remove","append","removed","chr","Emitter","types","handlers","setTarget","install","isString","PaperScope","paper","CanvasProvider","BlendMode","user","os","platform","agent","v1","v2","rv","project","View","scope","Project","projects","tools","handleAttribute","el","attr","PaperScopeItem","activate","CollisionDetection","items1","items2","tolerance","getBounds","rect","bounds1","bounds2","curves1","curves2","bothAxis","curves","hor","ver","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","curPri1","val1","val2","separator","Numerical","abscissas","weights","abs","sqrt","pow","log2","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","split","D","E","ad","bd","cd","dp","q","dq","getNormalizationFactor","norm","f","w","A","sum","Ax","df","fx","nx","roots","Q","R","boundless","d","b1","c2","qd","evaluate","tmp","t","s","td","rd","UID","pool","Point","arg0","arg1","reading","hasY","div","squared","matrix","Rectangle","isZero","point1","point2","op","LinkedPoint","owner","setter","_dontNotify","Size","hasHeight","size1","size2","LinkedSize","arg2","arg3","frm","next","to","rt","_dontLink","sx","sy","left","top","right","bottom","epsilon","xFirst","getX","getY","setX","setY","LinkedRectangle","internal","Matrix","ok","tx","ty","mx","recursively","_setApplyMatrix","shear","skew","toRadians","a1","c1","d1","a2","b2","d2","tx2","ty2","tx1","ty1","det","coords","atan2","degrees","rotate","Line","arg4","asVector","line","isInfinite","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","u1","u2","uMin","uMax","vx","vy","ccw","Style","view","changes","changesById","children","style","definitions","ids","SymbolItem","definition","selectionItems","selection","layer","_created","sets","other","hasProps","serialize","fields","Group","symbol","cacheParent","namedChildren","clipMask","pivot","hasMatrix","opts","_matrix","noInternal","cacheItem","cached","nonscaling","parent","cache","scaling","_dontClone","parents","apply","installEvents","_installEvents","copy","insert","orig","excludeMatrix","resolution","raster","Raster","topLeft","bottomRight","boundsSize","rasterSize","Path","hitTest","HitResult","hitTestAll","hitTestChildren","viewMatrix","_exclude","child","parentViewMatrix","tolerancePadding","checkSelf","filter","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","compare","matchObject","_getItems","firstOnly","overlapping","inside","childMatrix","add","inserted","notifySelf","namedArray","notifyParent","numChildren","getList","list1","list2","_applyRecursively","transformMatrix","applyMatrix","fillColor","strokeColor","applyRecursively","setApplyMatrix","fill","itemRatio","rectRatio","newBounds","strokeJoin","strokeCap","miterLimit","dashArray","dashOffset","blur","parentStrokeMatrix","matrices","globalMatrix","blendMode","opacity","normalBlend","nativeBlend","direct","mainCtx","itemOffset","prevOffset","strokeMatrix","clip","transform","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","color","half","pos","deltas","from","easing","duration","tween","Tween","onFrame","_changed","clipItem","clipped","_getBounds","_hitTestChildren","isInserted","Shape","rad","hasFill","hasStroke","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","strokeWidth","getCornerCenter","expand","halfSize","dir","corner","isOnEllipseStroke","quadrant","_contains","_hitTestSelf","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","ellipse","copyCanvas","_size","_clear","u","emit","Event","DomEvent","_change","crossOrigin","smoothing","PathItem","sampleSize","pixels","channels","Color","components","imageData","disabled","DomElement","SymbolDefinition","dontCenter","_dontCenter","Segment","arg5","handleIn","handleOut","SegmentPoint","curve","oldSelection","CurveLocation","_first","_last","factor","p0","p1","p2","d1_a","d1_2a","d2_a","d2_2a","N","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment2","location","_setHandles","tMin","tMax","setHandles","isTime","segment1","straight","h1","h2","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","io","o0","o1","o2","o3","v0","v3","p3","geomEpsilon","minDist","minT","refine","dist","step","flip","flatness","ux","uy","minPad","maxPad","s1","s2","third","test","_isTime","loc","methods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","a3","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","addLocation","locations","include","excludeStart","excludeEnd","loc1","loc2","addCurveIntersections","recursion","calls","fatLineEpsilon","q0x","q0y","q3x","q3y","getSignedDistance","dMin","dMax","dp0","dp1","dp2","dp3","getConvexHull","tMinClip","tMaxClip","clipConvexHull","tMinNew","tMaxNew","uDiff","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","getOverlaps","straight1","straight2","before","getSelfIntersection","getIntersections","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","getSquaredLineLength","getDistance","timeEpsilon","straightBoth","l1","l2","getTimesWithTangent","den","times","num","t0","_overlap","_distance","trySegment","_ignoreOther","inter","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","v4","a4","merge","found","path1","path2","expanded","compound","first","clockwise","previous","control","getCoord","getPoint","command","move","winding","minLoc","isPath","itemsFrom","itemsTo","paths1","paths2","matched","boundsOverlaps","pathBoundsOverlaps","fullySelected","last","closed","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","_includeCurves","setSelection","newSelection","last1","last2","first2","first1","simplify","flattener","PathFlattener","PathFitter","getIndex","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","isCollinear","seg3","seg4","isOrthogonal","isArc","pt1","pt2","shape","pos1","pos2","end1","end2","start2","numSegments","join","cap","hitCurves","isCloseEnough","checkSegmentPoint","anchor","checkSegmentPoints","ends","addToArea","checkSegmentStroke","isJoin","curveStart","curveTimes","drawHandles","miniSize","miniHalf","pX","pY","drawHandle","hX","hY","fillStyle","drawSegments","drawSegment","handle","dontStart","dashLength","getOffset","getCurrentSegment","through","peek","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","inc","out","_in","parameter","prevCoords","processSegment","stroke","joinBounds","addRound","addJoin","addCap","phi","tan","isArea","normal1","normal2","joinPadding","joinRadius","paddingX","paddingY","xn","yn","yx","ellipseSegments","createPath","createEllipse","bl","tl","tr","br","three","radius1","radius2","insertChildren","reduce","getCurrentPath","check","operators","getPaths","preparePath","createResult","filterIntersection","traceBoolean","operation","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","getCurves","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","tracePaths","reorientPaths","subtract","divide","added","addPath","linkIntersections","clearCurveHandles","isInside","lookup","sorted","entry1","containerWinding","entry2","clearLater","results","clearHandles","clearCurves","clearLookup","renormalizeLocs","prevCurve","prevTime","getId","origTime","newCurve","getWinding","dontFlip","curvesList","ia","pv","pa","po","windingEpsilon","qualityEpsilon","paL","paR","windingL","windingR","pathWindingL","pathWindingR","onPath","onAnyPath","vPrev","vClose","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","wind","otherPath","pathWinding","starts","isValid","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","valid","branches","branch","hasOverlap","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","tan1","tan2","uPrime","maxError","parametersInOrder","tanCenter","X","b0","b3","detC0C1","alpha1","alpha2","detC0X","detXC1","c0","segLength","eps","degree","maxDist","P","TextItem","content","PointText","lines","leading","shadowColor","numLines","justification","componentParsers","namedColors","colorCtx","fromCSS","string","isHSL","unit","hsbIndices","converters","g","achromatic","t3s","t3","parser","Gradient","argType","converted","parsers","converter","isGradient","hex","convert","stops","highlight","inverse","canvasGradient","stop","random","components1","components2","radial","_stops","GradientStop","stops1","stops2","itemDefaults","groupDefaults","textDefaults","_owner","_project","isColor","isPoint","applyToChildren","_dontMerge","childValue","isStyle","style1","style2","secondary","defaults2","value1","value2","fontSize","getLeading","handlePrefix","doc","viewport","html","nativeRequest","requested","timer","handleCallbacks","functions","getSize","getCanvasSize","none","stats","autoUpdate","now","animate","font","zoom","CanvasView","prevFocus","tempFocus","dragging","mouseDown","getView","updateFocus","handleMouseMove","navigator","mousedown","mousemove","mouseup","viewEvents","docEvents","called","prevented","fallbacks","wasInView","downPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","emitMouseEvent","prevPoint","stopItem","stopped","mouseEvent","MouseEvent","fallback","emitMouseEvents","hitItem","itemEventsMap","itemEvents","hitItems","nativeMove","tool","responds","inView","character","keyEvent","KeyEvent","sign","native","virtual","deviceRatio","backingStoreRatio","_setElementSize","getPixelSize","prevFont","Key","keyLookup","charLookup","keyMap","charMap","metaFixMap","downKey","modifiers","getKey","down","ToolEvent","toolPoint","middlePoint","Tool","minDistance","maxDistance","update","isFunction","then","progress","getValue","Http","xhr","clear","sr","sg","sb","sa","bg","bb","ba","dr","dg","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","nativeModes","darken","srcContext","dstContext","srcCanvas","process","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","tag","attributes","formatter","namespace","SvgStyles","getTransform","coordinates","attrs","trans","exportGroup","childNode","exportSVG","setDefinition","exportRaster","exportPath","matchShapes","exportShape","exportCompoundPath","exportSymbolItem","getDefinition","definitionItem","exportGradient","gradientNode","stopColor","exportText","exporters","applyStyle","typeId","exportDefinitions","defs","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","nodes","isClip","isDefs","currentStyle","applyAttributes","importNode","importPoly","importPath","importGradient","scaleToBounds","importers","applyTransform","transforms","applyOpacity","percent","getAttribute","isElement","insertItems","importer","onImport","importSVG","onLoad","onError","reader","acorn","require","inputLen","sourceFile","inpt","initTokenState","parseTopLevel","defaultOptions","opt","getLineInfo","cur","lineBreak","getToken","forceRegexp","lastEnd","tokEnd","readToken","tokStart","tokStartLoc","tokEndLoc","tokType","tokVal","reAllowed","tokPos","tokCurLine","tokLineStart","tokRegexpAllowed","skipSpace","lastStart","lastEndLoc","inFunction","labels","raise","empty","_num","_regexp","_string","_name","_eof","_break","_case","_catch","_continue","_debugger","_do","_else","_finally","_for","_function","_if","_return","_switch","_try","_var","_while","_with","_new","_null","_true","_false","keywordTypes","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","_assign","_incDec","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","kw","makePredicate","words","cats","compareTo","arr","cat","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","nonASCIIwhitespace","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","newline","isIdentifierStart","isIdentifierChar","line_loc_t","finishToken","skipBlockComment","startLoc","skipLineComment","ch","readToken_dot","readNumber","readToken_slash","readRegexp","finishOp","readToken_mult_modulo","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","getTokenFromCode","readHexNumber","readString","readWord","tok","escaped","inClass","mods","readWord1","readInt","radix","startsWithDot","isFloat","octal","quote","readHexChar","containsEsc","word","esc","escStr","setStrict","strct","node_t","node_loc_t","startNode","startNodeFrom","finishNode","isUseStrict","stmt","eat","canInsertSemicolon","semicolon","unexpected","expect","checkLVal","expr","program","parseStatement","loopLabel","switchLabel","starttype","isBreak","parseIdent","lab","parseParenExpression","parseFor","init","parseVar","parseForIn","parseExpression","parseFunction","sawDefault","isCase","parseBlock","clause","maybeName","kind","allowStrict","oldStrict","noIn","decl","noComma","parseMaybeAssign","parseMaybeConditional","parseExprOps","parseExprOp","parseMaybeUnary","minPrec","prec","exprNode","parseExprSubscripts","parseSubscripts","parseExprAtom","noCalls","parseExprList","tokStartLoc1","tokStart1","parseObj","parseNew","sawGetSet","parsePropertyName","isGetSet","conflict","isStatement","oldInFunc","oldLabels","close","allowTrailingComma","allowEmpty","elts","liberal","binaryOperators","unaryOperators","__$__","$__","insertions","insertion","getCode","getBetween","replaceCode","handleOverloading","between","parentType","exp","handleExports","declaration","specifiers","declarations","dec","specifier","walkAST","paperFeatures","encodeVLQ","base64","sourceMaps","offsetCode","lineBreaks","mappings","toolHandlers","compiled","expose","head","loadScript","canvasId","async","scopeAttribute","loadAll","load","o","O","L","I","W","V","J","Z","$","ee","ne","se","he","we","pe"],"mappings":"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"}