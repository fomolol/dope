var C=Object.defineProperty;var d=(e,t)=>C(e,"name",{value:t,configurable:!0});import{r as h}from"./index.6015db55.js";var R=new Map,b=new WeakMap,_=0,E=void 0;function $(e){return e?(b.has(e)||(_+=1,b.set(e,_.toString())),b.get(e)):"0"}d($,"getRootId");function B(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?$(e.root):e[t])}).toString()}d(B,"optionsToId");function T(e){var t=B(e),r=R.get(t);if(!r){var i=new Map,o,u=new IntersectionObserver(function(v){v.forEach(function(n){var s,a=n.isIntersecting&&o.some(function(f){return n.intersectionRatio>=f});e.trackVisibility&&typeof n.isVisible>"u"&&(n.isVisible=a),(s=i.get(n.target))==null||s.forEach(function(f){f(a,n)})})},e);o=u.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:u,elements:i},R.set(t,r)}return r}d(T,"createObserver");function j(e,t,r,i){if(r===void 0&&(r={}),i===void 0&&(i=E),typeof window.IntersectionObserver>"u"&&i!==void 0){var o=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var u=T(r),v=u.id,n=u.observer,s=u.elements,a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),n.observe(e),d(function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),n.unobserve(e)),s.size===0&&(n.disconnect(),R.delete(v))},"unobserve")}d(j,"observe");function W(e){var t,r=e===void 0?{}:e,i=r.threshold,o=r.delay,u=r.trackVisibility,v=r.rootMargin,n=r.root,s=r.triggerOnce,a=r.skip,f=r.initialInView,I=r.fallbackInView,k=r.onChange,p=h.exports.useState(null),l=p[0],A=p[1],y=h.exports.useRef(),O=h.exports.useState({inView:!!f,entry:void 0}),V=O[0],S=O[1];y.current=k,h.exports.useEffect(function(){if(!(a||!l)){var g;return g=j(l,function(M,w){S({inView:M,entry:w}),y.current&&y.current(M,w),w.isIntersecting&&s&&g&&(g(),g=void 0)},{root:n,rootMargin:v,threshold:i,trackVisibility:u,delay:o},I),function(){g&&g()}}},[Array.isArray(i)?i.toString():i,l,n,v,s,a,u,I,o]);var x=(t=V.entry)==null?void 0:t.target;h.exports.useEffect(function(){!l&&x&&!s&&!a&&S({inView:!!f,entry:void 0})},[l,x,s,a,f]);var c=[A,V.inView,V.entry];return c.ref=c[0],c.inView=c[1],c.entry=c[2],c}d(W,"useInView");export{W as u};
//# sourceMappingURL=react-intersection-observer.esm.5da2dd72.js.map
