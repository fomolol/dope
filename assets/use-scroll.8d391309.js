var _=Object.defineProperty;var o=(e,t)=>_(e,"name",{value:t,configurable:!0});import{O as F,u as M,b as N,m}from"./animate.aee8590b.js";import{c as X}from"./use-motion-template.e5260baa.js";import{r as Y}from"./index.6015db55.js";import{t as q}from"./tslib.ee338f4c.js";const D=o(e=>typeof e=="object"&&e.mix,"isCustomValueType"),G=o(e=>D(e)?e.mix:void 0,"getMixer");function C(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],c=e[3+n],l=F(s,i,{mixer:G(i[0]),...c});return t?l(r):l}o(C,"transform");function Oe(e,t,n,r){const s=typeof t=="function"?t:C(t,n,r);return Array.isArray(e)?A(e,s):A([e],([i])=>s(i))}o(Oe,"useTransform");function A(e,t){const n=M(()=>[]);return X(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}o(A,"useListTransform");const $=o((e,t,n)=>Math.min(Math.max(n,e),t),"clamp"),L=o(e=>typeof e=="number","isNumber"),j=o(e=>Array.isArray(e)&&!L(e[0]),"isEasingList"),J=o((e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},"wrap");function K(e,t){return j(e)?e[J(0,e.length,t)]:e}o(K,"getEasingForSegment");const T=o((e,t,n)=>-n*e+n*t+e,"mix"),I=o(e=>e,"noopReturn"),z=o((e,t,n)=>t-e===0?1:(n-e)/(t-e),"progress");function V(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=z(0,t,r);e.push(T(n,1,s))}}o(V,"fillOffset");function k(e){const t=[0];return V(t,e-1),t}o(k,"defaultOffset$1");function Q(e,t=k(e.length),n=I){const r=e.length,s=r-t.length;return s>0&&V(t,s),i=>{let c=0;for(;c<r-2&&!(i<t[c+1]);c++);let l=$(0,1,z(t[c],t[c+1],i));return l=K(n,c)(l),T(e[c],e[c+1],l)}}o(Q,"interpolate");const B=o(e=>typeof e=="function","isFunction"),R=o(e=>typeof e=="string","isString");function U(e,t){return t?e*(1e3/t):0}o(U,"velocityPerSecond");function Z(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}o(Z,"resolveElements");const y=new WeakMap;let h;function ee(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}o(ee,"getElementSize");function te({target:e,contentRect:t,borderBoxSize:n}){var r;(r=y.get(e))===null||r===void 0||r.forEach(s=>{s({target:e,contentSize:t,get size(){return ee(e,n)}})})}o(te,"notifyTarget");function ne(e){e.forEach(te)}o(ne,"notifyAll");function se(){typeof ResizeObserver>"u"||(h=new ResizeObserver(ne))}o(se,"createResizeObserver");function re(e,t){h||se();const n=Z(e);return n.forEach(r=>{let s=y.get(r);s||(s=new Set,y.set(r,s)),s.add(t),h==null||h.observe(r)}),()=>{n.forEach(r=>{const s=y.get(r);s==null||s.delete(t),s!=null&&s.size||h==null||h.unobserve(r)})}}o(re,"resizeElement");const w=new Set;let v;function oe(){v=o(()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};w.forEach(n=>n(t))},"windowResizeHandler"),window.addEventListener("resize",v)}o(oe,"createWindowResizeHandler");function ie(e){return w.add(e),v||oe(),()=>{w.delete(e),!w.size&&v&&(v=void 0)}}o(ie,"resizeWindow");function ce(e,t){return B(e)?ie(e):re(e,t)}o(ce,"resize");const le=50,S=o(()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),"createAxisInfo"),fe=o(()=>({time:0,x:S(),y:S()}),"createScrollInfo"),ue={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function W(e,t,n,r){const s=n[t],{length:i,position:c}=ue[t],l=s.current,g=n.time;s.current=e["scroll"+c],s.scrollLength=e["scroll"+i]-e["client"+i],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=z(0,s.scrollLength,s.current);const f=r-g;s.velocity=f>le?0:U(s.current-l,f)}o(W,"updateAxisInfo");function ae(e,t,n){W(e,"x",t,n),W(e,"y",t,n),t.time=n}o(ae,"updateScrollInfo");function de(e,t){let n={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r instanceof SVGGraphicsElement&&"getBBox"in r){const{top:s,left:i}=r.getBBox();for(n.x+=i,n.y+=s;r&&r.tagName!=="svg";)r=r.parentNode}return n}o(de,"calcInset");const he={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},x={start:0,center:.5,end:1};function O(e,t,n=0){let r=0;if(x[e]!==void 0&&(e=x[e]),R(e)){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return L(e)&&(r=t*e),n+r}o(O,"resolveEdge");const ge=[0,0];function pe(e,t,n,r){let s=Array.isArray(e)?e:ge,i=0,c=0;return L(e)?s=[e,e]:R(e)&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,x[e]?e:"0"]),i=O(s[0],n,r),c=O(s[1],t),i-c}o(pe,"resolveOffset");const ve={x:0,y:0};function me(e,t,n){let{offset:r=he.All}=n;const{target:s=e,axis:i="y"}=n,c=i==="y"?"height":"width",l=s!==e?de(s,e):ve,g=s===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:s.clientWidth,height:s.clientHeight},f={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let a=!t[i].interpolate;const d=r.length;for(let u=0;u<d;u++){const H=pe(r[u],f[c],g[c],l[i]);!a&&H!==t[i].interpolatorOffsets[u]&&(a=!0),t[i].offset[u]=H}a&&(t[i].interpolate=Q(k(d),t[i].offset),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=t[i].interpolate(t[i].current)}o(me,"resolveOffsets");function ye(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!=e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}o(ye,"measure");function we(e,t,n,r={}){const s=r.axis||"y";return{measure:()=>ye(e,r.target,n),update:i=>{ae(e,n,i),(r.offset||r.target)&&me(e,n,r)},notify:B(t)?()=>t(n):Ee(t,n[s])}}o(we,"createOnScrollHandler");function Ee(e,t){return e.pause(),e.forEachNative((n,{easing:r})=>{var s,i;if(n.updateDuration)r||(n.easing=I),n.updateDuration(1);else{const c={duration:1e3};r||(c.easing="linear"),(i=(s=n.effect)===null||s===void 0?void 0:s.updateTiming)===null||i===void 0||i.call(s,c)}}),()=>{e.currentTime=t.progress}}o(Ee,"scrubAnimation");const p=new WeakMap,b=new WeakMap,E=new WeakMap,P=o(e=>e===document.documentElement?window:e,"getEventTarget");function xe(e,t={}){var{container:n=document.documentElement}=t,r=q.exports.__rest(t,["container"]);let s=E.get(n);s||(s=new Set,E.set(n,s));const i=fe(),c=we(n,e,i,r);if(s.add(c),!p.has(n)){const f=o(()=>{const d=performance.now();for(const u of s)u.measure();for(const u of s)u.update(d);for(const u of s)u.notify()},"listener");p.set(n,f);const a=P(n);window.addEventListener("resize",f,{passive:!0}),n!==document.documentElement&&b.set(n,ce(n,f)),a.addEventListener("scroll",f,{passive:!0})}const l=p.get(n),g=requestAnimationFrame(l);return()=>{var f;typeof e!="function"&&e.stop(),cancelAnimationFrame(g);const a=E.get(n);if(!a||(a.delete(c),a.size))return;const d=p.get(n);p.delete(n),d&&(P(n).removeEventListener("scroll",d),(f=b.get(n))===null||f===void 0||f(),window.removeEventListener("resize",d))}}o(xe,"scroll");const Le=o(()=>({scrollX:m(0),scrollY:m(0),scrollXProgress:m(0),scrollYProgress:m(0)}),"createScrollMotionValues");function be({container:e,target:t,layoutEffect:n=!0,...r}={}){const s=M(Le);return(n?N:Y.exports.useEffect)(()=>xe(({x:c,y:l})=>{s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(l.current),s.scrollYProgress.set(l.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),[]),s}o(be,"useScroll");export{Oe as a,be as u};
//# sourceMappingURL=use-scroll.8d391309.js.map
