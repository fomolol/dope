import*as e from"react";import t,{createContext as n,useReducer as r,useMemo as i,useContext as a,useLayoutEffect as o,useEffect as s,useRef as l,useCallback as u,forwardRef as c,createElement as d,useId as f,useState as p,useInsertionEffect as m,cloneElement as g,Children as v,isValidElement as y,useDebugValue as _,useImperativeHandle as b,Fragment as x,createRef as w,memo as S}from"react";import M from"prop-types";import{useLocomotiveScroll as E}from"react-locomotive-scroll";import T from"react-dom";import"react-dom/client";import"matter-js";import C from"glslify";import{useWindowSize as P}from"@/hooks/useWindowSize";import k from"classnames";import A from"nice-color-palettes";function I(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})}),e}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function O(e,t){return t||(t=e.slice(0)),e.raw=t,e}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D={cursorStyle:{bordered:!1,color:"#ff0000"},position:null},z=function(e,t){switch(t.type){case"UPDATE_CURSOR_STYLE":return R({},e,{cursorStyle:R({},e.cursorStyle,t.payload)});case"ADD_CURSOR_BORDER":return R({},e,{cursorStyle:R({},e.cursorStyle,{bordered:!0})});case"REMOVE_CURSOR_BORDER":return R({},e,{cursorStyle:R({},e.cursorStyle,{bordered:!1})});case"ADD_CURSOR_COLOR":return R({},e,{cursorStyle:R({},e.cursorStyle,{color:t.payload})});case"RESET_CURSOR_COLOR":return R({},e,{cursorStyle:R({},e.cursorStyle,{color:D.cursorStyle.color})});case"LOCK_CURSOR_POSITION":return R({},e,{position:t.payload});default:return e}},U=n(),B=function(e){var t=e.children,n=r(z,D),a=n[0],o=n[1],s=i(function(){return{state:a,dispatch:o}},[a]);return h(U.Provider,{value:s},t)};B.propTypes={children:M.node};var F={CursorContext:U,CursorProvider:B},j={isMenuOpen:!1},V=function(e,t){return"TOGGLE_MENU"===t.type?R({},e,{isMenuOpen:!e.isMenuOpen}):e},H=n(),W=function(e){var t=e.children,n=r(V,j),a=n[0],o=n[1],s=i(function(){return{state:a,dispatch:o}},[a]);return h(H.Provider,{value:s},t)};W.propTypes={children:M.node};var G={MenuContext:H,MenuProvider:W},$={arrow_scroll:"_6uyDq",arrow_scroll__default:"_1KXZz"},q=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute w-screen bottom-[20px] h-screen flex items-end justify-end lg:justify-center text-black mix-blend-difference pointer-events-none translate-y-100 right-[20px] lg:right-0":r,a=e.variant,o=void 0===a?"default":a,s=e.children,l=void 0===s?"Scroll down":s,u=E().scroll;return console.log("scroll",u),h(n,{className:$.arrow_scroll+" "+$["arrow_scroll__"+o]+" arrow-scroll "+i},h("button",{"data-target":"#scroll",onClick:function(){u.scrollTo("bottom")},className:"arrow-scroll_button inline-flex justify-center w-[20px] h-[34px] lg:w-[40px] lg:h-[40px] md:ml-[-10px] pointer-events-auto overflow-hidden pb-[20px]","aria-hidden":"true",focusable:"false"},h("span",{className:"sr-only"},l),h("span",{className:"inline-block arrow-scroll_button_inner"},h("svg",{className:"arrow-scroll_button_arrow"},h("use",{xlinkHref:"/img/sprite.svg#arrow-bottom"})))),h("style",{jsx:!0},"\n        .arrow-scroll {\n          transition: transform 0.6s cubic-bezier(0.4, 0, 0, 1),\n            opacity 0.6s cubic-bezier(0.4, 0, 0, 1);\n          transition-delay: 1.4s;\n          opacity: 1;\n          transform: translateY(0%);\n        }\n        @media (max-width: 699px) {\n          .arrow-scroll {\n            justify-content: flex-end;\n          }\n        }\n\n        .arrow-scroll_button {\n          transition: transform 0.9s cubic-bezier(0.4, 0, 0, 1);\n        }\n        html.has-small-logo .arrow-scroll_button {\n          transform: translateY(110%);\n        }\n        .arrow-scroll_button_arrow {\n          stroke: currentColor;\n          stroke-width: 1px;\n          stroke-dasharray: 2;\n        }\n        @media (min-width: 700px) {\n          .arrow-scroll_button_arrow {\n            width: 20px;\n            height: 20px;\n          }\n        }\n        @media (max-width: 699px) {\n          .arrow-scroll_button_arrow {\n            width: 14px;\n            height: 14px;\n          }\n        }\n        @keyframes scrollDown {\n          0% {\n            transform: translate3d(0, -160%, 0);\n          }\n          70% {\n            transform: translate3d(0, 0, 0);\n          }\n          95% {\n            transform: translate3d(0, 100%, 0) translate3d(0, 20px, 0);\n          }\n          100% {\n            transform: translate3d(0, 100%, 0) translate3d(0, 20px, 0);\n          }\n        }\n        .arrow-scroll_button_inner {\n          animation: scrollDown 3s cubic-bezier(0.77, 0, 0.175, 1) forwards\n            infinite;\n        }\n      "))};q.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Y(e){var t={exports:{}};return e(t,t.exports),t.exports}function Z(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var K=Y(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}})}),J=Y(function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})}),Q=Y(function(e,t){function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}function r(){return n.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})}),ee=Y(function(e,t){function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}})}),te=/*#__PURE__*/Object.defineProperty({removeTrailingSlash:function(e){return e.replace(/\/$/,"")||"/"}},"__esModule",{value:!0}),ne=/*#__PURE__*/Object.defineProperty({parsePath:function(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=n>-1&&(t<0||n<t);return r||t>-1?{pathname:e.substring(0,r?n:t),query:r?e.substring(n,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}},"__esModule",{value:!0}),re=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePathTrailingSlash=void 0,t.normalizePathTrailingSlash=e=>{if(!e.startsWith("/")||process.env.__NEXT_MANUAL_TRAILING_SLASH)return e;const{pathname:t,query:n,hash:r}=ne.parsePath(e);return process.env.__NEXT_TRAILING_SLASH?/\.[^/]+\/?$/.test(t)?`${te.removeTrailingSlash(t)}${n}${r}`:t.endsWith("/")?`${t}${n}${r}`:`${t}/${n}${r}`:`${te.removeTrailingSlash(t)}${n}${r}`},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),ie=/*#__PURE__*/Object.defineProperty({default:function(e,t=""){return("/"===e?"/index":/^\/index(\/|$)/.test(e)?`/index${e}`:`${e}`)+t}},"__esModule",{value:!0}),ae=Y(function(e,t){let n;Object.defineProperty(t,"__esModule",{value:!0}),t.__unsafeCreateTrustedScriptURL=function(e){var t;return(null==(t=function(){var e;return void 0===n&&"undefined"!=typeof window&&(n=(null==(e=window.trustedTypes)?void 0:e.createPolicy("nextjs",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e}))||null),n}())?void 0:t.createScriptURL(e))||e},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),oe=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.cancelIdleCallback=t.requestIdleCallback=void 0;const n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};t.requestIdleCallback=n;const r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};t.cancelIdleCallback=r,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),se=K,le=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.markAssetError=a,t.isAssetError=function(e){return e&&i in e},t.getClientBuildManifest=c,t.createRouteLoader=function(e){const t=new Map,n=new Map,i=new Map,c=new Map;function d(e){if("development"!==process.env.NODE_ENV){let t=n.get(e.toString());return t||(document.querySelector(`script[src^="${e}"]`)?Promise.resolve():(n.set(e.toString(),t=s(e)),t))}return s(e)}function f(e){let t=i.get(e);return t||(i.set(e,t=fetch(e).then(t=>{if(!t.ok)throw new Error(`Failed to load stylesheet: ${e}`);return t.text().then(t=>({href:e,content:t}))}).catch(e=>{throw a(e)})),t)}return{whenEntrypoint:e=>r(e,t),onEntrypoint(e,n){(n?Promise.resolve().then(()=>n()).then(e=>({component:e&&e.default||e,exports:e}),e=>({error:e})):Promise.resolve(void 0)).then(n=>{const r=t.get(e);r&&"resolve"in r?n&&(t.set(e,n),r.resolve(n)):(n?t.set(e,n):t.delete(e),c.delete(e))})},loadRoute(n,i){return r(n,c,()=>{let r;return"development"===process.env.NODE_ENV&&(l=new Promise(e=>{r=e})),u(h(e,n).then(({scripts:e,css:r})=>Promise.all([t.has(n)?[]:Promise.all(e.map(d)),Promise.all(r.map(f))])).then(e=>this.whenEntrypoint(n).then(t=>({entrypoint:t,styles:e[1]}))),3800,a(new Error(`Route did not complete loading: ${n}`))).then(({entrypoint:e,styles:t})=>{const n=Object.assign({styles:t},e);return"error"in e?e:n}).catch(e=>{if(i)throw e;return{error:e}}).finally(()=>null==r?void 0:r())})},prefetch(t){let n;return(n=navigator.connection)&&(n.saveData||/2g/.test(n.effectiveType))?Promise.resolve():h(e,t).then(e=>Promise.all(o?e.scripts.map(e=>{return t=e.toString(),new Promise((e,r)=>{if(document.querySelector(`\n      link[rel="prefetch"][href^="${t}"],\n      link[rel="preload"][href^="${t}"],\n      script[src^="${t}"]`))return e();(n=document.createElement("link")).as="script",n.rel="prefetch",n.crossOrigin=process.env.__NEXT_CROSS_ORIGIN,n.onload=e,n.onerror=()=>r(a(new Error(`Failed to prefetch: ${t}`))),n.href=t,document.head.appendChild(n)});var t,n}):[])).then(()=>{oe.requestIdleCallback(()=>this.loadRoute(t,!0).catch(()=>{}))}).catch(()=>{})}}};var n=(0,se.default)(ie);function r(e,t,n){let r,i=t.get(e);if(i)return"future"in i?i.future:Promise.resolve(i);const a=new Promise(e=>{r=e});return t.set(e,i={resolve:r,future:a}),n?n().then(e=>(r(e),e)).catch(n=>{throw t.delete(e),n}):a}const i=Symbol("ASSET_LOAD_ERROR");function a(e){return Object.defineProperty(e,i,{})}const o=function(e){try{return e=document.createElement("link"),!!window.MSInputMethodContext&&!!document.documentMode||e.relList.supports("prefetch")}catch(e){return!1}}();function s(e,t){return new Promise((n,r)=>{(t=document.createElement("script")).onload=n,t.onerror=()=>r(a(new Error(`Failed to load script: ${e}`))),t.crossOrigin=process.env.__NEXT_CROSS_ORIGIN,t.src=e,document.body.appendChild(t)})}let l;function u(e,t,n){return new Promise((r,i)=>{let a=!1;e.then(e=>{a=!0,r(e)}).catch(i),"development"===process.env.NODE_ENV&&(l||Promise.resolve()).then(()=>{oe.requestIdleCallback(()=>setTimeout(()=>{a||i(n)},t))}),"development"!==process.env.NODE_ENV&&oe.requestIdleCallback(()=>setTimeout(()=>{a||i(n)},t))})}function c(){if(self.__BUILD_MANIFEST)return Promise.resolve(self.__BUILD_MANIFEST);const e=new Promise(e=>{const t=self.__BUILD_MANIFEST_CB;self.__BUILD_MANIFEST_CB=()=>{e(self.__BUILD_MANIFEST),t&&t()}});return u(e,3800,a(new Error("Failed to load client build manifest")))}function h(e,t){if("development"===process.env.NODE_ENV){const r=e+"/_next/static/chunks/pages"+encodeURI(n.default(t,".js"));return Promise.resolve({scripts:[ae.__unsafeCreateTrustedScriptURL(r)],css:[]})}return c().then(n=>{if(!(t in n))throw a(new Error(`Failed to lookup route: ${t}`));const r=n[t].map(t=>e+"/_next/"+encodeURI(t));return{scripts:r.filter(e=>e.endsWith(".js")).map(e=>ae.__unsafeCreateTrustedScriptURL(e)),css:r.filter(e=>e.endsWith(".css"))}})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),ue=Y(function(e,t){function n(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}})}),ce=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.HeadManagerContext=void 0;const r=(0,se.default)(t).default.createContext({});n.HeadManagerContext=r,"production"!==process.env.NODE_ENV&&(r.displayName="HeadManagerContext")}),he=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{mountedInstances:new Set,updateHead:e=>{const t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector(`style[data-href="${e.props["data-href"]}"]`))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}const n=t[e.type]||[];n.push(e),t[e.type]=n});const n=t.title?t.title[0]:null;let a="";if(n){const{children:e}=n.props;a="string"==typeof e?e:Array.isArray(e)?e.join(""):""}a!==document.title&&(document.title=a),["meta","base","link","style","script"].forEach(e=>{!function(e,t){const n=document.getElementsByTagName("head")[0],a=n.querySelector("meta[name=next-head-count]");if("production"!==process.env.NODE_ENV&&!a)return void console.error("Warning: next-head-count is missing. https://nextjs.org/docs/messages/next-head-count-missing");const o=Number(a.content),s=[];for(let t=0,n=a.previousElementSibling;t<o;t++,n=(null==n?void 0:n.previousElementSibling)||null){var l;(null==n||null==(l=n.tagName)?void 0:l.toLowerCase())===e&&s.push(n)}const u=t.map(r).filter(e=>{for(let t=0,n=s.length;t<n;t++)if(i(s[t],e))return s.splice(t,1),!1;return!0});s.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),u.forEach(e=>n.insertBefore(e,a)),a.content=(o-s.length+u.length).toString()}(e,t[e]||[])})}}},t.isEqualNode=i,t.DOMAttributeNames=void 0;const n={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function r({type:e,props:t}){const r=document.createElement(e);for(const i in t){if(!t.hasOwnProperty(i))continue;if("children"===i||"dangerouslySetInnerHTML"===i)continue;if(void 0===t[i])continue;const a=n[i]||i.toLowerCase();"script"!==e||"async"!==a&&"defer"!==a&&"noModule"!==a?r.setAttribute(a,t[i]):r[a]=!!t[i]}const{children:i,dangerouslySetInnerHTML:a}=t;return a?r.innerHTML=a.__html||"":i&&(r.textContent="string"==typeof i?i:Array.isArray(i)?i.join(""):""),r}function i(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){const n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){const r=t.cloneNode(!0);return r.setAttribute("nonce",""),r.nonce=n,n===e.nonce&&e.isEqualNode(r)}}return e.isEqualNode(t)}t.DOMAttributeNames=n,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),de=Q,fe=ee,pe=ue,me=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleClientScriptLoad=d,n.initScriptLoader=function(e){e.forEach(d),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{const t=e.id||e.getAttribute("src");u.add(t)})},n.default=void 0;var r=de.default,i=fe.default,a=pe.default,o=(0,se.default)(T),s=i(t);const l=new Map,u=new Set,c=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy"],h=e=>{const{src:t,id:n,onLoad:r=(()=>{}),onReady:i=null,dangerouslySetInnerHTML:a,children:o="",strategy:s="afterInteractive",onError:h}=e,d=n||t;if(d&&u.has(d))return;if(l.has(t))return u.add(d),void l.get(t).then(r,h);const f=()=>{i&&i(),u.add(d)},p=document.createElement("script"),m=new Promise((e,t)=>{p.addEventListener("load",function(t){e(),r&&r.call(this,t),f()}),p.addEventListener("error",function(e){t(e)})}).catch(function(e){h&&h(e)});a?(p.innerHTML=a.__html||"",f()):o?(p.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",f()):t&&(p.src=t,l.set(t,m));for(const[t,n]of Object.entries(e)){if(void 0===n||c.includes(t))continue;const e=he.DOMAttributeNames[t]||t.toLowerCase();p.setAttribute(e,n)}"worker"===s&&p.setAttribute("type","text/partytown"),p.setAttribute("data-nscript",s),document.body.appendChild(p)};function d(e){const{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{oe.requestIdleCallback(()=>h(e))}):h(e)}function f(e){const{id:t,src:n="",onLoad:i=(()=>{}),onReady:l=null,strategy:c="afterInteractive",onError:d}=e,f=a(e,["id","src","onLoad","onReady","strategy","onError"]),{updateScripts:p,scripts:m,getIsSsr:g,appDir:v,nonce:y}=s.useContext(ce.HeadManagerContext),_=s.useRef(!1);s.useEffect(()=>{const e=t||n;_.current||(l&&e&&u.has(e)&&l(),_.current=!0)},[l,t,n]);const b=s.useRef(!1);if(s.useEffect(()=>{b.current||("afterInteractive"===c?h(e):"lazyOnload"===c&&function(e){"complete"===document.readyState?oe.requestIdleCallback(()=>h(e)):window.addEventListener("load",()=>{oe.requestIdleCallback(()=>h(e))})}(e),b.current=!0)},[e,c]),"beforeInteractive"!==c&&"worker"!==c||(p?(m[c]=(m[c]||[]).concat([r({id:t,src:n,onLoad:i,onReady:l,onError:d},f)]),p(m)):g&&g()?u.add(t||n):g&&!g()&&h(e)),v){if("beforeInteractive"===c)return n?(o.default.preload(n,f.integrity?{as:"script",integrity:f.integrity}:{as:"script"}),/*#__PURE__*/s.default.createElement("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([n])})`}})):(f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),/*#__PURE__*/s.default.createElement("script",{nonce:y,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,r({},f)])})`}}));"afterInteractive"===c&&n&&o.default.preload(n,f.integrity?{as:"script",integrity:f.integrity}:{as:"script"})}return null}Object.defineProperty(f,"__nextScript",{value:!0}),n.default=f,("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)});function ge(e){return Object.prototype.toString.call(e)}var ve=/*#__PURE__*/Object.defineProperty({getObjectClassLabel:ge,isPlainObject:function(e){if("[object Object]"!==ge(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t.hasOwnProperty("isPrototypeOf")}},"__esModule",{value:!0});function ye(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}var _e=/*#__PURE__*/Object.defineProperty({default:ye,getProperError:function(e){if(ye(e))return e;if("development"===process.env.NODE_ENV){if(void 0===e)return new Error("An undefined error was thrown, see here for more info: https://nextjs.org/docs/messages/threw-undefined");if(null===e)return new Error("A null error was thrown, see here for more info: https://nextjs.org/docs/messages/threw-undefined")}return new Error(ve.isPlainObject(e)?JSON.stringify(e):e+"")}},"__esModule",{value:!0});class be{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e="/"){const t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);const n=t.map(t=>this.children.get(t)._smoosh(`${e}${t}/`)).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&n.push(...this.children.get("[]")._smoosh(`${e}[${this.slugName}]/`)),!this.placeholder){const t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw new Error(`You cannot define a route with the same specificity as a optional catch-all route ("${t}" and "${t}[[...${this.optionalRestSlugName}]]").`);n.unshift(t)}return null!==this.restSlugName&&n.push(...this.children.get("[...]")._smoosh(`${e}[...${this.restSlugName}]/`)),null!==this.optionalRestSlugName&&n.push(...this.children.get("[[...]]")._smoosh(`${e}[[...${this.optionalRestSlugName}]]/`)),n}_insert(e,t,n){if(0===e.length)return void(this.placeholder=!1);if(n)throw new Error("Catch-all must be the last part of the URL.");let r=e[0];if(r.startsWith("[")&&r.endsWith("]")){let i=r.slice(1,-1),a=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),a=!0),i.startsWith("...")&&(i=i.substring(3),n=!0),i.startsWith("[")||i.endsWith("]"))throw new Error(`Segment names may not start or end with extra brackets ('${i}').`);if(i.startsWith("."))throw new Error(`Segment names may not start with erroneous periods ('${i}').`);function o(e,n){if(null!==e&&e!==n)throw new Error(`You cannot use different slug names for the same dynamic path ('${e}' !== '${n}').`);t.forEach(e=>{if(e===n)throw new Error(`You cannot have the same slug name "${n}" repeat within a single dynamic path`);if(e.replace(/\W/g,"")===r.replace(/\W/g,""))throw new Error(`You cannot have the slug names "${e}" and "${n}" differ only by non-word symbols within a single dynamic path`)}),t.push(n)}if(n)if(a){if(null!=this.restSlugName)throw new Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${e[0]}" ).`);o(this.optionalRestSlugName,i),this.optionalRestSlugName=i,r="[[...]]"}else{if(null!=this.optionalRestSlugName)throw new Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${e[0]}").`);o(this.restSlugName,i),this.restSlugName=i,r="[...]"}else{if(a)throw new Error(`Optional route parameters are not yet supported ("${e[0]}").`);o(this.slugName,i),this.slugName=i,r="[]"}}this.children.has(r)||this.children.set(r,new be),this.children.get(r)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}var xe=/*#__PURE__*/Object.defineProperty({getSortedRoutes:function(e){const t=new be;return e.forEach(e=>t.insert(e)),t.smoosh()}},"__esModule",{value:!0});const we=/\/\[[^/]+?\](?=\/|$)/;var Se=/*#__PURE__*/Object.defineProperty({isDynamicRoute:function(e){return we.test(e)}},"__esModule",{value:!0}),Me=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return xe.getSortedRoutes}}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return Se.isDynamicRoute}})}),Ee=/*#__PURE__*/Object.defineProperty({normalizePathSep:function(e){return e.replace(/\\/g,"/")}},"__esModule",{value:!0}),Te=/*#__PURE__*/Object.defineProperty({denormalizePagePath:function(e){let t=Ee.normalizePathSep(e);return t.startsWith("/index/")&&!Me.isDynamicRoute(t)?t.slice(6):"/index"!==t?t:"/"}},"__esModule",{value:!0}),Ce=/*#__PURE__*/Object.defineProperty({normalizeLocalePath:function(e,t){let n;const r=e.split("/");return(t||[]).some(t=>!(!r[1]||r[1].toLowerCase()!==t.toLowerCase()||(n=t,r.splice(1,1),e=r.join("/")||"/",0))),{pathname:e,detectedLocale:n}}},"__esModule",{value:!0}),Pe=/*#__PURE__*/Object.defineProperty({default:function(){const e=Object.create(null);return{on(t,n){(e[t]||(e[t]=[])).push(n)},off(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit(t,...n){(e[t]||[]).slice().map(e=>{e(...n)})}}}},"__esModule",{value:!0}),ke=J,Ae=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.execOnce=function(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)},t.getLocationOrigin=i,t.getURL=function(){const{href:e}=window.location,t=i();return e.substring(t.length)},t.getDisplayName=a,t.isResSent=o,t.normalizeRepeatedSlashes=function(e){const t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")},t.loadGetInitialProps=s,t.ST=t.SP=t.isAbsoluteUrl=t.WEB_VITALS=void 0;var n=ke.default;t.WEB_VITALS=["CLS","FCP","FID","INP","LCP","TTFB"];const r=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/;function i(){const{protocol:e,hostname:t,port:n}=window.location;return`${e}//${t}${n?":"+n:""}`}function a(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function o(e){return e.finished||e.headersSent}function s(e,t){return l.apply(this,arguments)}function l(){return l=n(function*(e,t){var n;if("production"!==process.env.NODE_ENV&&(null==(n=e.prototype)?void 0:n.getInitialProps)){const t=`"${a(e)}.getInitialProps()" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;throw new Error(t)}const r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:yield s(t.Component,t.ctx)}:{};const i=yield e.getInitialProps(t);if(r&&o(r))return i;if(!i){const t=`"${a(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`;throw new Error(t)}return"production"!==process.env.NODE_ENV&&(0!==Object.keys(i).length||t.ctx||console.warn(`${a(e)} returned an empty object from \`getInitialProps\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`)),i}),l.apply(this,arguments)}t.isAbsoluteUrl=e=>r.test(e);const u="undefined"!=typeof performance;t.SP=u;const c=u&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);t.ST=c;class h extends Error{}t.DecodeError=h;class d extends Error{}t.NormalizeError=d;class f extends Error{constructor(e){super(),this.code="ENOENT",this.message=`Cannot find module for page: ${e}`}}t.PageNotFoundError=f;class p extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}t.MissingStaticPage=p;class m extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}t.MiddlewareNotFoundError=m});function Ie(e){return"string"==typeof e||"number"==typeof e&&!isNaN(e)||"boolean"==typeof e?String(e):""}var Re=/*#__PURE__*/Object.defineProperty({searchParamsToUrlQuery:function(e){const t={};return e.forEach((e,n)=>{void 0===t[n]?t[n]=e:Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]}),t},urlQueryToSearchParams:function(e){const t=new URLSearchParams;return Object.entries(e).forEach(([e,n])=>{Array.isArray(n)?n.forEach(n=>t.append(e,Ie(n))):t.set(e,Ie(n))}),t},assign:function(e,...t){return t.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,n)=>e.append(n,t))}),e}},"__esModule",{value:!0}),Le=/*#__PURE__*/Object.defineProperty({parseRelativeUrl:function(e,t){const n=new URL("undefined"==typeof window?"http://n":Ae.getLocationOrigin()),r=t?new URL(t,n):e.startsWith(".")?new URL("undefined"==typeof window?"http://n":window.location.href):n,{pathname:i,searchParams:a,search:o,hash:s,href:l,origin:u}=new URL(e,r);if(u!==n.origin)throw new Error(`invariant: invalid relative URL, router received ${e}`);return{pathname:i,query:Re.searchParamsToUrlQuery(a),search:o,hash:s,href:l.slice(n.origin.length)}}},"__esModule",{value:!0});function Oe(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,a="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--i){s++;break}}else if("("===e[s]&&(i++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at "+s);a+=e[s++]}else a+=e[s++]+e[s++];if(i)throw new TypeError("Unbalanced pattern at "+n);if(!a)throw new TypeError("Missing pattern at "+n);t.push({type:"PATTERN",index:n,value:a}),n=s}else{for(var o="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at "+n);t.push({type:"NAME",index:n,value:o}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,i=void 0===r?"./":r,a="[^"+ze(t.delimiter||"/#?")+"]+?",o=[],s=0,l=0,u="",c=function(e){if(l<n.length&&n[l].type===e)return n[l++].value},h=function(e){var t=c(e);if(void 0!==t)return t;var r=n[l];throw new TypeError("Unexpected "+r.type+" at "+r.index+", expected "+e)},d=function(){for(var e,t="";e=c("CHAR")||c("ESCAPED_CHAR");)t+=e;return t};l<n.length;){var f=c("CHAR"),p=c("NAME"),m=c("PATTERN");if(p||m)-1===i.indexOf(v=f||"")&&(u+=v,v=""),u&&(o.push(u),u=""),o.push({name:p||s++,prefix:v,suffix:"",pattern:m||a,modifier:c("MODIFIER")||""});else{var g=f||c("ESCAPED_CHAR");if(g)u+=g;else if(u&&(o.push(u),u=""),c("OPEN")){var v=d(),y=c("NAME")||"",_=c("PATTERN")||"",b=d();h("CLOSE"),o.push({name:y||(_?s++:""),pattern:y&&!_?a:_,prefix:v,suffix:b,modifier:c("MODIFIER")||""})}else h("END")}}return o}function Ne(e,t){void 0===t&&(t={});var n=Ue(t),r=t.encode,i=void 0===r?function(e){return e}:r,a=t.validate,o=void 0===a||a,s=e.map(function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",n)});return function(t){for(var n="",r=0;r<e.length;r++){var a=e[r];if("string"!=typeof a){var l=t?t[a.name]:void 0,u="?"===a.modifier||"*"===a.modifier,c="*"===a.modifier||"+"===a.modifier;if(Array.isArray(l)){if(!c)throw new TypeError('Expected "'+a.name+'" to not repeat, but got an array');if(0===l.length){if(u)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var h=0;h<l.length;h++){var d=i(l[h],a);if(o&&!s[r].test(d))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but got "'+d+'"');n+=a.prefix+d+a.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!u)throw new TypeError('Expected "'+a.name+'" to be '+(c?"an array":"a string"))}else{if(d=i(String(l),a),o&&!s[r].test(d))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but got "'+d+'"');n+=a.prefix+d+a.suffix}}else n+=a}return n}}function De(e,t,n){void 0===n&&(n={});var r=n.decode,i=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var a=r[0],o=r.index,s=Object.create(null),l=function(e){if(void 0===r[e])return"continue";var n=t[e-1];s[n.name]="*"===n.modifier||"+"===n.modifier?r[e].split(n.prefix+n.suffix).map(function(e){return i(e,n)}):i(r[e],n)},u=1;u<r.length;u++)l(u);return{path:a,index:o,params:s}}}function ze(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ue(e){return e&&e.sensitive?"":"i"}function Be(e,t,n){void 0===n&&(n={});for(var r=n.strict,i=void 0!==r&&r,a=n.start,o=void 0===a||a,s=n.end,l=void 0===s||s,u=n.encode,c=void 0===u?function(e){return e}:u,h="["+ze(n.endsWith||"")+"]|$",d="["+ze(n.delimiter||"/#?")+"]",f=o?"^":"",p=0,m=e;p<m.length;p++){var g=m[p];if("string"==typeof g)f+=ze(c(g));else{var v=ze(c(g.prefix)),y=ze(c(g.suffix));g.pattern?(t&&t.push(g),f+=v||y?"+"===g.modifier||"*"===g.modifier?"(?:"+v+"((?:"+g.pattern+")(?:"+y+v+"(?:"+g.pattern+"))*)"+y+")"+("*"===g.modifier?"?":""):"(?:"+v+"("+g.pattern+")"+y+")"+g.modifier:"("+g.pattern+")"+g.modifier):f+="(?:"+v+y+")"+g.modifier}}if(l)i||(f+=d+"?"),f+=n.endsWith?"(?="+h+")":"$";else{var _=e[e.length-1],b="string"==typeof _?d.indexOf(_[_.length-1])>-1:void 0===_;i||(f+="(?:"+d+"(?="+h+"))?"),b||(f+="(?="+d+"|"+h+")")}return new RegExp(f,Ue(n))}function Fe(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map(function(e){return Fe(e,t,n).source});return new RegExp("(?:"+r.join("|")+")",Ue(n))}(e,t,n):function(e,t,n){return Be(Oe(e,n),t,n)}(e,t,n)}var je=/*#__PURE__*/Object.defineProperty({parse:Oe,compile:function(e,t){return Ne(Oe(e,t),t)},tokensToFunction:Ne,match:function(e,t){var n=[];return De(Fe(e,n,t),n,t)},regexpToFunction:De,tokensToRegexp:Be,pathToRegexp:Fe},"__esModule",{value:!0}),Ve=de.default,He=/*#__PURE__*/Object.defineProperty({getPathMatch:function(e,t){const n=[],r=je.pathToRegexp(e,n,{delimiter:"/",sensitive:!1,strict:null==t?void 0:t.strict}),i=je.regexpToFunction((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(r.source),r.flags):r,n);return(e,r)=>{const a=null!=e&&i(e);if(!a)return!1;if(null==t?void 0:t.removeUnnamedParams)for(const e of n)"number"==typeof e.name&&delete a.params[e.name];return Ve({},r,a.params)}}},"__esModule",{value:!0});const We=/[|\\{}()[\]^$+*?.-]/,Ge=/[|\\{}()[\]^$+*?.-]/g;var $e=/*#__PURE__*/Object.defineProperty({escapeStringRegexp:function(e){return We.test(e)?e.replace(Ge,"\\$&"):e}},"__esModule",{value:!0}),qe=/*#__PURE__*/Object.defineProperty({parseUrl:function(e){if(e.startsWith("/"))return Le.parseRelativeUrl(e);const t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:Re.searchParamsToUrlQuery(t.searchParams),search:t.search}}},"__esModule",{value:!0}),Xe=de.default;function Ye(e){return e.replace(/__ESC_COLON_/gi,":")}function Ze(e,t){if(!e.includes(":"))return e;for(const n of Object.keys(t))e.includes(`:${n}`)&&(e=e.replace(new RegExp(`:${n}\\*`,"g"),`:${n}--ESCAPED_PARAM_ASTERISKS`).replace(new RegExp(`:${n}\\?`,"g"),`:${n}--ESCAPED_PARAM_QUESTION`).replace(new RegExp(`:${n}\\+`,"g"),`:${n}--ESCAPED_PARAM_PLUS`).replace(new RegExp(`:${n}(?!\\w)`,"g"),`--ESCAPED_PARAM_COLON${n}`));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),je.compile(`/${e}`,{validate:!1})(t).slice(1)}var Ke=/*#__PURE__*/Object.defineProperty({matchHas:function(e,t,n=[],r=[]){const i={},a=n=>{let r,a=n.key;switch(n.type){case"header":a=a.toLowerCase(),r=e.headers[a];break;case"cookie":r=e.cookies[n.key];break;case"query":r=t[a];break;case"host":{const{host:t}=(null==e?void 0:e.headers)||{};r=null==t?void 0:t.split(":")[0].toLowerCase();break}}if(!n.value&&r)return i[function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);(r>64&&r<91||r>96&&r<123)&&(t+=e[n])}return t}(a)]=r,!0;if(r){const e=new RegExp(`^${n.value}$`),t=Array.isArray(r)?r.slice(-1)[0].match(e):r.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{i[e]=t.groups[e]}):"host"===n.type&&t[0]&&(i.host=t[0])),!0}return!1};return!(!n.every(e=>a(e))||r.some(e=>a(e)))&&i},compileNonPath:Ze,prepareDestination:function(e){const t=Object.assign({},e.query);delete t.__nextLocale,delete t.__nextDefaultLocale,delete t.__nextDataReq;let n=e.destination;for(const i of Object.keys(Xe({},e.params,t)))r=i,n=n.replace(new RegExp(`:${$e.escapeStringRegexp(r)}`,"g"),`__ESC_COLON_${r}`);var r;const i=qe.parseUrl(n),a=i.query,o=Ye(`${i.pathname}${i.hash||""}`),s=Ye(i.hostname||""),l=[],u=[];je.pathToRegexp(o,l),je.pathToRegexp(s,u);const c=[];l.forEach(e=>c.push(e.name)),u.forEach(e=>c.push(e.name));const h=je.compile(o,{validate:!1}),d=je.compile(s,{validate:!1});for(const[t,n]of Object.entries(a))Array.isArray(n)?a[t]=n.map(t=>Ze(Ye(t),e.params)):"string"==typeof n&&(a[t]=Ze(Ye(n),e.params));let f,p=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!p.some(e=>c.includes(e)))for(const t of p)t in a||(a[t]=e.params[t]);try{f=h(e.params);const[t,n]=f.split("#");i.hostname=d(e.params),i.pathname=t,i.hash=`${n?"#":""}${n||""}`,delete i.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw new Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return i.query=Xe({},t,i.query),{newUrl:f,destQuery:a,parsedDestination:i}}},"__esModule",{value:!0}),Je=/*#__PURE__*/Object.defineProperty({pathHasPrefix:function(e,t){if("string"!=typeof e)return!1;const{pathname:n}=ne.parsePath(e);return n===t||n.startsWith(t+"/")}},"__esModule",{value:!0}),Qe=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasBasePath=function(e){return Je.pathHasPrefix(e,n)};const n=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),et=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeBasePath=function(e){return process.env.__NEXT_MANUAL_CLIENT_BASE_PATH&&!Qe.hasBasePath(e)||(e=e.slice(n.length)).startsWith("/")||(e=`/${e}`),e};const n=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),tt=/*#__PURE__*/Object.defineProperty({default:function(e,t,n,r,i,a){let o,s=!1,l=!1,u=Le.parseRelativeUrl(e),c=te.removeTrailingSlash(Ce.normalizeLocalePath(et.removeBasePath(u.pathname),a).pathname);const h=n=>{let h=He.getPathMatch(n.source+(process.env.__NEXT_TRAILING_SLASH?"(/)?":""),{removeUnnamedParams:!0,strict:!0})(u.pathname);if((n.has||n.missing)&&h){const e=Ke.matchHas({headers:{host:document.location.hostname},cookies:document.cookie.split("; ").reduce((e,t)=>{const[n,...r]=t.split("=");return e[n]=r.join("="),e},{})},u.query,n.has,n.missing);e?Object.assign(h,e):h=!1}if(h){if(!n.destination)return l=!0,!0;const d=Ke.prepareDestination({appendParamsToQuery:!0,destination:n.destination,params:h,query:r});if(u=d.parsedDestination,e=d.newUrl,Object.assign(r,d.parsedDestination.query),c=te.removeTrailingSlash(Ce.normalizeLocalePath(et.removeBasePath(e),a).pathname),t.includes(c))return s=!0,o=c,!0;if(o=i(c),o!==e&&t.includes(o))return s=!0,!0}};let d=!1;for(let e=0;e<n.beforeFiles.length;e++)h(n.beforeFiles[e]);if(s=t.includes(c),!s){if(!d)for(let e=0;e<n.afterFiles.length;e++)if(h(n.afterFiles[e])){d=!0;break}if(d||(o=i(c),s=t.includes(o),d=s),!d)for(let e=0;e<n.fallback.length;e++)if(h(n.fallback[e])){d=!0;break}}return{asPath:e,parsedAs:u,matchedPage:s,resolvedHref:o,externalDest:l}}},"__esModule",{value:!0}),nt=/*#__PURE__*/Object.defineProperty({getRouteMatcher:function({re:e,groups:t}){return n=>{const r=e.exec(n);if(!r)return!1;const i=e=>{try{return decodeURIComponent(e)}catch(e){throw new Ae.DecodeError("failed to decode param")}},a={};return Object.keys(t).forEach(e=>{const n=t[e],o=r[n.pos];void 0!==o&&(a[e]=~o.indexOf("/")?o.split("/").map(e=>i(e)):n.repeat?[i(o)]:i(o))}),a}}},"__esModule",{value:!0}),rt=de.default;function it(e){const t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));const n=e.startsWith("...");return n&&(e=e.slice(3)),{key:e,repeat:n,optional:t}}function at(e){const t=te.removeTrailingSlash(e).slice(1).split("/"),n={};let r=1;return{parameterizedRoute:t.map(e=>{if(e.startsWith("[")&&e.endsWith("]")){const{key:t,optional:i,repeat:a}=it(e.slice(1,-1));return n[t]={pos:r++,repeat:a,optional:i},a?i?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}return`/${$e.escapeStringRegexp(e)}`}).join(""),groups:n}}function ot(e){const{parameterizedRoute:t,groups:n}=at(e);return{re:new RegExp(`^${t}(?:/)?$`),groups:n}}function st(e){const t=te.removeTrailingSlash(e).slice(1).split("/"),n=function(){let e=97,t=1;return()=>{let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e),e++,e>122&&(t++,e=97);return n}}(),r={};return{namedParameterizedRoute:t.map(e=>{if(e.startsWith("[")&&e.endsWith("]")){const{key:t,optional:i,repeat:a}=it(e.slice(1,-1));let o=t.replace(/\W/g,""),s=!1;return(0===o.length||o.length>30)&&(s=!0),isNaN(parseInt(o.slice(0,1)))||(s=!0),s&&(o=n()),r[o]=t,a?i?`(?:/(?<${o}>.+?))?`:`/(?<${o}>.+?)`:`/(?<${o}>[^/]+?)`}return`/${$e.escapeStringRegexp(e)}`}).join(""),routeKeys:r}}var lt,ut=/*#__PURE__*/Object.defineProperty({getRouteRegex:ot,getNamedRouteRegex:function(e){const t=st(e);return rt({},ot(e),{namedRegex:`^${t.namedParameterizedRoute}(?:/)?$`,routeKeys:t.routeKeys})},getNamedMiddlewareRegex:function(e,t){const{parameterizedRoute:n}=at(e),{catchAll:r=!0}=t;if("/"===n)return{namedRegex:`^/${r?".*":""}$`};const{namedParameterizedRoute:i}=st(e);return{namedRegex:`^${i}${r?"(?:(/.*)?)":""}$`}}},"__esModule",{value:!0}),ct=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatUrl=i,t.formatWithValidation=function(e){return"development"===process.env.NODE_ENV&&null!==e&&"object"==typeof e&&Object.keys(e).forEach(e=>{-1===a.indexOf(e)&&console.warn(`Unknown key passed via urlObject into url.format: ${e}`)}),i(e)},t.urlObjectKeys=void 0;var n=(0,fe.default)(Re);const r=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:i}=e,a=e.protocol||"",o=e.pathname||"",s=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:i&&(u=t+(~i.indexOf(":")?`[${i}]`:i),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),o=o.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${a}${u}${o}${c}${s}`}const a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];t.urlObjectKeys=a}),ht=/*#__PURE__*/Object.defineProperty({detectDomainLocale:function(e,t,n){let r;if(e){n&&(n=n.toLowerCase());for(const o of e){var i,a;if(t===(null==(i=o.domain)?void 0:i.split(":")[0].toLowerCase())||n===o.defaultLocale.toLowerCase()||(null==(a=o.locales)?void 0:a.some(e=>e.toLowerCase()===n))){r=o;break}}}return r}},"__esModule",{value:!0}),dt=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.detectDomainLocale=void 0,t.detectDomainLocale=(...e)=>{if(process.env.__NEXT_I18N_SUPPORT)return ht.detectDomainLocale(...e)},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),ft=/*#__PURE__*/Object.defineProperty({addPathPrefix:function(e,t){if(!e.startsWith("/")||!t)return e;const{pathname:n,query:r,hash:i}=ne.parsePath(e);return`${t}${n}${r}${i}`}},"__esModule",{value:!0}),pt=/*#__PURE__*/Object.defineProperty({addLocale:function(e,t,n,r){return t&&t!==n&&(r||!Je.pathHasPrefix(e.toLowerCase(),`/${t.toLowerCase()}`)&&!Je.pathHasPrefix(e.toLowerCase(),"/api"))?ft.addPathPrefix(e,`/${t}`):e}},"__esModule",{value:!0}),mt=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addLocale=void 0,t.addLocale=(e,...t)=>process.env.__NEXT_I18N_SUPPORT?re.normalizePathTrailingSlash(pt.addLocale(e,...t)):e,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),gt=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeLocale=function(e,t){if(process.env.__NEXT_I18N_SUPPORT){const{pathname:n}=ne.parsePath(e),r=n.toLowerCase(),i=null==t?void 0:t.toLowerCase();return t&&(r.startsWith(`/${i}/`)||r===`/${i}`)?`${n.length===t.length+1?"/":""}${e.slice(t.length+1)}`:e}return e},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),vt=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addBasePath=function(e,t){return process.env.__NEXT_MANUAL_CLIENT_BASE_PATH&&!t?e:re.normalizePathTrailingSlash(ft.addPathPrefix(e,n))};const n=process.env.__NEXT_ROUTER_BASEPATH||"";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}),yt=/*#__PURE__*/Object.defineProperty({removePathPrefix:function(e,t){if(Je.pathHasPrefix(e,t)){const n=e.slice(t.length);return n.startsWith("/")?n:`/${n}`}return e}},"__esModule",{value:!0}),_t=/*#__PURE__*/Object.defineProperty({getNextPathnameInfo:function(e,t){var n;const{basePath:r,i18n:i,trailingSlash:a}=null!=(n=t.nextConfig)?n:{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):a};if(r&&Je.pathHasPrefix(o.pathname,r)&&(o.pathname=yt.removePathPrefix(o.pathname,r),o.basePath=r),!0===t.parseData&&o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){const e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),t=e[0];o.pathname="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",o.buildId=t}if(i){const e=Ce.normalizeLocalePath(o.pathname,i.locales);o.locale=null==e?void 0:e.detectedLocale,o.pathname=(null==e?void 0:e.pathname)||o.pathname}return o}},"__esModule",{value:!0}),bt=/*#__PURE__*/Object.defineProperty({addPathSuffix:function(e,t){if(!e.startsWith("/")||!t)return e;const{pathname:n,query:r,hash:i}=ne.parsePath(e);return`${n}${t}${r}${i}`}},"__esModule",{value:!0}),xt=/*#__PURE__*/Object.defineProperty({formatNextPathnameInfo:function(e){let t=pt.addLocale(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return!e.buildId&&e.trailingSlash||(t=te.removeTrailingSlash(t)),e.buildId&&(t=bt.addPathSuffix(ft.addPathPrefix(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=ft.addPathPrefix(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:bt.addPathSuffix(t,"/"):te.removeTrailingSlash(t)}},"__esModule",{value:!0}),wt=/*#__PURE__*/Object.defineProperty({compareRouterStates:function(e,t){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=n.length;r--;){const i=n[r];if("query"===i){const n=Object.keys(e.query);if(n.length!==Object.keys(t.query).length)return!1;for(let r=n.length;r--;){const i=n[r];if(!t.query.hasOwnProperty(i)||e.query[i]!==t.query[i])return!1}}else if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}},"__esModule",{value:!0}),St=/*#__PURE__*/Object.defineProperty({isBot:function(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}},"__esModule",{value:!0}),Mt=Symbol.for("react.element"),Et=Symbol.for("react.portal"),Tt=Symbol.for("react.fragment"),Ct=Symbol.for("react.strict_mode"),Pt=Symbol.for("react.profiler"),kt=Symbol.for("react.provider"),At=Symbol.for("react.context"),It=Symbol.for("react.server_context"),Rt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),zt=Symbol.for("react.offscreen");function Ut(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Mt:switch(e=e.type){case Tt:case Pt:case Ct:case Lt:case Ot:return e;default:switch(e=e&&e.$$typeof){case It:case At:case Rt:case Dt:case Nt:case kt:return e;default:return t}}case Et:return t}}}lt=Symbol.for("react.module.reference");var Bt={ContextConsumer:At,ContextProvider:kt,Element:Mt,ForwardRef:Rt,Fragment:Tt,Lazy:Dt,Memo:Nt,Portal:Et,Profiler:Pt,StrictMode:Ct,Suspense:Lt,SuspenseList:Ot,isAsyncMode:function(){return!1},isConcurrentMode:function(){return!1},isContextConsumer:function(e){return Ut(e)===At},isContextProvider:function(e){return Ut(e)===kt},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Mt},isForwardRef:function(e){return Ut(e)===Rt},isFragment:function(e){return Ut(e)===Tt},isLazy:function(e){return Ut(e)===Dt},isMemo:function(e){return Ut(e)===Nt},isPortal:function(e){return Ut(e)===Et},isProfiler:function(e){return Ut(e)===Pt},isStrictMode:function(e){return Ut(e)===Ct},isSuspense:function(e){return Ut(e)===Lt},isSuspenseList:function(e){return Ut(e)===Ot},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===Tt||e===Pt||e===Ct||e===Lt||e===Ot||e===zt||"object"==typeof e&&null!==e&&(e.$$typeof===Dt||e.$$typeof===Nt||e.$$typeof===kt||e.$$typeof===At||e.$$typeof===Rt||e.$$typeof===lt||void 0!==e.getModuleId)},typeOf:Ut},Ft=Y(function(e,t){"production"!==process.env.NODE_ENV&&function(){var e,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var m=e.type;switch(m){case i:case o:case a:case h:case d:return m;default:var g=m&&m.$$typeof;switch(g){case u:case l:case c:case p:case f:case s:return g;default:return t}}case r:return t}}}e=Symbol.for("react.module.reference");var v=s,y=n,_=c,b=i,x=p,w=f,S=r,M=o,E=a,T=h,C=d,P=!1,k=!1;t.ContextConsumer=l,t.ContextProvider=v,t.Element=y,t.ForwardRef=_,t.Fragment=b,t.Lazy=x,t.Memo=w,t.Portal=S,t.Profiler=M,t.StrictMode=E,t.Suspense=T,t.SuspenseList=C,t.isAsyncMode=function(e){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.")),!1},t.isConcurrentMode=function(e){return k||(k=!0,console.warn("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.")),!1},t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===c},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===p},t.isMemo=function(e){return g(e)===f},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===o},t.isStrictMode=function(e){return g(e)===a},t.isSuspense=function(e){return g(e)===h},t.isSuspenseList=function(e){return g(e)===d},t.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===o||t===a||t===h||t===d||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===f||t.$$typeof===s||t.$$typeof===l||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},t.typeOf=g}()}),jt=Y(function(e){e.exports="production"===process.env.NODE_ENV?Bt:Ft}),Vt=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.matchesMiddleware=u,t.isLocalURL=f,t.interpolateAs=p,t.resolveHref=m,t.createKey=E,t.default=void 0;var n=ke.default,r=de.default,i=se.default,a=(0,fe.default)(_e),o=i(Pe),s=i(tt);function l(){return Object.assign(new Error("Route Cancelled"),{cancelled:!0})}function u(e){return c.apply(this,arguments)}function c(){return c=n(function*(e){const t=yield Promise.resolve(e.router.pageLoader.getMiddleware());if(!t)return!1;const{pathname:n}=ne.parsePath(e.asPath),r=Qe.hasBasePath(n)?et.removeBasePath(n):n,i=vt.addBasePath(mt.addLocale(r,e.locale));return t.some(e=>new RegExp(e.regexp).test(i))}),c.apply(this,arguments)}function h(e){const t=Ae.getLocationOrigin();return e.startsWith(t)?e.substring(t.length):e}function d(e,t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function f(e){if(!Ae.isAbsoluteUrl(e))return!0;try{const t=Ae.getLocationOrigin(),n=new URL(e,t);return n.origin===t&&Qe.hasBasePath(n.pathname)}catch(e){return!1}}function p(e,t,n){let r="";const i=ut.getRouteRegex(e),a=i.groups,o=(t!==e?nt.getRouteMatcher(i)(t):"")||n;r=e;const s=Object.keys(a);return s.every(e=>{let t=o[e]||"";const{repeat:n,optional:i}=a[e];let s=`[${n?"...":""}${e}]`;return i&&(s=`${t?"":"/"}[${s}]`),n&&!Array.isArray(t)&&(t=[t]),(i||e in o)&&(r=r.replace(s,n?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(r=""),{params:s,result:r}}function m(e,t,n){let r,i="string"==typeof t?t:ct.formatWithValidation(t);const a=i.match(/^[a-zA-Z]{1,}:\/\//),o=a?i.slice(a[0].length):i;if((o.split("?")[0]||"").match(/(\/\/|\\)/)){console.error(`Invalid href passed to next/router: ${i}, repeated forward-slashes (//) or backslashes \\ are not valid in the href`);const e=Ae.normalizeRepeatedSlashes(o);i=(a?a[0]:"")+e}if(!f(i))return n?[i]:i;try{r=new URL(i.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){r=new URL("/","http://n")}try{const e=new URL(i,r);e.pathname=re.normalizePathTrailingSlash(e.pathname);let t="";if(Se.isDynamicRoute(e.pathname)&&e.searchParams&&n){const n=Re.searchParamsToUrlQuery(e.searchParams),{result:r,params:i}=p(e.pathname,e.pathname,n);r&&(t=ct.formatWithValidation({pathname:r,hash:e.hash,query:d(n,i)}))}const a=e.origin===r.origin?e.href.slice(e.origin.length):e.href;return n?[a,t||a]:a}catch(e){return n?[i]:i}}function g(e,t,n){let[r,i]=m(e,t,!0);const a=Ae.getLocationOrigin(),o=r.startsWith(a),s=i&&i.startsWith(a);r=h(r),i=i?h(i):i;const l=o?r:vt.addBasePath(r),u=n?h(m(e,n)):i||r;return{url:l,as:s?u:vt.addBasePath(u)}}function v(e,t){const n=te.removeTrailingSlash(Te.denormalizePagePath(e));return"/404"===n||"/_error"===n?e:(t.includes(n)||t.some(t=>{if(Se.isDynamicRoute(t)&&ut.getRouteRegex(t).re.test(n))return e=t,!0}),te.removeTrailingSlash(e))}function y(e){return u(e).then(t=>t&&e.fetchData?e.fetchData().then(t=>function(e,t,n){const i={basePath:n.router.basePath,i18n:{locales:n.router.locales},trailingSlash:Boolean(process.env.__NEXT_TRAILING_SLASH)},a=t.headers.get("x-nextjs-rewrite");let o=a||t.headers.get("x-nextjs-matched-path");const l=t.headers.get("x-matched-path");if(!l||o||l.includes("__next_data_catchall")||l.includes("/_error")||l.includes("/404")||(o=l),o){if(o.startsWith("/")){const t=Le.parseRelativeUrl(o),r=_t.getNextPathnameInfo(t.pathname,{nextConfig:i,parseData:!0});let l=te.removeTrailingSlash(r.pathname);return Promise.all([n.router.pageLoader.getPageList(),le.getClientBuildManifest()]).then(([i,{__rewrites:o}])=>{let u=mt.addLocale(r.pathname,r.locale);if(Se.isDynamicRoute(u)||!a&&i.includes(Ce.normalizeLocalePath(et.removeBasePath(u),n.router.locales).pathname)){const n=_t.getNextPathnameInfo(Le.parseRelativeUrl(e).pathname,{parseData:!0});u=vt.addBasePath(n.pathname),t.pathname=u}if(process.env.__NEXT_HAS_REWRITES){const e=s.default(u,i,o,t.query,e=>v(e,i),n.router.locales);e.matchedPage&&(t.pathname=e.parsedAs.pathname,u=t.pathname,Object.assign(t.query,e.parsedAs.query))}else if(!i.includes(l)){const e=v(l,i);e!==l&&(l=e)}const c=i.includes(l)?l:v(Ce.normalizeLocalePath(et.removeBasePath(t.pathname),n.router.locales).pathname,i);if(Se.isDynamicRoute(c)){const e=nt.getRouteMatcher(ut.getRouteRegex(c))(u);Object.assign(t.query,e||{})}return{type:"rewrite",parsedAs:t,resolvedHref:c}})}const t=ne.parsePath(e),l=xt.formatNextPathnameInfo(r({},_t.getNextPathnameInfo(t.pathname,{nextConfig:i,parseData:!0}),{defaultLocale:n.router.defaultLocale,buildId:""}));return Promise.resolve({type:"redirect-external",destination:`${l}${t.query}${t.hash}`})}const u=t.headers.get("x-nextjs-redirect");if(u){if(u.startsWith("/")){const e=ne.parsePath(u),t=xt.formatNextPathnameInfo(r({},_t.getNextPathnameInfo(e.pathname,{nextConfig:i,parseData:!0}),{defaultLocale:n.router.defaultLocale,buildId:""}));return Promise.resolve({type:"redirect-internal",newAs:`${t}${e.query}${e.hash}`,newUrl:`${t}${e.query}${e.hash}`})}return Promise.resolve({type:"redirect-external",destination:u})}return Promise.resolve({type:"next"})}(t.dataHref,t.response,e).then(e=>({dataHref:t.dataHref,cacheKey:t.cacheKey,json:t.json,response:t.response,text:t.text,effect:e}))).catch(e=>null):null)}const _=process.env.__NEXT_SCROLL_RESTORATION&&"undefined"!=typeof window&&"scrollRestoration"in window.history&&!!function(){try{let e="__next";return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){}}(),b=Symbol("SSG_DATA_NOT_FOUND");function x(e,t,n){return fetch(e,{credentials:"same-origin",method:n.method||"GET",headers:Object.assign({},n.headers,{"x-nextjs-data":"1"})}).then(r=>!r.ok&&t>1&&r.status>=500?x(e,t-1,n):r)}function w(e){const t=document.documentElement,n=t.style.scrollBehavior;t.style.scrollBehavior="auto",e(),t.style.scrollBehavior=n}function S(e){try{return JSON.parse(e)}catch(e){return null}}function M({dataHref:e,inflightCache:t,isPrefetch:n,hasMiddleware:r,isServerRender:i,parseJSON:a,persistCache:o,isBackground:s,unstable_skipClientCache:l}){const{href:u}=new URL(e,window.location.href);var c;const h=s=>x(e,i?3:1,{headers:Object.assign({},n?{purpose:"prefetch"}:{},n&&r?{"x-middleware-prefetch":"1"}:{}),method:null!=(c=null==s?void 0:s.method)?c:"GET"}).then(t=>t.ok&&"HEAD"===(null==s?void 0:s.method)?{dataHref:e,response:t,text:"",json:{},cacheKey:u}:t.text().then(n=>{if(!t.ok){if(r&&[301,302,307,308].includes(t.status))return{dataHref:e,response:t,text:n,json:{},cacheKey:u};var o;if(!r&&404===t.status&&(null==(o=S(n))?void 0:o.notFound))return{dataHref:e,json:{notFound:b},response:t,text:n,cacheKey:u};const a=new Error("Failed to load static props");throw i||le.markAssetError(a),a}return{dataHref:e,json:a?S(n):null,response:t,text:n,cacheKey:u}})).then(e=>(o&&"production"===process.env.NODE_ENV&&"no-cache"!==e.response.headers.get("x-middleware-cache")||delete t[u],e)).catch(e=>{throw l||delete t[u],"Failed to fetch"===e.message&&le.markAssetError(e),e});return l&&o?h({}).then(e=>(t[u]=Promise.resolve(e),e)):void 0!==t[u]?t[u]:t[u]=h(s?{method:"HEAD"}:{})}function E(){return Math.random().toString(36).slice(2,10)}function T({url:e,router:t}){if(e===vt.addBasePath(mt.addLocale(t.asPath,t.locale)))throw new Error(`Invariant: attempted to hard navigate to the same URL ${e} ${location.href}`);window.location.href=e}const C=({route:e,router:t})=>{let n=!1;const r=t.clc=()=>{n=!0};return()=>{if(n){const t=new Error(`Abort fetching component for route: "${e}"`);throw t.cancelled=!0,t}r===t.clc&&(t.clc=null)}};class P{reload(){window.location.reload()}back(){window.history.back()}forward(){window.history.forward()}push(e,t,n={}){if(process.env.__NEXT_SCROLL_RESTORATION&&_)try{sessionStorage.setItem("__next_scroll_"+this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}return({url:e,as:t}=g(this,e,t)),this.change("pushState",e,t,n)}replace(e,t,n={}){return({url:e,as:t}=g(this,e,t)),this.change("replaceState",e,t,n)}change(e,t,i,o,c){var h=this;return n(function*(){if(!f(t))return T({url:t,router:h}),!1;const n=o._h;let m=n||o._shouldResolveHref||ne.parsePath(t).pathname===ne.parsePath(i).pathname;const y=r({},h.state),_=!0!==h.isReady;h.isReady=!0;const x=h.isSsr;if(n||(h.isSsr=!1),n&&h.clc)return!1;const w=y.locale;if(process.env.__NEXT_I18N_SUPPORT){y.locale=!1===o.locale?h.defaultLocale:o.locale||y.locale,void 0===o.locale&&(o.locale=y.locale);const e=Le.parseRelativeUrl(Qe.hasBasePath(i)?et.removeBasePath(i):i),n=Ce.normalizeLocalePath(e.pathname,h.locales);n.detectedLocale&&(y.locale=n.detectedLocale,e.pathname=vt.addBasePath(e.pathname),i=ct.formatWithValidation(e),t=vt.addBasePath(Ce.normalizeLocalePath(Qe.hasBasePath(t)?et.removeBasePath(t):t,h.locales).pathname));let r=!1;var S;process.env.__NEXT_I18N_SUPPORT&&((null==(S=h.locales)?void 0:S.includes(y.locale))||(e.pathname=mt.addLocale(e.pathname,y.locale),T({url:ct.formatWithValidation(e),router:h}),r=!0));const a=dt.detectDomainLocale(h.domainLocales,void 0,y.locale);if(process.env.__NEXT_I18N_SUPPORT&&!r&&a&&h.isLocaleDomain&&self.location.hostname!==a.domain){const e=et.removeBasePath(i);T({url:`http${a.http?"":"s"}://${a.domain}${vt.addBasePath(`${y.locale===a.defaultLocale?"":`/${y.locale}`}${"/"===e?"":e}`||"/")}`,router:h}),r=!0}if(r)return new Promise(()=>{})}Ae.ST&&performance.mark("routeChange");const{shallow:M=!1,scroll:E=!0}=o,C={shallow:M};h._inFlightRoute&&h.clc&&(x||P.events.emit("routeChangeError",l(),h._inFlightRoute,C),h.clc(),h.clc=null),i=vt.addBasePath(mt.addLocale(Qe.hasBasePath(i)?et.removeBasePath(i):i,o.locale,h.defaultLocale));const k=gt.removeLocale(Qe.hasBasePath(i)?et.removeBasePath(i):i,y.locale);h._inFlightRoute=i;const A=w!==y.locale;if(!n&&h.onlyAHashChange(k)&&!A){y.asPath=k,P.events.emit("hashChangeStart",i,C),h.changeState(e,t,i,r({},o,{scroll:!1})),E&&h.scrollToHash(k);try{yield h.set(y,h.components[y.route],null)}catch(e){throw a.default(e)&&e.cancelled&&P.events.emit("routeChangeError",e,k,C),e}return P.events.emit("hashChangeComplete",i,C),!0}let I,R,L=Le.parseRelativeUrl(t),{pathname:O,query:N}=L;try{[I,{__rewrites:R}]=yield Promise.all([h.pageLoader.getPageList(),le.getClientBuildManifest(),h.pageLoader.getMiddleware()])}catch(e){return T({url:i,router:h}),!1}h.urlIsNew(k)||A||(e="replaceState");let D=i;O=O?te.removeTrailingSlash(et.removeBasePath(O)):O;let z=te.removeTrailingSlash(O);const U=i.startsWith("/")&&Le.parseRelativeUrl(i).pathname,B=!(!U||z===U||Se.isDynamicRoute(z)&&nt.getRouteMatcher(ut.getRouteRegex(z))(U)),F=yield u({asPath:i,locale:y.locale,router:h});if(o.shallow&&F&&(O=h.pathname),n&&F&&(m=!1),m&&"/_error"!==O)if(o._shouldResolveHref=!0,process.env.__NEXT_HAS_REWRITES&&i.startsWith("/")){const e=s.default(vt.addBasePath(mt.addLocale(k,y.locale),!0),I,R,N,e=>v(e,I),h.locales);if(e.externalDest)return T({url:i,router:h}),!0;F||(D=e.asPath),e.matchedPage&&e.resolvedHref&&(O=e.resolvedHref,L.pathname=vt.addBasePath(O),F||(t=ct.formatWithValidation(L)))}else L.pathname=v(O,I),L.pathname!==O&&(O=L.pathname,L.pathname=vt.addBasePath(O),F||(t=ct.formatWithValidation(L)));if(!f(i)){if("production"!==process.env.NODE_ENV)throw new Error(`Invalid href: "${t}" and as: "${i}", received relative href and external as\nSee more info: https://nextjs.org/docs/messages/invalid-relative-url-external-as`);return T({url:i,router:h}),!1}D=gt.removeLocale(et.removeBasePath(D),y.locale),z=te.removeTrailingSlash(O);let j=!1;if(Se.isDynamicRoute(z)){const e=Le.parseRelativeUrl(D),n=e.pathname,r=ut.getRouteRegex(z);j=nt.getRouteMatcher(r)(n);const a=z===n,o=a?p(z,n,N):{};if(!j||a&&!o.result){const e=Object.keys(r.groups).filter(e=>!N[e]&&!r.groups[e].optional);if(e.length>0&&!F)throw"production"!==process.env.NODE_ENV&&console.warn((a?"Interpolating href":"Mismatching `as` and `href`")+" failed to manually provide "+`the params: ${e.join(", ")} in the \`href\`'s \`query\``),new Error((a?`The provided \`href\` (${t}) value is missing query values (${e.join(", ")}) to be interpolated properly. `:`The provided \`as\` value (${n}) is incompatible with the \`href\` value (${z}). `)+"Read more: https://nextjs.org/docs/messages/"+(a?"href-interpolation-failed":"incompatible-href-as"))}else a?i=ct.formatWithValidation(Object.assign({},e,{pathname:o.result,query:d(N,o.params)})):Object.assign(N,j)}n||P.events.emit("routeChangeStart",i,C);try{var V,H;let a=yield h.getRouteInfo({route:z,pathname:O,query:N,as:i,resolvedAs:D,routeProps:C,locale:y.locale,isPreview:y.isPreview,hasMiddleware:F,unstable_skipClientCache:o.unstable_skipClientCache,isQueryUpdating:n&&!h.isFallback,isMiddlewareRewrite:B});if("route"in a&&F){O=a.route||z,z=O,C.shallow||(N=Object.assign({},a.query||{},N));const e=Qe.hasBasePath(L.pathname)?et.removeBasePath(L.pathname):L.pathname;if(j&&O!==e&&Object.keys(j).forEach(e=>{j&&N[e]===j[e]&&delete N[e]}),Se.isDynamicRoute(O)){let e=!C.shallow&&a.resolvedAs?a.resolvedAs:vt.addBasePath(mt.addLocale(new URL(i,location.href).pathname,y.locale),!0);if(Qe.hasBasePath(e)&&(e=et.removeBasePath(e)),process.env.__NEXT_I18N_SUPPORT){const t=Ce.normalizeLocalePath(e,h.locales);y.locale=t.detectedLocale||y.locale,e=t.pathname}const t=ut.getRouteRegex(O),n=nt.getRouteMatcher(t)(new URL(e,location.href).pathname);n&&Object.assign(N,n)}}if("type"in a)return"redirect-internal"===a.type?h.change(e,a.newUrl,a.newAs,o):(T({url:a.destination,router:h}),new Promise(()=>{}));let{error:s,props:l,__N_SSG:u,__N_SSP:d}=a;const f=a.Component;if(f&&f.unstable_scriptLoader&&[].concat(f.unstable_scriptLoader()).forEach(e=>{me.handleClientScriptLoad(e.props)}),(u||d)&&l){if(l.pageProps&&l.pageProps.__N_REDIRECT){o.locale=!1;const t=l.pageProps.__N_REDIRECT;if(t.startsWith("/")&&!1!==l.pageProps.__N_REDIRECT_BASE_PATH){const n=Le.parseRelativeUrl(t);n.pathname=v(n.pathname,I);const{url:r,as:i}=g(h,t,t);return h.change(e,r,i,o)}return T({url:t,router:h}),new Promise(()=>{})}if(y.isPreview=!!l.__N_PREVIEW,l.notFound===b){let e;try{yield h.fetchComponent("/404"),e="/404"}catch(t){e="/_error"}if(a=yield h.getRouteInfo({route:e,pathname:e,query:N,as:i,resolvedAs:D,routeProps:{shallow:!1},locale:y.locale,isPreview:y.isPreview}),"type"in a)throw new Error("Unexpected middleware effect on /404")}}var W;P.events.emit("beforeHistoryChange",i,C),h.changeState(e,t,i,o),n&&"/_error"===O&&500===(null==(V=self.__NEXT_DATA__.props)||null==(H=V.pageProps)?void 0:H.statusCode)&&(null==l?void 0:l.pageProps)&&(l.pageProps.statusCode=500);const p=o.shallow&&y.route===(null!=(W=a.route)?W:z);var G;const m=null!=(G=o.scroll)?G:!o._h&&!p,x=m?{x:0,y:0}:null,w=r({},y,{route:z,pathname:O,query:N,asPath:k,isFallback:!1}),S=null!=c?c:x;if(!o._h||S||_||A||!wt.compareRouterStates(w,h.state)){if(yield h.set(w,a,S).catch(e=>{if(!e.cancelled)throw e;s=s||e}),s)throw n||P.events.emit("routeChangeError",s,k,C),s;process.env.__NEXT_I18N_SUPPORT&&y.locale&&(document.documentElement.lang=y.locale),n||P.events.emit("routeChangeComplete",i,C);const e=/#.+$/;m&&e.test(i)&&h.scrollToHash(i)}return!0}catch(e){if(a.default(e)&&e.cancelled)return!1;throw e}})()}changeState(e,t,n,r={}){if("production"!==process.env.NODE_ENV){if(void 0===window.history)return void console.error("Warning: window.history is not available.");if(void 0===window.history[e])return void console.error(`Warning: window.history.${e} is not available`)}"pushState"===e&&Ae.getURL()===n||(this._shallow=r.shallow,window.history[e]({url:t,as:n,options:r,__N:!0,key:this._key="pushState"!==e?this._key:E()},"",n))}handleRouteInfoError(e,t,r,i,o,s){var u=this;return n(function*(){if(console.error(e),e.cancelled)throw e;if(le.isAssetError(e)||s)throw P.events.emit("routeChangeError",e,i,o),T({url:i,router:u}),l();try{let n;const{page:i,styleSheets:a}=yield u.fetchComponent("/_error"),o={props:n,Component:i,styleSheets:a,err:e,error:e};if(!o.props)try{o.props=yield u.getInitialProps(i,{err:e,pathname:t,query:r})}catch(e){console.error("Error in error page `getInitialProps`: ",e),o.props={}}return o}catch(e){return u.handleRouteInfoError(a.default(e)?e:new Error(e+""),t,r,i,o,!0)}})()}getRouteInfo({route:e,pathname:t,query:i,as:o,resolvedAs:s,routeProps:l,locale:u,hasMiddleware:c,isPreview:h,unstable_skipClientCache:d,isQueryUpdating:f,isMiddlewareRewrite:p}){var m=this;return n(function*(){let g=e;try{var v,_,b,x;const e=C({route:g,router:m});let a=m.components[g];if(l.shallow&&a&&m.route===g)return a;c&&(a=void 0);let w=a&&!("initial"in a)&&"development"!==process.env.NODE_ENV?a:void 0;const S=f,E={dataHref:m.pageLoader.getDataHref({href:ct.formatWithValidation({pathname:t,query:i}),skipInterpolation:!0,asPath:s,locale:u}),hasMiddleware:!0,isServerRender:m.isSsr,parseJSON:!0,inflightCache:S?m.sbc:m.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:d,isBackground:S},P=f&&!p?{}:yield y({fetchData:()=>M(E),asPath:s,locale:u,router:m}).catch(e=>{if(f)return{};throw e});if(f&&(P.json=self.__NEXT_DATA__.props),e(),"redirect-internal"===(null==P||null==(v=P.effect)?void 0:v.type)||"redirect-external"===(null==P||null==(_=P.effect)?void 0:_.type))return P.effect;if("rewrite"===(null==P||null==(b=P.effect)?void 0:b.type)){const e=te.removeTrailingSlash(P.effect.resolvedHref),n=yield m.pageLoader.getPageList();if((!f||n.includes(e))&&(g=e,t=P.effect.resolvedHref,i=r({},i,P.effect.parsedAs.query),s=et.removeBasePath(Ce.normalizeLocalePath(P.effect.parsedAs.pathname,m.locales).pathname),a=m.components[g],l.shallow&&a&&m.route===g&&!c))return r({},a,{route:g})}if("/api"===g||g.startsWith("/api/"))return T({url:o,router:m}),new Promise(()=>{});const k=w||(yield m.fetchComponent(g).then(e=>({Component:e.page,styleSheets:e.styleSheets,__N_SSG:e.mod.__N_SSG,__N_SSP:e.mod.__N_SSP})));if("production"!==process.env.NODE_ENV){const{isValidElementType:e}=jt;if(!e(k.Component))throw new Error(`The default export is not a React Component in page: "${t}"`)}const A=null==P||null==(x=P.response)?void 0:x.headers.get("x-middleware-skip"),I=k.__N_SSG||k.__N_SSP;A&&delete m.sdc[null==P?void 0:P.dataHref];const{props:R,cacheKey:L}=yield m._getData(n(function*(){if(I){const{json:e,cacheKey:n}=(null==P?void 0:P.json)&&!A?P:yield M({dataHref:(null==P?void 0:P.json)?null==P?void 0:P.dataHref:m.pageLoader.getDataHref({href:ct.formatWithValidation({pathname:t,query:i}),asPath:s,locale:u}),isServerRender:m.isSsr,parseJSON:!0,inflightCache:A?{}:m.sdc,persistCache:!h,isPrefetch:!1,unstable_skipClientCache:d});return{cacheKey:n,props:e||{}}}return{headers:{},cacheKey:"",props:yield m.getInitialProps(k.Component,{pathname:t,query:i,asPath:o,locale:u,locales:m.locales,defaultLocale:m.defaultLocale})}}));return k.__N_SSP&&E.dataHref&&delete m.sdc[L],m.isPreview||!k.__N_SSG||"development"===process.env.NODE_ENV||f||M(Object.assign({},E,{isBackground:!0,persistCache:!1,inflightCache:m.sbc})).catch(()=>{}),R.pageProps=Object.assign({},R.pageProps),k.props=R,k.route=g,k.query=i,k.resolvedAs=s,m.components[g]=k,k}catch(e){return m.handleRouteInfoError(a.getProperError(e),t,i,o,l)}})()}set(e,t,n){return this.state=e,this.sub(t,this.components["/_app"].Component,n)}beforePopState(e){this._bps=e}onlyAHashChange(e){if(!this.asPath)return!1;const[t,n]=this.asPath.split("#"),[r,i]=e.split("#");return!(!i||t!==r||n!==i)||t===r&&n!==i}scrollToHash(e){const[,t=""]=e.split("#");if(""===t||"top"===t)return void w(()=>window.scrollTo(0,0));const n=decodeURIComponent(t),r=document.getElementById(n);if(r)return void w(()=>r.scrollIntoView());const i=document.getElementsByName(n)[0];i&&w(()=>i.scrollIntoView())}urlIsNew(e){return this.asPath!==e}prefetch(e,t=e,i={}){var a=this;return n(function*(){if("undefined"!=typeof window&&St.isBot(window.navigator.userAgent))return;let n=Le.parseRelativeUrl(e),{pathname:o,query:l}=n;const c=o;if(process.env.__NEXT_I18N_SUPPORT&&!1===i.locale){o=Ce.normalizeLocalePath(o,a.locales).pathname,n.pathname=o,e=ct.formatWithValidation(n);let r=Le.parseRelativeUrl(t);const s=Ce.normalizeLocalePath(r.pathname,a.locales);r.pathname=s.pathname,i.locale=s.detectedLocale||a.defaultLocale,t=ct.formatWithValidation(r)}const h=yield a.pageLoader.getPageList();let d=t;const f=void 0!==i.locale?i.locale||void 0:a.locale,p=yield u({asPath:t,locale:f,router:a});if(process.env.__NEXT_HAS_REWRITES&&t.startsWith("/")){let r;({__rewrites:r}=yield le.getClientBuildManifest());const i=s.default(vt.addBasePath(mt.addLocale(t,a.locale),!0),h,r,n.query,e=>v(e,h),a.locales);if(i.externalDest)return;p||(d=gt.removeLocale(et.removeBasePath(i.asPath),a.locale)),i.matchedPage&&i.resolvedHref&&(o=i.resolvedHref,n.pathname=o,p||(e=ct.formatWithValidation(n)))}if(n.pathname=v(n.pathname,h),Se.isDynamicRoute(n.pathname)&&(o=n.pathname,n.pathname=o,Object.assign(l,nt.getRouteMatcher(ut.getRouteRegex(n.pathname))(ne.parsePath(t).pathname)||{}),p||(e=ct.formatWithValidation(n))),"production"!==process.env.NODE_ENV)return;const m="strict"===process.env.__NEXT_MIDDLEWARE_PREFETCH?{}:yield y({fetchData:()=>M({dataHref:a.pageLoader.getDataHref({href:ct.formatWithValidation({pathname:c,query:l}),skipInterpolation:!0,asPath:d,locale:f}),hasMiddleware:!0,isServerRender:a.isSsr,parseJSON:!0,inflightCache:a.sdc,persistCache:!a.isPreview,isPrefetch:!0}),asPath:t,locale:f,router:a});if("rewrite"===(null==m?void 0:m.effect.type)&&(n.pathname=m.effect.resolvedHref,o=m.effect.resolvedHref,l=r({},l,m.effect.parsedAs.query),d=m.effect.parsedAs.pathname,e=ct.formatWithValidation(n)),"redirect-external"===(null==m?void 0:m.effect.type))return;const g=te.removeTrailingSlash(o);yield Promise.all([a.pageLoader._isSsg(g).then(t=>!!t&&M({dataHref:(null==m?void 0:m.json)?null==m?void 0:m.dataHref:a.pageLoader.getDataHref({href:e,asPath:d,locale:f}),isServerRender:!1,parseJSON:!0,inflightCache:a.sdc,persistCache:!a.isPreview,isPrefetch:!0,unstable_skipClientCache:i.unstable_skipClientCache||i.priority&&!!process.env.__NEXT_OPTIMISTIC_CLIENT_CACHE}).then(()=>!1)),a.pageLoader[i.priority?"loadPage":"prefetch"](g)])})()}fetchComponent(e){var t=this;return n(function*(){const n=C({route:e,router:t});try{const r=yield t.pageLoader.loadPage(e);return n(),r}catch(e){throw n(),e}})()}_getData(e){let t=!1;const n=()=>{t=!0};return this.clc=n,e().then(e=>{if(n===this.clc&&(this.clc=null),t){const e=new Error("Loading initial props cancelled");throw e.cancelled=!0,e}return e})}_getFlightData(e){return M({dataHref:e,isServerRender:!0,parseJSON:!1,inflightCache:this.sdc,persistCache:!1,isPrefetch:!1}).then(({text:e})=>({data:e}))}getInitialProps(e,t){const{Component:n}=this.components["/_app"],r=this._wrapApp(n);return t.AppTree=r,Ae.loadGetInitialProps(n,{AppTree:r,Component:e,router:this,ctx:t})}get route(){return this.state.route}get pathname(){return this.state.pathname}get query(){return this.state.query}get asPath(){return this.state.asPath}get locale(){return this.state.locale}get isFallback(){return this.state.isFallback}get isPreview(){return this.state.isPreview}constructor(e,t,n,{initialProps:r,pageLoader:i,App:a,wrapApp:o,Component:s,err:l,subscription:c,isFallback:h,locale:d,locales:f,defaultLocale:p,domainLocales:m,isPreview:g}){this.sdc={},this.sbc={},this.isFirstPopStateEvent=!0,this._key=E(),this.onPopState=e=>{const{isFirstPopStateEvent:t}=this;this.isFirstPopStateEvent=!1;const n=e.state;if(!n){const{pathname:e,query:t}=this;return void this.changeState("replaceState",ct.formatWithValidation({pathname:vt.addBasePath(e),query:t}),Ae.getURL())}if(n.__NA)return void window.location.reload();if(!n.__N)return;if(t&&this.locale===n.options.locale&&n.as===this.asPath)return;let r;const{url:i,as:a,options:o,key:s}=n;if(process.env.__NEXT_SCROLL_RESTORATION&&_&&this._key!==s){try{sessionStorage.setItem("__next_scroll_"+this._key,JSON.stringify({x:self.pageXOffset,y:self.pageYOffset}))}catch(e){}try{const e=sessionStorage.getItem("__next_scroll_"+s);r=JSON.parse(e)}catch(e){r={x:0,y:0}}}this._key=s;const{pathname:l}=Le.parseRelativeUrl(i);this.isSsr&&a===vt.addBasePath(this.asPath)&&l===vt.addBasePath(this.pathname)||this._bps&&!this._bps(n)||this.change("replaceState",i,a,Object.assign({},o,{shallow:o.shallow&&this._shallow,locale:o.locale||this.defaultLocale,_h:0}),r)};const v=te.removeTrailingSlash(e);this.components={},"/_error"!==e&&(this.components[v]={Component:s,initial:!0,props:r,err:l,__N_SSG:r&&r.__N_SSG,__N_SSP:r&&r.__N_SSP}),this.components["/_app"]={Component:a,styleSheets:[]},this.events=P.events,this.pageLoader=i;const y=Se.isDynamicRoute(e)&&self.__NEXT_DATA__.autoExport;if(this.basePath=process.env.__NEXT_ROUTER_BASEPATH||"",this.sub=c,this.clc=null,this._wrapApp=o,this.isSsr=!0,this.isLocaleDomain=!1,this.isReady=!(!(self.__NEXT_DATA__.gssp||self.__NEXT_DATA__.gip||self.__NEXT_DATA__.appGip&&!self.__NEXT_DATA__.gsp)&&(y||self.location.search||process.env.__NEXT_HAS_REWRITES)),process.env.__NEXT_I18N_SUPPORT&&(this.locales=f,this.defaultLocale=p,this.domainLocales=m,this.isLocaleDomain=!!dt.detectDomainLocale(m,self.location.hostname)),this.state={route:v,pathname:e,query:t,asPath:y?e:n,isPreview:!!g,locale:process.env.__NEXT_I18N_SUPPORT?d:void 0,isFallback:h},this._initialMatchesMiddlewarePromise=Promise.resolve(!1),"undefined"!=typeof window){if(!n.startsWith("//")){const r={locale:d},i=Ae.getURL();this._initialMatchesMiddlewarePromise=u({router:this,locale:d,asPath:i}).then(a=>(r._shouldResolveHref=n!==e,this.changeState("replaceState",a?i:ct.formatWithValidation({pathname:vt.addBasePath(e),query:t}),i,r),a))}window.addEventListener("popstate",this.onPopState),process.env.__NEXT_SCROLL_RESTORATION&&_&&(window.history.scrollRestoration="manual")}}}P.events=o.default(),t.default=P}),Ht=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.RouterContext=void 0;const r=(0,se.default)(t).default.createContext(null);n.RouterContext=r,"production"!==process.env.NODE_ENV&&(r.displayName="RouterContext")}),Wt=$t,Gt=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){function t(t){/*#__PURE__*/
return r.default.createElement(e,Object.assign({router:Wt.useRouter()},t))}return t.getInitialProps=e.getInitialProps,t.origGetInitialProps=e.origGetInitialProps,"production"!==process.env.NODE_ENV&&(t.displayName=`withRouter(${e.displayName||e.name||"Unknown"})`),t};var r=(0,se.default)(t);("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)}),$t=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Router",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(n,"withRouter",{enumerable:!0,get:function(){return s.default}}),n.useRouter=function(){const e=i.default.useContext(Ht.RouterContext);if(!e)throw new Error("Error: NextRouter was not mounted. https://nextjs.org/docs/messages/next-router-not-mounted");return e},n.createRouter=function(...e){return l.router=new a.default(...e),l.readyCallbacks.forEach(e=>e()),l.readyCallbacks=[],l.router},n.makePublicRouterInstance=function(e){const t=e,n={};for(const e of u)n[e]="object"!=typeof t[e]?t[e]:Object.assign(Array.isArray(t[e])?[]:{},t[e]);return n.events=a.default.events,c.forEach(e=>{n[e]=(...n)=>t[e](...n)}),n},n.default=void 0;var r=se.default,i=r(t),a=r(Vt),o=r(_e),s=r(Gt);const l={router:null,readyCallbacks:[],ready(e){if(this.router)return e();"undefined"!=typeof window&&this.readyCallbacks.push(e)}},u=["pathname","route","query","asPath","components","isFallback","basePath","locale","locales","defaultLocale","isReady","isPreview","isLocaleDomain","domainLocales"],c=["push","replace","reload","back","prefetch","beforePopState"];function h(){if(!l.router)throw new Error('No router instance found.\nYou should only use "next/router" on the client side of your app.\n');return l.router}Object.defineProperty(l,"events",{get:()=>a.default.events}),u.forEach(e=>{Object.defineProperty(l,e,{get:()=>h()[e]})}),c.forEach(e=>{l[e]=(...t)=>h()[e](...t)}),["routeChangeStart","beforeHistoryChange","routeChangeComplete","routeChangeError","hashChangeStart","hashChangeComplete"].forEach(e=>{l.ready(()=>{a.default.events.on(e,(...t)=>{const n=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`,r=l;if(r[n])try{r[n](...t)}catch(e){console.error(`Error when running the Router event: ${n}`),console.error(o.default(e)?`${e.message}\n${e.stack}`:e+"")}})})}),n.default=l,("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)});const qt=n({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Xt=n({}),Yt=n(null),Zt="undefined"!=typeof document,Kt=Zt?o:s,Jt=n({strict:!1});function Qt(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function en(e){return"string"==typeof e||Array.isArray(e)}function tn(e){return"object"==typeof e&&"function"==typeof e.start}const nn=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function rn(e){return tn(e.animate)||nn.some(t=>en(e[t]))}function an(e){return Boolean(rn(e)||e.variants)}function on(e){return Array.isArray(e)?e.join(" "):e}const sn=e=>({isEnabled:t=>e.some(e=>!!t[e])}),ln={measureLayout:sn(["layout","layoutId","drag"]),animation:sn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:sn(["exit"]),drag:sn(["drag","dragControls"]),focus:sn(["whileFocus"]),hover:sn(["whileHover","onHoverStart","onHoverEnd"]),tap:sn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:sn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:sn(["whileInView","onViewportEnter","onViewportLeave"])};function un(e){const t=l(null);return null===t.current&&(t.current=e()),t.current}const cn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hn=1;const dn=n({});class fn extends t.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const pn=n({}),mn=Symbol.for("motionComponentSymbol");function gn({layoutId:e}){const t=a(dn).id;return t&&void 0!==e?t+"-"+e:e}function vn(t){function n(n,r={}){return function({preloadedFeatures:t,createVisualElement:n,projectionNodeConstructor:r,useRender:o,useVisualState:h,Component:d}){t&&function(e){for(const t in e)"projectionNodeConstructor"===t?ln.projectionNodeConstructor=e[t]:ln[t].Component=e[t]}(t);const f=c(function(c,f){const p={...a(qt),...c,layoutId:gn(c)},{isStatic:m}=p;let g=null;const v=function(e){const{initial:t,animate:n}=function(e,t){if(rn(e)){const{initial:t,animate:n}=e;return{initial:!1===t||en(t)?t:void 0,animate:en(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,a(Xt));return i(()=>({initial:t,animate:n}),[on(t),on(n)])}(c),y=m?void 0:un(()=>{if(cn.hasEverUpdated)return hn++}),_=h(c,m);if(!m&&Zt){v.visualElement=function(e,t,n,r){const i=a(Xt).visualElement,o=a(Jt),u=a(Yt),c=a(qt).reducedMotion,h=l();r=r||o.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:i,props:n,presenceId:u?u.id:void 0,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));const d=h.current;return Kt(()=>{d&&d.render()}),s(()=>{d&&d.animationState&&d.animationState.animateChanges()}),Kt(()=>()=>d&&d.notify("Unmount"),[]),d}(d,_,p,n);const e=a(Jt).strict,i=a(pn);v.visualElement&&(g=v.visualElement.loadFeatures(p,e,t,y,r||ln.projectionNodeConstructor,i))}return e.createElement(fn,{visualElement:v.visualElement,props:p},g,e.createElement(Xt.Provider,{value:v},o(d,c,y,function(e,t,n){return u(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Qt(n)&&(n.current=r))},[t])}(_,v.visualElement,f),_,m,v.visualElement)))});return f[mn]=d,f}(t(n,r))}if("undefined"==typeof Proxy)return n;const r=new Map;return new Proxy(n,{get:(e,t)=>(r.has(t)||r.set(t,n(t)),r.get(t))})}const yn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","text","tspan","use","view"];function _n(e){return"string"==typeof e&&!e.includes("-")&&!!(yn.indexOf(e)>-1||/[A-Z]/.test(e))}const bn={},xn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wn=new Set(xn);function Sn(e,{layout:t,layoutId:n}){return wn.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!bn[e]||"opacity"===e)}const Mn=e=>!!(null==e?void 0:e.getVelocity),En={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tn=(e,t)=>xn.indexOf(e)-xn.indexOf(t);function Cn(e){return e.startsWith("--")}const Pn=(e,t)=>t&&"number"==typeof e?t.transform(e):e,kn=(e,t)=>n=>Math.max(Math.min(n,t),e),An=e=>e%1?Number(e.toFixed(5)):e,In=/(-)?([\d]*\.?[\d])+/g,Rn=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ln=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function On(e){return"string"==typeof e}const Nn={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Dn=Object.assign(Object.assign({},Nn),{transform:kn(0,1)}),zn=Object.assign(Object.assign({},Nn),{default:1}),Un=e=>({test:t=>On(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Bn=Un("deg"),Fn=Un("%"),jn=Un("px"),Vn=Un("vh"),Hn=Un("vw"),Wn=Object.assign(Object.assign({},Fn),{parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(100*e)}),Gn=(e,t)=>n=>Boolean(On(n)&&Ln.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),$n=(e,t,n)=>r=>{if(!On(r))return r;const[i,a,o,s]=r.match(In);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},qn={test:Gn("hsl","hue"),parse:$n("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fn.transform(An(t))+", "+Fn.transform(An(n))+", "+An(Dn.transform(r))+")"},Xn=kn(0,255),Yn=Object.assign(Object.assign({},Nn),{transform:e=>Math.round(Xn(e))}),Zn={test:Gn("rgb","red"),parse:$n("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Yn.transform(e)+", "+Yn.transform(t)+", "+Yn.transform(n)+", "+An(Dn.transform(r))+")"},Kn={test:Gn("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Zn.transform},Jn={test:e=>Zn.test(e)||Kn.test(e)||qn.test(e),parse:e=>Zn.test(e)?Zn.parse(e):qn.test(e)?qn.parse(e):Kn.parse(e),transform:e=>On(e)?e:e.hasOwnProperty("red")?Zn.transform(e):qn.transform(e)};function Qn(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(Rn);r&&(n=r.length,e=e.replace(Rn,"${c}"),t.push(...r.map(Jn.parse)));const i=e.match(In);return i&&(e=e.replace(In,"${n}"),t.push(...i.map(Nn.parse))),{values:t,numColors:n,tokenised:e}}function er(e){return Qn(e).values}function tr(e){const{values:t,numColors:n,tokenised:r}=Qn(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?"${c}":"${n}",r<n?Jn.transform(e[r]):An(e[r]));return t}}const nr=e=>"number"==typeof e?0:e,rr={test:function(e){var t,n,r,i;return isNaN(e)&&On(e)&&(null!==(n=null===(t=e.match(In))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Rn))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:er,createTransformer:tr,getAnimatableNone:function(e){const t=er(e);return tr(e)(t.map(nr))}},ir=new Set(["brightness","contrast","saturate","opacity"]);function ar(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(In)||[];if(!r)return e;const i=n.replace(r,"");let a=ir.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const or=/([a-z-]*)\(.*?\)/g,sr=Object.assign(Object.assign({},rr),{getAnimatableNone:e=>{const t=e.match(or);return t?t.map(ar).join(" "):e}}),lr={...Nn,transform:Math.round},ur={borderWidth:jn,borderTopWidth:jn,borderRightWidth:jn,borderBottomWidth:jn,borderLeftWidth:jn,borderRadius:jn,radius:jn,borderTopLeftRadius:jn,borderTopRightRadius:jn,borderBottomRightRadius:jn,borderBottomLeftRadius:jn,width:jn,maxWidth:jn,height:jn,maxHeight:jn,size:jn,top:jn,right:jn,bottom:jn,left:jn,padding:jn,paddingTop:jn,paddingRight:jn,paddingBottom:jn,paddingLeft:jn,margin:jn,marginTop:jn,marginRight:jn,marginBottom:jn,marginLeft:jn,rotate:Bn,rotateX:Bn,rotateY:Bn,rotateZ:Bn,scale:zn,scaleX:zn,scaleY:zn,scaleZ:zn,skew:Bn,skewX:Bn,skewY:Bn,distance:jn,translateX:jn,translateY:jn,translateZ:jn,x:jn,y:jn,z:jn,perspective:jn,transformPerspective:jn,opacity:Dn,originX:Wn,originY:Wn,originZ:jn,zIndex:lr,fillOpacity:Dn,strokeOpacity:Dn,numOctaves:lr};function cr(e,t,n,r){const{style:i,vars:a,transform:o,transformKeys:s,transformOrigin:l}=e;s.length=0;let u=!1,c=!1,h=!0;for(const e in t){const n=t[e];if(Cn(e)){a[e]=n;continue}const r=ur[e],d=Pn(n,r);if(wn.has(e)){if(u=!0,o[e]=d,s.push(e),!h)continue;n!==(r.default||0)&&(h=!1)}else e.startsWith("origin")?(c=!0,l[e]=d):i[e]=d}if(t.transform||(u||r?i.transform=function({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,a){let o="";t.sort(Tn);for(const n of t)o+=`${En[n]||n}(${e[n]}) `;return n&&!e.z&&(o+="translateZ(0)"),o=o.trim(),a?o=a(e,i?"":o):r&&i&&(o="none"),o}(e,n,h,r):i.transform&&(i.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=l;i.transformOrigin=`${e} ${t} ${n}`}}function hr(e,t,n){for(const r in t)Mn(t[r])||Sn(r,n)||(e[r]=t[r])}function dr(e,t,n){const r={},a=function(e,t,n){const r={};return hr(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},t,n){return i(()=>{const r={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return cr(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=a,r}const fr=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function pr(e){return fr.has(e)}let mr=e=>!pr(e);try{(gr=require("@emotion/is-prop-valid").default)&&(mr=e=>e.startsWith("on")?!pr(e):gr(e))}catch(e){}var gr;function vr(e,t,n){return"string"==typeof e?e:jn.transform(t+n*e)}const yr={offset:"stroke-dashoffset",array:"stroke-dasharray"},_r={offset:"strokeDashoffset",array:"strokeDasharray"};function br(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:s=0,...l},u,c){cr(e,l,u,c),e.attrs=e.style,e.style={};const{attrs:h,style:d,dimensions:f}=e;h.transform&&(f&&(d.transform=h.transform),delete h.transform),f&&(void 0!==r||void 0!==i||d.transform)&&(d.transformOrigin=function(e,t,n){return`${vr(t,e.x,e.width)} ${vr(n,e.y,e.height)}`}(f,void 0!==r?r:.5,void 0!==i?i:.5)),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==a&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?yr:_r;e[a.offset]=jn.transform(-r);const o=jn.transform(t),s=jn.transform(n);e[a.array]=`${o} ${s}`}(h,a,o,s,!1)}function xr(e,t){const n=i(()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return br(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};hr(t,e.style,e),n.style={...t,...n.style}}return n}function wr(e=!1){return(t,n,r,i,{latestValues:a},o)=>{const s=(_n(t)?xr:dr)(n,a,o),l=function(e,t,n){const r={};for(const i in e)(mr(i)||!0===n&&pr(i)||!t&&!pr(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),u={...l,...s,ref:i};return r&&(u["data-projection-id"]=r),d(t,u)}}const Sr=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Mr(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}const Er=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Tr(e,t,n,r){Mr(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Er.has(n)?n:Sr(n),t.attrs[n])}function Cr(e){const{style:t}=e,n={};for(const r in t)(Mn(t[r])||Sn(r,e))&&(n[r]=t[r]);return n}function Pr(e){const t=Cr(e);for(const n in e)Mn(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function kr(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}const Ar=e=>Array.isArray(e),Ir=e=>Ar(e)?e[e.length-1]||0:e;function Rr(e){const t=Mn(e)?e.get():e;return(e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Lr=e=>(t,n)=>{const r=a(Xt),i=a(Yt),o=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const o={latestValues:Or(r,i,a,e),renderState:t()};return n&&(o.mount=e=>n(r,e,o)),o}(e,t,r,i);return n?o():un(o)};function Or(e,t,n,r){const i={},a=r(e);for(const e in a)i[e]=Rr(a[e]);let{initial:o,animate:s}=e;const l=rn(e),u=an(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const h=c?s:o;return h&&"boolean"!=typeof h&&!tn(h)&&(Array.isArray(h)?h:[h]).forEach(t=>{const n=kr(e,t);if(!n)return;const{transitionEnd:r,transition:a,...o}=n;for(const e in o){let t=o[e];Array.isArray(t)&&(t=t[c?t.length-1:0]),null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}),i}const Nr={useVisualState:Lr({scrapeMotionValuesFromProps:Pr,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}}),onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){n.dimensions={x:0,y:0,width:0,height:0}}br(n,r,{enableHardwareAcceleration:!1},e.transformTemplate),Tr(t,n)}})},Dr={useVisualState:Lr({scrapeMotionValuesFromProps:Cr,createRenderState:()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}})})};var zr;function Ur(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Br(e,t,n,r){s(()=>{const i=e.current;if(n&&i)return Ur(i,t,n,r)},[e,t,n,r])}function Fr(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function jr(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(zr||(zr={}));const Vr={pageX:0,pageY:0};function Hr(e,t="page"){const n=e.touches[0]||e.changedTouches[0]||Vr;return{x:n[t+"X"],y:n[t+"Y"]}}function Wr(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function Gr(e,t="page"){return{point:jr(e)?Hr(e,t):Wr(e,t)}}const $r=(e,t=!1)=>{const n=t=>e(t,Gr(t));return t?(r=n,e=>{const t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}):n;var r},qr={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Xr={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Yr(e){return Zt&&null===window.onpointerdown?e:Zt&&null===window.ontouchstart?Xr[e]:Zt&&null===window.onmousedown?qr[e]:e}function Zr(e,t,n,r){return Ur(e,Yr(t),$r(n,"pointerdown"===t),r)}function Kr(e,t,n,r){return Br(e,Yr(t),n&&$r(n,"pointerdown"===t),r)}function Jr(e){let t=null;return()=>null===t&&(t=e,()=>{t=null})}const Qr=Jr("dragHorizontal"),ei=Jr("dragVertical");function ti(e){let t=!1;if("y"===e)t=ei();else if("x"===e)t=Qr();else{const e=Qr(),n=ei();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function ni(){const e=ti(!0);return!e||(e(),!1)}function ri(e,t,n){return(r,i)=>{Fr(r)&&!ni()&&(e.animationState&&e.animationState.setActive(zr.Hover,t),n&&n(r,i))}}const ii=(e,t)=>!!t&&(e===t||ii(e,t.parentElement));function ai(e){return s(()=>()=>e(),[])}function oi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function si(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}function li(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function ui(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}var ci=function(){},hi=function(){};"production"!==process.env.NODE_ENV&&(ci=function(e,t){e||"undefined"==typeof console||console.warn(t)},hi=function(e,t){if(!e)throw new Error(t)});const di=(e,t,n)=>Math.min(Math.max(n,e),t);function fi(e,t){return e*Math.sqrt(1-t*t)}const pi=["duration","bounce"],mi=["stiffness","damping","mass"];function gi(e,t){return t.some(t=>void 0!==e[t])}function vi(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,a=oi(e,["from","to","restSpeed","restDelta"]);const o={done:!1,value:t};let{stiffness:s,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!gi(e,mi)&&gi(e,pi)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;ci(e<=1e4,"Spring duration must be 10 seconds or less");let o=1-t;o=di(.05,1,o),e=di(.01,10,e/1e3),o<1?(i=t=>{const r=t*o,i=r*e;return.001-(r-n)/fi(t,o)*Math.exp(-i)},a=t=>{const r=t*o*e,a=r*n+n,s=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=fi(Math.pow(t,2),o);return(.001-i(t)>0?-1:1)*((a-s)*l)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,a,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(a),f=yi,p=yi;function m(){const e=c?-c/1e3:0,r=n-t,a=l/(2*Math.sqrt(s*u)),o=Math.sqrt(s/u)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),a<1){const t=fi(o,a);f=i=>{const s=Math.exp(-a*o*i);return n-s*((e+a*o*r)/t*Math.sin(t*i)+r*Math.cos(t*i))},p=n=>{const i=Math.exp(-a*o*n);return a*o*i*(Math.sin(t*n)*(e+a*o*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+a*o*r)-t*r*Math.sin(t*n))}}else if(1===a)f=t=>n-Math.exp(-o*t)*(r+(e+o*r)*t);else{const t=o*Math.sqrt(a*a-1);f=i=>{const s=Math.exp(-a*o*i),l=Math.min(t*i,300);return n-s*((e+a*o*r)*Math.sinh(l)+t*r*Math.cosh(l))/t}}}return m(),{next:e=>{const t=f(e);if(d)o.done=e>=h;else{const a=1e3*p(e),s=Math.abs(a)<=r,l=Math.abs(n-t)<=i;o.done=s&&l}return o.value=o.done?n:t,o},flipTarget:()=>{c=-c,[t,n]=[n,t],m()}}}vi.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const yi=e=>0,_i=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},bi=(e,t,n)=>-n*e+n*t+e;function xi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wi({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=xi(s,r,e+1/3),a=xi(s,r,e),o=xi(s,r,e-1/3)}else i=a=o=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}const Si=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Mi=[Kn,Zn,qn],Ei=e=>Mi.find(t=>t.test(e)),Ti=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Ci=(e,t)=>{let n=Ei(e),r=Ei(t);hi(!!n,Ti(e)),hi(!!r,Ti(t));let i=n.parse(e),a=r.parse(t);n===qn&&(i=wi(i),n=Zn),r===qn&&(a=wi(a),r=Zn);const o=Object.assign({},i);return e=>{for(const t in o)"alpha"!==t&&(o[t]=Si(i[t],a[t],e));return o.alpha=bi(i.alpha,a.alpha,e),n.transform(o)}},Pi=e=>"number"==typeof e,ki=(e,t)=>n=>t(e(n)),Ai=(...e)=>e.reduce(ki);function Ii(e,t){return Pi(e)?n=>bi(e,t,n):Jn.test(e)?Ci(e,t):Ni(e,t)}const Ri=(e,t)=>{const n=[...e],r=n.length,i=e.map((e,n)=>Ii(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Li=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Ii(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function Oi(e){const t=rr.parse(e),n=t.length;let r=0,i=0,a=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}const Ni=(e,t)=>{const n=rr.createTransformer(t),r=Oi(e),i=Oi(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Ai(Ri(r.parsed,i.parsed),n):(ci(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)},Di=(e,t)=>n=>bi(e,t,n);function zi(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;hi(a===t.length,"Both input and output ranges must be the same length"),hi(!r||!Array.isArray(r)||r.length===a-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const o=function(e,t,n){const r=[],i=n||function(e){return"number"==typeof e?Di:"string"==typeof e?Jn.test(e)?Ci:Ni:Array.isArray(e)?Ri:"object"==typeof e?Li:void 0}(e[0]),a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;a=Ai(e,a)}r.push(a)}return r}(t,r,i),s=2===a?function([e,t],[n]){return r=>n(_i(e,t,r))}(e,o):function(e,t){const n=e.length,r=n-1;return i=>{let a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){let t=1;for(;t<n&&!(e[t]>i||t===r);t++);a=t-1}const s=_i(e[a],e[a+1],i);return t[a](s)}}(e,o);return n?t=>s(di(e[0],e[a-1],t)):s}const Ui=e=>t=>1-e(1-t),Bi=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fi=e=>t=>t*t*((e+1)*t-e),ji=e=>e,Vi=e=>Math.pow(e,2),Hi=Ui(Vi),Wi=Bi(Vi),Gi=e=>1-Math.sin(Math.acos(e)),$i=Ui(Gi),qi=Bi($i),Xi=Fi(1.525),Yi=Ui(Xi),Zi=Bi(Xi),Ki=(e=>{const t=Fi(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),Ji=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Qi=Ui(Ji);function ea(e,t){return e.map(()=>t||Wi).splice(0,e.length-1)}function ta({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const a={done:!1,value:e},o=Array.isArray(t)?t:[e,t],s=function(e,t){return e.map(e=>e*t)}(r&&r.length===o.length?r:function(e){const t=e.length;return e.map((e,n)=>0!==n?n/(t-1):0)}(o),i);function l(){return zi(s,o,{ease:Array.isArray(n)?n:ea(o,n)})}let u=l();return{next:e=>(a.value=u(e),a.done=e>=i,a),flipTarget:()=>{o.reverse(),u=l()}}}const na={keyframes:ta,spring:vi,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const o={done:!1,value:t};let s=n*e;const l=t+s,u=void 0===a?l:a(l);return u!==l&&(s=u-t),{next:e=>{const t=-s*Math.exp(-e/r);return o.done=!(t>i||t<-i),o.value=o.done?u:u+t,o},flipTarget:()=>{}}}},ra="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),ia="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(ra()),16.666666666666668);let aa=!0,oa=!1,sa=!1;const la={delta:0,timestamp:0},ua=["read","update","preRender","render","postRender"],ca=ua.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,a=!1;const o=new WeakSet,s={schedule:(e,a=!1,s=!1)=>{const l=s&&i,u=l?t:n;return a&&o.add(e),-1===u.indexOf(e)&&(u.push(e),l&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:l=>{if(i)a=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),o.has(r)&&(s.schedule(r),e())}i=!1,a&&(a=!1,s.process(l))}}};return s}(()=>oa=!0),e),{}),ha=ua.reduce((e,t)=>{const n=ca[t];return e[t]=(e,t=!1,r=!1)=>(oa||ga(),n.schedule(e,t,r)),e},{}),da=ua.reduce((e,t)=>(e[t]=ca[t].cancel,e),{}),fa=ua.reduce((e,t)=>(e[t]=()=>ca[t].process(la),e),{}),pa=e=>ca[e].process(la),ma=e=>{oa=!1,la.delta=aa?16.666666666666668:Math.max(Math.min(e-la.timestamp,40),1),la.timestamp=e,sa=!0,ua.forEach(pa),sa=!1,oa&&(aa=!1,ia(ma))},ga=()=>{oa=!0,aa=!0,sa||ia(ma)},va=()=>la;function ya(e,t,n=0){return e-t-n}const _a=e=>{const t=({delta:t})=>e(t);return{start:()=>ha.update(t,!0),stop:()=>da.update(t)}};function ba(e){var t,n,{from:r,autoplay:i=!0,driver:a=_a,elapsed:o=0,repeat:s=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:h,onComplete:d,onRepeat:f,onUpdate:p}=e,m=oi(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let g,v,y,{to:_}=m,b=0,x=m.duration,w=!1,S=!0;const M=function(e){if(Array.isArray(e.to))return ta;if(na[e.type])return na[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?ta:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?vi:ta}(m);(null===(n=(t=M).needsInterpolation)||void 0===n?void 0:n.call(t,r,_))&&(y=zi([0,100],[r,_],{clamp:!1}),r=0,_=100);const E=M(Object.assign(Object.assign({},m),{from:r,to:_}));return i&&(null==c||c(),g=a(function(e){if(S||(e=-e),o+=e,!w){const e=E.next(Math.max(0,o));v=e.value,y&&(v=y(v)),w=S?e.done:o<=0}null==p||p(v),w&&(0===b&&(null!=x||(x=o)),b<s?function(e,t,n,r){return r?e>=t+n:e<=-n}(o,x,u,S)&&(b++,"reverse"===l?(S=b%2==0,o=function(e,t,n=0,r=!0){return r?ya(t+-e,t,n):t-(e-t)+n}(o,x,u,S)):(o=ya(o,x,u),"mirror"===l&&E.flipTarget()),w=!1,f&&f()):(g.stop(),d&&d()))}),g.start()),{stop:()=>{null==h||h(),g.stop()}}}function xa(e,t){return t?e*(1e3/t):0}const wa=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),Sa=e=>wa(e)&&e.hasOwnProperty("z"),Ma=(e,t)=>Math.abs(e-t),Ea=(e,t)=>1-3*t+3*e,Ta=(e,t)=>3*t-6*e,Ca=e=>3*e,Pa=(e,t,n)=>((Ea(t,n)*e+Ta(t,n))*e+Ca(t))*e,ka=(e,t,n)=>3*Ea(t,n)*e*e+2*Ta(t,n)*e+Ca(t),Aa="undefined"==typeof process||void 0===process.env?"production":process.env.NODE_ENV||"production",Ia=new Set;function Ra(e,t,n){e||Ia.has(t)||(console.warn(t),n&&console.warn(n),Ia.add(t))}const La=new WeakMap,Oa=new WeakMap,Na=e=>{const t=La.get(e.target);t&&t(e)},Da=e=>{e.forEach(Na)},za={some:0,all:1};function Ua(e,t,n,{root:r,margin:i,amount:a="some",once:o}){s(()=>{if(e&&n.current)return function(e,r,i){const a=function({root:e,...t}){const n=e||document;Oa.has(n)||Oa.set(n,{});const r=Oa.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Da,{root:e,...t})),r[i]}(r);return La.set(e,e=>{const{isIntersecting:r}=e;if(t.isInView===r)return;if(t.isInView=r,o&&!r&&t.hasEnteredView)return;r&&(t.hasEnteredView=!0),n.animationState&&n.animationState.setActive(zr.InView,r);const i=n.getProps(),a=r?i.onViewportEnter:i.onViewportLeave;a&&a(e)}),a.observe(e),()=>{La.delete(e),a.unobserve(e)}}(n.current,{root:null==r?void 0:r.current,rootMargin:i,threshold:"number"==typeof a?a:za[a]})},[e,r,i,a])}function Ba(e,t,n,{fallback:r=!0}){s(()=>{e&&r&&("production"!==Aa&&Ra(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:e}=n.getProps();e&&e(null),n.animationState&&n.animationState.setActive(zr.InView,!0)}))},[e])}const Fa=e=>t=>(e(t),null),ja={inView:Fa(function({visualElement:e,whileInView:t,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const a=l({hasEnteredView:!1,isInView:!1});let o=Boolean(t||n||r);i.once&&a.current.hasEnteredView&&(o=!1),("undefined"==typeof IntersectionObserver?Ba:Ua)(o,a.current,e,i)}),tap:Fa(function({onTap:e,onTapStart:t,onTapCancel:n,whileTap:r,visualElement:i}){const a=e||t||n||r,o=l(!1),s=l(null),u={passive:!(t||e||n||p)};function c(){s.current&&s.current(),s.current=null}function h(){return c(),o.current=!1,i.animationState&&i.animationState.setActive(zr.Tap,!1),!ni()}function d(t,r){h()&&(ii(i.current,t.target)?e&&e(t,r):n&&n(t,r))}function f(e,t){h()&&n&&n(e,t)}function p(e,n){c(),o.current||(o.current=!0,s.current=Ai(Zr(window,"pointerup",d,u),Zr(window,"pointercancel",f,u)),i.animationState&&i.animationState.setActive(zr.Tap,!0),t&&t(e,n))}Kr(i,"pointerdown",a?p:void 0,u),ai(c)}),focus:Fa(function({whileFocus:e,visualElement:t}){const{animationState:n}=t;Br(t,"focus",e?()=>{n&&n.setActive(zr.Focus,!0)}:void 0),Br(t,"blur",e?()=>{n&&n.setActive(zr.Focus,!1)}:void 0)}),hover:Fa(function({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:r}){Kr(r,"pointerenter",e||n?ri(r,!0,e):void 0,{passive:!e}),Kr(r,"pointerleave",t||n?ri(r,!1,t):void 0,{passive:!t})})};function Va(){const e=a(Yt);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=f();return s(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function Ha(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Wa=e=>1e3*e,Ga={linear:ji,easeIn:Vi,easeInOut:Wi,easeOut:Hi,circIn:Gi,circInOut:qi,circOut:$i,backIn:Xi,backInOut:Zi,backOut:Yi,anticipate:Ki,bounceIn:Qi,bounceInOut:e=>e<.5?.5*(1-Ji(1-2*e)):.5*Ji(2*e-1)+.5,bounceOut:Ji},$a=e=>{if(Array.isArray(e)){hi(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,i]=e;return function(e,t,n,r){if(e===t&&n===r)return ji;const i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=Pa(.1*t,e,n);return a=>0===a||1===a?a:Pa(function(t){let r=0,a=1;for(;10!==a&&i[a]<=t;++a)r+=.1;--a;const o=r+(t-i[a])/(i[a+1]-i[a])*.1,s=ka(o,e,n);return s>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=ka(t,n,r);if(0===i)return t;t-=(Pa(t,n,r)-e)/i}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=Pa(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+.1,e,n)}(a),t,r)}(t,n,r,i)}return"string"==typeof e?(hi(void 0!==Ga[e],`Invalid easing type '${e}'`),Ga[e]):e},qa=(e,t)=>!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!rr.test(t)||t.startsWith("url("))),Xa=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Ya=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),Za=()=>({type:"keyframes",ease:"linear",duration:.3}),Ka=e=>({type:"keyframes",duration:.8,values:e}),Ja={x:Xa,y:Xa,z:Xa,rotate:Xa,rotateX:Xa,rotateY:Xa,rotateZ:Xa,scaleX:Ya,scaleY:Ya,scale:Ya,opacity:Za,backgroundColor:Za,color:Za,default:Ya},Qa=(e,t)=>{let n;return n=Ar(t)?Ka:Ja[e]||Ja.default,{to:t,...n(t)}},eo={...ur,color:Jn,backgroundColor:Jn,outlineColor:Jn,fill:Jn,stroke:Jn,borderColor:Jn,borderTopColor:Jn,borderRightColor:Jn,borderBottomColor:Jn,borderLeftColor:Jn,filter:sr,WebkitFilter:sr},to=e=>eo[e];function no(e,t){var n;let r=to(e);return r!==sr&&(r=rr),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}function ro(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(da.read(r),e(a-t))};return ha.read(r,!0),()=>da.read(r)}let io=!1;function ao({ease:e,times:t,yoyo:n,flip:r,loop:i,...a}){const o={...a};return t&&(o.offset=t),a.duration&&(o.duration=Wa(a.duration)),a.repeatDelay&&(o.repeatDelay=Wa(a.repeatDelay)),e&&(o.ease=(e=>Array.isArray(e)&&"number"!=typeof e[0])(e)?e.map($a):$a(e)),"tween"===a.type&&(o.type="keyframes"),(n||i||r)&&(ci(!io,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),io=!0,n?o.repeatType="reverse":i?o.repeatType="loop":r&&(o.repeatType="mirror"),o.repeat=i||n||r||a.repeat),"spring"!==a.type&&(o.type="keyframes"),o}function oo(e,t,n){return Array.isArray(t.to)&&void 0===e.duration&&(e.duration=.8),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=[...e.to],e.to[0]=e.from)}(t),function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,...u}){return!!Object.keys(u).length}(e)||(e={...e,...Qa(n,t.to)}),{...t,...ao(e)}}function so(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function lo(e){return"number"==typeof e?0:no("",e)}function uo(e,t){return e[t]||e.default||e}function co(e,t,n,r={}){return t.start(i=>{let a;const o=function(e,t,n,r,i){const a=uo(r,e)||{};let o=void 0!==a.from?a.from:t.get();const s=qa(e,n);"none"===o&&s&&"string"==typeof n?o=no(e,n):so(o)&&"string"==typeof n?o=lo(n):!Array.isArray(n)&&so(n)&&"string"==typeof o&&(n=lo(o));const l=qa(e,o);return ci(l===s,`You are trying to animate ${e} from "${o}" to "${n}". ${o} is not an animatable value - to enable this animation set ${o} to a value animatable to ${n} via the \`style\` property.`),l&&s&&!1!==a.type?function(){const r={from:o,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:e=>t.set(e)};return"inertia"===a.type||"decay"===a.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:a=750,bounceStiffness:o=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:d,onStop:f}){let p;function m(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function v(e){null==p||p.stop(),p=ba(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var n;null==h||h(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:d,onStop:f}))}function y(e){v(Object.assign({type:"spring",stiffness:o,damping:s,restDelta:l},e))}if(m(e))y({from:e,velocity:t,to:g(e)});else{let r=i*t+e;void 0!==u&&(r=u(r));const o=g(r),s=o===n?-1:1;let c,h;const d=e=>{c=h,h=e,t=xa(e-c,va().delta),(1===s&&e>o||-1===s&&e<o)&&y({from:e,to:o,velocity:t})};v({type:"decay",from:e,velocity:t,timeConstant:a,power:i,restDelta:l,modifyTarget:u,onUpdate:m(r)?d:void 0})}return{stop:()=>null==p?void 0:p.stop()}}({...r,...a}):ba({...oo(a,r,e),onUpdate:e=>{r.onUpdate(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{r.onComplete(),a.onComplete&&a.onComplete()}})}:function(){const e=Ir(n);return t.set(e),i(),a.onUpdate&&a.onUpdate(e),a.onComplete&&a.onComplete(),{stop:()=>{}}}}(e,t,n,r,i),s=function(e,t){var n,r;return null!==(r=null!==(n=(uo(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=()=>a=o();let u;return s?u=ro(l,Wa(s)):l(),()=>{u&&u(),a&&a.stop()}})}const ho=e=>/^\-?\d*\.?\d+$/.test(e),fo=e=>/^0[^.\s]+$/.test(e);function po(e,t){-1===e.indexOf(t)&&e.push(t)}function mo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class go{constructor(){this.subscriptions=[]}add(e){return po(this.subscriptions,e),()=>mo(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class vo{constructor(e){this.version="7.6.15",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new go,this.velocityUpdateSubscribers=new go,this.renderSubscribers=new go,this.canTrackVelocity=!1,this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=va();this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,ha.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),t&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>ha.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=!isNaN(parseFloat(this.current))}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?xa(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.stopAnimation=e(t)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function yo(e){return new vo(e)}const _o=e=>t=>t.test(e),bo=[Nn,jn,Fn,Bn,Hn,Vn,{test:e=>"auto"===e,parse:e=>e}],xo=e=>bo.find(_o(e)),wo=[...bo,Jn,rr],So=e=>wo.find(_o(e));function Mo(e,t,n){const r=e.getProps();return kr(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}function Eo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yo(n))}function To(e,t){if(t)return(t[e]||t.default||t).from}function Co(e){return Boolean(Mn(e)&&e.add)}function Po(e,t,n={}){var r;const i=Mo(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>ko(e,i,n):()=>Promise.resolve(),s=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?(r=0)=>{const{delayChildren:i=0,staggerChildren:o,staggerDirection:s}=a;return function(e,t,n=0,r=0,i=1,a){const o=[],s=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(Ao).forEach((e,r)=>{o.push(Po(e,t,{...a,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}(e,t,i+r,o,s,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[o,s]:[s,o];return e().then(t)}return Promise.all([o(),s(n.delay)])}function ko(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:s,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(o=r);const c=[],h=i&&(null===(a=e.animationState)||void 0===a?void 0:a.getState()[i]);for(const t in l){const r=e.getValue(t),i=l[t];if(!r||void 0===i||h&&Io(h,t))continue;let a={delay:n,...o};e.shouldReduceMotion&&wn.has(t)&&(a={...a,type:!1,delay:0});let s=co(t,r,i,a);Co(u)&&(u.add(t),s=s.then(()=>u.remove(t))),c.push(s)}return Promise.all(c).then(()=>{s&&function(e,t){const n=Mo(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const t in a)Eo(e,t,Ir(a[t]))}(e,s)})}function Ao(e,t){return e.sortNodePosition(t)}function Io({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}const Ro=[zr.Animate,zr.InView,zr.Focus,zr.Hover,zr.Tap,zr.Drag,zr.Exit],Lo=[...Ro].reverse(),Oo=Ro.length;function No(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}const Do={animation:Fa(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=function(e){let t=function(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>Po(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=Po(e,t,n);else{const i="function"==typeof t?Mo(e,t,n.custom):t;r=ko(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}(e,t,n)))}(e);const n={[zr.Animate]:No(!0),[zr.InView]:No(),[zr.Hover]:No(),[zr.Tap]:No(),[zr.Drag]:No(),[zr.Focus]:No(),[zr.Exit]:No()};let r=!0;const i=(t,n)=>{const r=Mo(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function a(a,o){var s;const l=e.getProps(),u=e.getVariantContext(!0)||{},c=[],h=new Set;let d={},f=Infinity;for(let t=0;t<Oo;t++){const g=Lo[t],v=n[g],y=null!==(s=l[g])&&void 0!==s?s:u[g],_=en(y),b=g===o?v.isActive:null;!1===b&&(f=t);let x=y===u[g]&&y!==l[g]&&_;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),v.protectedKeys={...d},!v.isActive&&null===b||!y&&!v.prevProp||tn(y)||"boolean"==typeof y)continue;const w=(p=v.prevProp,"string"==typeof(m=y)?m!==p:!!Array.isArray(m)&&!Ha(m,p));let S=w||g===o&&v.isActive&&!x&&_||t>f&&_;const M=Array.isArray(y)?y:[y];let E=M.reduce(i,{});!1===b&&(E={});const{prevResolvedValues:T={}}=v,C={...T,...E},P=e=>{S=!0,h.delete(e),v.needsAnimating[e]=!0};for(const e in C){const t=E[e],n=T[e];d.hasOwnProperty(e)||(t!==n?Ar(t)&&Ar(n)?!Ha(t,n)||w?P(e):v.protectedKeys[e]=!0:void 0!==t?P(e):h.add(e):void 0!==t&&h.has(e)?P(e):v.protectedKeys[e]=!0)}v.prevProp=y,v.prevResolvedValues=E,v.isActive&&(d={...d,...E}),r&&e.blockInitialAnimation&&(S=!1),S&&!x&&c.push(...M.map(e=>({animation:e,options:{type:g,...a}})))}var p,m;if(h.size){const t={};h.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let g=Boolean(c.length);return r&&!1===l.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=a(i,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}(e)),tn(t)&&s(()=>t.subscribe(e),[t])}),exit:Fa(e=>{const{custom:t,visualElement:n}=e,[r,i]=Va(),o=a(Yt);s(()=>{n.isPresent=r;const e=n.animationState&&n.animationState.setActive(zr.Exit,!r,{custom:o&&o.custom||t});e&&!r&&e.then(i)},[r])})};class zo{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Fo(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){if(Pi(e)&&Pi(t))return Ma(e,t);if(wa(e)&&wa(t)){const n=Ma(e.x,t.x),r=Ma(e.y,t.y),i=Sa(e)&&Sa(t)?Ma(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=va();this.history.push({...r,timestamp:i});const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Uo(t,this.transformPagePoint),Fr(e)&&0===e.buttons?this.handlePointerUp(e,t):ha.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r}=this.handlers,i=Fo(Uo(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},jr(e)&&e.touches.length>1)return;this.handlers=t,this.transformPagePoint=n;const r=Uo(Gr(e),this.transformPagePoint),{point:i}=r,{timestamp:a}=va();this.history=[{...i,timestamp:a}];const{onSessionStart:o}=t;o&&o(e,Fo(r,this.history)),this.removeListeners=Ai(Zr(window,"pointermove",this.handlePointerMove),Zr(window,"pointerup",this.handlePointerUp),Zr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da.update(this.updatePoint)}}function Uo(e,t){return t?{point:t(e.point)}:e}function Bo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fo({point:e},t){return{point:e,delta:Bo(e,Vo(t)),offset:Bo(e,jo(t)),velocity:Ho(t,.1)}}function jo(e){return e[0]}function Vo(e){return e[e.length-1]}function Ho(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Vo(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Wa(t)));)n--;if(!r)return{x:0,y:0};const a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return Infinity===o.x&&(o.x=0),Infinity===o.y&&(o.y=0),o}function Wo(e){return e.max-e.min}function Go(e,t=0,n=.01){return Math.abs(e-t)<=n}function $o(e,t,n,r=.5){e.origin=r,e.originPoint=bi(t.min,t.max,e.origin),e.scale=Wo(n)/Wo(t),(Go(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=bi(n.min,n.max,e.origin)-e.originPoint,(Go(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qo(e,t,n,r){$o(e.x,t.x,n.x,null==r?void 0:r.originX),$o(e.y,t.y,n.y,null==r?void 0:r.originY)}function Xo(e,t,n){e.min=n.min+t.min,e.max=e.min+Wo(t)}function Yo(e,t,n){e.min=t.min-n.min,e.max=e.min+Wo(t)}function Zo(e,t,n){Yo(e.x,t.x,n.x),Yo(e.y,t.y,n.y)}function Ko(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Jo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Qo=.35;function es(e,t,n){return{min:ts(e,t),max:ts(e,n)}}function ts(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function ns(e){return[e("x"),e("y")]}function rs({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function is(e){return void 0===e||1===e}function as({scale:e,scaleX:t,scaleY:n}){return!is(e)||!is(t)||!is(n)}function os(e){return as(e)||ss(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ss(e){return ls(e.x)||ls(e.y)}function ls(e){return e&&"0%"!==e}function us(e,t,n){return n+t*(e-n)}function cs(e,t,n,r,i){return void 0!==i&&(e=us(e,i,r)),us(e,n,r)+t}function hs(e,t=0,n=1,r,i){e.min=cs(e.min,t,n,r,i),e.max=cs(e.max,t,n,r,i)}function ds(e,{x:t,y:n}){hs(e.x,t.translate,t.scale,t.originPoint),hs(e.y,n.translate,n.scale,n.originPoint)}function fs(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ps(e,t){e.min=e.min+t,e.max=e.max+t}function ms(e,t,[n,r,i]){const a=bi(e.min,e.max,void 0!==t[i]?t[i]:.5);hs(e,t[n],t[r],a,t.scale)}const gs=["x","scaleX","originX"],vs=["y","scaleY","originY"];function ys(e,t){ms(e.x,t,gs),ms(e.y,t,vs)}function _s(e,t){return rs(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const bs=new WeakMap;class xs{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){!1!==this.visualElement.isPresent&&(this.panSession=new zo(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Gr(e,"page").point)},onStart:(e,t)=>{var n;const{drag:r,dragPropagation:i,onDragStart:a}=this.getProps();(!r||i||(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ti(r),this.openGlobalLock))&&(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ns(e=>{var t,n;let r=this.getAxisMotionValue(e).get()||0;if(Fn.test(r)){const i=null===(n=null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.layoutBox[e];i&&(r=Wo(i)*(parseFloat(r)/100))}this.originPoint[e]=r}),null==a||a(e,t),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(zr.Drag,!0))},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(o),void(null!==this.currentDirection&&(null==i||i(this.currentDirection)));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),null==a||a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();null==i||i(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(zr.Drag,!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!ws(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?bi(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?bi(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&Qt(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:Ko(e.x,n,i),y:Ko(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Qo){return!1===e?e=0:!0===e&&(e=Qo),{x:es(e,"left","right"),y:es(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ns(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Qt(e))return!1;const n=e.current;hi(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=_s(e,n),{scroll:i}=t;return i&&(ps(r.x,i.offset.x),ps(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Jo(e.x,t.x),y:Jo(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=rs(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=ns(o=>{var l;if(!ws(o,t,this.currentDirection))return;let u=null!==(l=null==s?void 0:s[o])&&void 0!==l?l:{};a&&(u={min:0,max:0});const c={type:"inertia",velocity:n?e[o]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(o,c)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){return co(e,this.getAxisMotionValue(e),0,t)}stopAnimation(){ns(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var t,n;const r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}snapToCursor(e){ns(t=>{const{drag:n}=this.getProps();if(!ws(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];i.set(e[t]-bi(n,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qt(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ns(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();i[e]=function(e,t){let n=.5;const r=Wo(e),i=Wo(t);return i>r?n=_i(t.min,t.max-r,e.min):r>i&&(n=_i(e.min,e.max-i,t.min)),di(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",null===(e=r.root)||void 0===e||e.updateScroll(),r.updateLayout(),this.resolveConstraints(),ns(e=>{if(!ws(e,t,null))return;const n=this.getAxisMotionValue(e),{min:r,max:a}=this.constraints[e];n.set(bi(r,a,i[e]))})}addListeners(){var e;if(!this.visualElement.current)return;bs.set(this.visualElement,this);const t=Zr(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{const{dragConstraints:e}=this.getProps();Qt(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(null===(e=r.root)||void 0===e||e.updateScroll(),r.updateLayout()),n();const a=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(ns(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),null==o||o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Qo,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function ws(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Ss={pan:Fa(function({onPan:e,onPanStart:t,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const o=e||t||n||r,u=l(null),{transformPagePoint:c}=a(qt),h={onSessionStart:r,onStart:t,onMove:e,onEnd:(e,t)=>{u.current=null,n&&n(e,t)}};s(()=>{null!==u.current&&u.current.updateHandlers(h)}),Kr(i,"pointerdown",o&&function(e){u.current=new zo(e,h,{transformPagePoint:c})}),ai(()=>u.current&&u.current.end())}),drag:Fa(function(e){const{dragControls:t,visualElement:n}=e,r=un(()=>new xs(n));s(()=>t&&t.subscribe(r),[r,t]),s(()=>r.addListeners(),[r])})};function Ms(e){return"string"==typeof e&&e.startsWith("var(--")}const Es=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ts(e,t,n=1){hi(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[r,i]=function(e){const t=Es.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);return a?a.trim():Ms(i)?Ts(i,t,n+1):i}const Cs=new Set(["width","height","top","left","right","bottom","x","y"]),Ps=e=>Cs.has(e),ks=(e,t)=>{e.set(t,!1),e.set(t)},As=e=>e===Nn||e===jn;var Is;!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Is||(Is={}));const Rs=(e,t)=>parseFloat(e.split(", ")[t]),Ls=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Rs(i[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?Rs(t[1],e):0}},Os=new Set(["x","y","z"]),Ns=xn.filter(e=>!Os.has(e)),Ds={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ls(4,13),y:Ls(5,14)},zs={current:null},Us={current:!1},Bs=Object.keys(ln),Fs=Bs.length,js=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Vs=["initial",...Ro],Hs=Vs.length;class Ws extends class{constructor({parent:e,props:t,reducedMotionConfig:n,visualState:r},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ha.render(this.render,!1,!0);const{latestValues:a,renderState:o}=r;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=o,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.isControllingVariants=rn(t),this.isVariantNode=an(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:s,...l}=this.scrapeMotionValuesFromProps(t);for(const e in l){const t=l[e];void 0!==a[e]&&Mn(t)&&(t.set(a[e],!1),Co(s)&&s.add(e))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(t=this.parent)||void 0===t?void 0:t.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Us.current||function(){if(Us.current=!0,Zt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>zs.current=e.matches;e.addListener(t),t()}else zs.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||zs.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,n;null===(e=this.projection)||void 0===e||e.unmount(),da.update(this.notifyUpdate),da.render(this.render),this.valueSubscriptions.forEach(e=>e()),null===(t=this.removeFromVariantTree)||void 0===t||t.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this);for(const e in this.events)this.events[e].clear();this.current=null}bindToMotionValue(e,t){const n=wn.has(e),r=t.onChange(t=>{this.latestValues[e]=t,this.props.onUpdate&&ha.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r,i,a){const o=[];"production"!==Aa&&n&&t&&hi(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(let t=0;t<Fs;t++){const n=Bs[t],{isEnabled:r,Component:i}=ln[n];r(e)&&i&&o.push(d(i,{key:n,...e,visualElement:this}))}if(!this.projection&&i){this.projection=new i(r,this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:n,drag:o,dragConstraints:s,layoutScroll:l}=e;this.projection.setOptions({layoutId:t,layout:n,alwaysMeasureLayout:Boolean(o)||s&&Qt(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:a,layoutScroll:l})}return o}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let t=0;t<js.length;t++){const n=js[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],o=n[i];if(Mn(a))e.addValue(i,a),Co(r)&&r.add(i),"development"===process.env.NODE_ENV&&Ra("7.6.15"===a.version,`Attempting to mix Framer Motion versions ${a.version} with 7.6.15 may not work as expected.`);else if(Mn(o))e.addValue(i,yo(a)),Co(r)&&r.remove(i);else if(o!==a)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(i);e.addValue(i,yo(void 0!==t?t:a))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var t;return null===(t=this.props.variants)||void 0===t?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:null===(e=this.parent)||void 0===e?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,n;if(e)return null===(t=this.parent)||void 0===t?void 0:t.getVariantContext();if(!this.isControllingVariants){const e=(null===(n=this.parent)||void 0===n?void 0:n.getVariantContext())||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const r={};for(let e=0;e<Hs;e++){const t=Vs[e],n=this.props[t];(en(n)||!1===n)&&(r[t]=n)}return r}addVariantChild(e){var t;const n=this.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),()=>n.variantChildren.delete(e)}addValue(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}removeValue(e){var t;this.values.delete(e),null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=yo(t),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=kr(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||Mn(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new go),this.events[e].add(t)}notify(e,...t){var n;null===(n=this.events[e])||void 0===n||n.notify(...t)}}{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let a=function(e,t,n){var r;const i={};for(const a in e){const e=To(a,t);i[a]=void 0!==e?e:null===(r=n.getValue(a))||void 0===r?void 0:r.get()}return i}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),a&&(a=r(a))),i){!function(e,t,n){var r,i;const a=Object.keys(t).filter(t=>!e.hasValue(t)),o=a.length;if(o)for(let s=0;s<o;s++){const o=a[s],l=t[o];let u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),null!=u&&("string"==typeof u&&(ho(u)||fo(u))?u=parseFloat(u):!So(u)&&rr.test(l)&&(u=no(o,l)),e.addValue(o,yo(u)),void 0===n[o]&&(n[o]=u),null!==u&&e.setBaseTarget(o,u))}}(this,n,a);const e=((e,t,n,r)=>{const i=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(e=>{const t=e.get();if(!Ms(t))return;const n=Ts(t,r);n&&e.set(n)});for(const e in t){const i=t[e];if(!Ms(i))continue;const a=Ts(i,r);a&&(t[e]=a,n&&void 0===n[e]&&(n[e]=i))}return{target:t,transitionEnd:n}}(e,t,r);return function(e,t,n,r){return(e=>Object.keys(e).some(Ps))(t)?((e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(Ps);let a=[],o=!1;const s=[];if(i.forEach(i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=xo(u);const h=t[i];let d;if(Ar(h)){const e=h.length,t=null===h[0]?1:0;u=h[t],c=xo(u);for(let n=t;n<e;n++)d?hi(xo(h[n])===d,"All keyframes must be of the same type"):(d=xo(h[n]),hi(d===c||As(c)&&As(d),"Keyframes must be of the same dimension as the current value"))}else d=xo(h);if(c!==d)if(As(c)&&As(d)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof h?t[i]=parseFloat(h):Array.isArray(h)&&d===jn&&(t[i]=h.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==d?void 0:d.transform)&&(0===u||0===h)?0===u?l.set(d.transform(u)):t[i]=c.transform(h):(o||(a=function(e){const t=[];return Ns.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],ks(l,h))}),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=getComputedStyle(t.current),{display:a}=i,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=Ds[e](r,i)}),t.render();const s=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);ks(r,o[n]),e[n]=Ds[n](s,i)}),e})(t,e,s);return a.length&&a.forEach(([t,n])=>{e.getValue(t).set(n)}),e.render(),Zt&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}})(e,t,n,r):{target:t,transitionEnd:r}}(e,t=i.target,n,r=i.transitionEnd)})(this,n,a,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class Gs extends Ws{readValueFromInstance(e,t){if(wn.has(t)){const e=to(t);return e&&e.default||0}{const n=window.getComputedStyle(e),r=(Cn(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _s(e,t)}build(e,t,n,r){cr(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e){return Cr(e)}renderInstance(e,t,n,r){Mr(e,t,n,r)}}class $s extends Ws{getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var n;return wn.has(t)?(null===(n=to(t))||void 0===n?void 0:n.default)||0:(t=Er.has(t)?t:Sr(t),e.getAttribute(t))}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e){return Pr(e)}build(e,t,n,r){br(e,t,n,r.transformTemplate)}renderInstance(e,t,n,r){Tr(e,t,0,r)}}const qs=(e,t)=>_n(e)?new $s(t,{enableHardwareAcceleration:!1}):new Gs(t,{enableHardwareAcceleration:!0});function Xs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ys={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!jn.test(e))return e;e=parseFloat(e)}return`${Xs(e,t.target.x)}% ${Xs(e,t.target.y)}%`}},Zs={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),a=[];i&&(e=e.replace(Es,e=>(a.push(e),"_$css")));const o=rr.parse(e);if(o.length>5)return r;const s=rr.createTransformer(e),l="number"!=typeof o[0]?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;o[0+l]/=u,o[1+l]/=c;const h=bi(u,c,.5);"number"==typeof o[2+l]&&(o[2+l]/=h),"number"==typeof o[3+l]&&(o[3+l]/=h);let d=s(o);if(i){let e=0;d=d.replace("_$css",()=>{const t=a[e];return e++,t})}return d}};class Ks extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Object.assign(bn,Js),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cn.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,a=n.projection;return a?(a.isPresent=i,r||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ha.postRender(()=>{var e;(null===(e=a.getStack())||void 0===e?void 0:e.members.length)||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),(null==t?void 0:t.group)&&t.group.remove(r),(null==n?void 0:n.deregister)&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;null==e||e()}render(){return null}}const Js={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:Zs},Qs={measureLayout:function(e){const[n,r]=Va(),i=a(dn);return t.createElement(Ks,{...e,layoutGroup:i,switchLayoutGroup:a(pn),isPresent:n,safeToRemove:r})}};function el(e,t,n={}){const r=Mn(e)?e:yo(e);return co("",r,t,n),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const tl=["TopLeft","TopRight","BottomLeft","BottomRight"],nl=tl.length,rl=e=>"string"==typeof e?parseFloat(e):e,il=e=>"number"==typeof e||jn.test(e);function al(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}const ol=ll(0,.5,$i),sl=ll(.5,.95,ji);function ll(e,t,n){return r=>r<e?0:r>t?1:n(_i(e,t,r))}function ul(e,t){e.min=t.min,e.max=t.max}function cl(e,t){ul(e.x,t.x),ul(e.y,t.y)}function hl(e,t,n,r,i){return e=us(e-=t,1/n,r),void 0!==i&&(e=us(e,1/i,r)),e}function dl(e,t,[n,r,i],a,o){!function(e,t=0,n=1,r=.5,i,a=e,o=e){if(Fn.test(t)&&(t=parseFloat(t),t=bi(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let s=bi(a.min,a.max,r);e===a&&(s-=t),e.min=hl(e.min,t,n,s,i),e.max=hl(e.max,t,n,s,i)}(e,t[n],t[r],t[i],t.scale,a,o)}const fl=["x","scaleX","originX"],pl=["y","scaleY","originY"];function ml(e,t,n,r){dl(e.x,t,fl,null==n?void 0:n.x,null==r?void 0:r.x),dl(e.y,t,pl,null==n?void 0:n.y,null==r?void 0:r.y)}function gl(e){return 0===e.translate&&1===e.scale}function vl(e){return gl(e.x)&&gl(e.y)}function yl(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function _l(e){return Wo(e.x)/Wo(e.y)}class bl{constructor(){this.members=[]}add(e){po(this.members,e),e.scheduleRender()}remove(e){if(mo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){var n;const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xl(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return 1===o&&1===s||(r+=`scale(${o}, ${s})`),r||"none"}const wl=(e,t)=>e.depth-t.depth;class Sl{constructor(){this.children=[],this.isDirty=!1}add(e){po(this.children,e),this.isDirty=!0}remove(e){mo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wl),this.isDirty=!1,this.children.forEach(e)}}const Ml=["","X","Y","Z"];let El=0;function Tl({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e,n={},r=(null==t?void 0:t())){this.id=El++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(kl),this.nodes.forEach(Ol),this.nodes.forEach(Nl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=e,this.latestValues=n,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sl)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new go),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);null==n||n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}registerPotentialNode(e,t){this.potentialNodes.set(e,t)}mount(t,n=!1){var r;if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;const{layoutId:i,layout:a,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(a||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=ro(r,250),cn.hasAnimatedSinceResize&&(cn.hasAnimatedSinceResize=!1,this.nodes.forEach(Ll))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||a)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{var i,a,s,l,u;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const c=null!==(a=null!==(i=this.options.transition)&&void 0!==i?i:o.getDefaultTransition())&&void 0!==a?a:jl,{onLayoutAnimationStart:h,onLayoutAnimationComplete:d}=o.getProps(),f=!this.targetLayout||!yl(this.targetLayout,r)||n,p=!t&&n;if((null===(s=this.resumeFrom)||void 0===s?void 0:s.instance)||p||t&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,p);const t={...uo(c,"layout"),onPlay:h,onComplete:d};o.shouldReduceMotion&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||0!==this.animationProgress||Ll(this),this.isLead()&&(null===(u=(l=this.options).onExitComplete)||void 0===u||u.call(l));this.targetLayout=r})}unmount(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,da.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}startUpdate(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Dl),this.animationId++)}willUpdate(e=!0){var t,n,r;if(this.root.isUpdateBlocked())return void(null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t));if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot")}const{layoutId:i,layout:a}=this.options;if(void 0===i&&!a)return;const o=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==o?void 0:o(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Il);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Vl),this.potentialNodes.clear()),this.nodes.forEach(Rl),this.nodes.forEach(Cl),this.nodes.forEach(Pl),this.clearAllSnapshots(),fa.update(),fa.preRender(),fa.render())}clearAllSnapshots(){this.nodes.forEach(Al),this.sharedNodes.forEach(zl)}scheduleUpdateProjection(){ha.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ha.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){var e;if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(e=this.options.visualElement)||void 0===e||e.notify("LayoutMeasure",this.layout.layoutBox,null==t?void 0:t.layoutBox)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var e;if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!vl(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,a=null==r?void 0:r(this.latestValues,""),o=a!==this.prevTransformTemplateValue;t&&(n||os(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Hl((r=n).x),Hl(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(ps(t.x,n.offset.x),ps(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};cl(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:a}=r;if(r!==this.root&&i&&a.layoutScroll){if(i.isRoot){cl(t,e);const{scroll:n}=this.root;n&&(ps(t.x,-n.offset.x),ps(t.y,-n.offset.y))}ps(t.x,i.offset.x),ps(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};cl(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ys(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),os(r.latestValues)&&ys(n,r.latestValues)}return os(this.latestValues)&&ys(n,this.latestValues),n}removeTransform(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};cl(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];if(!r.instance)continue;if(!os(r.latestValues))continue;as(r.latestValues)&&r.updateSnapshot();const i={x:{min:0,max:0},y:{min:0,max:0}};cl(i,r.measurePageBox()),ml(n,r.latestValues,null===(t=r.snapshot)||void 0===t?void 0:t.layoutBox,i)}return os(this.latestValues)&&ml(n,this.latestValues),n}setTargetDelta(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var e;const t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:n,layoutId:r}=this.options;if(this.layout&&(n||r)){if(!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var i,a,o;if((this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(Xo((i=this.target).x,(a=this.relativeTarget).x,(o=this.relativeParent.target).x),Xo(i.y,a.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):cl(this.target,this.layout.layoutBox),ds(this.target,this.targetDelta)):cl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Zo(this.relativeTargetOrigin,this.target,e.target),cl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!as(this.parent.latestValues)&&!ss(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var e;const{isProjectionDirty:t,isTransformDirty:n}=this;this.isProjectionDirty=this.isTransformDirty=!1;const r=this.getLead(),i=Boolean(this.resumingFrom)||this!==r;let a=!0;if(t&&(a=!1),i&&n&&(a=!1),a)return;const{layout:o,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!s)return;cl(this.layoutCorrected,this.layout.layoutBox),function(e,t,n,r=!1){var i,a;const o=n.length;if(!o)return;let s,l;t.x=t.y=1;for(let u=0;u<o;u++)s=n[u],l=s.projectionDelta,"contents"!==(null===(a=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ys(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,ds(e,l)),r&&os(s.latestValues)&&ys(e,s.latestValues));t.x=fs(t.x),t.y=fs(t.y)}(this.layoutCorrected,this.treeScale,this.path,i);const{target:l}=r;if(!l)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.treeScale.x,c=this.treeScale.y,h=this.projectionTransform;qo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=xl(this.projectionDelta,this.treeScale),this.projectionTransform===h&&this.treeScale.x===u&&this.treeScale.y===c||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t,n,r;null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){var n,r;const i=this.snapshot,a=(null==i?void 0:i.latestValues)||{},o={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;const l={x:{min:0,max:0},y:{min:0,max:0}},u=(null==i?void 0:i.source)!==(null===(n=this.layout)||void 0===n?void 0:n.source),c=((null===(r=this.getStack())||void 0===r?void 0:r.members.length)||0)<=1,h=Boolean(u&&!c&&!0===this.options.crossfade&&!this.path.some(Fl));this.animationProgress=0,this.mixTargetDelta=t=>{var n;const r=t/1e3;Ul(s.x,e.x,r),Ul(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(null===(n=this.relativeParent)||void 0===n?void 0:n.layout)&&(Zo(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Bl(e.x,t.x,n.x,r),Bl(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,l,r)),u&&(this.animationValues=o,function(e,t,n,r,i,a){var o,s,l,u;i?(e.opacity=bi(0,null!==(o=n.opacity)&&void 0!==o?o:1,ol(r)),e.opacityExit=bi(null!==(s=t.opacity)&&void 0!==s?s:1,0,sl(r))):a&&(e.opacity=bi(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=n.opacity)&&void 0!==u?u:1,r));for(let i=0;i<nl;i++){const a=`border${tl[i]}Radius`;let o=al(t,a),s=al(n,a);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||il(o)===il(s)?(e[a]=Math.max(bi(rl(o),rl(s),r),0),(Fn.test(s)||Fn.test(o))&&(e[a]+="%")):e[a]=s)}(t.rotate||n.rotate)&&(e.rotate=bi(t.rotate||0,n.rotate||0,r))}(o,a,this.latestValues,r,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(da.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ha.update(()=>{cn.hasAnimatedSinceResize=!0,this.currentAnimation=el(0,1e3,{...e,onUpdate:t=>{var n;this.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:()=>{var t;null===(t=e.onComplete)||void 0===t||t.call(e),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Wl(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Wo(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Wo(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}cl(t,n),ys(t,i),qo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new bl),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let t=0;t<Ml.length;t++){const i="rotate"+Ml[t];n[i]&&(r[i]=n[i],e.setStaticValue(i,0))}null==e||e.render();for(const t in r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e={}){var t,n,r;const i={};if(!this.instance||this.isSVG)return i;if(!this.isVisible)return{visibility:"hidden"};i.visibility="";const a=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,i.opacity="",i.pointerEvents=Rr(e.pointerEvents)||"",i.transform=a?a(this.latestValues,""):"none",i;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Rr(e.pointerEvents)||""),this.hasProjected&&!os(this.latestValues)&&(t.transform=a?a({},""):"none",this.hasProjected=!1),t}const s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),i.transform=xl(this.projectionDeltaWithTransform,this.treeScale,s),a&&(i.transform=a(s,i.transform));const{x:l,y:u}=this.projectionDelta;i.transformOrigin=`${100*l.origin}% ${100*u.origin}% 0`,i.opacity=o.animationValues?o===this?null!==(r=null!==(n=s.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const e in bn){if(void 0===s[e])continue;const{correct:t,applyTo:n}=bn[e],r=t(s[e],o);if(n){const e=n.length;for(let t=0;t<e;t++)i[n[t]]=r}else i[e]=r}return this.options.layoutId&&(i.pointerEvents=o===this?Rr(e.pointerEvents)||"":"none"),i}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Il),this.root.sharedNodes.clear()}}}function Cl(e){e.updateLayout()}function Pl(e){var t,n,r;const i=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:r}=e.options,a=i.source!==e.layout.source;"size"===r?ns(e=>{const n=a?i.measuredBox[e]:i.layoutBox[e],r=Wo(n);n.min=t[e].min,n.max=n.min+r}):Wl(r,i.layoutBox,t)&&ns(e=>{const n=a?i.measuredBox[e]:i.layoutBox[e],r=Wo(t[e]);n.max=n.min+r});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};qo(o,t,i.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?qo(s,e.applyTransform(n,!0),i.measuredBox):qo(s,t,i.layoutBox);const l=!vl(o);let u=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:e,layout:r}=n;if(e&&r){const n={x:{min:0,max:0},y:{min:0,max:0}};Zo(n,i.layoutBox,e.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Zo(a,t,r.layoutBox),yl(n,a)||(u=!0)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:i,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function kl(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function Al(e){e.clearSnapshot()}function Il(e){e.clearMeasurements()}function Rl(e){const{visualElement:t}=e.options;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ll(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Ol(e){e.resolveTargetDelta()}function Nl(e){e.calcProjection()}function Dl(e){e.resetRotation()}function zl(e){e.removeLeadSnapshot()}function Ul(e,t,n){e.translate=bi(t.translate,0,n),e.scale=bi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Bl(e,t,n,r){e.min=bi(t.min,n.min,r),e.max=bi(t.max,n.max,r)}function Fl(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const jl={duration:.45,ease:[.4,0,.1,1]};function Vl(e,t){let n=e.root;for(let t=e.path.length-1;t>=0;t--)if(Boolean(e.path[t].instance)){n=e.path[t];break}const r=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);r&&e.mount(r,!0)}function Hl(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Wl(e,t,n){return"position"===e||"preserve-aspect"===e&&!Go(_l(t),_l(n),.2)}const Gl=Tl({attachResizeListener:(e,t)=>Ur(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$l={current:void 0},ql=Tl({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!$l.current){const e=new Gl(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),$l.current=e}return $l.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Xl={...Do,...ja,...Ss,...Qs},Yl=/*@__PURE__*/vn((e,t)=>function(e,{forwardMotionProps:t=!1},n,r,i){return{..._n(e)?Nr:Dr,preloadedFeatures:n,useRender:wr(t),createVisualElement:r,projectionNodeConstructor:i,Component:e}}(e,t,Xl,qs,ql));function Zl(){const e=l(!1);return Kt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Kl(){const e=Zl(),[t,n]=p(0),r=u(()=>{e.current&&n(t+1)},[t]);return[u(()=>ha.postRender(r),[r]),t]}class Jl extends e.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ql({children:t,isPresent:n}){const r=f(),i=l(null),a=l({width:0,height:0,top:0,left:0});return m(()=>{const{width:e,height:t,top:o,left:s}=a.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            top: ${o}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}},[n]),e.createElement(Jl,{isPresent:n,childRef:i,sizeRef:a},e.cloneElement(t,{ref:i}))}const eu=({children:t,initial:n,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:s,mode:l})=>{const u=un(tu),c=f(),h=i(()=>({id:c,initial:n,isPresent:r,custom:o,onExitComplete:e=>{u.set(e,!0);for(const e of u.values())if(!e)return;a&&a()},register:e=>(u.set(e,!1),()=>u.delete(e))}),s?void 0:[r]);return i(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),e.useEffect(()=>{!r&&!u.size&&a&&a()},[r]),"popLayout"===l&&(t=e.createElement(Ql,{isPresent:r},t)),e.createElement(Yt.Provider,{value:h},t)};function tu(){return new Map}const nu=e=>e.key||"",ru=({children:t,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:u="sync"})=>{o&&(u="wait",Ra(!1,"Replace exitBeforeEnter with mode='wait'"));let[c]=Kl();const h=a(dn).forceRender;h&&(c=h);const d=Zl(),f=function(e){const t=[];return v.forEach(e,e=>{y(e)&&t.push(e)}),t}(t);let p=f;const m=new Set,_=l(p),b=l(new Map).current,x=l(!0);if(Kt(()=>{x.current=!1,function(e,t){e.forEach(e=>{const n=nu(e);t.set(n,e)})}(f,b),_.current=p}),ai(()=>{x.current=!0,b.clear(),m.clear()}),x.current)return e.createElement(e.Fragment,null,p.map(t=>e.createElement(eu,{key:nu(t),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:s,mode:u},t)));p=[...p];const w=_.current.map(nu),S=f.map(nu),M=w.length;for(let e=0;e<M;e++){const t=w[e];-1===S.indexOf(t)&&m.add(t)}return"wait"===u&&m.size&&(p=[]),m.forEach(t=>{if(-1!==S.indexOf(t))return;const r=b.get(t);if(!r)return;const a=w.indexOf(t);p.splice(a,0,e.createElement(eu,{key:nu(r),isPresent:!1,onExitComplete:()=>{b.delete(t),m.delete(t);const e=_.current.findIndex(e=>e.key===t);if(_.current.splice(e,1),!m.size){if(_.current=f,!1===d.current)return;c(),i&&i()}},custom:n,presenceAffectsLayout:s,mode:u},r))}),p=p.map(t=>m.has(t.key)?t:e.createElement(eu,{key:nu(t),isPresent:!0,presenceAffectsLayout:s,mode:u},t)),"production"!==Aa&&"wait"===u&&p.length>1&&console.warn('You\'re attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.'),e.createElement(e.Fragment,null,m.size?p:p.map(e=>g(e)))},iu=n(null),au=e=>!e.isLayoutDirty&&e.willUpdate(!1);function ou(){const e=new Set,t=new WeakMap,n=()=>e.forEach(au);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{var i;e.delete(r),null===(i=t.get(r))||void 0===i||i(),t.delete(r),n()},dirty:n}}const su=e=>!0===e,lu=({children:t,id:n,inheritId:r,inherit:o=!0})=>{void 0!==r&&(o=r);const s=a(dn),u=a(iu),[c,h]=Kl(),d=l(null),f=s.id||u;null===d.current&&((e=>su(!0===e)||"id"===e)(o)&&f&&(n=n?f+"-"+n:f),d.current={id:n,group:su(o)&&s.group||ou()});const p=i(()=>({...d.current,forceRender:c}),[h]);return e.createElement(dn.Provider,{value:p},t)};function uu(e){const t=un(()=>yo(e)),{isStatic:n}=a(qt);if(n){const[,n]=p(e);s(()=>t.onChange(n),[])}return t}const cu=e=>(e=>"object"==typeof e&&e.mix)(e)?e.mix:void 0;function hu(e,t){const n=uu(t()),r=()=>n.set(t());return r(),function(e,t,n){Kt(()=>{const n=e.map(e=>e.onChange(t));return()=>{n.forEach(e=>e()),da.update(r)}})}(e,()=>ha.update(r,!1,!0)),n}function du(e,t,n,r){const i="function"==typeof t?t:function(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[2+n],a=e[3+n],o=zi(e[1+n],i,{mixer:cu(i[0]),...a});return t?o(r):o}(t,n,r);return Array.isArray(e)?fu(e,i):fu([e],([e])=>i(e))}function fu(e,t){const n=un(()=>[]);return hu(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}function pu(e,...t){const n=e.length;return hu(t,function(){let r="";for(let i=0;i<n;i++)r+=e[i],t[i]&&(r+=t[i].get());return r})}const mu=e=>"number"==typeof e,gu=(e,t,n)=>-n*e+n*t+e,vu=e=>e,yu=(e,t,n)=>t-e==0?1:(n-e)/(t-e);function _u(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yu(0,t,r);e.push(gu(n,1,i))}}function bu(e){const t=[0];return _u(t,e-1),t}const xu=e=>"function"==typeof e,wu=e=>"string"==typeof e,Su=new WeakMap;let Mu;function Eu({target:e,contentRect:t,borderBoxSize:n}){var r;null===(r=Su.get(e))||void 0===r||r.forEach(r=>{r({target:e,contentSize:t,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,n)}})})}function Tu(e){e.forEach(Eu)}const Cu=new Set;let Pu;const ku={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Au(e,t,n,r){const i=n[t],{length:a,position:o}=ku[t],s=i.current,l=n.time;i.current=e["scroll"+o],i.scrollLength=e["scroll"+a]-e["client"+a],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=yu(0,i.scrollLength,i.current);const u=r-l;var c;i.velocity=u>50?0:(c=u)?1e3/c*(i.current-s):0}const Iu={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Ru={start:0,center:.5,end:1};function Lu(e,t,n=0){let r=0;if(void 0!==Ru[e]&&(e=Ru[e]),wu(e)){const t=parseFloat(e);e.endsWith("px")?r=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?r=t/100*document.documentElement.clientWidth:e.endsWith("vh")?r=t/100*document.documentElement.clientHeight:e=t}return mu(e)&&(r=t*e),n+r}const Ou=[0,0];function Nu(e,t,n,r){let i=Array.isArray(e)?e:Ou,a=0,o=0;return mu(e)?i=[e,e]:wu(e)&&(i=(e=e.trim()).includes(" ")?e.split(" "):[e,Ru[e]?e:"0"]),a=Lu(i[0],n,r),o=Lu(i[1],t),a-o}const Du={x:0,y:0},zu=new WeakMap,Uu=new WeakMap,Bu=new WeakMap,Fu=e=>e===document.documentElement?window:e,ju=()=>({scrollX:yo(0),scrollY:yo(0),scrollXProgress:yo(0),scrollYProgress:yo(0)});function Vu({container:e,target:t,layoutEffect:n=!0,...r}={}){const i=un(ju);return(n?Kt:s)(()=>function(e,t={}){var{container:n=document.documentElement}=t,r=oi(t,["container"]);let i=Bu.get(n);i||(i=new Set,Bu.set(n,i));const a=function(e,t,n,r={}){const i=r.axis||"y";return{measure:()=>function(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!=e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,r.target,n),update:t=>{!function(e,t,n){Au(e,"x",t,n),Au(e,"y",t,n),t.time=n}(e,n,t),(r.offset||r.target)&&function(e,t,n){let{offset:r=Iu.All}=n;const{target:i=e,axis:a="y"}=n,o="y"===a?"height":"width",s=i!==e?function(e,t){let n={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r instanceof SVGGraphicsElement&&"getBBox"in r){const{top:e,left:t}=r.getBBox();for(n.x+=t,n.y+=e;r&&"svg"!==r.tagName;)r=r.parentNode}return n}(i,e):Du,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:i.clientWidth,height:i.clientHeight},u={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let c=!t[a].interpolate;const h=r.length;for(let e=0;e<h;e++){const n=Nu(r[e],u[o],l[o],s[a]);c||n===t[a].interpolatorOffsets[e]||(c=!0),t[a].offset[e]=n}c&&(t[a].interpolate=function(e,t=bu(e.length),n=vu){const r=e.length,i=r-t.length;return i>0&&_u(t,i),i=>{let a=0;for(;a<r-2&&!(i<t[a+1]);a++);let o=((e,t,n)=>Math.min(Math.max(n,0),1))(0,0,yu(t[a],t[a+1],i));return o=function(e,t){return(e=>Array.isArray(e)&&!mu(e[0]))(e)?e[((e,t,n)=>{const r=t-0;return((n-0)%r+r)%r+0})(0,e.length,t)]:e}(n,a)(o),gu(e[a],e[a+1],o)}}(bu(h),t[a].offset),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}(e,n,r)},notify:xu(t)?()=>t(n):(a=t,o=n[i],a.pause(),a.forEachNative((e,{easing:t})=>{var n,r;if(e.updateDuration)t||(e.easing=vu),e.updateDuration(1);else{const i={duration:1e3};t||(i.easing="linear"),null===(r=null===(n=e.effect)||void 0===n?void 0:n.updateTiming)||void 0===r||r.call(n,i)}}),()=>{a.currentTime=o.progress})};var a,o}(n,e,{time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}},r);if(i.add(a),!zu.has(n)){const e=()=>{const e=performance.now();for(const e of i)e.measure();for(const t of i)t.update(e);for(const e of i)e.notify()};zu.set(n,e);const t=Fu(n);window.addEventListener("resize",e,{passive:!0}),n!==document.documentElement&&Uu.set(n,function(e,t){return xu(e)?(Cu.add(n=e),Pu||(Pu=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Cu.forEach(e=>e(t))},window.addEventListener("resize",Pu)),()=>{Cu.delete(n),!Cu.size&&Pu&&(Pu=void 0)}):function(e,t){Mu||"undefined"!=typeof ResizeObserver&&(Mu=new ResizeObserver(Tu));const n=function(e,t){return"string"==typeof e?e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}(e);return n.forEach(e=>{let n=Su.get(e);n||(n=new Set,Su.set(e,n)),n.add(t),null==Mu||Mu.observe(e)}),()=>{n.forEach(e=>{const n=Su.get(e);null==n||n.delete(t),(null==n?void 0:n.size)||null==Mu||Mu.unobserve(e)})}}(e,t);var n}(n,e)),t.addEventListener("scroll",e,{passive:!0})}const o=zu.get(n),s=requestAnimationFrame(o);return()=>{var t;"function"!=typeof e&&e.stop(),cancelAnimationFrame(s);const r=Bu.get(n);if(!r)return;if(r.delete(a),r.size)return;const i=zu.get(n);zu.delete(n),i&&(Fu(n).removeEventListener("scroll",i),null===(t=Uu.get(n))||void 0===t||t(),window.removeEventListener("resize",i))}}(({x:e,y:t})=>{i.scrollX.set(e.current),i.scrollXProgress.set(e.progress),i.scrollY.set(t.current),i.scrollYProgress.set(t.progress)},{...r,container:(null==e?void 0:e.current)||void 0,target:(null==t?void 0:t.current)||void 0}),[]),i}var Hu={__proto__:null,default:{}},Wu=Y(function(e,t){!function(e){var t=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],r="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},a="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:a,"5module":a+" export import",6:a+" const class extends export import super"},s=/^in(stanceof)?$/,l=new RegExp("["+r+"]"),u=new RegExp("["+r+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function c(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function h(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):!1!==t&&c(e,n)))}function d(e,r){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==r&&(c(e,n)||c(e,t)))))}var f=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function p(e,t){return new f(e,{beforeExpr:!0,binop:t})}var m={beforeExpr:!0},g={startsExpr:!0},v={};function y(e,t){return void 0===t&&(t={}),t.keyword=e,v[e]=new f(e,t)}var _={num:new f("num",g),regexp:new f("regexp",g),string:new f("string",g),name:new f("name",g),privateId:new f("privateId",g),eof:new f("eof"),bracketL:new f("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new f("]"),braceL:new f("{",{beforeExpr:!0,startsExpr:!0}),braceR:new f("}"),parenL:new f("(",{beforeExpr:!0,startsExpr:!0}),parenR:new f(")"),comma:new f(",",m),semi:new f(";",m),colon:new f(":",m),dot:new f("."),question:new f("?",m),questionDot:new f("?."),arrow:new f("=>",m),template:new f("template"),invalidTemplate:new f("invalidTemplate"),ellipsis:new f("...",m),backQuote:new f("`",g),dollarBraceL:new f("${",{beforeExpr:!0,startsExpr:!0}),eq:new f("=",{beforeExpr:!0,isAssign:!0}),assign:new f("_=",{beforeExpr:!0,isAssign:!0}),incDec:new f("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new f("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:p("||",1),logicalAND:p("&&",2),bitwiseOR:p("|",3),bitwiseXOR:p("^",4),bitwiseAND:p("&",5),equality:p("==/!=/===/!==",6),relational:p("</>/<=/>=",7),bitShift:p("<</>>/>>>",8),plusMin:new f("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:p("%",10),star:p("*",10),slash:p("/",10),starstar:new f("**",{beforeExpr:!0}),coalesce:p("??",1),_break:y("break"),_case:y("case",m),_catch:y("catch"),_continue:y("continue"),_debugger:y("debugger"),_default:y("default",m),_do:y("do",{isLoop:!0,beforeExpr:!0}),_else:y("else",m),_finally:y("finally"),_for:y("for",{isLoop:!0}),_function:y("function",g),_if:y("if"),_return:y("return",m),_switch:y("switch"),_throw:y("throw",m),_try:y("try"),_var:y("var"),_const:y("const"),_while:y("while",{isLoop:!0}),_with:y("with"),_new:y("new",{beforeExpr:!0,startsExpr:!0}),_this:y("this",g),_super:y("super",g),_class:y("class",g),_extends:y("extends",m),_export:y("export"),_import:y("import",g),_null:y("null",g),_true:y("true",g),_false:y("false",g),_in:y("in",{beforeExpr:!0,binop:7}),_instanceof:y("instanceof",{beforeExpr:!0,binop:7}),_typeof:y("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:y("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:y("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},b=/\r\n?|\n|\u2028|\u2029/,x=new RegExp(b.source,"g");function w(e){return 10===e||13===e||8232===e||8233===e}function S(e,t,n){void 0===n&&(n=e.length);for(var r=t;r<n;r++){var i=e.charCodeAt(r);if(w(i))return r<n-1&&13===i&&10===e.charCodeAt(r+1)?r+2:r+1}return-1}var M=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,E=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,T=Object.prototype,C=T.hasOwnProperty,P=T.toString,k=Object.hasOwn||function(e,t){return C.call(e,t)},A=Array.isArray||function(e){return"[object Array]"===P.call(e)};function I(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}function R(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}var L=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,O=function(e,t){this.line=e,this.column=t};O.prototype.offset=function(e){return new O(this.line,this.column+e)};var N=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function D(e,t){for(var n=1,r=0;;){var i=S(e,r,t);if(i<0)return new O(n,t-r);++n,r=i}}var z={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},U=!1;function B(e,t){return 2|(e?4:0)|(t?8:0)}var F=function(e,t,n){this.options=e=function(e){var t={};for(var n in z)t[n]=e&&k(e,n)?e[n]:z[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!U&&"object"==typeof console&&console.warn&&(U=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),null==e.allowHashBang&&(t.allowHashBang=t.ecmaVersion>=14),A(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return A(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,a,o,s){var l={type:n?"Block":"Line",value:r,start:i,end:a};e.locations&&(l.loc=new N(this,o,s)),e.ranges&&(l.range=[i,a]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=I(o[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=i[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=I(r);var a=(r?r+" ":"")+i.strict;this.reservedWordsStrict=I(a),this.reservedWordsStrictBind=I(a+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(b).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},j={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};F.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},j.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},j.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},j.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},j.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||256&t.flags)return!1;if(2&t.flags)return(4&t.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},j.allowSuper.get=function(){var e=this.currentThisScope();return(64&e.flags)>0||e.inClassFieldInit||this.options.allowSuperOutsideMethod},j.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},j.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},j.allowNewDotTarget.get=function(){var e=this.currentThisScope();return(258&e.flags)>0||e.inClassFieldInit},j.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},F.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},F.parse=function(e,t){return new this(t,e).parse()},F.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},F.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(F.prototype,j);var V=F.prototype,H=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;V.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){E.lastIndex=e,e+=E.exec(this.input)[0].length;var t=H.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){E.lastIndex=e+t[0].length;var n=E.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||b.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}E.lastIndex=e+=t[0].length,e+=E.exec(this.input)[0].length,";"===this.input[e]&&e++}},V.eat=function(e){return this.type===e&&(this.next(),!0)},V.isContextual=function(e){return this.type===_.name&&this.value===e&&!this.containsEsc},V.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},V.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},V.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||b.test(this.input.slice(this.lastTokEnd,this.start))},V.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},V.semicolon=function(){this.eat(_.semi)||this.insertSemicolon()||this.unexpected()},V.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},V.expect=function(e){this.eat(e)||this.unexpected()},V.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var W=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};V.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},V.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},V.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},V.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var G=F.prototype;G.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==_.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var a=i[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var $={kind:"loop"},q={kind:"switch"};G.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;E.lastIndex=this.pos;var t=E.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r||92===r||r>55295&&r<56320)return!0;if(e)return!1;if(123===r)return!0;if(h(r,!0)){for(var i=n+1;d(r=this.input.charCodeAt(i),!0);)++i;if(92===r||r>55295&&r<56320)return!0;var a=this.input.slice(n,i);if(!s.test(a))return!0}return!1},G.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;E.lastIndex=this.pos;var e,t=E.exec(this.input),n=this.pos+t[0].length;return!(b.test(this.input.slice(this.pos,n))||"function"!==this.input.slice(n,n+8)||n+8!==this.input.length&&(d(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},G.parseStatement=function(e,t,n){var r,i=this.type,a=this.startNode();switch(this.isLet(e)&&(i=_._var,r="let"),i){case _._break:case _._continue:return this.parseBreakContinueStatement(a,i.keyword);case _._debugger:return this.parseDebuggerStatement(a);case _._do:return this.parseDoStatement(a);case _._for:return this.parseForStatement(a);case _._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(a,!1,!e);case _._class:return e&&this.unexpected(),this.parseClass(a,!0);case _._if:return this.parseIfStatement(a);case _._return:return this.parseReturnStatement(a);case _._switch:return this.parseSwitchStatement(a);case _._throw:return this.parseThrowStatement(a);case _._try:return this.parseTryStatement(a);case _._const:case _._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(a,r);case _._while:return this.parseWhileStatement(a);case _._with:return this.parseWithStatement(a);case _.braceL:return this.parseBlock(!0,a);case _.semi:return this.parseEmptyStatement(a);case _._export:case _._import:if(this.options.ecmaVersion>10&&i===_._import){E.lastIndex=this.pos;var o=E.exec(this.input),s=this.input.charCodeAt(this.pos+o[0].length);if(40===s||46===s)return this.parseExpressionStatement(a,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===_._import?this.parseImport(a):this.parseExport(a,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(a,!0,!e);var l=this.value,u=this.parseExpression();return i===_.name&&"Identifier"===u.type&&this.eat(_.colon)?this.parseLabeledStatement(a,l,u,e):this.parseExpressionStatement(a,u)}},G.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(_.semi)||this.insertSemicolon()?e.label=null:this.type!==_.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},G.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},G.parseDoStatement=function(e){return this.next(),this.labels.push($),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},G.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===_._var||this.type===_._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===_._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var a=this.isContextual("let"),o=!1,s=new W,l=this.parseExpression(!(t>-1)||"await",s);return this.type===_._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===_._in?t>-1&&this.unexpected(t):e.await=t>-1),a&&o&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,s),this.checkLValPattern(l),this.parseForIn(e,l)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,l))},G.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Y|(n?0:Z),!1,t)},G.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},G.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},G.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(_.braceL),this.labels.push(q),this.enterScope(0);for(var n=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var r=this.type===_._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(_.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},G.parseThrowStatement=function(e){return this.next(),b.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var X=[];G.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===_._catch){var t=this.startNode();if(this.next(),this.eat(_.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLValPattern(t.param,n?4:2),this.expect(_.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(_._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},G.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},G.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push($),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},G.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},G.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},G.parseLabeledStatement=function(e,t,n,r){for(var i=0,a=this.labels;i<a.length;i+=1)a[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var o=this.type.isLoop?"loop":this.type===_._switch?"switch":null,s=this.labels.length-1;s>=0;s--){var l=this.labels[s];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},G.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},G.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(_.braceL),e&&this.enterScope(0);this.type!==_.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},G.parseFor=function(e,t){return e.init=t,this.expect(_.semi),e.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),e.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},G.parseForIn=function(e,t){var n=this.type===_._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},G.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(_.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===_._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(_.comma))break}return e},G.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Y=1,Z=2;function K(e,t){var n=t.key.name,r=e[n],i="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(i=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===i||"iset"===r&&"iget"===i||"sget"===r&&"sset"===i||"sset"===r&&"sget"===i?(e[n]="true",!1):!!r||(e[n]=i,!1)}function J(e,t){var n=e.key;return!e.computed&&("Identifier"===n.type&&n.name===t||"Literal"===n.type&&n.value===t)}G.parseFunction=function(e,t,n,r,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===_.star&&t&Z&&this.unexpected(),e.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Y&&(e.id=4&t&&this.type!==_.name?null:this.parseIdent(),!e.id||t&Z||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var a=this.yieldPos,o=this.awaitPos,s=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(B(e.async,e.generator)),t&Y||(e.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,i),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=s,this.finishNode(e,t&Y?"FunctionDeclaration":"FunctionExpression")},G.parseFunctionParams=function(e){this.expect(_.parenL),e.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},G.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),a=!1;for(i.body=[],this.expect(_.braceL);this.type!==_.braceR;){var o=this.parseClassElement(null!==e.superClass);o&&(i.body.push(o),"MethodDefinition"===o.type&&"constructor"===o.kind?(a&&this.raise(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&"PrivateIdentifier"===o.key.type&&K(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},G.parseClassElement=function(e){if(this.eat(_.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,a=!1,o="method",s=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===_.star?s=!0:r="static"}if(n.static=s,!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==_.star||this.canInsertSemicolon()?r="async":a=!0),!r&&(t>=9||!a)&&this.eat(_.star)&&(i=!0),!r&&!a&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===_.parenL||"method"!==o||i||a){var u=!n.static&&J(n,"constructor"),c=u&&e;u&&"method"!==o&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":o,this.parseClassMethod(n,i,a,c)}else this.parseClassField(n);return n},G.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword},G.parseClassElementName=function(e){this.type===_.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},G.parseClassMethod=function(e,t,n,r){var i=e.key;"constructor"===e.kind?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&J(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var a=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==a.params.length&&this.raiseRecoverable(a.start,"getter should have no params"),"set"===e.kind&&1!==a.params.length&&this.raiseRecoverable(a.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===a.params[0].type&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},G.parseClassField=function(e){if(J(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&J(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},G.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==_.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},G.parseClassId=function(e,t){this.type===_.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},G.parseClassSuper=function(e){e.superClass=this.eat(_._extends)?this.parseExprSubscripts(!1):null},G.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},G.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,n=e.used,r=this.privateNameStack.length,i=0===r?null:this.privateNameStack[r-1],a=0;a<n.length;++a){var o=n[a];k(t,o.name)||(i?i.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}},G.parseExport=function(e,t){if(this.next(),this.eat(_.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(_._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===_._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,4|Y,!1,n)}else if(this.type===_._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var a=0,o=e.specifiers;a<o.length;a+=1){var s=o[a];this.checkUnreserved(s.local),this.checkLocalExport(s.local),"Literal"===s.local.type&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},G.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),k(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},G.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1)this.checkPatternExport(e,i[r]);else if("ArrayPattern"===n)for(var a=0,o=t.elements;a<o.length;a+=1){var s=o[a];s&&this.checkPatternExport(e,s)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},G.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1)this.checkPatternExport(e,r[n].id)},G.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},G.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(n)n=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var r=this.startNode();r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(e,r.exported,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},G.parseImport=function(e){return this.next(),this.type===_.string?(e.specifiers=X,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},G.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===_.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLValSimple(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(_.comma))return e}if(this.type===_.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLValSimple(r.local,2),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(_.braceL);!this.eat(_.braceR);){if(t)t=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var i=this.startNode();i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},G.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var e=this.parseLiteral(this.value);return L.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},G.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},G.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Q=F.prototype;Q.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var a=i[r];this.toAssignable(a,t),"RestElement"!==a.type||"ArrayPattern"!==a.argument.type&&"ObjectPattern"!==a.argument.type||this.raise(a.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Q.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var a=e[n-1];6===this.options.ecmaVersion&&t&&a&&"RestElement"===a.type&&"Identifier"!==a.argument.type&&this.unexpected(a.argument.start)}return e},Q.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Q.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==_.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Q.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()},Q.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(_.comma),t&&this.type===_.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===_.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var o=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(o),r.push(o)}return r},Q.parseBindingListItem=function(e){return e},Q.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},Q.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(k(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},Q.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1)this.checkLValInnerPattern(i[r],t,n);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var s=o[a];s&&this.checkLValInnerPattern(s,t,n)}break;default:this.checkLValSimple(e,t,n)}},Q.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ee=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},te={b_stat:new ee("{",!1),b_expr:new ee("{",!0),b_tmpl:new ee("${",!1),p_stat:new ee("(",!1),p_expr:new ee("(",!0),q_tmpl:new ee("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ee("function",!1),f_expr:new ee("function",!0),f_expr_gen:new ee("function",!0,!1,null,!0),f_gen:new ee("function",!1,!1,null,!0)},ne=F.prototype;ne.initialContext=function(){return[te.b_stat]},ne.curContext=function(){return this.context[this.context.length-1]},ne.braceIsBlock=function(e){var t=this.curContext();return t===te.f_expr||t===te.f_stat||(e!==_.colon||t!==te.b_stat&&t!==te.b_expr?e===_._return||e===_.name&&this.exprAllowed?b.test(this.input.slice(this.lastTokEnd,this.start)):e===_._else||e===_.semi||e===_.eof||e===_.parenR||e===_.arrow||(e===_.braceL?t===te.b_stat:e!==_._var&&e!==_._const&&e!==_.name&&!this.exprAllowed):!t.isExpr)},ne.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},ne.updateContext=function(e){var t,n=this.type;n.keyword&&e===_.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},ne.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},_.parenR.updateContext=_.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===te.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},_.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?te.b_stat:te.b_expr),this.exprAllowed=!0},_.dollarBraceL.updateContext=function(){this.context.push(te.b_tmpl),this.exprAllowed=!0},_.parenL.updateContext=function(e){this.context.push(e===_._if||e===_._for||e===_._with||e===_._while?te.p_stat:te.p_expr),this.exprAllowed=!0},_.incDec.updateContext=function(){},_._function.updateContext=_._class.updateContext=function(e){!e.beforeExpr||e===_._else||e===_.semi&&this.curContext()!==te.p_stat||e===_._return&&b.test(this.input.slice(this.lastTokEnd,this.start))||(e===_.colon||e===_.braceL)&&this.curContext()===te.b_stat?this.context.push(te.f_stat):this.context.push(te.f_expr),this.exprAllowed=!1},_.backQuote.updateContext=function(){this.curContext()===te.q_tmpl?this.context.pop():this.context.push(te.q_tmpl),this.exprAllowed=!1},_.star.updateContext=function(e){if(e===_._function){var t=this.context.length-1;this.context[t]=this.context[t]===te.f_expr?te.f_expr_gen:te.f_gen}this.exprAllowed=!0},_.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==_.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var re=F.prototype;function ie(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&ie(e.expression)}re.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var a=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===a&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var o=t[r="$"+r];o?("init"===a?this.strict&&o.init||o.get||o.set:o.init||o[a])&&this.raiseRecoverable(i.start,"Redefinition of property"):o=t[r]={init:!1,get:!1,set:!1},o[a]=!0}}},re.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===_.comma){var a=this.startNodeAt(n,r);for(a.expressions=[i];this.eat(_.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return i},re.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,a=-1,o=-1;t?(i=t.parenthesizedAssign,a=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new W,r=!0);var s=this.start,l=this.startLoc;this.type!==_.parenL&&this.type!==_.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,s,l)),this.type.isAssign){var c=this.startNodeAt(s,l);return c.operator=this.value,this.type===_.eq&&(u=this.toAssignable(u,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),a>-1&&(t.trailingComma=a),u},re.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(_.question)){var a=this.startNodeAt(n,r);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(_.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return i},re.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},re.parseExprOp=function(e,t,n,r,i){var a=this.type.binop;if(null!=a&&(!i||this.type!==_._in)&&a>r){var o=this.type===_.logicalOR||this.type===_.logicalAND,s=this.type===_.coalesce;s&&(a=_.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,a,i),d=this.buildBinary(t,n,e,h,l,o||s);return(o&&this.type===_.coalesce||s&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,r,i)}return e},re.buildBinary=function(e,t,n,r,i,a){"PrivateIdentifier"===r.type&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=n,o.operator=i,o.right=r,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")},re.parseMaybeUnary=function(e,t,n,r){var i,a=this.start,o=this.startLoc;if(this.isContextual("await")&&this.canAwait)i=this.parseAwait(r),t=!0;else if(this.type.prefix){var s=this.startNode(),l=this.type===_.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):"delete"===s.operator&&ie(s.argument)?this.raiseRecoverable(s.start,"Private fields can not be deleted"):t=!0,i=this.finishNode(s,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==_.privateId){if(i=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(a,o);u.operator=this.value,u.prefix=!1,u.argument=i,this.checkLValSimple(i),this.next(),i=this.finishNode(u,"UpdateExpression")}}else(r||0===this.privateNameStack.length)&&this.unexpected(),i=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();return n||!this.eat(_.starstar)?i:t?void this.unexpected(this.lastTokStart):this.buildBinary(a,o,i,this.parseMaybeUnary(null,!1,!1,r),"**",!1)},re.parseExprSubscripts=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return i;var a=this.parseSubscripts(i,n,r,!1,t);return e&&"MemberExpression"===a.type&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1),e.trailingComma>=a.start&&(e.trailingComma=-1)),a},re.parseSubscripts=function(e,t,n,r,i){for(var a=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,o=!1;;){var s=this.parseSubscript(e,t,n,r,a,o,i);if(s.optional&&(o=!0),s===e||"ArrowFunctionExpression"===s.type){if(o){var l=this.startNodeAt(t,n);l.expression=s,s=this.finishNode(l,"ChainExpression")}return s}e=s}},re.parseSubscript=function(e,t,n,r,i,a,o){var s=this.options.ecmaVersion>=11,l=s&&this.eat(_.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(_.bracketL);if(u||l&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(_.bracketR)):c.property=this.type===_.privateId&&"Super"!==e.type?this.parsePrivateIdent():this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,s&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(_.parenL)){var h=new W,d=this.yieldPos,f=this.awaitPos,p=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!l&&!this.canInsertSemicolon()&&this.eat(_.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=f,this.awaitIdentPos=p,this.parseArrowExpression(this.startNodeAt(t,n),m,!0,o);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,this.awaitIdentPos=p||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,s&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===_.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(t,n);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e},re.parseExprAtom=function(e,t){this.type===_.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==_.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(n,"Super");case _._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case _.name:var i=this.start,a=this.startLoc,o=this.containsEsc,s=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(te.f_expr),this.parseFunction(this.startNodeAt(i,a),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(i,a),[s],!1,t);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===_.name&&!o&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return s=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(_.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,a),[s],!0,t)}return s;case _.regexp:var l=this.value;return(n=this.parseLiteral(l.value)).regex={pattern:l.pattern,flags:l.flags},n;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return(n=this.startNode()).value=this.type===_._null?null:this.type===_._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case _.parenL:var u=this.start,c=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=u),e.parenthesizedBind<0&&(e.parenthesizedBind=u)),c;case _.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(_.bracketR,!0,!0,e),this.finishNode(n,"ArrayExpression");case _.braceL:return this.overrideContext(te.b_expr),this.parseObj(!1,e);case _._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},re.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case _.parenL:return this.parseDynamicImport(e);case _.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},re.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(_.parenR)){var t=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},re.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},re.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},re.parseParenExpression=function(){this.expect(_.parenL);var e=this.parseExpression();return this.expect(_.parenR),e},re.parseParenAndDistinguishExpression=function(e,t){var n,r=this.start,i=this.startLoc,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,s=this.start,l=this.startLoc,u=[],c=!0,h=!1,d=new W,f=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;){if(c?c=!1:this.expect(_.comma),a&&this.afterTrailingComma(_.parenR,!0)){h=!0;break}if(this.type===_.ellipsis){o=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(_.parenR),e&&!this.canInsertSemicolon()&&this.eat(_.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=p,this.parseParenArrowList(r,i,u,t);u.length&&!h||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(d,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=p||this.awaitPos,u.length>1?((n=this.startNodeAt(s,l)).expressions=u,this.finishNodeAt(n,"SequenceExpression",m,g)):n=u[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var v=this.startNodeAt(r,i);return v.expression=n,this.finishNode(v,"ParenthesizedExpression")}return n},re.parseParenItem=function(e){return e},re.parseParenArrowList=function(e,t,n,r){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,r)};var ae=[];re.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(_.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,a=this.type===_._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0,!1),a&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),e.arguments=this.eat(_.parenL)?this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):ae,this.finishNode(e,"NewExpression")},re.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===_.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===_.backQuote,this.finishNode(n,"TemplateElement")},re.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(_.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},re.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!b.test(this.input.slice(this.lastTokEnd,this.start))},re.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(_.braceR);){if(r)r=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,i,t),n.properties.push(a)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},re.parseProperty=function(e,t){var n,r,i,a,o=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,t),this.type===_.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||t)&&(i=this.start,a=this.startLoc),e||(n=this.eat(_.star)));var s=this.containsEsc;return this.parsePropertyName(o),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(o)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(o,t)):r=!1,this.parsePropertyValue(o,e,n,r,i,a,t,s),this.finishNode(o,"Property")},re.parsePropertyValue=function(e,t,n,r,i,a,o,s){(n||r)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r)):t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===_.comma||this.type===_.braceR||this.type===_.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,a,this.copyNode(e.key)):this.type===_.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,a,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected():((n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1),e.value.params.length!==("get"===e.kind?0:1)?this.raiseRecoverable(e.value.start,"get"===e.kind?"getter should have no params":"setter should have exactly one param"):"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params"))},re.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(_.bracketR),e.key;e.computed=!1}return e.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},re.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},re.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|B(t,r.generator)|(n?128:0)),this.expect(_.parenL),r.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")},re.parseArrowExpression=function(e,t,n,r){var i=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(16|B(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")},re.parseFunctionBody=function(e,t,n,r){var i=this.strict,a=!1;if(t&&this.type!==_.braceL)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!o||(a=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var s=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!i&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=s}this.exitScope()},re.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},re.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1)this.checkLValInnerPattern(i[r],1,t?null:n)},re.parseExprList=function(e,t,n,r){for(var i=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(_.comma),t&&this.afterTrailingComma(e))break;var o=void 0;n&&this.type===_.comma?o=null:this.type===_.ellipsis?(o=this.parseSpread(r),r&&this.type===_.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),i.push(o)}return i},re.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===r&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==r&&"await"!==r||this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},re.parseIdent=function(e,t){var n=this.startNode();return this.type===_.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},re.parsePrivateIdent=function(){var e=this.startNode();return this.type===_.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e},re.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(_.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},re.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var oe=F.prototype;oe.raise=function(e,t){var n=D(this.input,e),r=new SyntaxError(t+=" ("+n.line+":"+n.column+")");throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},oe.raiseRecoverable=oe.raise,oe.curPosition=function(){if(this.options.locations)return new O(this.curLine,this.pos-this.lineStart)};var se=F.prototype,le=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};se.enterScope=function(e){this.scopeStack.push(new le(e))},se.exitScope=function(){this.scopeStack.pop()},se.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},se.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var a=this.currentScope();r=this.treatFunctionsAsVar?a.lexical.indexOf(e)>-1:a.lexical.indexOf(e)>-1||a.var.indexOf(e)>-1,a.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var s=this.scopeStack[o];if(s.lexical.indexOf(e)>-1&&!(32&s.flags&&s.lexical[0]===e)||!this.treatFunctionsAsVarInScope(s)&&s.functions.indexOf(e)>-1){r=!0;break}if(s.var.push(e),this.inModule&&1&s.flags&&delete this.undefinedExports[e],259&s.flags)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},se.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},se.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},se.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags)return t}},se.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(259&t.flags&&!(16&t.flags))return t}};var ue=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new N(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},ce=F.prototype;function he(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}ce.startNode=function(){return new ue(this,this.start,this.startLoc)},ce.startNodeAt=function(e,t){return new ue(this,e,t)},ce.finishNode=function(e,t){return he.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},ce.finishNodeAt=function(e,t,n,r){return he.call(this,e,t,n,r)},ce.copyNode=function(e){var t=new ue(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var de="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",fe=de+" Extended_Pictographic",pe=fe+" EBase EComp EMod EPres ExtPict",me={9:de,10:fe,11:fe,12:pe,13:pe},ge="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ve="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ye=ve+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",_e=ye+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",be=_e+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",xe={9:ve,10:ye,11:_e,12:be,13:be+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith"},we={};function Se(e){var t=we[e]={binary:I(me[e]+" "+ge),nonBinary:{General_Category:I(ge),Script:I(xe[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Me=0,Ee=[9,10,11,12,13];Me<Ee.length;Me+=1)Se(Ee[Me]);var Te=F.prototype,Ce=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=we[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function Pe(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function ke(e){return e>=65&&e<=90||e>=97&&e<=122}function Ae(e){return ke(e)||95===e}function Ie(e){return Ae(e)||Re(e)}function Re(e){return e>=48&&e<=57}function Le(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Oe(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Ne(e){return e>=48&&e<=55}Ce.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},Ce.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},Ce.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var a=n.charCodeAt(e+1);return a>=56320&&a<=57343?(i<<10)+a-56613888:i},Ce.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,a=n.charCodeAt(e);return!t&&!this.switchU||a<=55295||a>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},Ce.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},Ce.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},Ce.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},Ce.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},Te.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},Te.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},Te.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1)-1===e.groupNames.indexOf(n[t])&&e.raise("Invalid named capture referenced")},Te.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},Te.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},Te.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},Te.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},Te.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},Te.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},Te.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},Te.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},Te.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},Te.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},Te.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},Te.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},Te.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},Te.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Pe(t)&&(e.lastIntValue=t,e.advance(),!0)},Te.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!Pe(n);)e.advance();return e.pos!==t},Te.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},Te.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},Te.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},Te.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=R(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=R(e.lastIntValue);return!0}return!1},Te.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return h(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Te.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return d(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},Te.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},Te.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},Te.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},Te.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},Te.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},Te.regexp_eatZero=function(e){return 48===e.current()&&!Re(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},Te.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},Te.regexp_eatControlLetter=function(e){var t=e.current();return!!ke(t)&&(e.lastIntValue=t%32,e.advance(),!0)},Te.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n,r=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(i&&a>=55296&&a<=56319){var o=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=1024*(a-55296)+(s-56320)+65536,!0}e.pos=o,e.lastIntValue=a}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(n=e.lastIntValue)>=0&&n<=1114111)return!0;i&&e.raise("Invalid unicode escape"),e.pos=r}return!1},Te.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},Te.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},Te.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},Te.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e))return this.regexp_validateUnicodePropertyNameAndValue(e,n,e.lastStringValue),!0}return e.pos=t,!!this.regexp_eatLoneUnicodePropertyNameOrValue(e)&&(this.regexp_validateUnicodePropertyNameOrValue(e,e.lastStringValue),!0)},Te.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){k(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},Te.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},Te.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Ae(t=e.current());)e.lastStringValue+=R(t),e.advance();return""!==e.lastStringValue},Te.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Ie(t=e.current());)e.lastStringValue+=R(t),e.advance();return""!==e.lastStringValue},Te.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},Te.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},Te.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},Te.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Ne(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},Te.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},Te.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Re(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},Te.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},Te.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Re(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},Te.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Le(n=e.current());)e.lastIntValue=16*e.lastIntValue+Oe(n),e.advance();return e.pos!==t},Te.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;e.lastIntValue=t<=3&&this.regexp_eatOctalDigit(e)?64*t+8*n+e.lastIntValue:8*t+n}else e.lastIntValue=t;return!0}return!1},Te.regexp_eatOctalDigit=function(e){var t=e.current();return Ne(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},Te.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Le(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Oe(i),e.advance()}return!0};var De=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new N(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},ze=F.prototype;function Ue(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}ze.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new De(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ze.getToken=function(){return this.next(),new De(this)},"undefined"!=typeof Symbol&&(ze[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===_.eof,value:t}}}}),ze.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(_.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},ze.readToken=function(e){return h(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},ze.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},ze.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var r=void 0,i=t;(r=S(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},ze.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!w(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},ze.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&M.test(String.fromCharCode(e))))break e;++this.pos}}},ze.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},ze.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))},ze.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(_.assign,2):this.finishOp(_.slash,1)},ze.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?_.star:_.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=_.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(_.assign,n+1):this.finishOp(r,n)},ze.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(_.assign,3):this.finishOp(124===e?_.logicalOR:_.logicalAND,2):61===t?this.finishOp(_.assign,2):this.finishOp(124===e?_.bitwiseOR:_.bitwiseAND,1)},ze.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)},ze.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!b.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(_.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)},ze.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(_.assign,n+1):this.finishOp(_.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(_.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},ze.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(_.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(61===e?_.eq:_.prefix,1)},ze.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(_.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(_.assign,3):this.finishOp(_.coalesce,2)}return this.finishOp(_.question,1)},ze.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,h(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+R(e)+"'")},ze.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+R(e)+"'")},ze.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},ze.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(b.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var s=this.regexpState||(this.regexpState=new Ce(this));s.reset(n,i,o),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(i,o)}catch(e){}return this.finishToken(_.regexp,{pattern:i,flags:o,value:l})},ze.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),a=this.pos,o=0,s=0,l=0,u=null==t?Infinity:t;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(r&&95===c)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===s&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),s=c;else{if((h=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:Infinity)>=e)break;s=c,o=o*e+h}}return r&&95===s&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||null!=t&&this.pos-a!==t?null:o},ze.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=Ue(this.input.slice(t,this.pos)),++this.pos):h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,n)},ze.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=Ue(this.input.slice(t,this.pos));return++this.pos,h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a,o=(a=this.input.slice(t,this.pos),n?parseInt(a,8):parseFloat(a.replace(/_/g,"")));return this.finishToken(_.num,o)},ze.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},ze.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):8232===r||8233===r?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(w(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(_.string,t)};var Be={};ze.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Be)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},ze.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Be;this.raise(e,t)},ze.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==_.template&&this.type!==_.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(_.template,e)):36===n?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(w(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},ze.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},ze.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return R(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e)return this.invalidStringToken(this.pos-1,"Invalid escape sequence in template string"),null;default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return w(t)?"":String.fromCharCode(t)}},ze.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},ze.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(d(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var a=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?h:d)(o,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=R(o),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},ze.readWord=function(){var e=this.readWord1(),t=_.name;return this.keywords.test(e)&&(t=v[e]),this.finishToken(t,e)};var Fe="8.8.0";F.acorn={Parser:F,version:Fe,defaultOptions:z,Position:O,SourceLocation:N,getLineInfo:D,Node:ue,TokenType:f,tokTypes:_,keywordTypes:v,TokContext:ee,tokContexts:te,isIdentifierChar:d,isIdentifierStart:h,Token:De,isNewLine:w,lineBreak:b,lineBreakG:x,nonASCIIwhitespace:M},e.Node=ue,e.Parser=F,e.Position=O,e.SourceLocation=N,e.TokContext=ee,e.Token=De,e.TokenType=f,e.defaultOptions=z,e.getLineInfo=D,e.isIdentifierChar=d,e.isIdentifierStart=h,e.isNewLine=w,e.keywordTypes=v,e.lineBreak=b,e.lineBreakG=x,e.nonASCIIwhitespace=M,e.parse=function(e,t){return F.parse(e,t)},e.parseExpressionAt=function(e,t,n){return F.parseExpressionAt(e,t,n)},e.tokContexts=te,e.tokTypes=_,e.tokenizer=function(e,t){return F.tokenizer(e,t)},e.version=Fe,Object.defineProperty(e,"__esModule",{value:!0})}(t)}),Gu=Y(function(e){(function(t,n){var r=(t=t||Hu).window,i=t.document,a=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=t.forEach||function(e,t){for(var n=0,r=this.length;n<r;n++)e.call(t,this[n],n,this)},l=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)},u=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},c=function(e,t,n){if(e){var r=a(e,"length");(r&&"number"==typeof r.value?s:l).call(e,t,n=n||e)}return n};function h(t,n,r,i,s){var l={};function u(e,u){"string"==typeof(u=u||(u=a(n,e))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var c,h="function"==typeof u,f=u,p=s||h&&!u.base?u&&u.get?e in t:t[e]:null;s&&p||(h&&p&&(u.base=p),h&&!1!==i&&(c=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),f&&!h&&f.get&&"function"==typeof f.get&&d.isPlainObject(f)||(f={value:f,writable:!0}),(a(t,e)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=r?r:!c),o(t,e,f))}if(n){for(var c in n)n.hasOwnProperty(c)&&!e.test(c)&&u(c);for(var c in l){var h=l[c],f=t["set"+h],p=t["get"+h]||f&&t["is"+h];!p||!0!==i&&0!==p.length||u(c,{get:p,set:f})}}return t}function d(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&u(this,n)}return this}return h(d,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,r=e.preserve;t!==e&&h(this.prototype,e,e.enumerable,n,r),h(this,t,null,n,r)}for(var i=1,a=arguments.length;i<a;i++)this.inject(arguments[i]);return this},extend:function(){for(var e,t,n,r=this,a=0,s=arguments.length;a<s&&(!e||!t);a++)n=arguments[a],e=e||n.initialize,t=t||n.prototype;return e=e||function(){r.apply(this,arguments)},t=e.prototype=t||i(this.prototype),o(t,"constructor",{value:e,writable:!0,configurable:!0}),h(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:d,set:d,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&h(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=i(this);return e.inject.apply(e,arguments)},each:function(e,t){return c(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:u,each:c,create:i,define:o,describe:a,clone:function(e){return u(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===d||"Object"===t.name)},pick:function(e,t){return e!==n?e:t},slice:function(e,t,n){return r.call(e,t,n)}}})};e.exports=a,a.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+a.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?c.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return a.importJSON(e,this)},exportJSON:function(e){return a.exportJSON(this,e)},toJSON:function(){return a.serialize(this)},set:function(e,t){return e&&a.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!a.exports[n]&&(a.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!a.equals(e[n],t[n]))return!1}else{var n,r=Object.keys(e);if((n=r.length)!==Object.keys(t).length)return!1;for(;n--;){var i=r[n];if(!t.hasOwnProperty(i)||!a.equals(e[i],t[i]))return!1}}return!0}return!1},read:function(e,t,r,i){if(this===a){var o=this.peek(e,t);return e.__index++,o}var s=this.prototype,l=s._readIndex,u=t||l&&e.__index||0,c=e.length,h=e[u];if(i=i||c-u,h instanceof this||r&&r.readNull&&null==h&&i<=1)return l&&(e.__index=u+1),h&&r&&r.clone?h.clone():h;if(h=a.create(s),l&&(h.__read=!0),h=h.initialize.apply(h,u>0||u+i<c?a.slice(e,u,u+i):e)||h,l){e.__index=u+h.__read;var d=h.__filtered;d&&(e.__filtered=d,h.__filtered=n),h.__read=n}return h},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,r){for(var i,a=[],o=t||0,s=r?o+r:e.length,l=o;l<s;l++)a.push(Array.isArray(i=e[l])?this.read(i,0,n):this.read(e,l,n,1));return a},readNamed:function(e,t,r,i,o){var s=this.getNamed(e,t),l=s!==n;if(l){var u=e.__filtered;if(!u){var c=this.getSource(e);(u=e.__filtered=a.create(c)).__unfiltered=c}u[t]=n}return this.read(l?[s]:e,r,i,o)},readSupported:function(e,t){var r=this.getSource(e),i=this,a=!1;return r&&Object.keys(r).forEach(function(r){if(r in t){var o=i.readNamed(e,r);o!==n&&(t[r]=o),a=!0}}),a},getSource:function(e){var t=e.__source;if(t===n){var r=1===e.length&&e[0];t=e.__source=r&&a.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var n=this.getSource(e);if(n)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,i){var a;function o(i){if(!(r&&i in r||a&&i in a)){var o=t[i];o!==n&&(e[i]=o)}}if(i){for(var s,l={},u=0,c=i.length;u<c;u++)(s=i[u])in t&&(o(s),l[s]=!0);a=l}return Object.keys(t.__unfiltered||t).forEach(o),e},isPlainValue:function(e,t){return a.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,r){t=t||{};var i,o=!r;if(o&&(t.formatter=new c(t.precision),r={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,r=this.references[n];if(!r){this.length++;var i=t.call(e),a=e._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),e&&e._serialize){i=e._serialize(t,r);var s=e._class;!s||e._compactSerialize||!o&&n||i[0]===s||i.unshift(s)}else if(Array.isArray(e)){i=[];for(var l=0,u=e.length;l<u;l++)i[l]=a.serialize(e[l],t,n,r)}else if(a.isPlainObject(e)){i={};var h=Object.keys(e);for(l=0,u=h.length;l<u;l++){var d=h[l];i[d]=a.serialize(e[d],t,n,r)}}else i="number"==typeof e?t.formatter.number(e,t.precision):e;return o&&r.length>0?[["dictionary",r.definitions],i]:i},deserialize:function(e,t,n,r,i){var o=e,s=!n,l=s&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var u=e[0],c="dictionary"===u;if(1==e.length&&/^#/.test(u))return n.dictionary[u];o=[];for(var h=(u=a.exports[u])?1:0,d=e.length;h<d;h++)o.push(a.deserialize(e[h],t,n,c,l));if(u){var f=o;o=t?t(u,f,s||i):new u(f)}}else if(a.isPlainObject(e))for(var p in o={},r&&(n.dictionary=o),e)o[p]=a.deserialize(e[p],t,n);return l?o[1]:o},exportJSON:function(e,t){var n=a.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,t){return a.deserialize("string"==typeof e?JSON.parse(e):e,function(e,n,r){var i=r&&t&&t.constructor===e,o=i?t:a.create(e.prototype);if(1===n.length&&o instanceof w&&(i||!(o instanceof M))){var s=n[0];a.isPlainObject(s)&&(s.insert=!1,i&&(n=n.concat([w.INSERT])))}return(i?o.set:e).apply(o,n),i&&(t=null),o})},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}return e},splice:function(e,t,r,i){var o=t&&t.length,s=r===n;(r=s?e.length:r)>e.length&&(r=e.length);for(var l=0;l<o;l++)t[l]._index=r+l;if(s)return a.push(e,t),[];var u=[r,i];t&&a.push(u,t);for(var c=e.splice.apply(e,u),h=(l=0,c.length);l<h;l++)c[l]._index=n;for(l=r+o,h=e.length;l<h;l++)e[l]._index=l;return c},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var o={on:function(e,t){if("string"!=typeof e)a.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,r=n&&n[e],i=this._callbacks=this._callbacks||{};-1===(i=i[e]=i[e]||[]).indexOf(t)&&(i.push(t),r&&r.install&&1===i.length&&r.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,r=this._eventTypes,i=r&&r[e],o=this._callbacks&&this._callbacks[e];return o&&(!t||-1!==(n=o.indexOf(t))&&1===o.length?(i&&i.uninstall&&i.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&o.splice(n,1)),this}a.each(e,function(e,t){this.off(t,e)},this)},once:function(e,t){return this.on(e,function n(){t.apply(this,arguments),this.off(e,n)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var r=a.slice(arguments,1),i=t&&t.target&&!t.currentTarget;n=n.slice(),i&&(t.currentTarget=this);for(var o=0,s=n.length;o<s;o++)if(0==n[o].apply(this,r)){t&&t.stop&&t.stop();break}return i&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,r=e?"install":"uninstall";if(t)for(var i in n)if(n[i].length>0){var a=t[i],o=a&&a[r];o&&o.call(this,i)}},statics:{inject:function e(t){var n=t._events;if(n){var r={};a.each(n,function(e,n){var i="string"==typeof e,o=i?e:n,s=a.capitalize(o),l=o.substring(2).toLowerCase();r[l]=i?{}:e,o="_"+o,t["get"+s]=function(){return this[o]},t["set"+s]=function(e){var t=this[o];t&&this.off(l,t),e&&this.on(l,e),this[o]=e}}),t._eventTypes=r}return e.base.apply(this,arguments)}}},s=a.extend({_class:"PaperScope",initialize:function e(){se=this,this.settings=new a({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var n=e.prototype;if(!this.support){var r=re.getContext(1,1)||{};n.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:ie.nativeModes},re.release(r)}if(!this.agent){var i=t.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s="darwin"===o?"mac":o,l=n.agent=n.browser={platform:s};s&&(l[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,r,i){if(!l.chrome){var a="opera"===t?r:/^(node|trident)$/.test(t)?i:n;l.version=a,l.versionNumber=parseFloat(a),l.name=t={trident:"msie",jsdom:"node"}[t]||t,l[t]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.17",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=se.PaperScript.execute(e,this,t);return q.updateFocus(),n},install:function(e){var t=this;for(var n in a.each(["project","view","tool"],function(n){a.define(e,n,{configurable:!0,get:function(){return t[n]}})}),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return se=this,this.project=new x(e),this},createCanvas:function(e,t){return re.getCanvas(e,t)},activate:function(){se=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete s._scopes[this._id]},statics:new function(){function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),l=a.extend(o,{initialize:function(e){this._scope=se,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),u={findItemBoundsCollisions:function(e,t,n){function r(e){for(var t=new Array(e.length),n=0;n<e.length;n++){var r=e[n].getBounds();t[n]=[r.left,r.top,r.right,r.bottom]}return t}var i=r(e),a=t&&t!==e?r(t):i;return this.findBoundsCollisions(i,a,n||0)},findCurveBoundsCollisions:function(e,t,n,r){function i(e){for(var t=Math.min,n=Math.max,r=new Array(e.length),i=0;i<e.length;i++){var a=e[i];r[i]=[t(a[0],a[2],a[4],a[6]),t(a[1],a[3],a[5],a[7]),n(a[0],a[2],a[4],a[6]),n(a[1],a[3],a[5],a[7])]}return r}var a=i(e),o=t&&t!==e?i(t):a;if(r){for(var s=this.findBoundsCollisions(a,o,n||0,!1,!0),l=this.findBoundsCollisions(a,o,n||0,!0,!0),u=[],c=0,h=s.length;c<h;c++)u[c]={hor:s[c],ver:l[c]};return u}return this.findBoundsCollisions(a,o,n||0)},findBoundsCollisions:function(e,t,n,r,i){var a=!t||e===t,o=a?e:e.concat(t),s=e.length,l=o.length;function u(e,t,n){for(var r=0,i=e.length;r<i;){var a=i+r>>>1;o[e[a]][t]<n?r=a+1:i=a}return r-1}for(var c=r?1:0,h=c+2,d=r?0:1,f=d+2,p=new Array(l),m=0;m<l;m++)p[m]=m;p.sort(function(e,t){return o[e][c]-o[t][c]});var g=[],v=new Array(s);for(m=0;m<l;m++){var y=p[m],_=o[y],b=a?y:y-s,x=y<s,w=a||!x,S=x?[]:null;if(g.length){var M=u(g,h,_[c]-n)+1;if(g.splice(0,M),a&&i){S=S.concat(g);for(var E=0;E<g.length;E++)v[P=g[E]].push(b)}else{var T=_[f],C=_[d];for(E=0;E<g.length;E++){var P,k=o[P=g[E]],A=P<s,I=a||P>=s;(i||(x&&I||w&&A)&&T>=k[d]-n&&C<=k[f]+n)&&(x&&I&&S.push(a?P:P-s),w&&A&&v[P].push(b))}}}if(x&&(e===t&&S.push(y),v[y]=S),g.length){var R=u(g,h,_[h]);g.splice(R+1,0,y)}else g.push(y)}for(m=0;m<v.length;m++){var L=v[m];L&&L.sort(function(e,t){return e-t})}return v}},c=a.extend({initialize:function(e){this.precision=a.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});c.instance=new c;var h=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,i=Math.pow,a=Math.log2||function(e){return Math.log(e)*Math.LOG2E},o=1e-12,s=112e-18;function l(e,t,n){return e<t?t:e>n?n:e}function u(e,t,r){function i(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var a=t*t-e*r,o=t*t+e*r;if(3*n(a)<o){var s=i(e),l=i(t),u=i(r),c=t*t,h=e*r;a=c-h+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(s[0]*u[0]-h+s[0]*u[1]+s[1]*u[0]+s[1]*u[1]))}return a}function c(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?i(2,-Math.round(a(e))):0}return{EPSILON:o,MACHINE_EPSILON:s,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=o},isMachineZero:function(e){return e>=-112e-18&&e<=s},clamp:l,integrate:function(n,r,i,a){for(var o=e[a-2],s=t[a-2],l=.5*(i-r),u=l+r,c=0,h=a+1>>1,d=1&a?s[c++]*n(u):0;c<h;){var f=l*o[c];d+=s[c++]*(n(u+f)+n(u-f))}return l*d},findRoot:function(e,t,r,i,a,o,s){for(var u=0;u<o;u++){var c=e(r),h=c/t(r),d=r-h;if(n(h)<s){r=d;break}c>0?(a=r,r=d<=i?.5*(i+a):d):(i=r,r=d>=a?.5*(i+a):d)}return l(r,i,a)},solveQuadratic:function(e,t,i,a,h,d){var f,p=Infinity;if(n(e)<o){if(n(t)<o)return n(i)<o?-1:0;f=-i/t}else{var m=u(e,t*=-.5,i);if(m&&n(m)<s){var g=c(n(e),n(t),n(i));g&&(m=u(e*=g,t*=g,i*=g))}if(m>=-112e-18){var v=m<0?0:r(m),y=t+(t<0?-v:v);0===y?p=-(f=i/e):(f=y/e,p=i/y)}}var _=0,b=null==h,x=h-o,w=d+o;return isFinite(f)&&(b||f>x&&f<w)&&(a[_++]=b?f:l(f,h,d)),p!==f&&isFinite(p)&&(b||p>x&&p<w)&&(a[_++]=b?p:l(p,h,d)),_},solveCubic:function(e,t,a,u,d,f,p){var m,g,v,y,_,b=c(n(e),n(t),n(a),n(u));function x(n){var r=e*(m=n);y=(r+(g=r+t))*m+(v=g*m+a),_=v*m+u}if(b&&(e*=b,t*=b,a*=b,u*=b),n(e)<o)e=t,g=a,v=u,m=Infinity;else if(n(u)<o)g=t,v=a,m=0;else{x(-t/e/3);var w=_/e,S=i(n(w),1/3),M=w<0?-1:1,E=-y/e,T=E>0?1.324717957244746*Math.max(S,r(E)):S,C=m-M*T;if(C!==m){do{x(C),C=0===y?m:m-_/y/(1+s)}while(M*C>M*m);n(e)*m*m>n(u/m)&&(g=((v=-u/m)-a)/m)}}var P=h.solveQuadratic(e,g,v,d,f,p),k=null==f;return isFinite(m)&&(0===P||P>0&&m!==d[0]&&m!==d[1])&&(k||m>f-o&&m<p+o)&&(d[P++]=k?m:l(m,f,p)),P}}},d={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}return this._id++}},f=a.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var n=typeof e,r=this.__read,i=0;if("number"===n){var a="number"==typeof t;this._set(e,a?t:e),r&&(i=a?2:1)}else if("undefined"===n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var o="string"===n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"x"in o?this._set(o.x||0,o.y||0):"width"in o?this._set(o.width||0,o.height||0):"angle"in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new f(this.x,this.y)},toString:function(){var e=c.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();h.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=f.read(arguments),t=this.getLength()*e.getLength();if(h.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=f.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=arguments,t=f.read(e),n=t.x-this.x,r=t.y-this.y,i=n*n+r*r,o=a.read(e);return o?i:Math.sqrt(i)},normalize:function(e){e===n&&(e=1);var t=this.getLength(),r=0!==t?e/t:0,i=new f(this.x*r,this.y*r);return r>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new f(n.x*i-n.y*r,n.x*r+n.y*i),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=f.read(arguments);return new f(this.x+e.x,this.y+e.y)},subtract:function(){var e=f.read(arguments);return new f(this.x-e.x,this.y-e.y)},multiply:function(){var e=f.read(arguments);return new f(this.x*e.x,this.y*e.y)},divide:function(){var e=f.read(arguments);return new f(this.x/e.x,this.y/e.y)},modulo:function(){var e=f.read(arguments);return new f(this.x%e.x,this.y%e.y)},negate:function(){return new f(-this.x,-this.y)},isInside:function(){return v.read(arguments).contains(this)},isClose:function(){var e=arguments,t=f.read(e),n=a.read(e);return this.getDistance(t)<=n},isCollinear:function(){var e=f.read(arguments);return f.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=f.read(arguments);return f.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=h.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=f.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=f.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=f.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new f(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=f.read(e),n=f.read(e);return new f(Math.min(t.x,n.x),Math.min(t.y,n.y))},max:function(){var e=arguments,t=f.read(e),n=f.read(e);return new f(Math.max(t.x,n.x),Math.max(t.y,n.y))},random:function(){return new f(Math.random(),Math.random())},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+r*r))}}},a.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new f(t(this.x),t(this.y))}},{})),p=f.extend({initialize:function(e,t,n,r){this._x=e,this._y=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),m=a.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var n=typeof e,r=this.__read,i=0;if("number"===n){var a="number"==typeof t;this._set(e,a?t:e),r&&(i=a?2:1)}else if("undefined"===n||null===e)this._set(0,0),r&&(i=null===e?1:0);else{var o="string"===n?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):"width"in o?this._set(o.width||0,o.height||0):"x"in o?this._set(o.x||0,o.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new m(this.width,this.height)},toString:function(){var e=c.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=m.read(arguments);return new m(this.width+e.width,this.height+e.height)},subtract:function(){var e=m.read(arguments);return new m(this.width-e.width,this.height-e.height)},multiply:function(){var e=m.read(arguments);return new m(this.width*e.width,this.height*e.height)},divide:function(){var e=m.read(arguments);return new m(this.width/e.width,this.height/e.height)},modulo:function(){var e=m.read(arguments);return new m(this.width%e.width,this.height%e.height)},negate:function(){return new m(-this.width,-this.height)},isZero:function(){var e=h.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new m(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new m(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new m(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new m(t(this.width),t(this.height))}},{})),g=m.extend({initialize:function(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),v=a.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,r,i){var o,s=arguments,l=typeof e;if("number"===l?(this._set(e,t,r,i),o=4):"undefined"===l||null===e?(this._set(0,0,0,0),o=null===e?1:0):1===s.length&&(Array.isArray(e)?(this._set.apply(this,e),o=1):e.x!==n||e.width!==n?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),o=1):e.from===n&&e.to===n&&(this._set(0,0,0,0),a.readSupported(s,this)&&(o=1))),o===n){var u,c,h=f.readNamed(s,"from"),d=a.peek(s),p=h.x,g=h.y;if(d&&d.x!==n||a.hasNamed(s,"to")){var v=f.readNamed(s,"to");(u=v.x-p)<0&&(p=v.x,u=-u),(c=v.y-g)<0&&(g=v.y,c=-c)}else{var y=m.read(s);u=y.width,c=y.height}this._set(p,g,u,c),o=s.__index}var _=s.__filtered;return _&&(this.__filtered=_),this.__read&&(this.__read=o),this},set:"#initialize",_set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},clone:function(){return new v(this.x,this.y,this.width,this.height)},equals:function(e){var t=a.isPlainValue(e)?v.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=c.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?f:p)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=f.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?m:g)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=m.read(arguments),t=this._sx,n=this._sy,r=e.width,i=e.height;t&&(this.x+=(this.width-r)*t),n&&(this.y+=(this.height-i)*n),this.width=r,this.height=i,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?f:p)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=f.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==n||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(v.read(arguments)):this._containsPoint(f.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=v.read(arguments),t=a.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=v.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);return new v(t,n,r-t,i-n)},unite:function(){var e=v.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new v(t,n,r-t,i-n)},include:function(){var e=f.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);return new v(t,n,r-t,i-n)},expand:function(){var e=m.read(arguments),t=e.width,n=e.height;return new v(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===n?e:t)-this.height)}},a.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?"Y":"X");var i=e[r?0:1],a=e[r?1:0],o="get"+i,s="get"+a,l="set"+i,u="set"+a,c="set"+n;this["get"+n]=function(e){return new(e?f:p)(this[o](),this[s](),this,c)},this[c]=function(){var e=f.read(arguments);this[l](e.x),this[u](e.y)}},{beans:!0})),y=v.extend({initialize:function(e,t,n,r,i,a){this._set(e,t,n,r,!0),this._owner=i,this._setter=a},_set:function(e,t,n,r,i){return this._x=e,this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var e=v.prototype;return a.each(["x","y","width","height"],function(e){var t=a.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},a.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),_=a.extend({_class:"Matrix",initialize:function e(t,n){var r=arguments,i=r.length,a=!0;if(i>=6?this._set.apply(this,r):1===i||2===i?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):a=!1:i?a=!1:this.reset(),!a)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,r,i,a,o){return this._a=e,this._b=t,this._c=n,this._d=r,this._tx=i,this._ty=a,o||this._changed(),this},_serialize:function(e,t){return a.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new _(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=c.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,a.pick(e,!0),t),this.isIdentity())},translate:function(){var e=f.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=arguments,t=f.read(e),n=f.read(e,0,{readNull:!0});return n&&this.translate(n),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=f.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),a=Math.sin(e),o=n-n*i+r*a,s=r-n*a-r*i,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=i*l+a*c,this._b=i*u+a*h,this._c=-a*l+i*c,this._d=-a*u+i*h,this._tx+=o*l+s*c,this._ty+=o*u+s*h,this._changed(),this},shear:function(){var e=arguments,t=f.read(e),n=f.read(e,0,{readNull:!0});n&&this.translate(n);var r=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*r,this._d+=t.x*i,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var e=arguments,t=f.read(e),n=f.read(e,0,{readNull:!0}),r=Math.PI/180,i=new f(Math.tan(t.x*r),Math.tan(t.y*r));return this.shear(i,n)},append:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=e._a,s=e._c,l=e._b,u=e._d,c=e._tx,h=e._ty;this._a=o*n+l*i,this._c=s*n+u*i,this._b=o*r+l*a,this._d=s*r+u*a,this._tx+=c*n+h*i,this._ty+=c*r+h*a,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=this._tx,s=this._ty,l=e._a,u=e._c,c=e._b,h=e._d,d=e._tx,f=e._ty;this._a=l*n+u*r,this._c=l*i+u*a,this._b=c*n+h*r,this._d=c*i+h*a,this._tx=l*o+u*s+d,this._ty=c*o+h*s+f,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,r=this._d,i=this._tx,a=this._ty,o=e*r-t*n,s=null;return o&&!isNaN(o)&&isFinite(i)&&isFinite(a)&&(this._a=r/o,this._b=-t/o,this._c=-n/o,this._d=e/o,this._tx=(n*a-r*i)/o,this._ty=(t*i-e*a)/o,s=this),s},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new _(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(f.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||(t=new f),t._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var r=0,i=2*n;r<i;r+=2){var a=e[r],o=e[r+1];t[r]=a*this._a+o*this._c+this._tx,t[r+1]=a*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,a=[t,n,r,n,r,i,t,i];return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),a=i.slice(),o=2;o<8;o++){var s=r[o],l=1&o;s<i[l]?i[l]=s:s>a[l]&&(a[l]=s)}return t||(t=new v),t._set(i[0],i[1],a[0]-i[0],a[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(f.read(arguments))},_inverseTransform:function(e,t,n){var r=this._a,i=this._b,a=this._c,o=this._d,s=this._tx,l=this._ty,u=r*o-i*a,c=null;if(u&&!isNaN(u)&&isFinite(s)&&isFinite(l)){var h=e.x-this._tx,d=e.y-this._ty;t||(t=new f),c=t._set((h*o-d*a)/u,(d*r-h*i)/u,n)}return c},decompose:function(){var e,t,n,r=this._a,i=this._b,a=this._c,o=this._d,s=r*o-i*a,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==r||0!==i){var h=l(r*r+i*i);e=Math.acos(r/h)*(i>0?1:-1),t=[h,s/h],n=[u(r*a+i*o,h*h),0]}else if(0!==a||0!==o){var d=l(a*a+o*o);e=Math.asin(a/d)*(o>0?1:-1),t=[s/d,d],n=[0,u(r*a+i*o,d*d)]}else e=0,n=t=[0,0];return{translation:this.getTranslation(),rotation:e*c,scaling:new f(t),skewing:new f(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new f(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},a.each(["a","b","c","d","tx","ty"],function(e){var t=a.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),b=a.extend({_class:"Line",initialize:function(e,t,n,r,i){var a=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=r,a=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new f(this._px,this._py)},getVector:function(){return new f(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return b.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return b.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return b.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return f.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return f.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,a,o,s,l,u){l||(n-=e,r-=t,o-=i,s-=a);var c=n*s-r*o;if(!h.isMachineZero(c)){var d=e-i,p=t-a,m=(o*p-s*d)/c,g=(n*p-r*d)/c,v=-1e-12,y=1+1e-12;if(u||v<m&&m<y&&v<g&&g<y)return u||(m=m<=0?0:m>=1?1:m),new f(e+m*n,t+m*r)}},getSide:function(e,t,n,r,i,a,o,s){o||(n-=e,r-=t);var l=i-e,u=l*r-(a-t)*n;return!s&&h.isMachineZero(u)&&(u=(l*n+l*n)/(n*n+r*r))>=0&&u<=1&&(u=0),u<0?-1:u>0?1:0},getSignedDistance:function(e,t,n,r,i,a,o){return o||(n-=e,r-=t),0===n?r>0?i-e:e-i:0===r?n<0?a-t:t-a:((i-e)*r-(a-t)*n)/(r>n?r*Math.sqrt(1+n*n/(r*r)):n*Math.sqrt(1+r*r/(n*n)))},getDistance:function(e,t,n,r,i,a,o){return Math.abs(b.getSignedDistance(e,t,n,r,i,a,o))}}}),x=l.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){l.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new W(null,null,this),this._view=q.create(this,e||re.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return a.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&t){var i=this._changesById,a=t._id,o=i[a];o?o.flags|=e:r.push(i[a]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return!!e.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new M({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:C,match:function(n){var r=n._definition,i=r._id;return t[i]||(t[i]=!0,e.push(r)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var r=e[n],i=r._selection;1&i&&r.isInserted()?t.push(r):i||this._updateSelection(r)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(n,e)},insertLayer:function(e,t){if(t instanceof M){t._remove(!1,!0),a.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(n,new M(w.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return w._getItems(this,e)},getItem:function(e){return w._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return a.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){var i=n[r];for(var a in t){var o=t[a];o&&o!=n&&delete o[i._id]}i.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var r=this._children,i=new a({offset:new f(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new _],updateMatrix:!0}),o=0,s=r.length;o<s;o++)r[o].draw(e,i);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var l=this._selectionItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var h in l)l[h]._drawSelection(e,t,u,l,c);e.restore()}}}),w=a.extend(o,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=a.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new _,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return a.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&a.isPlainObject(e),i=r&&!0===e.internal,o=this._matrix=new _,s=r&&e.project||se.project,l=se.settings;return this._id=i?null:d.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,t&&o.translate(t),o._owner=this,this._style=new W(s._currentStyle,this,s),i||r&&0==e.insert||!l.insertItems&&(!r||1!=e.insert)?this._setProject(s):(r&&e.parent||s)._insertItem(n,this,!0),r&&e!==w.NO_INSERT&&e!==w.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var n={},r=this;function i(i){for(var o in i){var s=r[o];a.equals(s,"leading"===o?1.2*i.fontSize:i[o])||(n[o]=a.serialize(s,e,"data"!==o,t))}}return i(this._serializeFields),this instanceof S||i(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,r=this._parent||t,i=this._project;8&e&&(this._bounds=this._position=this._decomposed=n),16&e&&(this._globalMatrix=n),r&&72&e&&w._clearBoundsCache(r),2&e&&w._clearBoundsCache(this),i&&i._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var r=t._children,i=t._namedChildren;(i[e]=i[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},a.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=a.capitalize(e),n="_"+e,r={locked:256,visible:265};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(r[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,r=e.length;n<r;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,r=t.length;n<r;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?f:p,n=this._position||(this._position=this._getPositionFromBounds());return new t(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(f.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new p(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=f.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},a.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof _,r=a.set({},n?t:e,this._boundsOptions);r.stroke&&!this.getStrokeScaling()||(r.cacheItem=this);var i=this._getCachedBounds(n&&e,r).rect;return arguments.length?i:new y(i.x,i.y,i.width,i.height,this,"setBounds")},setBounds:function(){var e=v.read(arguments),t=this.getBounds(),n=this._matrix,r=new _,i=e.getCenter();r.translate(i),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new _).translate(n.getTranslation())),t=this.getBounds()),r.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),i=t.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(w._updateBoundsCache(this,t.cacheItem),w._getBounds(n,e,t)):new v},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var r=t.internal&&!n,i=t.cacheItem,a=r?null:this._matrix._orNullIfIdentity(),o=i&&(!e||e.equals(a))&&this._getBoundsCacheKey(t,r),s=this._bounds;if(w._updateBoundsCache(this._parent||this._symbol,i),o&&s&&o in s)return{rect:(d=s[o]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(e||a,t),u=l.rect||l,c=this._style,h=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(o){s||(this._bounds=s={});var d=s[o]={rect:u.clone(),nonscaling:h,internal:r}}return{rect:u,nonscaling:h}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():e;return r&&r._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,r=e._boundsCache=e._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=n;for(var r=0,i=t.list,a=i.length;r<a;r++){var o=i[r];o!==e&&(o._bounds=o._position=n,o._boundsCache&&w._clearBoundsCache(o))}}},_getBounds:function(e,t,n){var r=Infinity,i=-r,a=r,o=i,s=!1;n=n||{};for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c._visible&&!c.isEmpty(!0)){var h=c._getCachedBounds(t&&t.appended(c._matrix),n,!0),d=h.rect;r=Math.min(d.x,r),a=Math.min(d.y,a),i=Math.max(d.x+d.width,i),o=Math.max(d.y+d.height,o),h.nonscaling&&(s=!0)}}return{rect:isFinite(r)?new v(r,a,i-r,o-a):new v,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new p(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=f.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),r=this._decomposed,i=new _,a=h.isZero;if(a(e.x)||a(e.y))i.translate(r.translation),n&&i.rotate(n),i.scale(t.x,t.y),this._matrix.set(i);else{var o=this.getPosition(!0);i.translate(o),n&&i.rotate(n),i.scale(t.x/e.x,t.y/e.y),n&&i.rotate(-n),i.translate(o.negate()),this.transform(i)}r&&(r.scaling=t,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,r=[];n;){if(!n._globalMatrix){t=null;for(var i=0,a=r.length;i<a;i++)r[i]._globalMatrix=null;break}r.push(n),n=n._parent}return t||(t=this._globalMatrix=this._matrix.clone(),(n=this._parent)&&t.prepend(n.getGlobalMatrix(!0))),e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof M)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return a.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(w.NO_INSERT),r=this._children,i=a.pick(e?e.insert:n,e===n||!0===e),o=a.pick(e?e.deep:n,!0);r&&t.copyAttributes(this),r&&!o||t.copyContent(this),r||t.copyAttributes(this),i&&t.insertAbove(this);var s=this._name,l=this._parent;if(s&&l){r=l._children;for(var u=s,c=1;r[s];)s=u+" "+c++;s!==u&&t.setName(s)}return t},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;n<r;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,i=n.length;r<i;r++){var o=n[r];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var s=e._data,l=e._name;this._data=s?a.clone(s):null,l&&this.setName(l)},rasterize:function(e,t){var r,i,o;a.isPlainObject(e)?(r=e.resolution,i=e.insert,o=e.raster):(r=e,i=t),o||(o=new T(w.NO_INSERT));var s=this.getStrokeBounds(),l=(r||this.getView().getResolution())/72,u=s.getTopLeft().floor(),c=s.getBottomRight().ceil(),h=new m(c.subtract(u)),d=h.multiply(l);if(o.setSize(d,!0),!d.isZero()){var f=o.getContext(!0),p=(new _).scale(l).translate(u.negate());f.save(),p.applyToContext(f),this.draw(f,new a({matrices:[p]})),f.restore()}return o._matrix.set((new _).translate(u.add(h.divide(2))).scale(1/l)),(i===n||i)&&o.insertAbove(this),o},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(f.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return v.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new N.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof w&&this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0}},new function(){function e(){var e=arguments;return this._hitTest(f.read(e),k.getOptions(e))}function t(){var e=arguments,t=f.read(e),n=k.getOptions(e),r=[];return this._hitTest(t,new a({all:r},n)),r}function n(e,t,n,r){var i=this._children;if(i)for(var a=i.length-1;a>=0;a--){var o=i[a],s=o!==r&&o._hitTest(e,t,n);if(s&&!t.all)return s}return null}return x.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var r=this._matrix,i=n?n.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(t.tolerance,1e-12),s=t._tolerancePadding=new m(N._getStrokePadding(o,r._shiftless().invert()));if(!(e=r._inverseTransform(e))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(e))return null;var l,u,c=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==a.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,d=this;function f(e){return e&&h&&!h(e)&&(e=null),e&&t.all&&t.all.push(e),e}function p(t,n){var r=n?l["get"+n]():d.getPosition();if(e.subtract(r).divide(s).length<=1)return new k(t,d,{name:n?a.hyphenate(n):t,point:r})}var g=t.position,v=t.center,y=t.bounds;if(c&&this._parent&&(g||v||y)){if((v||y)&&(l=this.getInternalBounds()),!(u=g&&p("position")||v&&p("center","Center"))&&y)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!u;b++)u=p("bounds",_[b]);u=f(u)}return u||(u=this._hitTestChildren(e,t,i)||c&&f(this._hitTestSelf(e,t,i,this.getStrokeScaling()?null:i._shiftless().invert()))||null),u&&u.point&&(u.point=r.transform(u.point)),u},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new k("fill",this)},matches:function(e,t){var n=typeof e;if("object"===n){for(var r in e)if(e.hasOwnProperty(r)&&!this.matches(r,e[r]))return!1;return!0}if("function"===n)return e(this);if("match"===e)return t(this);var i=/^(empty|editable)$/.test(e)?this["is"+a.capitalize(e)]():"type"===e?a.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;i=this._class}if("function"==typeof t)return!!t(i);if(t){if(t.test)return t.test(i);if(a.isPlainObject(t))return function e(t,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=n[r];if(a.isPlainObject(i)&&a.isPlainObject(o)){if(!e(i,o))return!1}else if(!a.equals(i,o))return!1}return!0}(t,i)}return a.equals(i,t)},getItems:function(e){return w._getItems(this,e,this._matrix)},getItem:function(e){return w._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,r,i,o){if(!i){var s="object"==typeof n&&n,l=s&&s.overlapping,u=s&&s.inside,c=(b=l||u)&&v.read([b]);i={items:[],recursive:s&&!1!==s.recursive,inside:!!u,overlapping:!!l,rect:c,path:l&&new N.Rectangle({rectangle:c,insert:!1})},s&&(n=a.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var h=t._children,d=i.items;r=(c=i.rect)&&(r||new _);for(var f=0,p=h&&h.length;f<p;f++){var m=h[f],g=r&&r.appended(m._matrix),y=!0;if(c){var b=m.getBounds(g);if(!c.intersects(b))continue;c.contains(b)||i.overlapping&&(b.contains(c)||i.path.intersects(m,g))||(y=!1)}if(y&&m.matches(n)&&(d.push(m),o))break;if(!1!==i.recursive&&e(m,n,g,i,o),o&&d.length>0)break}return d}}},{importJSON:function(e){var t=a.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(n,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){for(var r={},i=(t=a.slice(t)).length-1;i>=0;i--){var o=(c=t[i])&&c._id;!c||r[o]?t.splice(i,1):(c._remove(!1,!0),r[o]=!0)}a.splice(n,t,e,0);for(var s=this._project,l=s._changes,u=(i=0,t.length);i<u;i++){var c,h=(c=t[i])._name;c._parent=this,c._setProject(s,!0),h&&c.setName(h),l&&c._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),r=e!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(e._index+t,r)),r},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(n,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(n,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;-1!==a&&(t[r]==this&&delete t[r],i.splice(a,1),i.length?t[r]=i[0]:delete n[r])}},_remove:function(e,t){var n=this._getOwner(),r=this._project,i=this._index;return this._style&&this._style._dispose(),!!n&&(this._name&&this._removeNamed(),null!=i&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(n._children,null,i,1)),this._installEvents(!1),e&&r._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=a.pick(t,this._children.length);for(var n=a.splice(this._children,null,e,t-e),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,n=t?t.length:0;if(e){for(var r=0;r<n;r++)if(!t[r].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do{t.unshift(e)}while(e=e._parent);return t}for(var n=t(this),r=t(e),i=0,a=Math.min(n.length,r.length);i<a;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},a.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=arguments,r=(t?a:f).read(n),i=f.read(n,0,{readNull:!0});return this.transform((new _)[e](r,i||this.getPosition(!0)))}},{translate:function(){var e=new _;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n){var r=this._matrix,i=e&&!e.isIdentity(),a=n&&this._canApplyMatrix||this._applyMatrix&&(i||!r.isIdentity()||t&&this._children);if(!i&&!a)return this;if(i){!e.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(e,!0);var o=this._style,s=o.getFillColor(!0),l=o.getStrokeColor(!0);s&&s.transform(e),l&&l.transform(e)}if(a&&(a=this._transformContent(r,t,n))){var u=this._pivot;u&&r._transformPoint(u,u,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var c=this._bounds,h=this._position;(i||a)&&this._changed(25);var d=i&&c&&e.decompose();if(d&&d.skewing.isZero()&&d.rotation%90==0){for(var f in c){var p=c[f];if(p.nonscaling)delete c[f];else if(a||!p.internal){var m=p.rect;e._transformBounds(m,m)}}this._bounds=c;var g=c[this._getBoundsCacheKey(this._boundsOptions||{})];g&&(this._position=this._getPositionFromBounds(g.rect))}else i&&h&&this._pivot&&(this._position=e._transformPoint(h,h));return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,a=r.length;i<a;i++)r[i].transform(e,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(f.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(f.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(f.read(arguments))},localToParent:function(){return this._matrix._transformPoint(f.read(arguments))},fitBounds:function(e,t){e=v.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,a=(t?r>i:r<i)?e.width/n.width:e.height/n.height,o=new v(new f,new m(n.width*a,n.height*a));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,n){var r=this._style,i=this._matrix;if(r.hasFill()&&(e.fillStyle=r.getFillColor().toCanvasStyle(e,i)),r.hasStroke()){e.strokeStyle=r.getStrokeColor().toCanvasStyle(e,i),e.lineWidth=r.getStrokeWidth();var a=r.getStrokeJoin(),o=r.getStrokeCap(),s=r.getMiterLimit();if(a&&(e.lineJoin=a),o&&(e.lineCap=o),s&&(e.miterLimit=s),se.support.nativeDash){var l=r.getDashArray(),u=r.getDashOffset();l&&l.length&&("setLineDash"in e?(e.setLineDash(l),e.lineDashOffset=u):(e.mozDash=l,e.mozDashOffset=u))}}if(r.hasShadow()){var c=t.pixelRatio||1,h=n._shiftless().prepend((new _).scale(c,c)),d=h.transform(new f(r.getShadowBlur(),0)),p=h.transform(this.getShadowOffset());e.shadowColor=r.getShadowColor().toCanvasStyle(e),e.shadowBlur=d.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){if(this._updateVersion=this._project._updateVersion,this._visible&&0!==this._opacity){var r=t.matrices,i=t.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){i=i?i.appended(o):o,r.push(o),t.updateMatrix&&(this._globalMatrix=o);var s,l,u,c=this._blendMode,d=h.clamp(this._opacity,0,1),f="normal"===c,p=ie.nativeModes[c],m=f&&1===d||t.dontStart||t.clip||(p||f&&d<1)&&this._canComposite(),g=t.pixelRatio||1;if(!m){var v=this.getStrokeBounds(i);if(!v.width||!v.height)return void r.pop();u=t.offset,l=t.offset=v.getTopLeft().floor(),s=e,e=re.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&e.scale(g,g)}e.save();var y=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&i,_=!m&&t.clipItem,b=!y||_;if(m?(e.globalAlpha=d,p&&(e.globalCompositeOperation=c)):b&&e.translate(-l.x,-l.y),b&&(m?a:i).applyToContext(e),_&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(g,0,0,g,0,0);var x=t.offset;x&&e.translate(-x.x,-x.y)}this._draw(e,t,i,y),e.restore(),r.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),m||(ie.process(c,e,s,d,l.subtract(u).multiply(g)),re.release(e),t.offset=u)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof D)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){var a=this._selection,o=1&a,s=2&a||o&&this._selectBounds,l=4&a;if(this._drawSelected||(o=!1),(o||s||l)&&this._isUpdated(i)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=t.appended(this.getGlobalMatrix(!0)),d=n/2;if(e.strokeStyle=e.fillStyle=c?c.toCanvasStyle(e):"#009dec",o&&this._drawSelected(e,h,r),l){var f=this.getPosition(!0),p=this._parent,m=p?p.localToGlobal(f):f,g=m.x,v=m.y;e.beginPath(),e.arc(g,v,d,0,2*Math.PI,!0),e.stroke();for(var y=[[0,-1],[1,0],[0,1],[-1,0]],_=d,b=n+1,x=0;x<4;x++){var w=y[x],S=w[0],M=w[1];e.moveTo(g+S*_,v+M*_),e.lineTo(g+S*b,v+M*b),e.stroke()}}if(s){var E=h._transformCorners(this.getInternalBounds());for(e.beginPath(),x=0;x<8;x++)e[x?"lineTo":"moveTo"](E[x],E[++x]);for(e.closePath(),e.stroke(),x=0;x<8;x++)e.fillRect(E[x]-d,E[++x]-d,n,n)}}},_canComposite:function(){return!1}},a.each(["down","drag","up","move"],function(e){this["removeOn"+a.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var r=null!=n&&("number"==typeof n?n:n.duration),i=new te(this,e,t,r,n&&n.easing,n&&n.start);return r&&this.on("frame",function e(t){i._handleFrame(1e3*t.time),i.running||this.off("frame",e)}),i},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),S=w.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function e(t){e.base.call(this,t),2050&t&&(this._clipItem=n)},_getClipItem:function(){var e=this._clipItem;if(e===n){e=null;for(var t=this._children,r=0,i=t.length;r<i;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(t),a.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,r){var i=this._getClipItem();return(!i||i.contains(t))&&e.base.call(this,t,n,r,i)},_draw:function(e,t){var n=t.clip,r=!n&&this._getClipItem();t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0}));for(var i=this._children,a=0,o=i.length;a<o;a++){var s=i[a];s!==r&&s.draw(e,t)}}}),M=S.extend({_class:"Layer",initialize:function(){S.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function e(){return this._parent?e.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),E=w.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&a.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new g(e.width,e.height,this,"setSize")},setSize:function(){var e=m.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,r=e.height;"rectangle"===t?this._radius.set(m.min(this._radius,e.divide(2).abs())):"circle"===t?(n=r=(n+r)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new g(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=m.read(arguments),this._radius){if(this._radius.equals(e))return;this._radius.set(e),"rectangle"===t?(n=m.max(this._size,e.multiply(2)),this._size.set(n)):"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new(N[a.capitalize(this._type)])({center:new f,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),se.settings.applyMatrix&&t.setApplyMatrix(!0),(e===n||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,r){var i=this._style,a=i.hasFill(),o=i.hasStroke(),s=t.dontFinish||t.clip,l=!r;if(a||o||s){var u=this._type,c=this._radius,h="circle"===u;if(t.dontStart||e.beginPath(),l&&h)e.arc(0,0,c,0,2*Math.PI,!0);else{var d=h?c:c.width,f=h?c:c.height,p=this._size,m=p.width,g=p.height;if(l&&"rectangle"===u&&0===d&&0===f)e.rect(-m/2,-g/2,m,g);else{var v=m/2,y=g/2,_=.44771525016920644,b=d*_,x=f*_,w=[-v,-y+f,-v,-y+x,-v+b,-y,-v+d,-y,v-d,-y,v-b,-y,v,-y+x,v,-y+f,v,y-f,v,y-x,v-b,y,v-d,y,-v+d,y,-v+b,y,-v,y-x,-v,y-f];r&&r.transform(w,w,32),e.moveTo(w[0],w[1]),e.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]),v!==d&&e.lineTo(w[8],w[9]),e.bezierCurveTo(w[10],w[11],w[12],w[13],w[14],w[15]),y!==f&&e.lineTo(w[16],w[17]),e.bezierCurveTo(w[18],w[19],w[20],w[21],w[22],w[23]),v!==d&&e.lineTo(w[24],w[25]),e.bezierCurveTo(w[26],w[27],w[28],w[29],w[30],w[31])}}e.closePath()}s||!a&&!o||(this._setStyles(e,t,n),a&&(e.fill(i.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new v(this._size).setCenter(0,0),r=this._style,i=t.stroke&&r.hasStroke()&&r.getStrokeWidth();return e&&(n=e._transformBounds(n)),i?n.expand(N._getStrokePadding(i,this._getStrokeMatrix(e,t))):n}},new function(){function e(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),a=1;a<=4;a++){var o=new f(a>1&&a<4?-1:1,a>2?-1:1),s=o.multiply(i),l=s.subtract(o.multiply(r));if(new v(n?s.add(o.multiply(n)):s,l).contains(t))return{point:l,quadrant:a}}}function t(e,t,n,r){var i=e.divide(t);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(t).divide(n).length<=1}return{_contains:function t(n){if("rectangle"===this._type){var r=e(this,n);return r?n.subtract(r.point).divide(this._radius).getLength()<=1:t.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,i,a,o){var s=!1,l=this._style,u=i.stroke&&l.hasStroke(),c=i.fill&&l.hasFill();if(u||c){var h=this._type,d=this._radius,f=u?l.getStrokeWidth()/2:0,p=i._tolerancePadding.add(N._getStrokePadding(f,!l.getStrokeScaling()&&o));if("rectangle"===h){var m=p.multiply(2),g=e(this,r,m);if(g)s=t(r.subtract(g.point),d,p,g.quadrant);else{var y=new v(this._size).setCenter(0,0),_=y.expand(m),b=y.expand(m.negate());s=_._containsPoint(r)&&!b._containsPoint(r)}}else s=t(r,d,p)}return s?new k(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,r,i){var o=a.create(E.prototype);return o._type=e,o._size=n,o._radius=r,o._initialize(a.getNamed(i),t),o}return{Circle:function(){var t=arguments,n=f.readNamed(t,"center"),r=a.readNamed(t,"radius");return e("circle",n,new m(2*r),r,t)},Rectangle:function(){var t=arguments,n=v.readNamed(t,"rectangle"),r=m.min(m.readNamed(t,"radius"),n.getSize(!0).divide(2));return e("rectangle",n.getCenter(!0),n.getSize(!0),r,t)},Ellipse:function(){var t=arguments,n=E._readEllipse(t),r=n.radius;return e("ellipse",n.center,r.multiply(2),r,t)},_readEllipse:function(e){var t,n;if(a.hasNamed(e,"radius"))t=f.readNamed(e,"center"),n=m.readNamed(e,"radius");else{var r=v.readNamed(e,"rectangle");t=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),T=w.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==n&&f.read(arguments))){var r,a=typeof e,o="string"===a?i.getElementById(e):"object"===a?e:null;if(o&&o!==w.NO_INSERT)if(o.getContext||null!=o.naturalHeight)r=o;else if(o){var s=m.read(arguments);s.isZero()||(r=re.getCanvas(s))}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new m,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var r=re.getCanvas(e._size);r.getContext("2d").drawImage(n,0,0),this._setImage(r)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new g(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var n=m.read(arguments);if(n.equals(this._size))t&&this.clear();else if(n.width>0&&n.height>0){var r=!t&&this.getElement();this._setImage(re.getCanvas(n)),r&&this.getContext(!0).drawImage(r,0,0,n.width,n.height)}else this._canvas&&re.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new f(0,0).transform(e),n=new f(1,0).transform(e).subtract(t),r=new f(0,1).transform(e).subtract(t);return new m(72/n.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function n(e){var n=t.getView(),r=e&&e.type||"load";n&&t.responds(r)&&(se=n._scope,t.emit(r,new Y(e)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&$.add(e,{load:function(r){t._setImage(e),n(r)},error:n})},_setImage:function(e){this._canvas&&re.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new m(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=re.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){re.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var n=new t.Image,r=this._crossOrigin;r&&(n.crossOrigin=r),e&&(n.src=e),this.setImage(n)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing="string"==typeof e?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=v.read(arguments),t=re.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=v.read(arguments),t=new T(w.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=f.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof O?(n=e,t=e.getBounds()):"object"==typeof e&&("width"in e?t=new v(e):"x"in e&&(t=new v(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var r=Math.min(t.width,32),i=Math.min(t.height,32),o=T._sampleContext;o?o.clearRect(0,0,33,33):o=T._sampleContext=re.getContext(new m(32)),o.save();var s=(new _).scale(r/t.width,i/t.height).translate(-t.x,-t.y);s.applyToContext(o),n&&n.draw(o,new a({clip:!0,matrices:[s]})),this._matrix.applyToContext(o);var l=this.getElement(),u=this._size;l&&o.drawImage(l,-u.width/2,-u.height/2),o.restore();for(var c=o.getImageData(.5,.5,Math.ceil(r),Math.ceil(i)).data,h=[0,0,0],d=0,f=0,p=c.length;f<p;f+=4){var g=c[f+3];d+=g,h[0]+=c[f]*(g/=255),h[1]+=c[f+1]*g,h[2]+=c[f+2]*g}for(f=0;f<3;f++)h[f]/=d;return d?j.read(h):null},getPixel:function(){var e=f.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new j("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=f.read(e),n=j.read(e),r=n._convert("rgb"),i=n._alpha,a=this.getContext(!0),o=a.createImageData(1,1),s=o.data;s[0]=255*r[0],s[1]=255*r[1],s[2]=255*r[2],s[3]=null!=i?255*i:255,a.putImageData(o,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=m.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=v.read(arguments);return e.isEmpty()&&(e=new v(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=f.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var n=new v(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new k("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var r=this.getElement();if(r&&r.width>0&&r.height>0){e.globalAlpha=h.clamp(this._opacity,0,1),this._setStyles(e,t,n);var i=this._smoothing,a="off"===i;G.setPrefixed(e,a?"imageSmoothingEnabled":"imageSmoothingQuality",!a&&i),e.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),C=w.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==n&&f.read(arguments,1))||this.setDefinition(e instanceof P?e:new P(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var r=t.extend({all:!1}),i=this._definition._item._hitTest(e,r,n);return i&&(i.item=this),i},_draw:function(e,t){this._definition._item.draw(e,t)}}),P=a.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=d.get(),this.project=se.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){8&e&&w._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new f),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new C(this,e)},clone:function(){return new P(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),k=a.extend({_class:"HitResult",initialize:function(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&a.read(e);return new a({type:null,tolerance:se.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),A=a.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,r,i,a,o){var s,l,u,c,h=arguments.length;h>0&&(null==e||"object"==typeof e?1===h&&e&&"point"in e?(s=e.point,l=e.handleIn,u=e.handleOut,c=e.selection):(s=e,l=t,u=r,c=i):(s=[e,t],l=r!==n?[r,i]:null,u=a!==n?[a,o]:null)),new I(s,this,"_point"),new I(l,this,"_handleIn"),new I(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(e,t){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),a.serialize(i,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,r=t._curves,i=this._index;r&&(e&&e!==this._point&&e!==this._handleIn||!(n=i>0?r[i-1]:t._closed?r[r.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=r[i])||n._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(f.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(f.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(f.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new L(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var i=e||{},a=i.type,o=i.factor,s=this.getPrevious(),l=this.getNext(),u=(s||this)._point,c=this._point,h=(l||this)._point,d=u.getDistance(c),p=c.getDistance(h);if(a&&"catmull-rom"!==a){if("geometric"!==a)throw new Error("Smoothing method '"+a+"' not supported.");if(s&&l){var m=u.subtract(h),g=o===n?.4:o,v=g*d/(d+p);t||this.setHandleIn(m.multiply(v)),r||this.setHandleOut(m.multiply(v-g))}}else{var y,_=o===n?.5:o,b=Math.pow(d,_),x=b*b,w=Math.pow(p,_),S=w*w;if(!t&&s){var M=2*S+3*w*b+x;this.setHandleIn(0!=(y=3*w*(w+b))?new f((S*u._x+M*c._x-x*h._x)/y-c._x,(S*u._y+M*c._y-x*h._y)/y-c._y):new f)}!r&&l&&(M=2*x+3*b*w+S,this.setHandleOut(0!=(y=3*b*(b+w))?new f((x*h._x+M*c._x-S*u._x)/y-c._x,(x*h._y+M*c._y-S*u._y)/y-c._y):new f))}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new A(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new A(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var r=1-n,i=n,a=e._point,o=t._point,s=e._handleIn,l=t._handleIn,u=t._handleOut,c=e._handleOut;this._point._set(r*a._x+i*o._x,r*a._y+i*o._y,!0),this._handleIn._set(r*s._x+i*l._x,r*s._y+i*l._y,!0),this._handleOut._set(r*c._x+i*u._x,r*c._y+i*u._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var r=this._point,i=n&&this._handleIn.isZero()?null:this._handleIn,a=n&&this._handleOut.isZero()?null:this._handleOut,o=r._x,s=r._y,l=2;return t[0]=o,t[1]=s,i&&(t[l++]=i._x+o,t[l++]=i._y+s),a&&(t[l++]=a._x+o,t[l++]=a._y+s),e&&(e._transformCoordinates(t,t,l/2),o=t[0],s=t[1],n?(r._x=o,r._y=s,l=2,i&&(i._x=t[l++]-o,i._y=t[l++]-s),a&&(a._x=t[l++]-o,a._y=t[l++]-s)):(i||(t[l++]=o,t[l++]=s),a||(t[l++]=o,t[l++]=s))),t}}),I=f.extend({initialize:function(e,t,r){var i,a,o;if(e)if((i=e[0])!==n)a=e[1];else{var s=e;(i=s.x)===n&&(i=(s=f.read(arguments)).x),a=s.y,o=s.selected}else i=a=0;this._x=i,this._y=a,this._owner=t,t[r]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=h.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),R=a.extend({_class:"Curve",beans:!0,initialize:function(e,t,n,r,i,a,o,s){var l,u,c,h,d,f,p=arguments.length;3===p?(this._path=e,l=t,u=n):p?1===p?"segment1"in e?(l=new A(e.segment1),u=new A(e.segment2)):"point1"in e?(c=e.point1,d=e.handle1,f=e.handle2,h=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],h=[e[6],e[7]],d=[e[2]-e[0],e[3]-e[1]],f=[e[4]-e[6],e[5]-e[7]]):2===p?(l=new A(e),u=new A(t)):4===p?(c=e,d=t,f=n,h=r):8===p&&(c=[e,t],h=[o,s],d=[n-e,r-t],f=[i-o,a-s]):(l=new A,u=new A),this._segment1=l||new A(c,null,d),this._segment2=u||new A(h,f,null)},_serialize:function(e,t){return a.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=n},clone:function(){return new R(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return R.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(f.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(f.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(f.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(f.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return R.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new f(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=R.getLength(this.getValues(),0,1)),this._length},getArea:function(){return R.getArea(this.getValues())},getLine:function(){return new b(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new R(R.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return R.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(e>=1e-8&&e<=.99999999){var r=R.subdivide(this.getValues(),e),i=r[0],a=r[1],o=t||this.hasHandles(),s=this._segment1,l=this._segment2,u=this._path;o&&(s._handleOut._set(i[2]-i[0],i[3]-i[1]),l._handleIn._set(a[4]-a[6],a[5]-a[7]));var c=i[6],h=i[7],d=new A(new f(c,h),o&&new f(i[4]-c,i[5]-h),o&&new f(a[2]-c,a[3]-h));u?(u.insert(s._index+1,d),n=this.getNext()):(this._segment2=d,this._changed(),n=new R(d,l))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===n?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===n?.5:t?e:this.getTimeAt(e))},reversed:function(){return new R(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,r){var i=e._point,a=e._handleOut,o=t._handleIn,s=t._point,l=i.x,u=i.y,c=s.x,h=s.y,d=r?[l,u,l,u,c,h,c,h]:[l,u,l+a._x,u+a._y,c+o._x,h+o._y,c,h];return n&&n._transformCoordinates(d,d,4),d},subdivide:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7];t===n&&(t=.5);var h=1-t,d=h*r+t*a,f=h*i+t*o,p=h*a+t*s,m=h*o+t*l,g=h*s+t*u,v=h*l+t*c,y=h*d+t*p,_=h*f+t*m,b=h*p+t*g,x=h*m+t*v,w=h*y+t*b,S=h*_+t*x;return[[r,i,d,f,y,_,w,S],[w,S,b,x,g,v,u,c]]},getMonoCurves:function(e,t){var n=[],r=t?0:1,i=e[r+0],a=e[r+2],o=e[r+4],s=e[r+6];if(i>=a==a>=o&&a>=o==o>=s||R.isStraight(e))n.push(e);else{var l=[],u=h.solveQuadratic(3*(a-o)-i+s,2*(i+o)-4*a,a-i,l,1e-8,.99999999);if(u){l.sort();var c=l[0],d=R.subdivide(e,c);n.push(d[0]),u>1&&(d=R.subdivide(d[1],c=(l[1]-c)/(1-c)),n.push(d[0])),n.push(d[1])}else n.push(e)}return n},solveCubic:function(e,t,n,r,i,a){var o=e[t],s=e[t+2],l=e[t+4],u=e[t+6],c=0;if(!(o<n&&u<n&&s<n&&l<n||o>n&&u>n&&s>n&&l>n)){var d=3*(s-o),f=3*(l-s)-d;c=h.solveCubic(u-o-d-f,f,d,o-n,r,i,a)}return c},getTimeOf:function(e,t){var n=new f(e[0],e[1]),r=new f(e[6],e[7]),i=1e-7;if(null===(t.isClose(n,1e-12)?0:t.isClose(r,1e-12)?1:null))for(var a=[t.x,t.y],o=[],s=0;s<2;s++)for(var l=R.solveCubic(e,s,a[s],o,0,1),u=0;u<l;u++){var c=o[u];if(t.isClose(R.getPoint(e,c),i))return c}return t.isClose(n,i)?0:t.isClose(r,i)?1:null},getNearestTime:function(e,t){if(R.isStraight(e)){var n=e[0],r=e[1],i=e[6]-n,a=e[7]-r,o=i*i+a*a;if(0===o)return 0;var s=((t.x-n)*i+(t.y-r)*a)/o;return s<1e-12?0:s>.999999999999?1:R.getTimeOf(e,new f(n+s*i,r+s*a))}var l=Infinity,u=0;function c(n){if(n>=0&&n<=1){var r=t.getDistance(R.getPoint(e,n),!0);if(r<l)return l=r,u=n,!0}}for(var h=0;h<=100;h++)c(h/100);for(var d=.005;d>1e-8;)c(u-d)||c(u+d)||(d/=2);return u},getPart:function(e,t,n){var r=t>n;if(r){var i=t;t=n,n=i}return t>0&&(e=R.subdivide(e,t)[1]),n<1&&(e=R.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[6],a=e[7],o=3*e[2]-2*n-i,s=3*e[3]-2*r-a,l=3*e[4]-2*i-n,u=3*e[5]-2*a-r;return Math.max(o*o,l*l)+Math.max(s*s,u*u)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7];return 3*((l-n)*(r+a)-(s-t)*(i+o)+i*(t-a)-r*(n-o)+l*(a+t/3)-s*(o+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;i<2;i++)R._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);return new v(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,a,o,s,l){function u(e,t){var n=e-t,r=e+t;n<o[i]&&(o[i]=n),r>s[i]&&(s[i]=r)}var c=o[i]+(a/=2),d=s[i]-a;if(e<c||t<c||n<c||r<c||e>d||t>d||n>d||r>d)if(t<e!=t<r&&n<e!=n<r)u(e,0),u(r,0);else{var f=h.solveQuadratic(3*(t-n)-e+r,2*(e+n)-4*t,t-e,l);u(r,0);for(var p=0;p<f;p++){var m=l[p],g=1-m;1e-8<=m&&m<=.99999999&&u(g*g*g*e+3*g*g*m*t+3*g*m*m*n+m*m*m*r,a)}}}}},a.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=N[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),a.each({isStraight:function(e,t,n,r){if(t.isZero()&&n.isZero())return!0;var i=r.subtract(e);if(i.isZero())return!1;if(i.isCollinear(t)&&i.isCollinear(n)){var a=new b(e,r);if(a.getDistance(e.add(t))<1e-7&&a.getDistance(r.add(n))<1e-7){var o=i.dot(i),s=i.dot(t)/o,l=i.dot(n)/o;return s>=0&&s<=1&&l<=0&&l>=-1}}return!1},isLinear:function(e,t,n,r){var i=r.subtract(e).divide(3);return t.equals(i)&&n.negate().equals(i)}},function(e,t){this[t]=function(t){var n=this._segment1,r=this._segment2;return e(n._point,n._handleOut,r._handleIn,r._point,t)},this.statics[t]=function(t,n){var r=t[0],i=t[1],a=t[6],o=t[7];return e(new f(r,i),new f(t[2]-r,t[3]-i),new f(t[4]-a,t[5]-o),new f(a,o),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&e>=0&&e<=1?new L(this,e):null},getTimeAt:function(e,t){return R.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=f.read(arguments);return e.isZero()?[]:R.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(f.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return R.getTimeOf(this.getValues(),f.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=f.read(arguments),t=this.getValues(),n=R.getNearestTime(t,e),r=R.getPoint(t,n);return new L(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return a.each(e,function(e){this[e+"At"]=function(t,n){var r=this.getValues();return R[e](r,n?t:R.getTimeAt(r,t))},this[e+"AtTime"]=function(t){return R[e](this.getValues(),t)}},{statics:{_evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=9*(r-a)+3*(e[6]-t),l=6*(t+a)-12*r,u=3*(r-t),c=9*(i-o)+3*(e[7]-n),h=6*(n+o)-12*i,d=3*(i-n);return function(e){var t=(s*e+l)*e+u,n=(c*e+h)*e+d;return Math.sqrt(t*t+n*n)}}function t(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function r(e,t,n,r){if(null==t||t<0||t>1)return null;var i=e[0],a=e[1],o=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],p=h.isZero;p(o-i)&&p(s-a)&&(o=i,s=a),p(l-c)&&p(u-d)&&(l=c,u=d);var m,g,v=3*(o-i),y=3*(l-o)-v,_=c-i-v-y,b=3*(s-a),x=3*(u-s)-b,w=d-a-b-x;if(0===n)m=0===t?i:1===t?c:((_*t+y)*t+v)*t+i,g=0===t?a:1===t?d:((w*t+x)*t+b)*t+a;else{var S=1e-8,M=1-S;if(t<S?(m=v,g=b):t>M?(m=3*(c-l),g=3*(d-u)):(m=(3*_*t+2*y)*t+v,g=(3*w*t+2*x)*t+b),r){0===m&&0===g&&(t<S||t>M)&&(m=l-o,g=u-s);var E=Math.sqrt(m*m+g*g);E&&(m/=E,g/=E)}if(3===n){l=6*_*t+2*y,u=6*w*t+2*x;var T=Math.pow(m*m+g*g,1.5);m=0!==T?(m*u-g*l)/T:0,g=0}}return 2===n?new f(g,-m):new f(m,g)}return{statics:{classify:function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=i*(r-u)+a*(l-t)+t*u-r*l,d=3*(o*(a-r)+s*(t-i)+i*r-a*t),f=d-c,p=f-c+(t*(u-s)+r*(o-l)+l*s-u*o),m=Math.sqrt(p*p+f*f+d*d),g=0!==m?1/m:0,v=h.isZero,y="serpentine";function _(e,t,r){var i=t!==n,a=i&&t>0&&t<1,o=i&&r>0&&r<1;return!i||(a||o)&&("loop"!==e||a&&o)||(e="arch",a=o=!1),{type:e,roots:a||o?a&&o?t<r?[t,r]:[r,t]:[a?t:r]:null}}if(f*=g,d*=g,v(p*=g))return v(f)?_(v(d)?"line":"quadratic"):_(y,d/(3*f));var b=3*f*f-4*p*d;if(v(b))return _("cusp",f/(2*p));var x=b>0?Math.sqrt(b/3):Math.sqrt(-b),w=2*p;return _(b>0?y:"loop",(f+x)/w,(f-x)/w)},getLength:function(r,i,a,o){if(i===n&&(i=0),a===n&&(a=1),R.isStraight(r)){var s=r;a<1&&(s=R.subdivide(s,a)[0],i/=a),i>0&&(s=R.subdivide(s,i)[1]);var l=s[6]-s[0],u=s[7]-s[1];return Math.sqrt(l*l+u*u)}return h.integrate(o||e(r),i,a,t(i,a))},getTimeAt:function(r,i,a){if(a===n&&(a=i<0?1:0),0===i)return a;var o=Math.abs,s=i>0,l=s?a:0,u=s?1:a,c=e(r),d=R.getLength(r,l,u,c),f=o(i)-d;if(o(f)<1e-12)return s?u:l;if(f>1e-12)return null;var p=0;return h.findRoot(function(e){return p+=h.integrate(c,a,e,t(a,e)),a=e,p-i},c,a+i/d,l,u,32,1e-12)},getPoint:function(e,t){return r(e,t,0,!1)},getTangent:function(e,t){return r(e,t,1,!0)},getWeightedTangent:function(e,t){return r(e,t,1,!1)},getNormal:function(e,t){return r(e,t,2,!0)},getWeightedNormal:function(e,t){return r(e,t,2,!1)},getCurvature:function(e,t){return r(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=3*r-t-3*a+e[6],l=3*t-6*r+3*a,u=-3*t+3*r,c=3*i-n-3*o+e[7],d=3*n-6*i+3*o,f=-3*n+3*i,p=[];return h.solveCubic(9*(s*s+c*c),9*(s*l+d*c),2*(l*l+d*d)+3*(u*s+f*c),u*l+d*f,p,1e-8,.99999999),p.sort()}}}},new function(){function e(e,t,n,r,i,a,o){var s=!o&&n.getPrevious()===i,l=!o&&n!==i&&n.getNext()===i,u=1e-8,c=1-u;if(null!==r&&r>=(s?u:0)&&r<=(l?c:1)&&null!==a&&a>=(l?u:0)&&a<=(s?c:1)){var h=new L(n,r,null,o),d=new L(i,a,null,o);h._intersection=d,d._intersection=h,t&&!t(h)||L.insert(e,h,!0)}}function t(r,i,a,o,s,l,u,c,h,d,f,p,m){if(++h>=4096||++c>=40)return h;var g,v,y=i[0],_=i[1],x=i[6],w=i[7],S=b.getSignedDistance,M=S(y,_,x,w,i[2],i[3]),E=S(y,_,x,w,i[4],i[5]),T=M*E>0?3/4:4/9,C=T*Math.min(0,M,E),P=T*Math.max(0,M,E),k=S(y,_,x,w,r[0],r[1]),A=S(y,_,x,w,r[2],r[3]),I=S(y,_,x,w,r[4],r[5]),L=S(y,_,x,w,r[6],r[7]),O=function(e,t,n,r){var i,a=[0,e],o=[1/3,t],s=[2/3,n],l=[1,r],u=t-(2*e+r)/3,c=n-(e+2*r)/3;if(u*c<0)i=[[a,o,l],[a,s,l]];else{var h=u/c;i=[h>=2?[a,o,l]:h<=.5?[a,s,l]:[a,o,s,l],[a,l]]}return(u||c)<0?i.reverse():i}(k,A,I,L),N=O[0],D=O[1];if(0===M&&0===E&&0===k&&0===A&&0===I&&0===L||null==(g=n(N,D,C,P))||null==(v=n(N.reverse(),D.reverse(),C,P)))return h;var z=d+(f-d)*g,U=d+(f-d)*v;if(Math.max(m-p,U-z)<1e-9){var B=(z+U)/2,F=(p+m)/2;e(s,l,u?o:a,u?F:B,u?a:o,u?B:F)}else{r=R.getPart(r,g,v);var j,V=m-p;v-g>.8?U-z>V?(h=t(i,(j=R.subdivide(r,.5))[0],o,a,s,l,!u,c,h,p,m,z,B=(z+U)/2),h=t(i,j[1],o,a,s,l,!u,c,h,p,m,B,U)):(h=t((j=R.subdivide(i,.5))[0],r,o,a,s,l,!u,c,h,p,F=(p+m)/2,z,U),h=t(j[1],r,o,a,s,l,!u,c,h,F,m,z,U)):h=0===V||V>=1e-9?t(i,r,o,a,s,l,!u,c,h,p,m,z,U):t(r,i,a,o,s,l,u,c,h,z,U,p,m)}return h}function n(e,t,n,i){return e[0][1]<n?r(e,!0,n):t[0][1]>i?r(t,!1,i):e[0][0]}function r(e,t,n){for(var r=e[0][0],i=e[0][1],a=1,o=e.length;a<o;a++){var s=e[a][0],l=e[a][1];if(t?l>=n:l<=n)return l===n?s:r+(n-i)*(s-r)/(l-i);r=s,i=l}return null}function i(e,t,n,r,i){var a=h.isZero;if(a(r)&&a(i)){var o=R.getTimeOf(e,new f(t,n));return null===o?[]:[o]}for(var s=Math.atan2(-i,r),l=Math.sin(s),u=Math.cos(s),c=[],d=[],p=0;p<8;p+=2){var m=e[p]-t,g=e[p+1]-n;c.push(m*u-g*l,m*l+g*u)}return R.solveCubic(c,1,0,d,0,1),d}function a(t,n,r,a,o,s,l){for(var u=n[0],c=n[1],h=i(t,u,c,n[6]-u,n[7]-c),d=0,f=h.length;d<f;d++){var p=h[d],m=R.getPoint(t,p),g=R.getTimeOf(n,m);null!==g&&e(o,s,l?a:r,l?g:p,l?r:a,l?p:g)}}function o(t,n,r,i,a,o){var s=b.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);s&&e(a,o,r,R.getTimeOf(t,s),i,R.getTimeOf(n,s))}function s(n,r,i,s,l,u){var h=1e-12,d=Math.min,p=Math.max;if(p(n[0],n[2],n[4],n[6])+h>d(r[0],r[2],r[4],r[6])&&d(n[0],n[2],n[4],n[6])-h<p(r[0],r[2],r[4],r[6])&&p(n[1],n[3],n[5],n[7])+h>d(r[1],r[3],r[5],r[7])&&d(n[1],n[3],n[5],n[7])-h<p(r[1],r[3],r[5],r[7])){var m=c(n,r);if(m)for(var g=0;g<2;g++){var v=m[g];e(l,u,i,v[0],s,v[1],!0)}else{var y=R.isStraight(n),_=R.isStraight(r),b=y&&_,x=y&&!_,w=l.length;if((b?o:y||_?a:t)(x?r:n,x?n:r,x?s:i,x?i:s,l,u,x,0,0,0,1,0,1),!b||l.length===w)for(g=0;g<4;g++){var S=g>>1,M=1&g,E=6*S,T=6*M,C=new f(n[E],n[E+1]),P=new f(r[T],r[T+1]);C.isClose(P,h)&&e(l,u,i,S,s,M)}}}return l}function l(t,n,r,i){var a=R.classify(t);if("loop"===a.type){var o=a.roots;e(r,i,n,o[0],n,o[1])}return r}function c(e,t){function n(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var r=Math.abs,i=b.getDistance,a=1e-7,o=R.isStraight(e),s=R.isStraight(t),l=o&&s,u=n(e)<n(t),c=u?t:e,h=u?e:t,d=c[0],p=c[1],m=c[6]-d,g=c[7]-p;if(i(d,p,m,g,h[0],h[1],!0)<a&&i(d,p,m,g,h[6],h[7],!0)<a)!l&&i(d,p,m,g,c[2],c[3],!0)<a&&i(d,p,m,g,c[4],c[5],!0)<a&&i(d,p,m,g,h[2],h[3],!0)<a&&i(d,p,m,g,h[4],h[5],!0)<a&&(o=s=l=!0);else if(l)return null;if(o^s)return null;for(var v=[e,t],y=[],_=0;_<4&&y.length<2;_++){var x=1&_,w=1^x,S=_>>1,M=R.getTimeOf(v[x],new f(v[w][S?6:0],v[w][S?7:1]));if(null!=M){var E=x?[S,M]:[M,S];(!y.length||r(E[0]-y[0][0])>1e-8&&r(E[1]-y[0][1])>1e-8)&&y.push(E)}if(_>2&&!y.length)break}if(2!==y.length)y=null;else if(!l){var T=R.getPart(e,y[0][0],y[1][0]),C=R.getPart(t,y[0][1],y[1][1]);(r(C[2]-T[2])>a||r(C[3]-T[3])>a||r(C[4]-T[4])>a||r(C[5]-T[5])>a)&&(y=null)}return y}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?s(t,n,this,e,[]):l(t,this,[])},statics:{getOverlaps:c,getIntersections:function(e,t,n,r,i,a){var o=!t;o&&(t=e);for(var c=e.length,h=t.length,d=new Array(c),f=o?d:new Array(h),p=[],m=0;m<c;m++)d[m]=e[m].getValues(r);if(!o)for(m=0;m<h;m++)f[m]=t[m].getValues(i);for(var g=u.findCurveBoundsCollisions(d,f,1e-7),v=0;v<c;v++){var y=e[v],_=d[v];o&&l(_,y,p,n);var b=g[v];if(b)for(var x=0;x<b.length;x++){if(a&&p.length)return p;var w=b[x];(!o||w>v)&&s(_,f[w],y,t[w],p,n)}}return p},getCurveLineIntersections:i,getTimesWithTangent:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=t.normalize(),d=c.x,f=c.y,p=3*l-9*o+9*i-3*n,m=3*u-9*s+9*a-3*r,g=6*o-12*i+6*n,v=6*s-12*a+6*r,y=3*i-3*n,_=3*a-3*r,b=2*p*f-2*m*d,x=[];if(Math.abs(b)<h.CURVETIME_EPSILON){if(0!=(b=p*v-m*g)){var w=-(p*_-m*y)/b;w>=0&&w<=1&&x.push(w)}}else{var S=(g*g-4*p*y)*f*f+(-2*g*v+4*m*y+4*p*_)*d*f+(v*v-4*m*_)*d*d,M=g*f-v*d;if(S>=0&&0!=b){var E=Math.sqrt(S),T=-(M+E)/b,C=(-M+E)/b;T>=0&&T<=1&&x.push(T),C>=0&&C<=1&&x.push(C)}}return x}}}}),L=a.extend({_class:"CurveLocation",initialize:function(e,t,n,r,i){if(t>=.99999999){var a=e.getNext();a&&(t=0,e=a)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;function n(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var r=t.getCurves(),i=0;i<n;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof L){var r=this.getCurve(),i=e.getCurve(),a=r._path;if(a===i._path){var o=Math.abs,s=o(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(s<1e-7||a&&o(a.getLength()-s)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=c.instance;t&&e.push("point: "+t);var r=this.getIndex();null!=r&&e.push("index: "+r);var i=this.getTime();return null!=i&&e.push("time: "+n.number(i)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),r=1e-8,i=1-r,a=t>=r&&t<=i,o=n>=r&&n<=i;if(a&&o)return!this.isTouching();var s=this.getCurve(),l=s&&t<r?s.getPrevious():s,u=e.getCurve(),c=u&&n<r?u.getPrevious():u;if(t>i&&(s=s.getNext()),n>i&&(u=u.getNext()),!(l&&s&&c&&u))return!1;var h=[];function d(e,t){var n=e.getValues(),r=R.classify(n).roots||R.getPeaks(n),i=r.length,a=R.getLength(n,t&&i?r[i-1]:0,!t&&i?r[0]:1);h.push(i?a:a/32)}function f(e,t,n){return t<n?e>t&&e<n:e>t||e<n}a||(d(l,!0),d(s,!1)),o||(d(c,!0),d(u,!1));var p=this.getPoint(),m=Math.min.apply(Math,h),g=a?s.getTangentAtTime(t):s.getPointAt(m).subtract(p),v=a?g.negate():l.getPointAt(-m).subtract(p),y=o?u.getTangentAtTime(n):u.getPointAt(m).subtract(p),_=o?y.negate():c.getPointAt(-m).subtract(p),b=v.getAngle(),x=g.getAngle(),w=_.getAngle(),S=y.getAngle();return!!(a?f(b,w,S)^f(x,w,S)&&f(b,S,w)^f(x,S,w):f(w,b,x)^f(S,b,x)&&f(w,x,b)^f(S,x,b))},hasOverlap:function(){return!!this._overlap}},a.each(R._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var e=this.getCurve(),n=this.getTime();return null!=n&&e&&e[t](n,!0)}},{preserve:!0}),new function(){function e(e,t,n){var r=e.length,i=0,a=r-1;function o(n,i){for(var a=n+i;a>=-1&&a<=r;a+=i){var o=e[(a%r+r)%r];if(!t.getPoint().isClose(o.getPoint(),1e-7))break;if(t.equals(o))return o}return null}for(;i<=a;){var s,l=i+a>>>1,u=e[l];if(n&&(s=t.equals(u)?u:o(l,-1)||o(l,1)))return t._overlap&&(s._overlap=s._intersection._overlap=!0),s;var c=t.getPath(),h=u.getPath();(c!==h?c._id-h._id:t.getIndex()+t.getTime()-(u.getIndex()+u.getTime()))<0?a=l-1:i=l+1}return e.splice(i,0,t),t}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),r=t.length-1;r>=0;r--)e(n,t[r]._intersection,!1);return n}}}}),O=w.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,r;if(a.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var i=n[0];r=i&&Array.isArray(i[0])}else t&&(r=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(r?D:N)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t,n,r,i=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,o=new f,s=new f;function l(e,n){var r=+t[e];return a&&(r+=o[n]),r}function u(e){return new f(l(e,"x"),l(e+1,"y"))}this.clear();for(var c=0,h=i&&i.length;c<h;c++){var d=i[c],p=d[0],g=p.toLowerCase(),v=(t=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(a=p===g,"z"!==n||/[mz]/.test(g)||this.moveTo(o),g){case"m":case"l":for(var y="m"===g,_=0;_<v;_+=2)this[y?"moveTo":"lineTo"](o=u(_)),y&&(s=o,y=!1);r=o;break;case"h":case"v":var b="h"===g?"x":"y";for(o=o.clone(),_=0;_<v;_++)o[b]=l(_,b),this.lineTo(o);r=o;break;case"c":for(_=0;_<v;_+=6)this.cubicCurveTo(u(_),r=u(_+2),o=u(_+4));break;case"s":for(_=0;_<v;_+=4)this.cubicCurveTo(/[cs]/.test(n)?o.multiply(2).subtract(r):o,r=u(_),o=u(_+2)),n=g;break;case"q":for(_=0;_<v;_+=4)this.quadraticCurveTo(r=u(_),o=u(_+2));break;case"t":for(_=0;_<v;_+=2)this.quadraticCurveTo(r=/[qt]/.test(n)?o.multiply(2).subtract(r):o,o=u(_)),n=g;break;case"a":for(_=0;_<v;_+=7)this.arcTo(o=u(_+5),new m(+t[_],+t[_+1]),+t[_+2],+t[_+4],+t[_+3]);break;case"z":this.closePath(1e-12),o=s}n=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,r){var i=this===e||!e,a=this._matrix._orNullIfIdentity(),o=i?a:(n||e._matrix)._orNullIfIdentity();return i||this.getBounds(a).intersects(e.getBounds(o),1e-12)?R.getIntersections(this.getCurves(),!i&&e.getCurves(),t,a,o,r):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var e=f.read(arguments),t=this.getCurves(),n=Infinity,r=null,i=0,a=t.length;i<a;i++){var o=t[i].getNearestLocation(e);o._distance<n&&(n=o._distance,r=o)}return r},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var r=!this._children,i=r?"_segments":"_children",a=e[i],o=t[i],s=this[i];if(!a||!o||a.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=s.length,u=o.length;if(l<u)for(var c=r?A:N,h=l;h<u;h++)this.add(new c);else l>u&&this[r?"removeSegments":"removeChildren"](u,l);for(h=0;h<u;h++)s[h].interpolate(a[h],o[h],n);r&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],r=e._children?e._children.slice():[e],i=n.length,a=r.length,o=[],s=0;t=!0;for(var l=u.findItemBoundsCollisions(n,r,h.GEOMETRIC_EPSILON),c=i-1;c>=0&&t;c--){var d=n[c];t=!1;var f=l[c];if(f)for(var p=f.length-1;p>=0&&!t;p--)d.compare(r[f[p]])&&(o[f[p]]||(o[f[p]]=!0,s++),t=!0)}t=t&&s===a}return t}}),N=O.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,r=Array.isArray(e)?"object"==typeof e[0]?e:t:!e||e.size!==n||e.x===n&&e.point===n?null:t;r&&r.length>0?this.setSegments(r):(this._curves=n,this._segmentSelection=0,r||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(e){return this._closed===e._closed&&a.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),8&t){if(this._length=this._area=n,32&t)this._version++;else if(this._curves)for(var r=0,i=this._curves.length;r<i;r++)this._curves[r]._changed()}else 64&t&&(this._bounds=n)},getStyle:function(){var e=this._parent;return(e instanceof D?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,r){var i=e[r-1];"boolean"==typeof i&&(this.setClosed(i),r--),this._add(A.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var r=0;r<n;r++)e[r]=new R(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new R(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var n,r,i,a,o,s,l,u,h=this._segments,d=h.length,f=new c(t),p=new Array(6),m=!0,g=[];function v(t,c){if(t._transformCoordinates(e,p),n=p[0],r=p[1],m)g.push("M"+f.pair(n,r)),m=!1;else if(s=p[3],(o=p[2])===n&&s===r&&l===i&&u===a){if(!c){var h=n-i,d=r-a;g.push(0===h?"v"+f.number(d):0===d?"h"+f.number(h):"l"+f.pair(h,d))}}else g.push("c"+f.pair(l-i,u-a)+" "+f.pair(o-i,s-a)+" "+f.pair(n-i,r-a));i=n,a=r,l=p[4],u=p[5]}if(!d)return"";for(var y=0;y<d;y++)v(h[y]);return this._closed&&d>0&&(v(h[0],!0),g.push("z")),g.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),r=0,i=t.length;r<i;r++)t[r]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,o=null==t,s=(t=o?n.length:t,0);s<i;s++){var l=e[s];l._path&&(l=e[s]=l.clone()),l._path=this,l._index=t+s,l._selection&&this._updateSelection(l,0,l._selection)}if(o)a.push(n,e);else{n.splice.apply(n,[t,0].concat(e)),s=t+i;for(var u=n.length;s<u;s++)n[s]._index=s}if(r){var c=this._countCurves(),h=t>0&&t+i-1===c?t-1:t,d=h,f=Math.min(h+i,c);for(e._curves&&(r.splice.apply(r,[h,0].concat(e._curves)),d+=e._curves.length),s=d;s<f;s++)r.splice(s,0,new R(this,null,null));this._adjustCurves(h,f)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n,r=this._segments,i=this._curves,a=e;a<t;a++)(n=i[a])._path=this,n._segment1=r[a],n._segment2=r[a+1]||r[0],n._changed();(n=i[this._closed&&!e?r.length-1:e-1])&&(n._segment2=r[e]||r[0],n._changed()),(n=i[t])&&(n._segment1=r[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&"number"!=typeof e?this._add(A.readList(t)):this._add([A.read(t)])[0]},insert:function(e,t){var n=arguments;return n.length>2&&"number"!=typeof t?this._add(A.readList(n,1),e):this._add([A.read(n,1)],e)[0]},addSegment:function(){return this._add([A.read(arguments)])[0]},insertSegment:function(e){return this._add([A.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(A.readList(e))},insertSegments:function(e,t){return this._add(A.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=a.pick(t,this._segments.length);var r=this._segments,i=this._curves,o=r.length,s=r.splice(e,t-e),l=s.length;if(!l)return s;for(var u=0;u<l;u++){var c=s[u];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}u=e;for(var h=r.length;u<h;u++)r[u]._index=u;if(i){var d=e>0&&t===o+(this._closed?1:0)?e-1:e;for(u=(i=i.splice(d,l)).length-1;u>=0;u--)i[u]._path=null;n&&(s._curves=i.slice(1)),this._adjustCurves(d,d)}return this._changed(41),s},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){var t=this._segments,n=this._closed;e=0;for(var r=0,i=t.length;r<i;r++){var a=r+1===i;e+=R.getArea(R.getValues(t[r],t[a?0:r+1],null,a&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){1&t||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,r=e?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)t[i]._selection=r},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,r=t&&t.time;r>.99999999&&(n++,r=0);var i=this.getCurves();if(n>=0&&n<i.length){r>=1e-8&&i[n++].divideAtTime(r);var a,o=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):((a=new N(w.NO_INSERT)).insertAbove(this),a.copyAttributes(this)),a._add(o,0),this.addSegment(o[0]),a}return null},split:function(e,t){var r,i=t===n?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return null!=i?this.splitAt(i):null},join:function(e,t){var n=t||0;if(e&&e!==this){var r=e._segments,i=this.getLastSegment(),a=e.getLastSegment();if(!a)return this;i&&i._point.isClose(a._point,n)&&e.reverse();var o=e.getFirstSegment();if(i&&i._point.isClose(o._point,n))i.setHandleOut(o._handleOut),this._add(r.slice(1));else{var s=this.getFirstSegment();s&&s._point.isClose(o._point,n)&&e.reverse(),a=e.getLastSegment(),s&&s._point.isClose(a._point,n)?(s.setHandleIn(a._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}e._closed&&this._add([r[0]]),e.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?1e-7:0,i=t.length-1;i>=0;i--){var a=t[i];!a.hasHandles()&&(!a.hasLength(r)||n&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new z(this,e||.25,256,!0).parts,n=t.length,r=[],i=0;i<n;i++)r.push(new A(t[i].curve.slice(0,2)));!this._closed&&n>0&&r.push(new A(t[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(e){var t=new U(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},i=r.type||"asymmetric",a=this._segments,o=a.length,s=this._closed;function l(e,n){var r=e&&e.index;if(null!=r){var i=e.path;if(i&&i!==t)throw new Error(e._class+" "+r+" of "+i+" is not part of "+t);n&&e instanceof R&&r++}else r="number"==typeof e?e:n;return Math.min(r<0&&s?r%o:r<0?r+o:r,o-1)}var u=s&&r.from===n&&r.to===n,c=l(r.from,0),h=l(r.to,o-1);if(c>h)if(s)c-=o;else{var d=c;c=h,h=d}if(/^(?:asymmetric|continuous)$/.test(i)){var f="asymmetric"===i,p=Math.min,m=h-c+1,g=m-1,v=u?p(m,4):1,y=v,_=v,b=[];if(s||(y=p(1,c),_=p(1,o-h-1)),(g+=y+_)<=1)return;for(var x=0,w=c-y;x<=g;x++,w++)b[x]=a[(w<0?w+o:w)%o]._point;var S=b[0]._x+2*b[1]._x,M=b[0]._y+2*b[1]._y,E=2,T=g-1,C=[S],P=[M],k=[E],A=[],I=[];for(x=1;x<g;x++){var L=x<T,O=L?4:f?3:8,N=L?2:f?0:1,D=(L||f?1:2)/E;E=k[x]=(L?4:f?2:7)-D,S=C[x]=O*b[x]._x+N*b[x+1]._x-D*S,M=P[x]=O*b[x]._y+N*b[x+1]._y-D*M}for(A[T]=C[T]/k[T],I[T]=P[T]/k[T],x=g-2;x>=0;x--)A[x]=(C[x]-A[x+1])/k[x],I[x]=(P[x]-I[x+1])/k[x];A[g]=(3*b[g]._x-A[T])/2,I[g]=(3*b[g]._y-I[T])/2,x=y;var z=g-_;for(w=c;x<=z;x++,w++){var U=a[w<0?w+o:w],B=U._point,F=A[x]-B._x,j=I[x]-B._y;(u||x<z)&&U.setHandleOut(F,j),(u||x>y)&&U.setHandleIn(-F,-j)}}else for(x=c;x<=h;x++)a[x<0?x+o:x].smooth(r,!u&&x===c,!u&&x===h)},toShape:function(e){if(!this._closed)return null;var t,r,i,a,o,s,l,u=this._segments;function c(e,t){var n=u[e],r=n.getNext(),i=u[t],a=i.getNext();return n._handleOut.isZero()&&r._handleIn.isZero()&&i._handleOut.isZero()&&a._handleIn.isZero()&&r._point.subtract(n._point).isCollinear(a._point.subtract(i._point))}function d(e){var t=u[e],n=t.getNext(),r=t._handleOut,i=n._handleIn,a=.5522847498307936;if(r.isOrthogonal(i)){var o=t._point,s=n._point,l=new b(o,r,!0).intersect(new b(s,i,!0),!0);return l&&h.isZero(r.getLength()/l.subtract(o).getLength()-a)&&h.isZero(i.getLength()/l.subtract(s).getLength()-a)}return!1}function f(e,t){return u[e]._point.getDistance(u[t]._point)}if(!this.hasHandles()&&4===u.length&&c(0,2)&&c(1,3)&&(s=(o=u[1]).getPrevious(),l=o.getNext(),s._handleOut.isZero()&&o._handleIn.isZero()&&o._handleOut.isZero()&&l._handleIn.isZero()&&o._point.subtract(s._point).isOrthogonal(l._point.subtract(o._point)))?(t=E.Rectangle,r=new m(f(0,3),f(0,1)),a=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&d(0)&&d(2)&&d(4)&&d(6)&&c(1,5)&&c(3,7)?(t=E.Rectangle,i=(r=new m(f(1,6),f(0,3))).subtract(new m(f(0,7),f(1,2))).divide(2),a=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&d(0)&&d(1)&&d(2)&&d(3)&&(h.isZero(f(0,2)-f(1,3))?(t=E.Circle,i=f(0,2)/2):(t=E.Ellipse,i=new m(f(2,0)/2,f(3,1)/2)),a=u[1]._point),t){var p=this.getPosition(!0),g=new t({center:p,size:r,radius:i,insert:!1});return g.copyAttributes(this,!0),g._matrix.prepend(this._matrix),g.rotate(a.subtract(p).getAngle()+90),(e===n||e)&&g.insertAbove(this),g}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof D)return e.base.call(this,t);var n=this.getCurves(),r=t.getCurves(),i=n.length,a=r.length;if(!i||!a)return i==a;for(var o,s,l=n[0].getValues(),u=[],c=0,h=0,d=0;d<a;d++){var f=r[d].getValues();if(u.push(f),g=R.getOverlaps(l,f)){o=!d&&g[0][0]>0?a-1:d,s=g[0][1];break}}var p,m=Math.abs;for(f=u[o];l&&f;){var g;if((g=R.getOverlaps(l,f))&&m(g[0][0]-h)<1e-8){1===(h=g[1][0])&&(l=++c<i?n[c].getValues():null,h=0);var v=g[0][1];if(m(v-s)<1e-8){if(p||(p=[o,v]),1===(s=g[1][1])&&(++o>=a&&(o=0),f=u[o]||r[o].getValues(),s=0),!l)return p[0]===o&&p[1]===s;continue}}break}return!1},_hitTestSelf:function(e,t,n,r){var i,a,o,s,l,u,c=this,h=this.getStyle(),d=this._segments,f=d.length,p=this._closed,m=t._tolerancePadding,g=m,v=t.stroke&&h.hasStroke(),y=t.fill&&h.hasFill(),_=t.curves,b=v?h.getStrokeWidth()/2:y&&t.tolerance>0||_?0:null;function x(t,n){return e.subtract(t).divide(n).length<=1}function w(e,n,r){if(!t.selected||n.isSelected()){var i=e._point;if(n!==i&&(n=n.add(i)),x(n,g))return new k(r,c,{segment:e,point:n})}}function S(e,n){return(n||t.segments)&&w(e,e._point,"segment")||!n&&t.handles&&(w(e,e._handleIn,"handle-in")||w(e,e._handleOut,"handle-out"))}function M(e){s.add(e)}function E(t){var n,l=p||t._index>0&&t._index<f-1;return"round"===(l?i:a)?x(t._point,g):(s=new N({internal:!0,closed:!0}),l?t.isSmooth()||N._addBevelJoin(t,i,b,o,null,r,M,!0):"square"===a&&N._addSquareCap(t,a,b,null,r,M,!0),s.isEmpty()?void 0:s.contains(e)||(n=s.getNearestLocation(e))&&x(n.getPoint(),m))}if(null!==b&&(b>0?(i=h.getStrokeJoin(),a=h.getStrokeCap(),o=h.getMiterLimit(),g=g.add(N._getStrokePadding(b,r))):i=a="round"),!t.ends||t.segments||p){if(t.segments||t.handles)for(var T=0;T<f;T++)if(u=S(d[T]))return u}else if(u=S(d[0],!0)||S(d[f-1],!0))return u;if(null!==b){if(l=this.getNearestLocation(e)){var C=l.getTime();0===C||1===C&&f>1?E(l.getSegment())||(l=null):x(l.getPoint(),g)||(l=null)}if(!l&&"miter"===i&&f>1)for(T=0;T<f;T++){var P=d[T];if(e.getDistance(P._point)<=o*b&&E(P)){l=P.getLocation();break}}}return!l&&y&&this._contains(e)||l&&!v&&!_?new k("fill",this):l?new k(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},a.each(R._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=f.read(arguments),t=this.getCurves(),n=0,r=t.length;n<r;n++){var i=t[n].getLocationOf(e);if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,r=0,i=t.length;r<i;r++){var a=n,o=t[r];if((n+=o.getLength())>e)return o.getLocationAt(e-a)}if(t.length>0&&e<=this.getLength())return new L(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=f.read(arguments);if(e.isZero())return[];for(var t=[],n=0,r=this.getCurves(),i=0,a=r.length;i<a;i++){for(var o=r[i],s=o.getTimesWithTangent(e),l=0,u=s.length;l<u;l++){var c=n+o.getOffsetAtTime(s[l]);t.indexOf(c)<0&&t.push(c)}n+=o.length}return t}}),new function(){function e(e,t,n){var r,i,a,o,s,l,u,c,h=t._segments,d=h.length,f=new Array(6),p=!0;function m(t){if(n)t._transformCoordinates(n,f),r=f[0],i=f[1];else{var h=t._point;r=h._x,i=h._y}var d;p?(e.moveTo(r,i),p=!1):(n?(s=f[2],l=f[3]):(s=r+(d=t._handleIn)._x,l=i+d._y),s===r&&l===i&&u===a&&c===o?e.lineTo(r,i):e.bezierCurveTo(u,c,s,l,r,i)),a=r,o=i,n?(u=f[4],c=f[5]):(u=a+(d=t._handleOut)._x,c=o+d._y)}for(var g=0;g<d;g++)m(h[g]);t._closed&&d>0&&m(h[0])}return{_draw:function(t,n,r,i){var a=n.dontStart,o=n.dontFinish||n.clip,s=this.getStyle(),l=s.hasFill(),u=s.hasStroke(),c=s.getDashArray(),h=!se.support.nativeDash&&u&&c&&c.length;function d(e){return c[(e%h+h)%h]}if(a||t.beginPath(),(l||u&&!h||o)&&(e(t,this,i),this._closed&&t.closePath()),!o&&(l||u)&&(this._setStyles(t,n,r),l&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),u)){if(h){a||t.beginPath();for(var f,p=new z(this,.25,32,!1,i),m=p.length,g=-s.getDashOffset(),v=0;g>0;)g-=d(v--)+d(v--);for(;g<m;)f=g+d(v++),(g>0||f>0)&&p.drawPart(t,Math.max(g,0),Math.max(f,0)),g=f+d(v++)}t.stroke()}},_drawSelected:function(t,n){t.beginPath(),e(t,this,n),t.stroke(),function(e,t,n,r){if(!(r<=0))for(var i,a,o=r/2,s=r-2,l=o-1,u=new Array(6),c=0,h=t.length;c<h;c++){var d=t[c],f=d._selection;if(d._transformCoordinates(n,u),i=u[0],a=u[1],2&f&&m(2),4&f&&m(4),e.fillRect(i-o,a-o,r,r),s>0&&!(1&f)){var p=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(i-l,a-l,s,s),e.fillStyle=p}}function m(t){var n=u[t],r=u[t+1];i==n&&a==r||(e.beginPath(),e.moveTo(i,a),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,o,0,2*Math.PI,!0),e.fill())}}(t,this._segments,n,se.settings.handleSize)}}},new function(){function e(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new A(f.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new A(f.read(arguments))])},cubicCurveTo:function(){var t=arguments,n=f.read(t),r=f.read(t),i=f.read(t),a=e(this);a.setHandleOut(n.subtract(a._point)),this._add([new A(i,r.subtract(i))])},quadraticCurveTo:function(){var t=arguments,n=f.read(t),r=f.read(t),i=e(this)._point;this.cubicCurveTo(n.add(i.subtract(n).multiply(1/3)),n.add(r.subtract(n).multiply(1/3)),r)},curveTo:function(){var t=arguments,n=f.read(t),r=f.read(t),i=a.pick(a.read(t),.5),o=1-i,s=e(this)._point,l=n.subtract(s.multiply(o*o)).subtract(r.multiply(i*i)).divide(2*i*o);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(l,r)},arcTo:function(){var t,n,r,i,o=arguments,s=Math.abs,l=Math.sqrt,u=e(this),c=u._point,d=f.read(o),p=a.peek(o);if("boolean"==typeof(w=a.pick(p,!0)))var g=(M=c.add(d).divide(2)).add(M.subtract(c).rotate(w?-90:90));else if(a.remain(o)<=2)g=d,d=f.read(o);else if(!c.equals(d)){var v=m.read(o),y=h.isZero;if(y(v.width)||y(v.height))return this.lineTo(d);var x=a.read(o),w=!!a.read(o),S=!!a.read(o),M=c.add(d).divide(2),E=(X=c.subtract(M).rotate(-x)).x,T=X.y,C=s(v.width),P=s(v.height),k=C*C,I=P*P,R=E*E,L=T*T,O=l(R/k+L/I);if(O>1&&(k=(C*=O)*C,I=(P*=O)*P),s(O=(k*I-k*L-I*R)/(k*L+I*R))<1e-12&&(O=0),O<0)throw new Error("Cannot create an arc with the given arguments");t=new f(C*T/P,-P*E/C).multiply((S===w?-1:1)*l(O)).rotate(x).add(M),n=(r=(i=(new _).translate(t).rotate(x).scale(C,P))._inverseTransform(c)).getDirectedAngle(i._inverseTransform(d)),!w&&n>0?n-=360:w&&n<0&&(n+=360)}if(g){var N=new b(c.add(g).divide(2),g.subtract(c).rotate(90),!0),D=new b(g.add(d).divide(2),d.subtract(g).rotate(90),!0),z=new b(c,d),U=z.getSide(g);if(!(t=N.intersect(D,!0))){if(!U)return this.lineTo(d);throw new Error("Cannot create an arc with the given arguments")}n=(r=c.subtract(t)).getDirectedAngle(d.subtract(t));var B=z.getSide(t,!0);0===B?n=U*s(n):U===B&&(n+=n<0?360:-360)}if(n){for(var F=1e-5,j=s(n),V=j>=360?4:Math.ceil((j-F)/90),H=n/V,W=H*Math.PI/360,G=4/3*Math.sin(W)/(1+Math.cos(W)),$=[],q=0;q<=V;q++){var X=d,Y=null;if(q<V&&(Y=r.rotate(90).multiply(G),i?(X=i._transformPoint(r),Y=i._transformPoint(r.add(Y)).subtract(X)):X=t.add(r)),q){var Z=r.rotate(-90).multiply(G);i&&(Z=i._transformPoint(r.add(Z)).subtract(X)),$.push(new A(X,Z,Y))}else u.setHandleOut(Y);r=r.rotate(H)}this._add($)}},lineBy:function(){var t=f.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=arguments,n=f.read(t),r=f.read(t),i=a.read(t),o=e(this)._point;this.curveTo(o.add(n),o.add(r),i)},cubicCurveBy:function(){var t=arguments,n=f.read(t),r=f.read(t),i=f.read(t),a=e(this)._point;this.cubicCurveTo(a.add(n),a.add(r),a.add(i))},quadraticCurveBy:function(){var t=arguments,n=f.read(t),r=f.read(t),i=e(this)._point;this.quadraticCurveTo(i.add(n),i.add(r))},arcBy:function(){var t=arguments,n=e(this)._point,r=n.add(f.read(t)),i=a.pick(a.peek(t),!0);this.arcTo(r,"boolean"==typeof i?i:n.add(f.read(t)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){return N[t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds"](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,r,i,a){var o=e[0];if(!o)return new v;var s=new Array(6),l=o._transformCoordinates(r,new Array(6)),u=l.slice(0,2),c=u.slice(),h=new Array(2);function d(e){e._transformCoordinates(r,s);for(var t=0;t<2;t++)R._addBounds(l[t],l[t+4],s[t+2],s[t],t,a?a[t]:0,u,c,h);var n=l;l=s,s=n}for(var f=1,p=e.length;f<p;f++)d(e[f]);return t&&d(o),new v(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,r,i){var a=n.getStyle(),o=a.hasStroke(),s=a.getStrokeWidth(),l=o&&n._getStrokeMatrix(r,i),u=o&&N._getStrokePadding(s,l),c=N.getBounds(e,t,n,r,i,u);if(!o)return c;var h=s/2,d=a.getStrokeJoin(),f=a.getStrokeCap(),p=a.getMiterLimit(),g=new v(new m(u));function y(e){c=c.include(e)}function _(e){c=c.unite(g.setCenter(e._point.transform(r)))}function b(e,t){"round"===t||e.isSmooth()?_(e):N._addBevelJoin(e,t,h,p,r,l,y)}function x(e,t){"round"===t?_(e):N._addSquareCap(e,t,h,r,l,y)}var w=e.length-(t?0:1);if(w>0){for(var S=1;S<w;S++)b(e[S],d);t?b(e[0],d):(x(e[0],f),x(e[e.length-1],f))}return c},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new f(e,0).transform(t),r=new f(0,e).transform(t),i=n.getAngleInRadians(),a=n.getLength(),o=r.getLength(),s=Math.sin(i),l=Math.cos(i),u=Math.tan(i),c=Math.atan2(o*u,a),h=Math.atan2(o,u*a);return[Math.abs(a*Math.cos(c)*l+o*Math.sin(c)*s),Math.abs(o*Math.sin(h)*l+a*Math.cos(h)*s)]},_addBevelJoin:function(e,t,n,r,i,a,o,s){var l=e.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(i),h=u.getNormalAtTime(1).multiply(n).transform(a),d=l.getNormalAtTime(0).multiply(n).transform(a),p=h.getDirectedAngle(d);if((p<0||p>=180)&&(h=h.negate(),d=d.negate()),s&&o(c),o(c.add(h)),"miter"===t){var m=new b(c.add(h),new f(-h.y,h.x),!0).intersect(new b(c.add(d),new f(-d.y,d.x),!0),!0);m&&c.getDistance(m)<=r*n&&o(m)}o(c.add(d))},_addSquareCap:function(e,t,n,r,i,a,o){var s=e._point.transform(r),l=e.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(i);"square"===t&&(o&&(a(s.subtract(u)),a(s.add(u))),s=s.add(u.rotate(-90))),a(s.add(u)),a(s.subtract(u))},getHandleBounds:function(e,t,n,r,i){var a,o,s=n.getStyle();if(i.stroke&&s.hasStroke()){var l=n._getStrokeMatrix(r,i),u=s.getStrokeWidth()/2,c=u;"miter"===s.getStrokeJoin()&&(c=u*s.getMiterLimit()),"square"===s.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),a=N._getStrokePadding(u,l),o=N._getStrokePadding(c,l)}for(var h=new Array(6),d=Infinity,f=-d,p=d,m=f,g=0,y=e.length;g<y;g++){e[g]._transformCoordinates(r,h);for(var _=0;_<6;_+=2){var b=_?a:o,x=b?b[0]:0,w=b?b[1]:0,S=h[_],M=h[_+1],E=S-x,T=S+x,C=M-w,P=M+w;E<d&&(d=E),T>f&&(f=T),C<p&&(p=C),P>m&&(m=P)}}return new v(d,p,f-d,m-p)}}});N.inject({statics:new function(){var e=.5522847498307936,t=[new A([-1,0],[0,e],[0,-e]),new A([0,-1],[-e,0],[e,0]),new A([1,0],[0,-e],[0,e]),new A([0,1],[e,0],[-e,0])];function n(e,t,n){var r=a.getNamed(n),i=new N(r&&(1==r.insert?w.INSERT:0==r.insert?w.NO_INSERT:null));return i._add(e),i._closed=t,i.set(r,w.INSERT)}function r(e,r,i){for(var a=new Array(4),o=0;o<4;o++){var s=t[o];a[o]=new A(s._point.multiply(r).add(e),s._handleIn.multiply(r),s._handleOut.multiply(r))}return n(a,!0,i)}return{Line:function(){var e=arguments;return n([new A(f.readNamed(e,"from")),new A(f.readNamed(e,"to"))],!1,e)},Circle:function(){var e=arguments,t=f.readNamed(e,"center"),n=a.readNamed(e,"radius");return r(t,new m(n),e)},Rectangle:function(){var t,r=arguments,i=v.readNamed(r,"rectangle"),a=m.readNamed(r,"radius",0,{readNull:!0}),o=i.getBottomLeft(!0),s=i.getTopLeft(!0),l=i.getTopRight(!0),u=i.getBottomRight(!0);if(!a||a.isZero())t=[new A(o),new A(s),new A(l),new A(u)];else{var c=(a=m.min(a,i.getSize(!0).divide(2))).width,h=a.height,d=c*e,f=h*e;t=[new A(o.add(c,0),null,[-d,0]),new A(o.subtract(0,h),[0,f]),new A(s.add(0,h),null,[0,-f]),new A(s.add(c,0),[-d,0],null),new A(l.subtract(c,0),null,[d,0]),new A(l.add(0,h),[0,-f],null),new A(u.subtract(0,h),null,[0,f]),new A(u.subtract(c,0),[d,0])]}return n(t,!0,r)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=arguments,t=E._readEllipse(e);return r(t.center,t.radius,e)},Oval:"#Ellipse",Arc:function(){var e=arguments,t=f.readNamed(e,"from"),n=f.readNamed(e,"through"),r=f.readNamed(e,"to"),i=a.getNamed(e),o=new N(i&&0==i.insert&&w.NO_INSERT);return o.moveTo(t),o.arcTo(n,r),o.set(i)},RegularPolygon:function(){for(var e=arguments,t=f.readNamed(e,"center"),r=a.readNamed(e,"sides"),i=a.readNamed(e,"radius"),o=360/r,s=r%3==0,l=new f(0,s?-i:i),u=s?-1:.5,c=new Array(r),h=0;h<r;h++)c[h]=new A(t.add(l.rotate((h+u)*o)));return n(c,!0,e)},Star:function(){for(var e=arguments,t=f.readNamed(e,"center"),r=2*a.readNamed(e,"points"),i=a.readNamed(e,"radius1"),o=a.readNamed(e,"radius2"),s=360/r,l=new f(0,-1),u=new Array(r),c=0;c<r;c++)u[c]=new A(t.add(l.rotate(s*c).multiply(c%2?o:i)));return n(u,!0,e)}}}});var D=O.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function e(t,n){var r=n,i=r[0];i&&"number"==typeof i[0]&&(r=[r]);for(var o=n.length-1;o>=0;o--){var s=r[o];r!==n||s instanceof N||(r=a.slice(r)),Array.isArray(s)?r[o]=new N({segments:s,insert:!1}):s instanceof D&&(r.splice.apply(r,[o,1].concat(s.removeChildren())),s.remove())}return e.base.call(this,t,r)},reduce:function e(t){for(var n=this._children,r=n.length-1;r>=0;r--){var i;(i=n[r].reduce(t)).isEmpty()&&i.remove()}return n.length?e.base.call(this):((i=new N(w.NO_INSERT)).copyAttributes(this),i.insertAbove(this),this.remove(),i)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;n<r;n++)a.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,r=[],i=0,a=n.length;i<a;i++){var o=n[i],s=o._matrix;r.push(o.getPathData(e&&!s.isIdentity()?e.appended(s):e,t))}return r.join("")},_hitTestChildren:function e(t,n,r){return e.base.call(this,t,n.class===N||"path"===n.type?n:a.set({},n,{fill:!1}),r)},_draw:function(e,t,n,r){var i=this._children;if(i.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var a=0,o=i.length;a<o;a++)i[a].draw(e,t,r);if(!t.clip){this._setStyles(e,t,n);var s=this._style;s.hasFill()&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,a=r.length;i<a;i++){var o=r[i],s=o._matrix;n[o._id]||o._drawSelected(e,s.isIdentity()?t:t.appended(s))}}},new function(){function e(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return a.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}},{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new N(w.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),r=f.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(t){e(this,!0).closePath(t)}})},a.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var n,r=this._children,i=0,a=r.length;i<a;i++)n=r[i][e](t)||n;return n}},{}));O.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function o(e){return e._children||[e]}function s(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(t){for(var r=o(n),i=0,a=r.length;i<a;i++)(e=r[i])._closed||e.isEmpty()||(e.closePath(1e-12),e.getFirstSegment().setHandleIn(0,0),e.getLastSegment().setHandleOut(0,0));n=n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0)}return n}function l(e,t,n,r,i){var a=new D(w.NO_INSERT);return a.addChildren(e,!0),a=a.reduce({simplify:t}),i&&0==i.insert||a.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),a.copyAttributes(n,!0),a}function c(e){return e.hasOverlap()||e.isCrossing()}function d(e,t,n,r){if(r&&(0==r.trace||r.stroke)&&/^(subtract|intersect)$/.test(n))return f(e,t,n);var h=s(e,!0),d=t&&e!==t&&s(t,!0),p=i[n];p[n]=!0,d&&(p.subtract||p.exclude)^d.isClockwise()^h.isClockwise()&&d.reverse();var m,y=v(L.expand(h.getIntersections(d,c))),x=o(h),w=d&&o(d),S=[],M=[];function E(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];a.push(S,r._segments),a.push(M,r.getCurves()),r._overlapsOnly=!0}}function T(e){for(var t=[],n=0,r=e&&e.length;n<r;n++)t.push(M[e[n]]);return t}if(y.length){E(x),w&&E(w);for(var C=new Array(M.length),P=0,k=M.length;P<k;P++)C[P]=M[P].getValues();var A=u.findCurveBoundsCollisions(C,C,0,!0),I={};for(P=0;P<M.length;P++){var R=M[P],O=R._path._id;(I[O]=I[O]||{})[R.getIndex()]={hor:T(A[P].hor),ver:T(A[P].ver)}}for(P=0,k=y.length;P<k;P++)_(y[P]._segment,h,d,I,p);for(P=0,k=S.length;P<k;P++){var N=S[P],D=N._intersection;N._winding||_(N,h,d,I,p),D&&D._overlap||(N._path._overlapsOnly=!1)}m=b(S,p)}else m=g(w?x.concat(w):x.slice(),function(e){return!!p[e]});return l(m,!0,e,t,r)}function f(e,t,n){var r=s(e),i=s(t),a=r.getIntersections(i,c),o="subtract"===n,u="divide"===n,h={},d=[];function f(e){if(!h[e._id]&&(u||i.contains(e.getPointAt(e.getLength()/2))^o))return d.unshift(e),h[e._id]=!0}for(var p=a.length-1;p>=0;p--){var m=a[p].split();m&&(f(m)&&m.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return f(r),l(d,!1,e,t)}function p(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function m(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function g(e,t,n){var i=e&&e.length;if(i){var o=a.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),s=e.slice().sort(function(e,t){return r(t.getArea())-r(e.getArea())}),l=s[0],c=u.findItemBoundsCollisions(s,null,h.GEOMETRIC_EPSILON);null==n&&(n=l.isClockwise());for(var d=0;d<i;d++){var f=s[d],p=o[f._id],m=0,g=c[d];if(g)for(var v=null,y=g.length-1;y>=0;y--)if(g[y]<d){v=v||f.getInteriorPoint();var _=s[g[y]];if(_.contains(v)){var b=o[_._id];p.winding+=m=b.winding,p.container=b.exclude?b.container:_;break}}if(t(p.winding)===t(m))p.exclude=!0,e[p.index]=null;else{var x=p.container;f.setClockwise(x?!x.isClockwise():n)}}}return e}function v(e,t,n){var r,i,a,o=t&&[],s=!1,l=n||[],u=n&&{};function c(e){return e._path._id+"."+e._segment1._index}for(var h=(n&&n.length)-1;h>=0;h--)(d=n[h])._path&&(u[c(d)]=!0);for(h=e.length-1;h>=0;h--){var d,f,g=e[h],v=g._time,y=v,_=t&&!t(g);if((d=g._curve)&&(d!==i?(s=!d.hasHandles()||u&&u[c(d)],r=[],a=null,i=d):a>=1e-8&&(v/=a)),_)r&&r.push(g);else{if(t&&o.unshift(g),a=y,v<1e-8)f=d._segment1;else if(v>.99999999)f=d._segment2;else{var b=d.divideAtTime(v,!0);s&&l.push(d,b),f=b._segment1;for(var x=r.length-1;x>=0;x--){var w=r[x];w._time=(w._time-v)/(1-v)}}g._setSegment(f);var S=f._intersection,M=g._intersection;if(S){p(S,M);for(var E=S;E;)p(E._intersection,S),E=E._next}else f._intersection=M}}return n||m(l),o||e}function y(n,i,a,o,s){var l,u,c=Array.isArray(i)?i:i[a?"hor":"ver"],h=a?1:0,d=1^h,f=[n.x,n.y],p=f[h],m=f[d],g=1e-6,v=p-1e-9,_=p+1e-9,b=0,x=0,w=0,S=0,M=!1,E=!1,T=1,C=[];function P(r){var u=r[d+0],c=r[d+6];if(!(m<e(u,c)||m>t(u,c))){var f=r[h+0],b=r[h+2],x=r[h+4],E=r[h+6];if(u!==c){var P=m===u?0:m===c||v>t(f,b,x,E)||_<e(f,b,x,E)?1:R.solveCubic(r,d,m,C,0,1)>0?C[0]:1,k=0===P?f:1===P?E:R.getPoint(r,P)[a?"y":"x"],A=u>c?1:-1,I=l[h+6];return m!==u?(k<v?w+=A:k>_?S+=A:M=!0,k>p-g&&k<p+g&&(T/=2)):(A!==(l[d]>l[d+6]?1:-1)?f<v?w+=A:f>_&&(S+=A):f!=I&&(I<_&&k>_?(S+=A,M=!0):I>v&&k<v&&(w+=A,M=!0)),T/=4),l=r,!s&&k>v&&k<_&&0===R.getTangent(r,P)[a?"x":"y"]&&y(n,i,!a,o,!0)}(f<_&&E>v||E<_&&f>v)&&(M=!0)}}function k(n){var r=n[d+0],i=n[d+2],o=n[d+4],s=n[d+6];if(m<=t(r,i,o,s)&&m>=e(r,i,o,s))for(var l,u=n[h+0],c=n[h+2],f=n[h+4],p=n[h+6],g=v>t(u,c,f,p)||_<e(u,c,f,p)?[n]:R.getMonoCurves(n,a),y=0,b=g.length;y<b;y++)if(l=P(g[y]))return l}for(var A=0,I=c.length;A<I;A++){var L,O=c[A],N=O._path,D=O.getValues();if(!(A&&c[A-1]._path===N||(l=null,N._closed||(u=R.getValues(N.getLastCurve().getSegment2(),O.getSegment1(),null,!o))[d]!==u[d+6]&&(l=u),l))){l=D;for(var z=N.getLastCurve();z&&z!==O;){var U=z.getValues();if(U[d]!==U[d+6]){l=U;break}z=z.getPrevious()}}if(L=k(D))return L;if(A+1===I||c[A+1]._path!==N){if(u&&(L=k(u)))return L;!M||w||S||(w=S=N.isClockwise(o)^a?1:-1),b+=w,x+=S,w=S=0,M&&(E=!0,M=!1),u=null}}return b=r(b),x=r(x),{winding:t(b,x),windingL:b,windingR:x,quality:T,onPath:E}}function _(e,t,n,i,a){var o=[],s=e,l=0;do{if(_=e.getCurve()){var u=_.getLength();o.push({segment:e,curve:_,length:u}),l+=u}e=e.getNext()}while(e&&!e._intersection&&e!==s);for(var c=[.5,.25,.75],d={winding:0,quality:-1},f=0;f<c.length&&d.quality<.5;f++){u=l*c[f];for(var p=0,m=o.length;p<m;p++){var g=o[p],v=g.length;if(u<=v){var _,b=(_=g.curve)._path,x=b._parent,w=x instanceof D?x:b,S=h.clamp(_.getTimeAt(u),.001,.999),M=_.getPointAtTime(S),E=r(_.getTangentAtTime(S).y)<Math.SQRT1_2,T=null;if(a.subtract&&n){var C=(w===t?n:t)._getWinding(M,E,!0);if(w===t&&C.winding||w===n&&!C.winding){if(C.quality<1)continue;T={winding:0,quality:1}}}(T=T||y(M,i[b._id][_.getIndex()],E,!0)).quality>d.quality&&(d=T);break}u-=v}}for(p=o.length-1;p>=0;p--)o[p].segment._winding=d}function b(e,t){var n,r=[];function i(e){var n;return!(!e||e._visited||t&&(!t[(n=e._winding||{}).winding]||t.unite&&2===n.winding&&n.windingL&&n.windingR))}function a(e){if(e)for(var t=0,r=n.length;t<r;t++)if(e===n[t])return!0;return!1}function o(e){for(var t=e._segments,n=0,r=t.length;n<r;n++)t[n]._visited=!0}function s(e,t){var r=e._intersection,o=r,s=[];function l(r,o){for(;r&&r!==o;){var l=r._segment,u=l&&l._path;if(u){var c=l.getNext()||u.getFirstSegment(),h=c._intersection;l!==e&&(a(l)||a(c)||c&&i(l)&&(i(c)||h&&i(h._segment)))&&s.push(l),t&&n.push(l)}r=r._next}}if(t&&(n=[e]),r){for(l(r);r&&r._previous;)r=r._previous;l(r,o)}return s}e.sort(function(e,t){var n=e._intersection,r=t._intersection,i=!(!n||!n._overlap),a=e._path,o=t._path;return i^!(!r||!r._overlap)?i?1:-1:!n^!r?n?1:-1:a!==o?a._id-o._id:e._index-t._index});for(var l=0,u=e.length;l<u;l++){var c,h,d,f=e[l],p=i(f),m=null,g=!1,v=!0,y=[];if(p&&f._path._overlapsOnly){var _=f._path,b=f._intersection._segment._path;_.compare(b)&&(_.getArea()&&r.push(_.clone(!1)),o(_),o(b),p=!1)}for(;p;){var x=!m,S=s(f,x),M=S.shift(),E=!(g=!x&&(a(f)||a(M)))&&M;if(x&&(m=new N(w.NO_INSERT),c=null),g){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(E&&c&&(y.push(c),c=null),c||(E&&S.push(f),c={start:m._segments.length,crossings:S,visited:h=[],handleIn:d}),E&&(f=M),!i(f)){m.removeSegments(c.start);for(var T=0,C=h.length;T<C;T++)h[T]._visited=!1;h.length=0;do{(f=c&&c.crossings.shift())&&f._path||(f=null,(c=y.pop())&&(h=c.visited,d=c.handleIn))}while(c&&!i(f));if(!f)break}var P=f.getNext();m.add(new A(f._point,d,P&&f._handleOut)),f._visited=!0,h.push(f),f=P||f._path.getFirstSegment(),d=P&&P._handleIn}g&&(v&&(m.getFirstSegment().setHandleIn(d),m.setClosed(v)),0!==m.getArea()&&r.push(m))}return r}return{_getWinding:function(e,t,n){return y(e,this.getCurves(),t,n)},unite:function(e,t){return d(this,e,"unite",t)},intersect:function(e,t){return d(this,e,"intersect",t)},subtract:function(e,t){return d(this,e,"subtract",t)},exclude:function(e,t){return d(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?f(this,e,"divide"):l([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function n(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var r=!1,i=!1,o=this.getIntersections(null,function(e){return e.hasOverlap()&&(r=!0)||e.isCrossing()&&(i=!0)}),s=r&&i&&[];if(o=L.expand(o),r)for(var l=v(o,function(e){return e.hasOverlap()},s),u=l.length-1;u>=0;u--){var c=l[u],h=c._path,d=c._segment,f=d.getPrevious(),p=d.getNext();n(f,h)&&n(p,h)&&(d.remove(),f._handleOut._set(0,0),p._handleIn._set(0,0),f===d||f.getCurve().hasLength()||(p._handleIn.set(f._handleIn),f.remove()))}i&&(v(o,r&&function(e){var t=e.getCurve(),n=e.getSegment(),r=e._intersection,i=r._curve,a=r._segment;if(t&&i&&t._path&&i._path)return!0;n&&(n._intersection=null),a&&(a._intersection=null)},s),s&&m(s),t=b(a.each(t,function(e){a.push(this,e._segments)},[])));var g,y=t.length;return y>1&&e?(t!==e&&this.setChildren(t),g=this):1!==y||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),g=this),g||((g=new D(w.NO_INSERT)).addChildren(t),(g=g.reduce()).copyAttributes(this),this.replaceWith(g)),g},reorient:function(e,t){var r=this._children;return r&&r.length?this.setChildren(g(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==n&&this.setClockwise(t),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var r=this.getCurves(),i=n.y,a=[],o=[],s=0,l=r.length;s<l;s++){var u=r[s].getValues(),c=u[1],h=u[3],d=u[5],f=u[7];if(i>=e(c,h,d,f)&&i<=t(c,h,d,f))for(var p=R.getMonoCurves(u),m=0,g=p.length;m<g;m++){var v=p[m],y=v[1],_=v[7];if(y!==_&&(i>=y&&i<=_||i>=_&&i<=y)){var b=i===y?v[0]:i===_?v[6]:1===R.solveCubic(v,1,i,o,0,1)?R.getPoint(v,o[0]).x:(v[0]+v[6])/2;a.push(b)}}}a.length>1&&(a.sort(function(e,t){return e-t}),n.x=(a[0]+a[1])/2)}return n}}});var z=a.extend({_class:"PathFlattener",initialize:function(e,t,n,r,i){var a,o=[],s=[],l=0,u=1/(n||32),c=e._segments,h=c[0];function d(e,t){var n=R.getValues(e,t,i);o.push(n),f(n,e._index,0,1)}function f(e,n,i,a){if(!(a-i>u)||r&&R.isStraight(e)||R.isFlatEnough(e,t||.25)){var o=e[6]-e[0],c=e[7]-e[1],h=Math.sqrt(o*o+c*c);h>0&&s.push({offset:l+=h,curve:e,index:n,time:a})}else{var d=R.subdivide(e,.5),p=(i+a)/2;f(d[0],n,i,p),f(d[1],n,p,a)}}for(var p=1,m=c.length;p<m;p++)d(h,a=c[p]),h=a;e._closed&&d(a||h,c[0]),this.curves=o,this.parts=s,this.length=l,this.index=0},_get:function(e){for(var t,n=this.parts,r=n.length,i=this.index;t=i,i&&!(n[--i].offset<e););for(;t<r;t++){var a=n[t];if(a.offset>=e){this.index=t;var o=n[t-1],s=o&&o.index===a.index?o.time:0,l=o?o.offset:0;return{index:a.index,time:s+(a.time-s)*(e-l)/(a.offset-l)}}}return{index:n[r-1].index,time:1}},drawPart:function(e,t,n){for(var r=this._get(t),i=this._get(n),a=r.index,o=i.index;a<=o;a++){var s=R.getPart(this.curves[a],a===r.index?r.time:0,a===i.index?i.time:1);a===r.index&&e.moveTo(s[0],s[1]),e.bezierCurveTo.apply(e,s.slice(2))}}},a.each(R._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this._get(t);return R[e](this.curves[n.index],n.time)}},{})),U=a.extend({initialize:function(e){for(var t,n=this.points=[],r=e._segments,i=e._closed,a=0,o=r.length;a<o;a++){var s=r[a].point;t&&t.equals(s)||n.push(t=s.clone())}i&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=i},fit:function(e){var t=this.points,n=t.length,r=null;return n>0&&(r=[new A(t[0])],n>1&&(this.fitCubic(r,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(e,t,n,r,i,a){var o=this.points;if(r-n!=1){for(var s,l=this.chordLengthParameterize(n,r),u=Math.max(t,t*t),c=!0,h=0;h<=4;h++){var d=this.generateBezier(n,r,l,i,a),f=this.findMaxError(n,r,d,l);if(f.error<t&&c)return void this.addCurve(e,d);if(s=f.index,f.error>=u)break;c=this.reparameterize(n,r,l,d),u=f.error}var p=o[s-1].subtract(o[s+1]);this.fitCubic(e,t,n,s,i,p),this.fitCubic(e,t,s,r,p.negate(),a)}else{var m=o[n],g=o[r],v=m.getDistance(g)/3;this.addCurve(e,[m,m.add(i.normalize(v)),g.add(a.normalize(v)),g])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new A(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,r,i){for(var a=1e-12,o=Math.abs,s=this.points,l=s[e],u=s[t],c=[[0,0],[0,0]],h=[0,0],d=0,f=t-e+1;d<f;d++){var p=n[d],m=1-p,g=3*p*m,v=m*m*m,y=g*m,_=g*p,b=p*p*p,x=r.normalize(y),w=i.normalize(_),S=s[e+d].subtract(l.multiply(v+y)).subtract(u.multiply(_+b));c[0][0]+=x.dot(x),c[0][1]+=x.dot(w),c[1][0]=c[0][1],c[1][1]+=w.dot(w),h[0]+=x.dot(S),h[1]+=w.dot(S)}var M,E,T=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(o(T)>a)M=(h[0]*c[1][1]-h[1]*c[0][1])/T,E=(c[0][0]*h[1]-c[1][0]*h[0])/T;else{var C=c[0][0]+c[0][1],P=c[1][0]+c[1][1];M=E=o(C)>a?h[0]/C:o(P)>a?h[1]/P:0}var k,A,I=u.getDistance(l),R=a*I;if(M<R||E<R)M=E=I/3;else{var L=u.subtract(l);k=r.normalize(M),A=i.normalize(E),k.dot(L)-A.dot(L)>I*I&&(M=E=I/3,k=A=null)}return[l,l.add(k||r.normalize(M)),u.add(A||i.normalize(E)),u]},reparameterize:function(e,t,n,r){for(var i=e;i<=t;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);i=1;for(var a=n.length;i<a;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){for(var r=[],i=[],a=0;a<=2;a++)r[a]=e[a+1].subtract(e[a]).multiply(3);for(a=0;a<=1;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);var o=this.evaluate(3,e,n),s=this.evaluate(2,r,n),l=this.evaluate(1,i,n),u=o.subtract(t),c=s.dot(s)+u.dot(l);return h.isMachineZero(c)?n:n-u.dot(s)/c},evaluate:function(e,t,n){for(var r=t.slice(),i=1;i<=e;i++)for(var a=0;a<=e-i;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;r<=t;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);r=1;for(var i=t-e;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),a=0,o=e+1;o<t;o++){var s=this.evaluate(3,n,r[o-e]).subtract(this.points[o]),l=s.x*s.x+s.y*s.y;l>=a&&(a=l,i=o)}return{error:a,index:i}}}),B=w.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&a.isPlainObject(e)&&e.x===n&&e.y===n;this._initialize(t&&e,!t&&f.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),F=B.extend({_class:"PointText",initialize:function(){B.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new p(e.x,e.y,this,"setPoint")},setPoint:function(){var e=f.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var r=this._lines,i=this._style,a=i.hasFill(),o=i.hasStroke(),s=i.getLeading(),l=e.shadowColor;e.font=i.getFontStyle(),e.textAlign=i.getJustification();for(var u=0,c=r.length;u<c;u++){e.shadowColor=l;var h=r[u];a&&(e.fillText(h,0,0),e.shadowColor="rgba(0,0,0,0)"),o&&e.strokeText(h,0,0),e.translate(0,s)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),o=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),l=0;"left"!==a&&(l-=s/("center"===a?2:1));var u=new v(l,i?-.75*o:0,s,i*o);return e?e._transformBounds(u,u):u}}),j=a.extend(new function(){var e,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},i={transparent:[0,0,0,0]};function o(t){var n,a=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),o="rgb";if(a){var s=a[4]?4:3;n=new Array(s);for(var l=0;l<s;l++){var u=a[l+1];n[l]=parseInt(1==u.length?u+u:u,16)/255}}else if(a=t.match(/^(rgb|hsl)a?\((.*)\)$/)){o=a[1],n=a[2].trim().split(/[,\s]+/g);for(var c="hsl"===o,h=(l=0,Math.min(n.length,4));l<h;l++){var d=n[l];if(u=parseFloat(d),c)if(0===l){var f=d.match(/([a-z]*)$/)[1];u*={turn:360,rad:180/Math.PI,grad:.9}[f]||1}else l<3&&(u/=100);else l<3&&(u/=/%$/.test(d)?100:255);n[l]=u}}else{var p=i[t];if(!p)if(r){e||((e=re.getContext(1,1,{willReadFrequently:!0})).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var m=e.getImageData(0,0,1,1).data;p=i[t]=[m[0]/255,m[1]/255,m[2]/255]}else p=[0,0,0];n=p.slice()}return[o,n]}var s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(e,t,n){var r=Math.max(e,t,n),i=r-Math.min(e,t,n);return[0===i?0:60*(r==e?(t-n)/i+(t<n?6:0):r==t?(n-e)/i+2:(e-t)/i+4),0===r?0:i/r,r]},"hsb-rgb":function(e,t,n){var r,i=(e=(e/60%6+6)%6)-(r=Math.floor(e)),a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];return[a[(r=s[r])[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=0===a,s=(r+i)/2;return[o?0:60*(r==e?(t-n)/a+(t<n?6:0):r==t?(n-e)/a+2:(e-t)/a+4),o?0:s<.5?a/(r+i):a/(2-r-i),s]},"hsl-rgb":function(e,t,n){if(0===t)return[n,n,n];for(var r=[(e=(e/360%1+1)%1)+1/3,e,e-1/3],i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,o=[],s=0;s<3;s++){var l=r[s];l<0&&(l+=1),l>1&&(l-=1),o[s]=6*l<1?a+6*(i-a)*l:2*l<1?i:3*l<2?a+(i-a)*(2/3-l)*6:a}return o},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(t,function(e,r){n[r]=[],a.each(e,function(e,i){var o=a.capitalize(e),s=/^(hue|saturation)$/.test(e),l=n[r][i]="gradient"===r?"gradient"===e?function(e){var t=this._components[0];return t!==(e=V.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:function(){return f.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:+e};this["get"+o]=function(){return this._type===r||s&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(r)[i]},this["set"+o]=function(e){this._type===r||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(r),this._properties=t[r],this._type=r),this._components[i]=l.call(this,e),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function e(r){var i,s,l,u,c=arguments,h=this.__read,d=0;Array.isArray(r)&&(r=(c=r)[0]);var f=null!=r&&typeof r;if("string"===f&&r in t&&(i=r,r=c[1],Array.isArray(r)?(s=r,l=c[2]):(h&&(d=1),c=a.slice(c,1),f=typeof r)),!s){if(u="number"===f?c:"object"===f&&null!=r.length?r:null){i||(i=u.length>=3?"rgb":"gray");var p=t[i].length;l=u[p],h&&(d+=u===arguments?p+(null!=l?1:0):1),u.length>p&&(u=a.slice(u,0,p))}else if("string"===f){var m=o(r);i=m[0],4===(s=m[1]).length&&(l=s[3],s.length--)}else if("object"===f)if(r.constructor===e){if(i=r._type,s=r._components.slice(),l=r._alpha,"gradient"===i)for(var g=1,v=s.length;g<v;g++){var y=s[g];y&&(s[g]=y.clone())}}else if(r.constructor===V)i="gradient",u=c;else{var _=t[i="hue"in r?"lightness"in r?"hsl":"hsb":"gradient"in r||"stops"in r||"radial"in r?"gradient":"gray"in r?"gray":"rgb"],b=n[i];for(this._components=s=[],g=0,v=_.length;g<v;g++)null==(x=r[_[g]])&&!g&&"gradient"===i&&"stops"in r&&(x={stops:r.stops,radial:r.radial}),null!=(x=b[g].call(this,x))&&(s[g]=x);l=r.alpha}h&&i&&(d=1)}if(this._type=i||"rgb",!s)for(this._components=s=[],g=0,v=(b=n[this._type]).length;g<v;g++){var x;null!=(x=b[g].call(this,u&&u[g]))&&(s[g]=x)}return this._components=s,this._properties=t[this._type],this._alpha=l,h&&(this.__read=d),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(e){var t;return this._type===e?this._components.slice():(t=l[this._type+"-"+e])?t.apply(this,this._components):l["rgb-"+e].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new j(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=t[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=a.isPlainValue(e,!0)?j.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&a.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,r=c.instance,i=0,a=e.length;i<a;i++){var o=this._components[i];null!=o&&t.push(e[i]+": "+(n?o:r.number(o)))}return null!=this._alpha&&t.push("alpha: "+r.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function r(e){return Math.round(255*(e<0?0:e>1?1:e))}return t=[r(t[0]),r(t[1]),r(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,r=this._components,i=r[0],a=i._stops,o=r[1],s=r[2],l=r[3],u=t&&t.inverted();if(u&&(o=u._transformPoint(o),s=u._transformPoint(s),l&&(l=u._transformPoint(l))),i._radial){var c=s.getDistance(o);if(l){var h=l.subtract(o);h.getLength()>c&&(l=o.add(h.normalize(c-.1)))}var d=l||o;n=e.createRadialGradient(d.x,d.y,0,o.x,o.y,c)}else n=e.createLinearGradient(o.x,o.y,s.x,s.y);for(var f=0,p=a.length;f<p;f++){var m=a[f],g=m._offset;n.addColorStop(null==g?f/(p-1):g,m._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,r=t.length;n<r;n++){var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:t,random:function(){var e=Math.random;return new j(e(),e(),e())},_setOwner:function(e,t,n){return e&&(e._owner&&t&&e._owner!==t&&(e=e.clone()),!e._owner^!t&&(e._owner=t||null,e._setter=n||null)),e}}})},new function(){return a.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(e,t){this[t]=function(t){t=j.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),a=0,o=r.length;a<o;a++)i[a]=e(r[a],i[a]);return new j(n,i,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),V=a.extend({_class:"Gradient",initialize:function(e,t){this._id=d.get(),e&&a.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=n))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new V(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var r=0,i=t.length;r<i;r++)t[r]._owner=n;for(r=0,i=(t=this._stops=H.readList(e,0,{clone:!0})).length;r<i;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,r=t.length;if(r===n.length){for(var i=0;i<r;i++)if(!t[i].equals(n[i]))return!1;return!0}}return!1}}),H=a.extend({_class:"GradientStop",initialize:function(e,t){var r=e,i=t;"object"==typeof e&&t===n&&(Array.isArray(e)&&"number"!=typeof e[0]?(r=e[0],i=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(r=e.color,i=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(i)},clone:function(){return new H(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,r=this._offset;return a.serialize(null==r?[n]:[n,r],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){j._setOwner(this._color,null),this._color=j._setOwner(j.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),W=a.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new f,selectedColor:null},t=a.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=a.set({},t,{fillColor:new j}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},s={_class:"Style",beans:!0,initialize:function(n,i,a){this._values={},this._owner=i,this._project=i&&i._project||a||se.project,this._defaults=!i||i instanceof S?t:i instanceof B?r:e,n&&this.set(n)}};return a.each(t,function(e,t){var r=/Color$/.test(t),l="shadowOffset"===t,u=a.capitalize(t),c=i[t],h="set"+u,d="get"+u;s[h]=function(e){var n=this._owner,i=n&&n._children,a=i&&i.length>0&&!(n instanceof D);if(a)for(var o=0,s=i.length;o<s;o++)i[o]._style[h](e);if(("selectedColor"===t||!a)&&t in this._defaults){var l=this._values[t];l!==e&&(r&&(l&&(j._setOwner(l,null),l._canvasStyle=null),e&&e.constructor===j&&(e=j._setOwner(e,n,a&&h))),this._values[t]=e,n&&n._changed(c||129))}},s[d]=function(e){var i=this._owner,o=i&&i._children,s=o&&o.length>0&&!(i instanceof D);if(s&&!e)for(var u=0,c=o.length;u<c;u++){var p=o[u]._style[d]();if(u){if(!a.equals(m,p))return n}else m=p}else if(t in this._defaults){var m;if((m=this._values[t])===n)(m=this._defaults[t])&&m.clone&&(m=m.clone());else{var g=r?j:l?f:null;!g||m&&m.constructor===g||(this._values[t]=m=g.read([m],0,{readNull:!0,clone:!0}))}}return m&&r&&(m=j._setOwner(m,i,s&&h)),m},o[d]=function(e){return this._style[d](e)},o[h]=function(e){this._style[h](e)}}),a.each({Font:"FontFamily",WindingRule:"FillRule"},function(e,t){var n="get"+t,r="set"+t;s[n]=o[n]="#get"+e,s[r]=o[r]="#set"+e}),w.inject(o),s},{set:function(e){var t=e instanceof W,n=t?e._values:e;if(n)for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}},equals:function(e){function t(e,t,r){var i=e._values,o=t._values,s=t._defaults;for(var l in i){var u=o[l];if(!(r&&l in o||a.equals(i[l],u===n?s[l]:u)))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;(e=this.getFillColor())&&(e._canvasStyle=null),(e=this.getStrokeColor())&&(e._canvasStyle=null),(e=this.getShadowColor())&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=t?t:1.2*n}}),G=new function(){function e(e,t,n,r){for(var i=["","webkit","moz","Moz","ms","o"],a=t[0].toUpperCase()+t.substring(1),o=0;o<6;o++){var s=i[o],l=s?s+a:t;if(l in e){if(!n)return e[l];e[l]=r;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,r=e.ownerDocument,i=r.body,a=r.documentElement;try{n=e.getBoundingClientRect()}catch(e){n={left:0,top:0,width:0,height:0}}var o=n.left-(a.clientLeft||i.clientLeft||0),s=n.top-(a.clientTop||i.clientTop||0);if(!t){var l=r.defaultView;o+=l.pageXOffset||a.scrollLeft||i.scrollLeft,s+=l.pageYOffset||a.scrollTop||i.scrollTop}return new v(o,s,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;return new v(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){return G.getBounds(e,t).getPoint()},getSize:function(e){return G.getBounds(e,!0).getSize()},isInvisible:function(e){return G.getSize(e).equals(new m(0,0))},isInView:function(e){return!G.isInvisible(e)&&G.getViewportBounds(e).intersects(G.getBounds(e,!0))},isInserted:function(e){return i.body.contains(e)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,r){if("object"==typeof n)for(var i in n)e(t,i,!0,n[i]);else e(t,n,!0,r)}}},$={add:function(e,t){if(e)for(var n in t)for(var r=t[n],a=n.split(/[\s,]+/g),o=0,s=a.length;o<s;o++){var l=a[o];e.addEventListener(l,r,e===i&&("touchstart"===l||"touchmove"===l)&&{passive:!1})}},remove:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;a<o;a++)e.removeEventListener(i[a],r,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new f(t.pageX||t.clientX+i.documentElement.scrollLeft,t.pageY||t.clientY+i.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return $.getPoint(e).subtract(G.getOffset(t||$.getTarget(e)))}};$.requestAnimationFrame=new function(){var e,t=G.getPrefixed(r,"requestAnimationFrame"),n=!1,i=[];function a(){var e=i;i=[];for(var r=0,o=e.length;r<o;r++)e[r]();(n=t&&i.length)&&t(a)}return function(r){i.push(r),t?n||(t(a),n=!0):e||(e=setInterval(a,1e3/60))}};var q=a.extend(o,{_class:"View",initialize:function e(t,n){function a(e){return n[e]||parseInt(n.getAttribute(e),10)}function o(){var e=G.getSize(n);return e.isNaN()||e.isZero()?new m(a("width"),a("height")):e}var l;if(r&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="paper-view-"+e._id++),$.add(n,this._viewEvents);var u="none";if(G.setPrefixed(n.style,{userDrag:u,userSelect:u,touchCallout:u,contentZooming:u,tapHighlightColor:"rgba(0,0,0,0)"}),s.hasAttribute(n,"resize")){var c=this;$.add(r,this._windowEvents={resize:function(){c.setViewSize(o())}})}if(l=o(),s.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var h=this._stats.domElement,d=h.style,f=G.getOffset(n);d.position="absolute",d.left=f.x+"px",d.top=f.y+"px",i.body.appendChild(h)}}else l=new m(n),n=null;this._project=t,this._scope=t._scope,this._element=n,this._pixelRatio||(this._pixelRatio=r&&r.devicePixelRatio||1),this._setElementSize(l.width,l.height),this._viewSize=l,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new _)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!se.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;q._focused===this&&(q._focused=null),q._views.splice(q._views.indexOf(this),1),delete q._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),$.remove(this._element,this._viewEvents),$.remove(r,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:a.each(w._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;$.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;G.getPrefixed(i,"hidden")&&"true"!==s.getAttribute(t,"keepalive")||!G.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){se=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new a({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new a(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new g(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=m.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new v(new f,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return G.isInView(this._element)},isInserted:function(){return G.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var r=n.parentNode,a=i.createElement("div");a.style.fontSize=e,r.appendChild(a),t=parseFloat(G.getStyles(a).fontSize),r.removeChild(a)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},a.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=arguments,r=(t?a:f).read(n),i=f.read(n,0,{readNull:!0});return this.transform((new _)[e](r,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new _;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=f.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform((new _).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new p(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=f.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(f.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(f.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(f.read(arguments))},getEventPoint:function(e){return this.viewToProject($.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return i&&"string"==typeof t&&(t=i.getElementById(t)),new(r?X:q)(e,t)}}},new function(){if(r){var e,t,n,a,o,s=!1,l=!1,u=r.navigator;u.pointerEnabled||u.msPointerEnabled?(n="pointerdown MSPointerDown",a="pointermove MSPointerMove",o="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",a="touchmove",o="touchend touchcancel","ontouchstart"in r&&u.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",a+=" mousemove",o+=" mouseup"));var c={},h={mouseout:function(e){var t=q._focused,n=$.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var r=$.getOffset(e,t._element),i=r.x,a=Math.abs,o=a(i),s=o-(1<<25);r.x=a(s)<o?s*(i<0?-1:1):i,C(t,e,t.viewToProject(r))}},scroll:T};c[n]=function(e){var t=q._focused=E(e);s||(s=!0,t._handleMouseEvent("mousedown",e))},h[a]=function(n){var r=q._focused;if(!l){var i=E(n);i?r!==i&&(r&&C(r,n),e||(e=r),r=q._focused=t=i):t&&t===r&&(e&&!e.isInserted()&&(e=null),r=q._focused=e,e=null,T())}r&&C(r,n)},h[n]=function(){l=!0},h[o]=function(e){var t=q._focused;t&&s&&t._handleMouseEvent("mouseup",e),l=s=!1},$.add(i,h),$.add(r,{load:T});var d,f,p,m,g,v,y,_,b=!1,x=!1,w={doubleclick:"click",mousedrag:"mousemove"},S=!1,M={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:c,_handleMouseEvent:function(e,t,n){var r=this._itemEvents,i=r.native[e],a="mousemove"===e,o=this._scope.tool,l=this;function u(e){return r.virtual[e]||l.responds(e)||o&&o.responds(e)}a&&s&&u("mousedrag")&&(e="mousedrag"),n||(n=this.getEventPoint(t));var c=this.getBounds().contains(n),h=i&&c&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),w=h&&h.item||null,M=!1,E={};if(E[e.substr(5)]=!0,i&&w!==m&&(m&&P(m,null,"mouseleave",t,n),w&&P(w,null,"mouseenter",t,n),m=w),S^c&&(P(this,null,c?"mouseenter":"mouseleave",t,n),M=!0),!c&&!E.drag||n.equals(f)||(k(this,w,a?e:"mousemove",t,n,f),M=!0),S=c,E.down&&c||E.up&&d){if(k(this,w,e,t,n,d),E.down){if(_=w===v&&Date.now()-y<300,p=v=w,!x&&w){for(var T=w;T&&!T.responds("mousedrag");)T=T._parent;T&&(g=w)}d=n}else E.up&&(x||w!==p||(y=Date.now(),k(this,w,_?"doubleclick":"click",t,n,d),_=!1),p=g=null);S=!1,M=!0}f=n,M&&o&&(b=o._handleMouseEvent(e,t,n,E)||b),!1!==t.cancelable&&(b&&!E.move||E.down&&u("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,r){var i,a=this._scope,o=a.tool;function s(o){o.responds(e)&&(se=a,o.emit(e,i=i||new Z(e,t,n,r)))}this.isVisible()&&(s(this),o&&o.responds(e)&&s(o))},_countItemEvent:function(e,t){var n=this._itemEvents,r=n.native,i=n.virtual;for(var a in M)r[a]=(r[a]||0)+(M[a][e]||0)*t;i[e]=(i[e]||0)+t},statics:{updateFocus:T,_resetState:function(){s=l=b=S=!1,e=t=d=f=p=m=g=v=y=_=null}}}}function E(e){var t=$.getTarget(e);return t.getAttribute&&q._viewsById[t.getAttribute("id")]}function T(){var e=q._focused;if(!e||!e.isVisible())for(var n=0,r=q._views.length;n<r;n++)if((e=q._views[n]).isVisible()){q._focused=t=e;break}}function C(e,t,n){e._handleMouseEvent("mousemove",t,n)}function P(e,t,n,r,i,a,o){var s,l=!1;function u(e,n){if(e.responds(n)){if(s||(s=new J(n,r,i,t||e,a?i.subtract(a):null)),e.emit(n,s)&&(b=!0,s.prevented&&(x=!0),s.stopped))return l=!0}else{var o=w[n];if(o)return u(e,o)}}for(;e&&e!==o&&!u(e,n);)e=e._parent;return l}function k(e,t,n,r,i,a){return e._project.removeOn(n),x=b=!1,g&&P(g,null,n,r,i,a)||t&&t!==g&&!t.isDescendant(g)&&P(t,null,"mousedrag"===n?"mousemove":n,r,i,a,g)||P(e,g||t||e,n,r,i,a)}}),X=q.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof r.HTMLCanvasElement)){var n=m.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+a.slice(arguments,1));t=re.getCanvas(n)}var i=this._context=t.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(s.getAttribute(t,"hidpi"))){var o=r.devicePixelRatio||1,l=G.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=o/l}q.call(this,e,t),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var r=this._pixelRatio;if(e.base.call(this,t*r,n*r),1!==r){var i=this._element,a=this._context;if(!s.hasAttribute(i,"resize")){var o=i.style;o.width=t+"px",o.height=n+"px"}a.restore(),a.save(),a.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function e(t){var n,r=se.agent;if(r&&r.firefox)n=e.base.call(this,t);else{var i=this._context,a=i.font;i.font=t+" serif",n=parseFloat(i.font),i.font=a}return n},getTextWidth:function(e,t){var n=this._context,r=n.font,i=0;n.font=e;for(var a=0,o=t.length;a<o;a++)i=Math.max(i,n.measureText(t[a]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Y=a.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return K.modifiers}}),Z=Y.extend({_class:"KeyEvent",initialize:function(e,t,n,r){this.type=e,this.event=t,this.key=n,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),K=new function(){var e,t,o={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},s={tab:"\t",space:" ",enter:"\r"},l={},u={},c=new a({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=se&&se.agent;return e&&e.mac?this.meta:this.control}}});function h(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t||t===n?String.fromCharCode(e.keyCode):t,o[t]||(t.length>1?a.hyphenate(t):t.toLowerCase())}function d(t,n,r,i){var o,s=q._focused;if(l[n]=t,t?u[n]=r:delete u[n],n.length>1&&(o=a.camelize(n))in c){c[o]=t;var h=se&&se.agent;if("meta"===o&&h&&h.mac)if(t)e={};else{for(var f in e)f in u&&d(!1,f,e[f],i);e=null}}else t&&e&&(e[n]=r);s&&s._handleKeyEvent(t?"keydown":"keyup",i,n,r)}return $.add(i,{keydown:function(e){var n=h(e),r=se&&se.agent;n.length>1||r&&r.chrome&&(e.altKey||r.mac&&e.metaKey||!r.mac&&e.ctrlKey)?d(!0,n,s[n]||(n.length>1?"":n),e):t=n},keypress:function(e){if(t){var n=h(e),r=e.charCode,i=r>=32?String.fromCharCode(r):n.length>1?"":n;n!==t&&(n=i.toLowerCase()),d(!0,n,i,e),t=null}},keyup:function(e){var t=h(e);t in u&&d(!1,t,u[t],e)}}),$.add(r,{blur:function(e){for(var t in u)d(!1,t,u[t],e)}}),{modifiers:c,isDown:function(e){return!!l[e]}}},J=Y.extend({_class:"MouseEvent",initialize:function(e,t,n,r,i){this.type=e,this.event=t,this.point=n,this.target=r,this.delta=i},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Q=Y.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),ee=l.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){l.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,r){se=this._scope,r.drag&&!this.responds(e)&&(e="mousemove");var i=r.move||r.drag,a=this.responds(e),o=this.minDistance,s=this.maxDistance,l=!1,u=this;function c(e,t){var a=n,o=i?u._point:u._downPoint||a;if(i){if(u._moveCount>=0&&a.equals(o))return!1;if(o&&(null!=e||null!=t)){var s=a.subtract(o),l=s.getLength();if(l<(e||0))return!1;t&&(a=o.add(s.normalize(Math.min(l,t))))}u._moveCount++}return u._point=a,u._lastPoint=o||a,r.down&&(u._moveCount=-1,u._downPoint=a,u._downCount++),!0}function h(){a&&(l=u.emit(e,new Q(u,e,t))||l)}if(r.down)c(),h();else if(r.up)c(null,s),h();else if(a)for(;c(o,s);)h();return l}}),te=a.extend(o,{_class:"Tween",statics:{easings:new a({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:2*(2-e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,n,r,i,a,o){this.object=t;var s=typeof a,l="function"===s;this.type=l?s:"string"===s?a:"linear",this.easing=l?a:e.easings[this.type],this.duration=i,this.running=!1,this._then=null,this._startTime=null;var u=n||r;this._keys=u?Object.keys(u):[],this._parsedKeys=this._parseKeys(this._keys),this._from=u&&this._getState(n),this._to=u&&this._getState(r),!1!==o&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),n=this._keys,r=function(n){return"function"==typeof n?n(t,e):n},i=0,o=n&&n.length;i<o;i++){var s=n[i],l=r(this._from[s]),u=r(this._to[s]),c=l&&u&&l.__add&&u.__add?u.__subtract(l).__multiply(t).__add(l):(u-l)*t+l;this._setProperty(this._parsedKeys[s],c)}this.responds("update")&&this.emit("update",new a({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},r=0,i=t.length;r<i;r++){var a,o=t[r],s=this._parsedKeys[o],l=this._getProperty(s);if(e){var u=this._resolveValue(l,e[o]);this._setProperty(s,u),a=(a=this._getProperty(s))&&a.clone?a.clone():a,this._setProperty(s,l)}else a=l&&l.clone?l.clone():l;n[o]=a}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&2===t.length){var n=t[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],t[1]):t}if("string"==typeof t){var r=t.match(/^[+\-*/]=(.*)/);if(r){var i=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],i)}}}return t},_calculate:function(e,t,n){return se.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n],a=i.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[i]=a.split("/")}return t},_getProperty:function(e,t){for(var n=this.object,r=0,i=e.length-(t||0);r<i&&n;r++)n=n[e[r]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),ne=function(e){var n=new t.XMLHttpRequest;return n.open((e.method||"get").toUpperCase(),e.url,a.pick(e.async,!0)),e.mimeType&&n.overrideMimeType(e.mimeType),n.onload=function(){var t=n.status;0===t||200===t?e.onLoad&&e.onLoad.call(n,n.responseText):n.onerror()},n.onerror=function(){var t=n.status,r='Could not load "'+e.url+'" (Status: '+t+")";if(!e.onError)throw new Error(r);e.onError(r,t)},n.send(null)},re=a.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,n){if(!r)return null;var a,o=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?a=this.canvases.pop():(a=i.createElement("canvas"),o=!1);var s=a.getContext("2d",n||{});if(!s)throw new Error("Canvas "+a+" is unable to provide a 2D context.");return a.width===e&&a.height===t?o&&s.clearRect(0,0,e+1,t+1):(a.width=e,a.height=t),s.save(),a},getContext:function(e,t,n){var r=this.getCanvas(e,t,n);return r?r.getContext("2d",n||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},ie=new function(){var e,t,n,r,i,o,s,l,u,c,h,d=Math.min,f=Math.max,p=Math.abs;function m(e,t,n){return.2989*e+.587*t+.114*n}function g(e,t,n,r){var i=r-m(e,t,n),a=(r=m(u=e+i,c=t+i,h=n+i),d(u,c,h)),o=f(u,c,h);if(a<0){var s=r-a;u=r+(u-r)*r/s,c=r+(c-r)*r/s,h=r+(h-r)*r/s}if(o>255){var l=255-r,p=o-r;u=r+(u-r)*l/p,c=r+(c-r)*l/p,h=r+(h-r)*l/p}}function v(e,t,n){return f(e,t,n)-d(e,t,n)}function y(e,t,n,r){var i,a=[e,t,n],o=f(e,t,n),s=d(e,t,n);i=0===d(s=s===e?0:s===t?1:2,o=o===e?0:o===t?1:2)?1===f(s,o)?2:1:0,a[o]>a[s]?(a[i]=(a[i]-a[s])*r/(a[o]-a[s]),a[o]=r):a[i]=a[o]=0,a[s]=0,u=a[0],c=a[1],h=a[2]}var _={multiply:function(){u=i*e/255,c=o*t/255,h=s*n/255},screen:function(){u=i+e-i*e/255,c=o+t-o*t/255,h=s+n-s*n/255},overlay:function(){u=i<128?2*i*e/255:255-2*(255-i)*(255-e)/255,c=o<128?2*o*t/255:255-2*(255-o)*(255-t)/255,h=s<128?2*s*n/255:255-2*(255-s)*(255-n)/255},"soft-light":function(){var r=e*i/255;u=r+i*(255-(255-i)*(255-e)/255-r)/255,c=(r=t*o/255)+o*(255-(255-o)*(255-t)/255-r)/255,h=(r=n*s/255)+s*(255-(255-s)*(255-n)/255-r)/255},"hard-light":function(){u=e<128?2*e*i/255:255-2*(255-e)*(255-i)/255,c=t<128?2*t*o/255:255-2*(255-t)*(255-o)/255,h=n<128?2*n*s/255:255-2*(255-n)*(255-s)/255},"color-dodge":function(){u=0===i?0:255===e?255:d(255,255*i/(255-e)),c=0===o?0:255===t?255:d(255,255*o/(255-t)),h=0===s?0:255===n?255:d(255,255*s/(255-n))},"color-burn":function(){u=255===i?255:0===e?0:f(0,255-255*(255-i)/e),c=255===o?255:0===t?0:f(0,255-255*(255-o)/t),h=255===s?255:0===n?0:f(0,255-255*(255-s)/n)},darken:function(){u=i<e?i:e,c=o<t?o:t,h=s<n?s:n},lighten:function(){u=i>e?i:e,c=o>t?o:t,h=s>n?s:n},difference:function(){(u=i-e)<0&&(u=-u),(c=o-t)<0&&(c=-c),(h=s-n)<0&&(h=-h)},exclusion:function(){u=i+e*(255-i-i)/255,c=o+t*(255-o-o)/255,h=s+n*(255-s-s)/255},hue:function(){y(e,t,n,v(i,o,s)),g(u,c,h,m(i,o,s))},saturation:function(){y(i,o,s,v(e,t,n)),g(u,c,h,m(i,o,s))},luminosity:function(){g(i,o,s,m(e,t,n))},color:function(){g(e,t,n,m(i,o,s))},add:function(){u=d(i+e,255),c=d(o+t,255),h=d(s+n,255)},subtract:function(){u=f(i-e,0),c=f(o-t,0),h=f(s-n,0)},average:function(){u=(i+e)/2,c=(o+t)/2,h=(s+n)/2},negation:function(){u=255-p(255-e-i),c=255-p(255-t-o),h=255-p(255-n-s)}},b=this.nativeModes=a.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),x=re.getContext(1,1,{willReadFrequently:!0});x&&(a.each(_,function(e,t){var n="darken"===t,r=!1;x.save();try{x.fillStyle=n?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=t,x.globalCompositeOperation===t&&(x.fillStyle=n?"#a00":"#300",x.fillRect(0,0,1,1),r=x.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(e){}x.restore(),b[t]=r}),re.release(x)),this.process=function(a,d,f,p,m){var g=d.canvas,v="normal"===a;if(v||b[a])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,v||(f.globalCompositeOperation=a),f.drawImage(g,m.x,m.y),f.restore();else{var y=_[a];if(!y)return;for(var x=f.getImageData(m.x,m.y,g.width,g.height),w=x.data,S=d.getImageData(0,0,g.width,g.height).data,M=0,E=w.length;M<E;M+=4){e=S[M],i=w[M],t=S[M+1],o=w[M+1],n=S[M+2],s=w[M+2],r=S[M+3],l=w[M+3],y();var T=r*p/255,C=1-T;w[M]=T*u+C*i,w[M+1]=T*c+C*o,w[M+2]=T*h+C*s,w[M+3]=r*p+C*l}f.putImageData(x,m.x,m.y)}}},ae=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",r={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function a(e,t,n){for(var i in t){var a=t[i],o=r[i];"number"==typeof a&&n&&(a=n.number(a)),o?e.setAttributeNS(o,i,a):e.setAttribute(i,a)}return e}return{svg:e,xmlns:t,xlink:n,create:function(t,n,r){return a(i.createElementNS(e,t),n,r)},get:function(e,t){var n=r[t],i=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===i?null:i},set:a}},oe=a.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof O||e instanceof E||e instanceof B)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=a.capitalize(t),r=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:r,fromSVG:r&&a.each(r,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});new function(){var e;function n(t,n,r){var i,o=new a,s=t.getTranslation();if(n&&(t.isInvertible()?(i=(t=t._shiftless())._inverseTransform(s),s=null):i=new f,o[r?"cx":"x"]=i.x,o[r?"cy":"y"]=i.y),!t.isIdentity()){var l=t.decompose();if(l){var u=[],c=l.rotation,d=l.scaling,p=l.skewing;s&&!s.isZero()&&u.push("translate("+e.point(s)+")"),c&&u.push("rotate("+e.number(c)+")"),h.isZero(d.x-1)&&h.isZero(d.y-1)||u.push("scale("+e.point(d)+")"),p.x&&u.push("skewX("+e.number(p.x)+")"),p.y&&u.push("skewY("+e.number(p.y)+")"),o.transform=u.join(" ")}else o.transform="matrix("+t.getValues().join(",")+")"}return o}function r(t,r){for(var i=n(t._matrix),a=t._children,o=ae.create("g",i,e),s=0,l=a.length;s<l;s++){var c=a[s],h=m(c,r);if(h)if(c.isClipMask()){var d=ae.create("clipPath");d.appendChild(h),u(c,d,"clip"),ae.set(o,{"clip-path":"url(#"+d.id+")"})}else o.appendChild(h)}return o}function i(t){var r=t._type,i=t._radius,a=n(t._matrix,!0,"rectangle"!==r);if("rectangle"===r){r="rect";var o=t._size,s=o.width,l=o.height;a.x-=s/2,a.y-=l/2,a.width=s,a.height=l,i.isZero()&&(i=null)}return i&&("circle"===r?a.r=i:(a.rx=i.width,a.ry=i.height)),ae.create(r,a,e)}var o,s={Group:r,Layer:r,Raster:function(t,r){var i=n(t._matrix,!0),a=t.getSize(),o=t.getImage();return i.x-=a.width/2,i.y-=a.height/2,i.width=a.width,i.height=a.height,i.href=0==r.embedImages&&o&&o.src||t.toDataURL(),ae.create("image",i,e)},Path:function(t,r){var a=r.matchShapes;if(a){var o=t.toShape(!1);if(o)return i(o)}var s,l=t._segments,u=l.length,c=n(t._matrix);if(a&&u>=2&&!t.hasHandles())if(u>2){s=t._closed?"polygon":"polyline";for(var h=[],d=0;d<u;d++)h.push(e.point(l[d]._point));c.points=h.join(" ")}else{s="line";var f=l[0]._point,p=l[1]._point;c.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else s="path",c.d=t.getPathData(null,r.precision);return ae.create(s,c,e)},Shape:i,CompoundPath:function(t,r){var i=n(t._matrix),a=t.getPathData(null,r.precision);return a&&(i.d=a),ae.create("path",i,e)},SymbolItem:function(t,r){var i=n(t._matrix,!0),a=t._definition,o=l(a,"symbol"),s=a._item,c=s.getStrokeBounds();return o||((o=ae.create("symbol",{viewBox:e.rectangle(c)})).appendChild(m(s,r)),u(a,o,"symbol")),i.href="#"+o.id,i.x+=c.x,i.y+=c.y,i.width=c.width,i.height=c.height,i.overflow="visible",ae.create("use",i,e)},PointText:function(t){var r=ae.create("text",n(t._matrix,!0),e);return r.textContent=t._content,r}};function l(e,t){return o||(o={ids:{},svgs:{}}),e&&o.svgs[t+"-"+(e._id||e.__id||(e.__id=d.get("svg")))]}function u(e,t,n){o||l();var r=o.ids[n]=(o.ids[n]||0)+1;t.id=n+"-"+r,o.svgs[n+"-"+(e._id||e.__id)]=t}function p(e,n){var r=e,i=null;if(o){for(var a in r="svg"===e.nodeName.toLowerCase()&&e,o.svgs)i||(r||(r=ae.create("svg")).appendChild(e),i=r.insertBefore(ae.create("defs"),r.firstChild)),i.appendChild(o.svgs[a]);o=null}return n.asString?(new t.XMLSerializer).serializeToString(r):r}function m(t,n,r){var i=s[t._class],o=i&&i(t,n);if(o){var c=n.onExport;c&&(o=c(t,o,n)||o);var h=JSON.stringify(t._data);h&&"{}"!==h&&"null"!==h&&o.setAttribute("data-paper-data",h)}return o&&function(t,n,r){var i={},o=!r&&t.getParent(),s=[];return null!=t._name&&(i.id=t._name),a.each(oe,function(n){var r=n.get,c=n.type,h=t[r]();if(n.exportFilter?n.exportFilter(t,h):!o||!a.equals(o[r](),h)){if("color"===c&&null!=h){var d=h.getAlpha();d<1&&(i[n.attribute+"-opacity"]=d)}"style"===c?s.push(n.attribute+": "+h):i[n.attribute]=null==h?"none":"color"===c?h.gradient?function(t){var n=l(t,"color");if(!n){var r,i=t.getGradient(),a=i._radial,o=t.getOrigin(),s=t.getDestination();if(a){r={cx:o.x,cy:o.y,r:o.getDistance(s)};var c=t.getHighlight();c&&(r.fx=c.x,r.fy=c.y)}else r={x1:o.x,y1:o.y,x2:s.x,y2:s.y};r.gradientUnits="userSpaceOnUse",n=ae.create((a?"radial":"linear")+"Gradient",r,e);for(var h=i._stops,d=0,f=h.length;d<f;d++){var p=h[d],m=p._color,g=m.getAlpha(),v=p._offset;r={offset:null==v?d/(f-1):v},m&&(r["stop-color"]=m.toCSS(!0)),g<1&&(r["stop-opacity"]=g),n.appendChild(ae.create("stop",r,e))}u(t,n,"color")}return"url(#"+n.id+")"}(h):h.toCSS(!0):"array"===c?h.join(","):"lookup"===c?n.toSVG[h]:h}}),s.length&&(i.style=s.join(";")),1===i.opacity&&delete i.opacity,t._visible||(i.visibility="hidden"),ae.set(n,i,e)}(t,o,r)}function g(t){return t||(t={}),e=new c(t.precision),t}w.inject({exportSVG:function(e){return p(m(this,e=g(e),!0),e)}}),x.inject({exportSVG:function(t){t=g(t);var r=this._children,i=this.getView(),o=a.pick(t.bounds,"view"),s=t.matrix||"view"===o&&i._matrix,l=s&&_.read([s]),u="view"===o?new v([0,0],i.getViewSize()):"content"===o?w._getBounds(r,l,{stroke:!0}).rect:v.read([o],0,{readNull:!0}),c={version:"1.1",xmlns:ae.svg,"xmlns:xlink":ae.xlink};u&&(c.width=u.width,c.height=u.height,(u.x||0===u.x||u.y||0===u.y)&&(c.viewBox=e.rectangle(u)));var h=ae.create("svg",c,e),d=h;l&&!l.isIdentity()&&(d=h.appendChild(ae.create("g",n(l),e)));for(var f=0,y=r.length;f<y;f++)d.appendChild(m(r[f],t,!0));return p(h,t)}})},new function(){var e,o={};function s(t,n,r,i,a,o){var s=ae.get(t,n)||o,l=null==s?i?null:r?"":0:r?s:parseFloat(s);return/%\s*$/.test(s)?l/100*(a?1:e[/x|^width/.test(n)?"width":"height"]):l}function l(e,t,n,r,i,a,o){return t=s(e,t||"x",!1,r,i,a),n=s(e,n||"y",!1,r,i,o),!r||null!=t&&null!=n?new f(t,n):null}function u(e,t,n,r,i){return t=s(e,t||"width",!1,r,i),n=s(e,n||"height",!1,r,i),!r||null!=t&&null!=n?new m(t,n):null}function c(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?A(e)||e:"lookup"===t?n[e]:e}function h(e,t,n,r){var i=e.childNodes,a="clippath"===t,o="defs"===t,s=new S,l=s._project,u=l._currentStyle,c=[];if(a||o||(s=k(s,e,r),l._currentStyle=s._style.clone()),r)for(var h=e.querySelectorAll("defs"),d=0,f=h.length;d<f;d++)I(h[d],n,!1);for(d=0,f=i.length;d<f;d++){var p,m=i[d];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(p=I(m,n,!1))||p instanceof P||c.push(p)}return s.addChildren(c),a&&(s=k(s.reduce(),e,r)),l._currentStyle=u,(a||o)&&(s.remove(),s=null),s}function d(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;i<a;i+=2)r.push(new f(parseFloat(n[i]),parseFloat(n[i+1])));var o=new N(r);return"polygon"===t&&o.closePath(),o}function p(e,t){var n,r=(s(e,"href",!0)||"").substring(1),i="radialgradient"===t;if(r)(n=o[r].getGradient())._radial^i&&((n=n.clone())._radial=i);else{for(var a=e.childNodes,u=[],c=0,h=a.length;c<h;c++){var d=a[c];1===d.nodeType&&u.push(k(new H,d))}n=new V(u,i)}var f,p,m,g="userSpaceOnUse"!==s(e,"gradientUnits",!0);return i?(p=(f=l(e,"cx","cy",!1,g,"50%","50%")).add(s(e,"r",!1,!1,g,"50%"),0),m=l(e,"fx","fy",!0,g)):(f=l(e,"x1","y1",!1,g,"0%","0%"),p=l(e,"x2","y2",!1,g,"100%","0%")),k(new j(n,f,p,m),e)._scaleToBounds=g,null}var g={"#document":function(e,t,n,r){for(var i=e.childNodes,a=0,o=i.length;a<o;a++){var s=i[a];if(1===s.nodeType)return I(s,n,r)}},g:h,svg:h,clippath:h,polygon:d,polyline:d,path:function(e){return O.create(e.getAttribute("d"))},lineargradient:p,radialgradient:p,image:function(e){var t=new T(s(e,"href",!0));return t.on("load",function(){var t=u(e);this.setSize(t);var n=l(e).add(t.divide(2));this._matrix.append((new _).translate(n))}),t},symbol:function(e,t,n,r){return new P(h(e,t,n,r),!0)},defs:h,use:function(e){var t=(s(e,"href",!0)||"").substring(1),n=o[t],r=l(e);return n?n instanceof P?n.place(r):n.clone().translate(r):null},circle:function(e){return new E.Circle(l(e,"cx","cy"),s(e,"r"))},ellipse:function(e){return new E.Ellipse({center:l(e,"cx","cy"),radius:u(e,"rx","ry")})},rect:function(e){return new E.Rectangle(new v(l(e),u(e)),u(e,"rx","ry"))},line:function(e){return new N.Line(l(e,"x1","y1"),l(e,"x2","y2"))},text:function(e){var t=new F(l(e).add(l(e,"dx","dy")));return t.setContent(e.textContent.trim()||""),t},switch:h};function y(e,t,n,r){if(e.transform){for(var i=(r.getAttribute(n)||"").split(/\)\s*/g),a=new _,o=0,s=i.length;o<s;o++){var l=i[o];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),d=0,f=h.length;d<f;d++)h[d]=parseFloat(h[d]);switch(c){case"matrix":a.append(new _(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":a.rotate(h[0],h[1]||0,h[2]||0);break;case"translate":a.translate(h[0],h[1]||0);break;case"scale":a.scale(h);break;case"skewX":a.skew(h[0],0);break;case"skewY":a.skew(0,h[0])}}e.transform(a)}}function b(e,t,n){var r="fill-opacity"===n?"getFillColor":"getStrokeColor",i=e[r]&&e[r]();i&&i.setAlpha(parseFloat(t))}var M=a.set(a.each(oe,function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](c(n,e.type,e.fromSVG)),"color"===e.type)){var r=t[e.get]();if(r&&r._scaleToBounds){var i=t.getBounds();r.transform((new _).translate(i.getPoint()).scale(i.getSize()))}}}},{}),{id:function(e,t){o[t]=e,e.setName&&e.setName(t)},"clip-path":function(e,t){var n=A(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof S))return new S(n,e);e.insertChild(0,n)}},gradientTransform:y,transform:y,"fill-opacity":b,"stroke-opacity":b,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,r,i){var a,o=new v(c(t,"array")),s=u(r,null,null,!0);if(e instanceof S){var l=s?s.divide(o.getSize()):1,h=(new _).scale(l).translate(o.getPoint().negate());a=e}else e instanceof P&&(s&&o.setSize(s),a=e._item);if(a){if("visible"!==C(r,"overflow",i)){var d=new E.Rectangle(o);d.setClipMask(!0),a.addChild(d)}h&&a.transform(h)}}});function C(e,t,r){var i=e.attributes[t],o=i&&i.value;if(!o&&e.style){var s=a.camelize(t);(o=e.style[s])||r.node[s]===r.parent[s]||(o=r.node[s])}return o?"none"===o?null:o:n}function k(e,t,r){var i=t.parentNode,o={node:G.getStyles(t)||{},parent:!r&&!/^defs$/i.test(i.tagName)&&G.getStyles(i)||{}};return a.each(M,function(r,i){var a=C(t,i,o);e=a!==n&&r(e,a,i,t,o)||e}),e}function A(e){var t=e&&e.match(/\((?:["'#]*)([^"')]+)/),n=t&&t[1],i=n&&o[r?n.replace(r.location.href.split("#")[0]+"#",""):n];return i&&i._scaleToBounds&&((i=i.clone())._scaleToBounds=!0),i}function I(t,n,r){var s,l,c,h=t.nodeName.toLowerCase(),d="#document"!==h,f=i.body;r&&d&&(e=se.getView().getSize(),e=u(t,null,null,!0)||e,s=ae.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),l=t.parentNode,c=t.nextSibling,s.appendChild(t),f.appendChild(s));var p=se.settings,m=p.applyMatrix,v=p.insertItems;p.applyMatrix=!1,p.insertItems=!1;var y=g[h],_=y&&y(t,h,n,r)||null;if(p.insertItems=v,p.applyMatrix=m,_){!d||_ instanceof S||(_=k(_,t,r));var b=n.onImport,x=d&&t.getAttribute("data-paper-data");b&&(_=b(t,_,n)||_),n.expandShapes&&_ instanceof E&&(_.remove(),_=_.toPath()),x&&(_._data=JSON.parse(x))}return s&&(f.removeChild(s),l&&(c?l.insertBefore(t,c):l.appendChild(t))),r&&(o={},_&&a.pick(n.applyMatrix,m)&&_.matrix.apply(!0,!0)),_}function R(e,r,a){if(!e)return null;r="function"==typeof r?{onLoad:r}:r||{};var o=se,s=null;function l(i){try{var l="object"==typeof i?i:(new t.DOMParser).parseFromString(i.trim(),"image/svg+xml");if(!l.nodeName)throw l=null,new Error("Unsupported SVG source: "+e);se=o,s=I(l,r,!0),r&&!1===r.insert||a._insertItem(n,s);var c=r.onLoad;c&&c(s,i)}catch(e){u(e)}}function u(e,t){var n=r.onError;if(!n)throw new Error(e);n(e,t)}if("string"!=typeof e||/^[\s\S]*</.test(e)){if("undefined"!=typeof File&&e instanceof File){var c=new FileReader;return c.onload=function(){l(c.result)},c.onerror=function(){u(c.error)},c.readAsText(e)}l(e)}else{var h=i.getElementById(e);h?l(h):ne({url:e,async:!0,onLoad:l,onError:u})}return s}w.inject({importSVG:function(e,t){return R(e,t,this)}}),x.inject({importSVG:function(e,t){return this.activate(),R(e,t,this)}})},a.exports.PaperScript=function(){var e,o,l,u=this,c=u.acorn;if(!c)try{c=Wu}catch(e){}function h(e,t){return(u.acorn||c).parse(e,t)}c||(c=e=o={},l=function(e){var t,n,r,i;e.version="0.5.0",e.parse=function(e,i){return n=String(e),r=n.length,o(i),$e(),function(e){v=y=s,t.locations&&(_=new Ge),b=w=null,x=[],Ke();var n=e||ut(),r=!0;for(e||(n.body=[]);d!==A;){var i=xt();n.body.push(i),r&&dt(i)&&ot(!0),r=!1}return ht(n,"Program")}(t.program)};var a=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function o(e){for(var n in t=e||{},a)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=a[n]);i=t.sourceFile||null}var s,l,u,c,h,d,f,p,m,g,v,y,_,b,x,w,S=e.getLineInfo=function(e,t){for(var n=1,r=0;;){Ve.lastIndex=r;var i=Ve.exec(e);if(!(i&&i.index<t))break;++n,r=i.index+i[0].length}return{line:n,column:t-r}};function M(e,t){var r=S(n,e),i=new SyntaxError(t+=" ("+r.line+":"+r.column+")");throw i.pos=e,i.loc=r,i.raisedAt=s,i}e.tokenize=function(e,i){n=String(e),r=n.length,o(i),$e();var a={};function v(e){return y=u,Ke(e),a.start=l,a.end=u,a.startLoc=c,a.endLoc=h,a.type=d,a.value=f,a}return v.jumpTo=function(e,r){var i;if(s=e,t.locations)for(m=1,g=Ve.lastIndex=0;(i=Ve.exec(n))&&i.index<e;)++m,g=i.index+i[0].length;p=r,Ze()},v};var E=[],T={type:"num"},C={type:"regexp"},P={type:"string"},k={type:"name"},A={type:"eof"},I={keyword:"break"},R={keyword:"case",beforeExpr:!0},L={keyword:"catch"},O={keyword:"continue"},N={keyword:"debugger"},D={keyword:"default"},z={keyword:"do",isLoop:!0},U={keyword:"else",beforeExpr:!0},B={keyword:"finally"},F={keyword:"for",isLoop:!0},j={keyword:"function"},V={keyword:"if"},H={keyword:"return",beforeExpr:!0},W={keyword:"switch"},G={keyword:"throw",beforeExpr:!0},$={keyword:"try"},q={keyword:"var"},X={keyword:"while",isLoop:!0},Y={keyword:"with"},Z={keyword:"new",beforeExpr:!0},K={keyword:"this"},J={keyword:"null",atomValue:null},Q={keyword:"true",atomValue:!0},ee={keyword:"false",atomValue:!1},te={keyword:"in",binop:7,beforeExpr:!0},ne={break:I,case:R,catch:L,continue:O,debugger:N,default:D,do:z,else:U,finally:B,for:F,function:j,if:V,return:H,switch:W,throw:G,try:$,var:q,while:X,with:Y,null:J,true:Q,false:ee,new:Z,in:te,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:K,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},ie={type:"]"},ae={type:"{",beforeExpr:!0},oe={type:"}"},se={type:"(",beforeExpr:!0},le={type:")"},ue={type:",",beforeExpr:!0},ce={type:";",beforeExpr:!0},he={type:":",beforeExpr:!0},de={type:"."},fe={type:"?",beforeExpr:!0},pe={binop:10,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},ve={postfix:!0,prefix:!0,isUpdate:!0},ye={prefix:!0,beforeExpr:!0},_e={binop:1,beforeExpr:!0},be={binop:2,beforeExpr:!0},xe={binop:3,beforeExpr:!0},we={binop:4,beforeExpr:!0},Se={binop:5,beforeExpr:!0},Me={binop:6,beforeExpr:!0},Ee={binop:7,beforeExpr:!0},Te={binop:8,beforeExpr:!0},Ce={binop:9,prefix:!0,beforeExpr:!0},Pe={binop:10,beforeExpr:!0};for(var ke in e.tokTypes={bracketL:re,bracketR:ie,braceL:ae,braceR:oe,parenL:se,parenR:le,comma:ue,semi:ce,colon:he,dot:de,question:fe,slash:pe,eq:me,name:k,eof:A,num:T,regexp:C,string:P},ne)e.tokTypes["_"+ke]=ne[ke];function Ae(e){e=e.split(" ");var t="",n=[];e:for(var r=0;r<e.length;++r){for(var i=0;i<n.length;++i)if(n[i][0].length==e[r].length){n[i].push(e[r]);continue e}n.push([e[r]])}function a(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){for(n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){",r=0;r<n.length;++r){var o=n[r];t+="case "+o[0].length+":",a(o)}t+="}"}else a(e);return new Function("str",t)}var Ie,Re=Ae("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Le=Ae("class enum extends super const export import"),Oe=Ae("implements interface let package private protected public static yield"),Ne=Ae("eval arguments"),De=Ae("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),ze=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ue="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Be=new RegExp("["+Ue+"]"),Fe=new RegExp("["+Ue+"------------------------------------------------------------------------------------------------------------------------------------------]"),je=/[\n\r\u2028\u2029]/,Ve=/\r\n|[\n\r\u2028\u2029]/g,He=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&Be.test(String.fromCharCode(e)))},We=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&Fe.test(String.fromCharCode(e))))};function Ge(){this.line=m,this.column=s-g}function $e(){m=1,s=g=0,p=!0,Ze()}function qe(e,n){u=s,t.locations&&(h=new Ge),d=e,Ze(),f=n,p=e.beforeExpr}function Xe(){var e,r=t.onComment&&t.locations&&new Ge,i=s,a=n.indexOf("*/",s+=2);if(-1===a&&M(s-2,"Unterminated comment"),s=a+2,t.locations)for(Ve.lastIndex=i;(e=Ve.exec(n))&&e.index<s;)++m,g=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(i+2,a),i,s,r,t.locations&&new Ge)}function Ye(){for(var e=s,i=t.onComment&&t.locations&&new Ge,a=n.charCodeAt(s+=2);s<r&&10!==a&&13!==a&&8232!==a&&8233!==a;)++s,a=n.charCodeAt(s);t.onComment&&t.onComment(!1,n.slice(e+2,s),e,s,i,t.locations&&new Ge)}function Ze(){for(;s<r;){var e=n.charCodeAt(s);if(32===e)++s;else if(13===e)++s,10===(i=n.charCodeAt(s))&&++s,t.locations&&(++m,g=s);else if(10===e||8232===e||8233===e)++s,t.locations&&(++m,g=s);else if(e>8&&e<14)++s;else if(47===e){var i;if(42===(i=n.charCodeAt(s+1)))Xe();else{if(47!==i)break;Ye()}}else if(160===e)++s;else{if(!(e>=5760&&ze.test(String.fromCharCode(e))))break;++s}}}function Ke(e){if(e?s=l+1:l=s,t.locations&&(c=new Ge),e)return Qe();if(s>=r)return qe(A);var i=n.charCodeAt(s);if(He(i)||92===i)return it();var a=function(e){switch(e){case 46:return function(){var e=n.charCodeAt(s+1);return e>=48&&e<=57?tt(!0):(++s,qe(de))}();case 40:return++s,qe(se);case 41:return++s,qe(le);case 59:return++s,qe(ce);case 44:return++s,qe(ue);case 91:return++s,qe(re);case 93:return++s,qe(ie);case 123:return++s,qe(ae);case 125:return++s,qe(oe);case 58:return++s,qe(he);case 63:return++s,qe(fe);case 48:var i=n.charCodeAt(s+1);if(120===i||88===i)return function(){s+=2;var e=et(16);return null==e&&M(l+2,"Expected hexadecimal number"),He(n.charCodeAt(s))&&M(s,"Identifier directly after number"),qe(T,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return tt(!1);case 34:case 39:return function(e){s++;for(var i="";;){s>=r&&M(l,"Unterminated string constant");var a=n.charCodeAt(s);if(a===e)return++s,qe(P,i);if(92===a){a=n.charCodeAt(++s);var o=/^[0-7]+/.exec(n.slice(s,s+3));for(o&&(o=o[0]);o&&parseInt(o,8)>255;)o=o.slice(0,-1);if("0"===o&&(o=null),++s,o)w&&M(s-2,"Octal literal in strict mode"),i+=String.fromCharCode(parseInt(o,8)),s+=o.length-1;else switch(a){case 110:i+="\n";break;case 114:i+="\r";break;case 120:i+=String.fromCharCode(nt(2));break;case 117:i+=String.fromCharCode(nt(4));break;case 85:i+=String.fromCharCode(nt(8));break;case 116:i+="\t";break;case 98:i+="\b";break;case 118:i+="\v";break;case 102:i+="\f";break;case 48:i+="\0";break;case 13:10===n.charCodeAt(s)&&++s;case 10:t.locations&&(g=s,++m);break;default:i+=String.fromCharCode(a)}}else 13!==a&&10!==a&&8232!==a&&8233!==a||M(l,"Unterminated string constant"),i+=String.fromCharCode(a),++s}}(e);case 47:return function(){var e=n.charCodeAt(s+1);return p?(++s,Qe()):61===e?Je(ge,2):Je(pe,1)}();case 37:case 42:return 61===n.charCodeAt(s+1)?Je(ge,2):Je(Pe,1);case 124:case 38:return function(e){var t=n.charCodeAt(s+1);return t===e?Je(124===e?_e:be,2):61===t?Je(ge,2):Je(124===e?xe:Se,1)}(e);case 94:return 61===n.charCodeAt(s+1)?Je(ge,2):Je(we,1);case 43:case 45:return function(e){var t=n.charCodeAt(s+1);return t===e?45==t&&62==n.charCodeAt(s+2)&&je.test(n.slice(y,s))?(s+=3,Ye(),Ze(),Ke()):Je(ve,2):61===t?Je(ge,2):Je(Ce,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(s+1),r=1;return t===e?(r=62===e&&62===n.charCodeAt(s+2)?3:2,61===n.charCodeAt(s+r)?Je(ge,r+1):Je(Te,r)):33==t&&60==e&&45==n.charCodeAt(s+2)&&45==n.charCodeAt(s+3)?(s+=4,Ye(),Ze(),Ke()):(61===t&&(r=61===n.charCodeAt(s+2)?3:2),Je(Ee,r))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(s+1)?Je(Me,61===n.charCodeAt(s+2)?3:2):Je(61===e?me:ye,1)}(e);case 126:return Je(ye,1)}return!1}(i);if(!1===a){var o=String.fromCharCode(i);if("\\"===o||Be.test(o))return it();M(s,"Unexpected character '"+o+"'")}return a}function Je(e,t){var r=n.slice(s,s+t);s+=t,qe(e,r)}function Qe(){for(var e,t,i=s;;){s>=r&&M(i,"Unterminated regular expression");var a=n.charAt(s);if(je.test(a)&&M(i,"Unterminated regular expression"),e)e=!1;else{if("["===a)t=!0;else if("]"===a&&t)t=!1;else if("/"===a&&!t)break;e="\\"===a}++s}var o=n.slice(i,s);++s;var l=rt();l&&!/^[gmsiy]*$/.test(l)&&M(i,"Invalid regexp flag");try{var u=new RegExp(o,l)}catch(e){e instanceof SyntaxError&&M(i,e.message),M(e)}return qe(C,u)}function et(e,t){for(var r=s,i=0,a=0,o=null==t?Infinity:t;a<o;++a){var l,u=n.charCodeAt(s);if((l=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:Infinity)>=e)break;++s,i=i*e+l}return s===r||null!=t&&s-r!==t?null:i}function tt(e){var t=s,r=!1,i=48===n.charCodeAt(s);e||null!==et(10)||M(t,"Invalid number"),46===n.charCodeAt(s)&&(++s,et(10),r=!0);var a=n.charCodeAt(s);69!==a&&101!==a||(43!==(a=n.charCodeAt(++s))&&45!==a||++s,null===et(10)&&M(t,"Invalid number"),r=!0),He(n.charCodeAt(s))&&M(s,"Identifier directly after number");var o,l=n.slice(t,s);return r?o=parseFloat(l):i&&1!==l.length?/[89]/.test(l)||w?M(t,"Invalid number"):o=parseInt(l,8):o=parseInt(l,10),qe(T,o)}function nt(e){var t=et(16,e);return null===t&&M(l,"Bad character escape sequence"),t}function rt(){Ie=!1;for(var e,t=!0,r=s;;){var i=n.charCodeAt(s);if(We(i))Ie&&(e+=n.charAt(s)),++s;else{if(92!==i)break;Ie||(e=n.slice(r,s)),Ie=!0,117!=n.charCodeAt(++s)&&M(s,"Expecting Unicode escape sequence \\uXXXX"),++s;var a=nt(4),o=String.fromCharCode(a);o||M(s-1,"Invalid Unicode escape"),(t?He(a):We(a))||M(s-4,"Invalid Unicode escape"),e+=o}t=!1}return Ie?e:n.slice(r,s)}function it(){var e=rt(),t=k;return!Ie&&De(e)&&(t=ne[e]),qe(t,e)}function at(){v=l,y=u,_=h,Ke()}function ot(e){if(w=e,s=l,t.locations)for(;s<g;)g=n.lastIndexOf("\n",g-2)+1,--m;Ze(),Ke()}function st(){this.type=null,this.start=l,this.end=null}function lt(){this.start=c,this.end=null,null!==i&&(this.source=i)}function ut(){var e=new st;return t.locations&&(e.loc=new lt),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function ct(e){var n=new st;return n.start=e.start,t.locations&&(n.loc=new lt,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function ht(e,n){return e.type=n,e.end=y,t.locations&&(e.loc.end=_),t.ranges&&(e.range[1]=y),e}function dt(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function ft(e){if(d===e)return at(),!0}function pt(){return!t.strictSemicolons&&(d===A||d===oe||je.test(n.slice(y,l)))}function mt(){ft(ce)||pt()||vt()}function gt(e){d===e?at():vt()}function vt(){M(l,"Unexpected token")}function yt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&M(e.start,"Assigning to rvalue"),w&&"Identifier"===e.type&&Ne(e.name)&&M(e.start,"Assigning to "+e.name+" in strict mode")}var _t={kind:"loop"},bt={kind:"switch"};function xt(){(d===pe||d===ge&&"/="==f)&&Ke(!0);var e=d,r=ut();switch(e){case I:case O:at();var i=e===I;ft(ce)||pt()?r.label=null:d!==k?vt():(r.label=Dt(),mt());for(var a=0;a<x.length;++a){var o=x[a];if(null==r.label||o.name===r.label.name){if(null!=o.kind&&(i||"loop"===o.kind))break;if(r.label&&i)break}}return a===x.length&&M(r.start,"Unsyntactic "+e.keyword),ht(r,i?"BreakStatement":"ContinueStatement");case N:return at(),mt(),ht(r,"DebuggerStatement");case z:return at(),x.push(_t),r.body=xt(),x.pop(),gt(X),r.test=wt(),mt(),ht(r,"DoWhileStatement");case F:if(at(),x.push(_t),gt(se),d===ce)return Mt(r,null);if(d===q){var s=ut();return at(),Tt(s,!0),ht(s,"VariableDeclaration"),1===s.declarations.length&&ft(te)?Et(r,s):Mt(r,s)}return s=Ct(!1,!0),ft(te)?(yt(s),Et(r,s)):Mt(r,s);case j:return at(),Ot(r,!0);case V:return at(),r.test=wt(),r.consequent=xt(),r.alternate=ft(U)?xt():null,ht(r,"IfStatement");case H:return b||t.allowReturnOutsideFunction||M(l,"'return' outside of function"),at(),ft(ce)||pt()?r.argument=null:(r.argument=Ct(),mt()),ht(r,"ReturnStatement");case W:at(),r.discriminant=wt(),r.cases=[],gt(ae),x.push(bt);for(var u,c;d!=oe;)if(d===R||d===D){var h=d===R;u&&ht(u,"SwitchCase"),r.cases.push(u=ut()),u.consequent=[],at(),h?u.test=Ct():(c&&M(v,"Multiple default clauses"),c=!0,u.test=null),gt(he)}else u||vt(),u.consequent.push(xt());return u&&ht(u,"SwitchCase"),at(),x.pop(),ht(r,"SwitchStatement");case G:return at(),je.test(n.slice(y,l))&&M(y,"Illegal newline after throw"),r.argument=Ct(),mt(),ht(r,"ThrowStatement");case $:if(at(),r.block=St(),r.handler=null,d===L){var p=ut();at(),gt(se),p.param=Dt(),w&&Ne(p.param.name)&&M(p.param.start,"Binding "+p.param.name+" in strict mode"),gt(le),p.guard=null,p.body=St(),r.handler=ht(p,"CatchClause")}return r.guardedHandlers=E,r.finalizer=ft(B)?St():null,r.handler||r.finalizer||M(r.start,"Missing catch or finally clause"),ht(r,"TryStatement");case q:return at(),Tt(r),mt(),ht(r,"VariableDeclaration");case X:return at(),r.test=wt(),x.push(_t),r.body=xt(),x.pop(),ht(r,"WhileStatement");case Y:return w&&M(l,"'with' in strict mode"),at(),r.object=wt(),r.body=xt(),ht(r,"WithStatement");case ae:return St();case ce:return at(),ht(r,"EmptyStatement");default:var m=f,g=Ct();if(e===k&&"Identifier"===g.type&&ft(he)){for(a=0;a<x.length;++a)x[a].name===m&&M(g.start,"Label '"+m+"' is already declared");return x.push({name:m,kind:d.isLoop?"loop":d===W?"switch":null}),r.body=xt(),x.pop(),r.label=g,ht(r,"LabeledStatement")}return r.expression=g,mt(),ht(r,"ExpressionStatement")}}function wt(){gt(se);var e=Ct();return gt(le),e}function St(e){var t,n=ut(),r=!0,i=!1;for(n.body=[],gt(ae);!ft(oe);){var a=xt();n.body.push(a),r&&e&&dt(a)&&(t=i,ot(i=!0)),r=!1}return i&&!t&&ot(!1),ht(n,"BlockStatement")}function Mt(e,t){return e.init=t,gt(ce),e.test=d===ce?null:Ct(),gt(ce),e.update=d===le?null:Ct(),gt(le),e.body=xt(),x.pop(),ht(e,"ForStatement")}function Et(e,t){return e.left=t,e.right=Ct(),gt(le),e.body=xt(),x.pop(),ht(e,"ForInStatement")}function Tt(e,t){for(e.declarations=[],e.kind="var";;){var n=ut();if(n.id=Dt(),w&&Ne(n.id.name)&&M(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=ft(me)?Ct(!0,t):null,e.declarations.push(ht(n,"VariableDeclarator")),!ft(ue))break}return e}function Ct(e,t){var n=Pt(t);if(!e&&d===ue){var r=ct(n);for(r.expressions=[n];ft(ue);)r.expressions.push(Pt(t));return ht(r,"SequenceExpression")}return n}function Pt(e){var t=function(e){var t=function(e){return kt(At(),-1,e)}(e);if(ft(fe)){var n=ct(t);return n.test=t,n.consequent=Ct(!0),gt(he),n.alternate=Ct(!0,e),ht(n,"ConditionalExpression")}return t}(e);if(d.isAssign){var n=ct(t);return n.operator=f,n.left=t,at(),n.right=Pt(e),yt(t),ht(n,"AssignmentExpression")}return t}function kt(e,t,n){var r=d.binop;if(null!=r&&(!n||d!==te)&&r>t){var i=ct(e);i.left=e,i.operator=f;var a=d;return at(),i.right=kt(At(),r,n),kt(ht(i,a===_e||a===be?"LogicalExpression":"BinaryExpression"),t,n)}return e}function At(){if(d.prefix){var e=ut(),t=d.isUpdate;return e.operator=f,e.prefix=!0,p=!0,at(),e.argument=At(),t?yt(e.argument):w&&"delete"===e.operator&&"Identifier"===e.argument.type&&M(e.start,"Deleting local variable in strict mode"),ht(e,t?"UpdateExpression":"UnaryExpression")}for(var n=It(Rt());d.postfix&&!pt();)(e=ct(n)).operator=f,e.prefix=!1,e.argument=n,yt(n),at(),n=ht(e,"UpdateExpression");return n}function It(e,t){var n;return ft(de)?((n=ct(e)).object=e,n.property=Dt(!0),n.computed=!1,It(ht(n,"MemberExpression"),t)):ft(re)?((n=ct(e)).object=e,n.property=Ct(),n.computed=!0,gt(ie),It(ht(n,"MemberExpression"),t)):!t&&ft(se)?((n=ct(e)).callee=e,n.arguments=Nt(le,!1),It(ht(n,"CallExpression"),t)):e}function Rt(){switch(d){case K:var e=ut();return at(),ht(e,"ThisExpression");case k:return Dt();case T:case P:case C:return(e=ut()).value=f,e.raw=n.slice(l,u),at(),ht(e,"Literal");case J:case Q:case ee:return(e=ut()).value=d.atomValue,e.raw=d.keyword,at(),ht(e,"Literal");case se:var r=c,i=l;at();var a=Ct();return a.start=i,a.end=u,t.locations&&(a.loc.start=r,a.loc.end=h),t.ranges&&(a.range=[i,u]),gt(le),a;case re:return e=ut(),at(),e.elements=Nt(ie,!0,!0),ht(e,"ArrayExpression");case ae:return function(){var e=ut(),n=!0,r=!1;for(e.properties=[],at();!ft(oe);){if(n)n=!1;else if(gt(ue),t.allowTrailingCommas&&ft(oe))break;var i,a={key:Lt()},o=!1;if(ft(he)?(a.value=Ct(!0),i=a.kind="init"):t.ecmaVersion>=5&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)?(o=r=!0,i=a.kind=a.key.name,a.key=Lt(),d!==se&&vt(),a.value=Ot(ut(),!1)):vt(),"Identifier"===a.key.type&&(w||r))for(var s=0;s<e.properties.length;++s){var l=e.properties[s];if(l.key.name===a.key.name){var u=i==l.kind||o&&"init"===l.kind||"init"===i&&("get"===l.kind||"set"===l.kind);u&&!w&&"init"===i&&"init"===l.kind&&(u=!1),u&&M(a.key.start,"Redefinition of property")}}e.properties.push(a)}return ht(e,"ObjectExpression")}();case j:return e=ut(),at(),Ot(e,!1);case Z:return function(){var e=ut();return at(),e.callee=It(Rt(),!0),e.arguments=ft(se)?Nt(le,!1):E,ht(e,"NewExpression")}();default:vt()}}function Lt(){return d===T||d===P?Rt():Dt(!0)}function Ot(e,t){d===k?e.id=Dt():t?vt():e.id=null,e.params=[];var n=!0;for(gt(se);!ft(le);)n?n=!1:gt(ue),e.params.push(Dt());var r=b,i=x;if(b=!0,x=[],e.body=St(!0),b=r,x=i,w||e.body.body.length&&dt(e.body.body[0]))for(var a=e.id?-1:0;a<e.params.length;++a){var o=a<0?e.id:e.params[a];if((Oe(o.name)||Ne(o.name))&&M(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var s=0;s<a;++s)o.name===e.params[s].name&&M(o.start,"Argument name clash in strict mode")}return ht(e,t?"FunctionDeclaration":"FunctionExpression")}function Nt(e,n,r){for(var i=[],a=!0;!ft(e);){if(a)a=!1;else if(gt(ue),n&&t.allowTrailingCommas&&ft(e))break;i.push(r&&d===ue?null:Ct(!0))}return i}function Dt(e){var r=ut();return e&&"everywhere"==t.forbidReserved&&(e=!1),d===k?(!e&&(t.forbidReserved&&(3===t.ecmaVersion?Re:Le)(f)||w&&Oe(f))&&-1==n.slice(l,u).indexOf("\\")&&M(l,"The keyword '"+f+"' is reserved"),r.name=f):e&&d.keyword?r.name=d.keyword:vt(),p=!1,at(),ht(r,"Identifier")}},"object"==typeof e&&"object"==typeof o?l(e):"function"==typeof n&&n.amd?n(["exports"],l):l(this.acorn||(this.acorn={})),c.version||(c=null));var d={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},p={"-":"__negate","+":"__self"},g=a.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(e){this["__"+e]="#"+e},{__self:function(){return this}});function v(e,t,n){var r=d[t];if(e&&e[r]){var i=e[r](n);return"!="===t?!i:i}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"==":return e==n;case"!=":return e!=n}}function y(e,t){var n=p[e];if(t&&t[n])return t[n]();switch(e){case"+":return+t;case"-":return-t}}function _(e,n){if(!e)return"";var a=[];function o(e){for(var t=0,n=a.length;t<n;t++){var r=a[t];if(r[0]>=e)break;e+=r[1]}return e}function s(t){return e.substring(o(t.range[0]),o(t.range[1]))}function l(t,n){for(var r=o(t.range[0]),i=o(t.range[1]),s=0,l=a.length-1;l>=0;l--)if(r>a[l][0]){s=l+1;break}a.splice(s,0,[r,n.length-i+r]),e=e.substring(0,r)+n+e.substring(i)}var u,c=(n=n||{}).url||"",f=n.sourceMaps,m=n.paperFeatures||{},g=n.source||e,v=n.offset||0,y=se.agent,_=y.versionNumber,b=!1,x=/\r\n|\n|\r/gm;if(f&&(y.chrome&&_>=30||y.webkit&&_>=537.76||y.firefox&&_>=23||y.node)){if(y.node)v-=2;else if(r&&c&&!r.location.href.indexOf(c)){var w=i.getElementsByTagName("html")[0].innerHTML;v=w.substr(0,w.indexOf(e)+1).match(x).length+1}var S=["AA"+function(e){var t="";for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var n=31&e;(e>>=5)&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return t}((b=v>0&&!(y.chrome&&_>=36||y.safari&&_>=600||y.firefox&&_>=40||y.node))?0:v)+"A"];S.length=(e.match(x)||[]).length+1+(b?v:0),u={version:3,file:c,names:[],mappings:S.join(";AACA"),sourceRoot:"",sources:[c],sourcesContent:[g]}}return!1===m.operatorOverloading&&!1===m.moduleExports||function t(n,r,i){if(n){for(var a in n)if("range"!==a&&"loc"!==a){var u=n[a];if(Array.isArray(u))for(var c=0,h=u.length;c<h;c++)t(u[c],n,i);else u&&"object"==typeof u&&t(u,n,i)}!1!==i.operatorOverloading&&function(t,n){switch(t.type){case"UnaryExpression":if(t.operator in p&&"Literal"!==t.argument.type){var r=s(t.argument);l(t,'$__("'+t.operator+'", '+r+")")}break;case"BinaryExpression":if(t.operator in d&&"Literal"!==t.left.type){var i=s(t.left),a=s(t.right),u=function(t,n){return e.substring(o(t.range[1]),o(n.range[0]))}(t.left,t.right),c=t.operator;l(t,"__$__("+i+","+u.replace(new RegExp("\\"+c),'"'+c+'"')+", "+a+")")}break;case"UpdateExpression":case"AssignmentExpression":var h=n&&n.type;if(!("ForStatement"===h||"BinaryExpression"===h&&/^[=!<>]/.test(n.operator)||"MemberExpression"===h&&n.computed))if("UpdateExpression"===t.type){var f=(r=s(t.argument))+" = "+(m="__$__("+r+', "'+t.operator[0]+'", 1)');t.prefix?f="("+f+")":"AssignmentExpression"!==h&&"VariableDeclarator"!==h&&"BinaryExpression"!==h||(s(n.left||n.id)===r&&(f=m),f=r+"; "+f),l(t,f)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){i=s(t.left),a=s(t.right);var m=i+" = __$__("+i+', "'+t.operator[0]+'", '+a+")";l(t,/^\(.*\)$/.test(s(t))?"("+m+")":m)}}}(n,r),!1!==i.moduleExports&&function(e){switch(e.type){case"ExportDefaultDeclaration":l({range:[e.start,e.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var t=e.declaration,n=e.specifiers;if(t){var r=t.declarations;r&&(r.forEach(function(e){l(e,"module.exports."+s(e))}),l({range:[e.start,t.start+t.kind.length]},""))}else if(n){var i=n.map(function(e){var t=s(e);return"module.exports."+t+" = "+t+"; "}).join("");i&&l(e,i)}}}(n)}}(h(e,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,m),u&&(b&&(e=new Array(v+1).join("\n")+e),/^(inline|both)$/.test(f)&&(e+="\n//# sourceMappingURL=data:application/json;base64,"+t.btoa(unescape(encodeURIComponent(JSON.stringify(u))))),e+="\n//# sourceURL="+(c||"paperscript")),{url:c,source:g,code:e,map:u}}function b(e,t,n){se=t;var r,o=t.getView(),s=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new ee:null,l=s?s._events:[],u=["onFrame","onResize"].concat(l),c=[],h=[],d="object"==typeof e?e:_(e,n);function p(t,n){for(var r in t)!n&&/^_/.test(r)||!new RegExp("([\\b\\s\\W]|^)"+r.replace(/\$/g,"\\$")+"\\b").test(e)||(c.push(r),h.push(t[r]))}e=d.code,p({__$__:v,$__:y,paper:t,tool:s},!0),p(t),e="var module = { exports: {} }; "+e,(x=a.each(u,function(t){new RegExp("\\s+"+t+"\\b").test(e)&&(c.push(t),this.push("module.exports."+t+" = "+t+";"))},[]).join("\n"))&&(e+="\n"+x),e+="\nreturn module.exports;";var m=se.agent;if(i&&(m.chrome||m.firefox&&m.versionNumber<40)){var g=i.createElement("script"),b=i.head||i.getElementsByTagName("head")[0];m.firefox&&(e="\n"+e),g.appendChild(i.createTextNode("document.__paperscript__ = function("+c+") {"+e+"\n}")),b.appendChild(g),r=i.__paperscript__,delete i.__paperscript__,b.removeChild(g)}else r=Function(c,e);var x,w=(x=r&&r.apply(t,h))||{};return a.each(l,function(e){var t=w[e];t&&(s[e]=t)}),o&&(w.onResize&&o.setOnResize(w.onResize),o.emit("resize",{size:o.size,delta:new f}),w.onFrame&&o.setOnFrame(w.onFrame),o.requestUpdate()),x}function x(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==s.getAttribute(e,"ignore")){var t=s.getAttribute(e,"canvas"),n=i.getElementById(t),r=e.src||e.getAttribute("data-src"),a=s.hasAttribute(e,"async"),o="data-paper-scope";if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var l=s.get(n.getAttribute(o))||(new s).setup(n);return n.setAttribute(o,l._id),r?ne({url:r,async:a,mimeType:"text/plain",onLoad:function(e){b(e,l,r)}}):b(e.innerHTML,l,e.baseURI),e.setAttribute("data-paper-ignore","true"),l}}function w(){a.each(i&&i.getElementsByTagName("script"),x)}return f.inject(g),m.inject(g),j.inject(g),r&&("complete"===i.readyState?setTimeout(w):$.add(r,{load:w})),{compile:_,execute:b,load:function(e){return e?x(e):w()},parse:h,calculateBinary:v,calculateUnary:y}}.call(this);var se=new(s.inject(a.exports,{Base:a,Numerical:h,Key:K,DomEvent:$,DomElement:G,document:i,window:r,Symbol:P,PlacedSymbol:C}));return se.agent.node&&Hu(se),"function"==typeof n&&n.amd?n("paper",se):e&&(e.exports=se),se}).call(X,"object"==typeof self?self:null)});const $u="undefined"!=typeof window,qu=(e,t,n,r,i)=>(e-t)*(i-r)/(n-t)+r,Xu=(e,t,n)=>(1-n)*e+n*t,Yu=$u?o:s;function Zu(e,t,n,r){const i=l(n),a=l(r);s(()=>{i.current=n,a.current=r}),s(()=>{const n=e&&"current"in e?e.current:e;if(!n)return;let r=0;function o(...e){r||i.current.apply(this,e)}n.addEventListener(t,o);const s=a.current;return()=>{r=1,n.removeEventListener(t,o),s&&s()}},[e,t])}const Ku=(e,t)=>{"function"==typeof e?e(t):e&&(e.current=t)};function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ju.apply(this,arguments)}const Qu=()=>{const[e,t]=p(),n=u(()=>{t({width:window.innerWidth,height:window.innerHeight})},[]);return Yu(()=>(window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)),[]),e},ec="undefined"!=typeof performance?performance:Date,tc=()=>ec.now();function nc(e,t=30,n=!1){const r=(e=>{const t=l(e);return s(()=>{t.current=e}),t})(e),i=1e3/t,a=l(0),o=l(),c=()=>o.current&&clearTimeout(o.current),h=[t,n,r];return s(()=>()=>{a.current=0,c()},h),u(function(){const e=arguments,t=tc(),s=()=>{a.current=t,c(),r.current.apply(null,e)},l=a.current;if(n&&0===l)return s();if(t-l>i){if(l>0)return s();a.current=t}c(),o.current=setTimeout(()=>{s(),a.current=0},i)},h)}function rc(e,t,n){const r=useState(e);return[r[0],nc(r[1],t,n)]}function ic(e,t={}){const{fps:n=30,enterDelay:i=0,leaveDelay:a=0}=t,[o,s]=r((e,t)=>{const{mouse:n,context:r}=e,i=(e,t)=>{if("undefined"==typeof window)return e;const{event:n,element:r}=t;let i;i="touches"in n?n.touches[0]:n;const{clientX:a,clientY:o,screenX:s,screenY:l,pageX:u=0,pageY:c=0}=i,h=r.getBoundingClientRect(),d=u-h.left-(window.pageXOffset||window.scrollX),f=c-h.top-(window.pageYOffset||window.scrollY);return"touches"in n&&(d<0||f<0||d>h.width||f>h.height)?Object.assign(Object.assign({},e),{context:Object.assign(Object.assign({},e.context),{hoverStatus:"leave",touchStatus:"end"})}):{context:Object.assign(Object.assign({},e.context),{hoverStatus:"enter"}),mouse:Object.assign(Object.assign({},e.mouse),{x:d,y:f,pageX:u,pageY:c,clientX:a,clientY:o,screenX:s,screenY:l,elementWidth:h.width,elementHeight:h.height,isOver:!0,isTouch:"touches"in n})}};return"mousemove"===t.type?"end"===r.touchStatus?e:i(e,t):"touchmove"===t.type?i({context:Object.assign(Object.assign({},r),{touchStatus:"start"}),mouse:n},t):"touchdown"===t.type?i({context:Object.assign(Object.assign({},r),{touchStatus:"start"}),mouse:Object.assign(Object.assign({},n),{isDown:!0})},t):"mousedown"===t.type?{context:r,mouse:Object.assign(Object.assign({},n),{isDown:!0})}:"mouseup"===t.type?{context:r,mouse:Object.assign(Object.assign({},n),{isDown:!1})}:"mouseleave"===t.type?{context:Object.assign(Object.assign({},r),{hoverStatus:"leave"}),mouse:Object.assign(Object.assign({},n),{isOver:!1})}:"touchleave"===t.type?{context:Object.assign(Object.assign({},r),{hoverStatus:"leave",touchStatus:"end"}),mouse:Object.assign(Object.assign({},n),{isOver:!1,isDown:!1})}:"activeStatus"===t.type?{context:Object.assign(Object.assign({},r),{activeStatus:t.value}),mouse:n}:e},{mouse:ac,context:oc}),l=rc(t=>{const n=e&&"current"in e?e.current:e;n&&s({type:"mousemove",event:t,element:n})},n,!0),u=rc(t=>{const n=e&&"current"in e?e.current:e;n&&s({type:"touchmove",event:t,element:n})},n,!0),c=rc(()=>s({type:"mouseleave"}),n,!1),h=rc(t=>{const n=e&&"current"in e?e.current:e;n&&s("touches"in t?{type:"touchdown",element:n,event:t}:{type:"mousedown",element:n,event:t})},n,!0),d=rc(()=>s({type:"mouseup"}),n,!1),f=rc(()=>s({type:"touchleave"}),n,!1);return Zu(e,"mouseenter",l),Zu(e,"mousemove",l),Zu(e,"mouseleave",c),Zu(e,"mousedown",h),Zu("undefined"!=typeof window?window:null,"mousedown",h),Zu("undefined"!=typeof window?window:null,"mouseup",d),Zu(e,"touchstart",h),Zu(e,"touchmove",u),Zu(e,"touchend",f),Zu(e,"touchcancel",f),useEffect(()=>{if("enter"===o.context.hoverStatus){if(i){const e=setTimeout(()=>s({type:"activeStatus",value:"active"}),i);return()=>clearTimeout(e)}s({type:"activeStatus",value:"active"})}else{if(a){const e=setTimeout(()=>s({type:"activeStatus",value:"inactive"}),a);return()=>clearTimeout(e)}s({type:"activeStatus",value:"inactive"})}},[o.context.hoverStatus,i,a]),"active"===o.context.activeStatus?o.mouse:ac}const ac={x:null,y:null,pageX:null,pageY:null,clientX:null,clientY:null,screenX:null,screenY:null,elementWidth:null,elementHeight:null,isOver:!1,isDown:!1,isTouch:!1},oc={hoverStatus:"idle",touchStatus:"idle",activeStatus:"inactive"};function sc(){const[e,t]=p({x:null,y:null});return s(()=>{const e=e=>{const{clientX:n,clientY:r}=e;t({x:n,y:r})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),e}const lc=({ref:e})=>{const[t,n]=p();return Yu(()=>{if(!t&&e&&e.current){const t=new Gu.Project(e.current);n(t)}},[t,e]),t},uc=(e,t)=>{const n=u(()=>{t({type:"ADD_CURSOR_BORDER"})},[t]),r=u(()=>{t({type:"REMOVE_CURSOR_BORDER"})},[t]);return Ju({},e,{addCursorColor:u(e=>{t({type:"ADD_CURSOR_COLOR",payload:e})},[t]),resetCursorColor:u(()=>{t({type:"RESET_CURSOR_COLOR"})},[t]),addCursorBorder:n,removeCursorBorder:r,lockCursorPosition:u(e=>{t({type:"LOCK_CURSOR_POSITION",payload:e})},[t])})};var cc={a_s_c_i_i_galaxy:"_3cZue",a_s_c_i_i_galaxy__default:"_9GBaN"},hc=function(e,t,n){var r=(n[1]-n[0])/(t[1]-t[0]);return~~((Math.min(t[1],Math.max(t[0],e))-t[0])*r+n[0])},dc=function(e){var t=e.tagName,n=void 0===t?"pre":t,r=e.className,i=void 0===r?"absolute top-0 left-0 flex items-center justify-center w-screen h-screen overflow-hidden font-mono text-white opacity-50":r,a=e.variant,o=void 0===a?"default":a,s=e.width,c=e.height,d=e.stars,f=void 0===d?10:d,m=e.trails,g=void 0===m?20:m,v=e.ds,y=void 0===v?" ":v,_=Qu(),b=_.height,x=_.width,w=p(""),S=w[0],M=w[1],E=l([]),T=u(function(e){for(var t=e.width,n=e.height,r=0;r<n;r++){E.current[r]=[];for(var i=0;i<t;i++)E.current[r][i]=y}},[E,y]),C=u(function(e){var t=e.width,n=e.height,r=e.symbols,i=void 0===r?[".","_","-","~","","+"]:r;try{for(var a=Math.floor(Math.random()*n),o=Math.floor(Math.random()*t),s=Math.floor(Math.random()*(t-o-1)+1),l=0,u=0;u<s;u++){var c=Math.floor(Math.random()*i.length),h=Math.floor(3*Math.random())+1;if(1==h?l+=1:2==h&&(l-=1),a+l>n||a-l<0)return;try{E.current[a+l][o+u]=i[c]}catch(e){console.log(e)}}}catch(e){console.error(e)}},[E]),P=u(function(e){var t=e.width,n=e.height;try{var r=Math.floor(6*Math.random()),i=Math.floor(Math.random()*n),a=Math.floor(Math.random()*t);if(i+1>n-1||i-1<0||a+1>t-1||a-1<0)E.current[i][a]=y;else switch(r){case 0:E.current[i][a]="o",E.current[i+1][a]="|",E.current[i-1][a]="|",E.current[i][a+1]="-",E.current[i][a-1]="-";break;case 1:E.current[i][a]=".";break;case 2:E.current[i][a]="'";break;case 3:E.current[i][a]="~",E.current[i][a+1]="";break;case 4:E.current[i][a]=",";break;case 5:E.current[i][a]="+";break;default:E.current[i][a]="*"}}catch(e){console.error(e)}},[E,y]),k=u(function(e){for(var t=e.width,n=e.height,r="",i=0;i<n;i++){0==!i&&(r+="\n");for(var a=0;a<t;a++)r+=E.current[i][a]}return r},[E]);return Yu(function(){if(!S&&x&&b){var e=hc(s||x,[0,s||x],[30,200]),t=hc(c||b,[0,c||b],[10,50]);T({width:e,height:t});for(var n=0;n<g;n++)C({width:e,height:t});for(n=0;n<f;n++)P({width:e,height:t});var r=k({width:e,height:t});M(r)}},[S,y,E,P,C,T,k,c,s,b,x,f,g]),h(n,{className:cc.a_s_c_i_i_galaxy+" "+cc["a_s_c_i_i_galaxy__"+o]+" "+i},h("code",null,""+S))};dc.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var fc=function(e){var t=e.canvasSize,n=e.renderedData,r=void 0===n?[]:n,i=e.framesToAnimate,a=void 0===i?[]:i,o=e.myTimeout,s=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e},l=function(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)},u=function(e){var n={x:0,y:e.length};for(i=0;i<e.length;i++)e[i].length>n.x&&(n.x=e[i].length);for(i=0;i<e.length;i++)e[i].length<n.x&&(e[i]=e[i]+s(" ",n.x-e[i].length));for(var r={x:Math.floor((t.x-n.x)/2),y:Math.floor((t.y-n.y)/2)},i=0;i<e.length;i++)e[i]=s(" ",r.x)+e[i]+s(" ",r.x);for(i=0;i<t.y;i++)i<r.y?e.unshift(s(" ",t.x)):i>r.y+n.y&&e.push(s(" ",t.x));return e},c=function(e){for(var t,n=null,r=!1,i=0;i<e.length;i++){var a=e[i];-1===(t=a.search(/\S/))&&(t=null);for(var o=0;o<a.length;o++)" "!=a[o]&&(n=o);null!==t&&null!==n&&(e=h(e,i,t,n),r=!0),t=null,n=null}return!!r&&e},h=function(e,n,r,i){Math.floor(t.x/2);var a=Math.floor(t.y/2),o=1;return n>a&&(o=-1),e[n]=l(e[n],r," "),e[n]=l(e[n],i," "),i-1!=r+1&&r!==i&&r+1!==i?(e[n+o]=l(e[n+o],r+1,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1)),e[n+o]=l(e[n+o],i-1,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1))):r!==i&&r+1!==i||n+1===a||n-1===a||n===a||(e[n+o]=l(e[n+o],r,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1)),e[n+o]=l(e[n+o],i,"+*/\\".substr(Math.floor(Math.random()*"+*/\\".length),1))),e},d=function(e,t){e.innerHTML="";for(var n=0;n<t.length;n++)e.innerHTML=e.innerHTML+t[n]+"\n";r=t},f=function e(t){o=setTimeout(function(){d(t,a[0]),a.shift(),a.length>0&&e()},20)};return e.element&&t?{render:function(e,t){var n=u(t.slice());d(e,n)},morph:function(e,t){clearTimeout(o);var n=function(e){for(var t=[],n=[],i=r,a=0;a<100&&!1!==(s=c(i));a++)t.push(s.slice(0)),i=s;var o=u(e);for(n.unshift(o.slice(0)),a=0;a<100;a++){var s;if(!1===(s=c(o)))break;n.unshift(s.slice(0)),o=s}return t.concat(n)}(t.slice());!function(e,t){a=t,f(e)}(e,n)}}:(console.log("sorry, I need an element and a canvas size"),null)},pc="function"==typeof Symbol&&Symbol.for,mc=pc?Symbol.for("react.element"):60103,gc=pc?Symbol.for("react.portal"):60106,vc=pc?Symbol.for("react.fragment"):60107,yc=pc?Symbol.for("react.strict_mode"):60108,_c=pc?Symbol.for("react.profiler"):60114,bc=pc?Symbol.for("react.provider"):60109,xc=pc?Symbol.for("react.context"):60110,wc=pc?Symbol.for("react.async_mode"):60111,Sc=pc?Symbol.for("react.concurrent_mode"):60111,Mc=pc?Symbol.for("react.forward_ref"):60112,Ec=pc?Symbol.for("react.suspense"):60113,Tc=pc?Symbol.for("react.suspense_list"):60120,Cc=pc?Symbol.for("react.memo"):60115,Pc=pc?Symbol.for("react.lazy"):60116,kc=pc?Symbol.for("react.block"):60121,Ac=pc?Symbol.for("react.fundamental"):60117,Ic=pc?Symbol.for("react.responder"):60118,Rc=pc?Symbol.for("react.scope"):60119;function Lc(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case mc:switch(e=e.type){case wc:case Sc:case vc:case _c:case yc:case Ec:return e;default:switch(e=e&&e.$$typeof){case xc:case Mc:case Pc:case Cc:case bc:return e;default:return t}}case gc:return t}}}function Oc(e){return Lc(e)===Sc}var Nc={AsyncMode:wc,ConcurrentMode:Sc,ContextConsumer:xc,ContextProvider:bc,Element:mc,ForwardRef:Mc,Fragment:vc,Lazy:Pc,Memo:Cc,Portal:gc,Profiler:_c,StrictMode:yc,Suspense:Ec,isAsyncMode:function(e){return Oc(e)||Lc(e)===wc},isConcurrentMode:Oc,isContextConsumer:function(e){return Lc(e)===xc},isContextProvider:function(e){return Lc(e)===bc},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===mc},isForwardRef:function(e){return Lc(e)===Mc},isFragment:function(e){return Lc(e)===vc},isLazy:function(e){return Lc(e)===Pc},isMemo:function(e){return Lc(e)===Cc},isPortal:function(e){return Lc(e)===gc},isProfiler:function(e){return Lc(e)===_c},isStrictMode:function(e){return Lc(e)===yc},isSuspense:function(e){return Lc(e)===Ec},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===vc||e===Sc||e===_c||e===yc||e===Ec||e===Tc||"object"==typeof e&&null!==e&&(e.$$typeof===Pc||e.$$typeof===Cc||e.$$typeof===bc||e.$$typeof===xc||e.$$typeof===Mc||e.$$typeof===Ac||e.$$typeof===Ic||e.$$typeof===Rc||e.$$typeof===kc)},typeOf:Lc},Dc=Y(function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,_=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var f=e.type;switch(f){case u:case c:case i:case o:case a:case d:return f;default:var g=f&&f.$$typeof;switch(g){case l:case h:case m:case p:case s:return g;default:return t}}case r:return t}}}var x=c,w=l,S=s,M=n,E=h,T=i,C=m,P=p,k=r,A=o,I=a,R=d,L=!1;function O(e){return b(e)===c}t.AsyncMode=u,t.ConcurrentMode=x,t.ContextConsumer=w,t.ContextProvider=S,t.Element=M,t.ForwardRef=E,t.Fragment=T,t.Lazy=C,t.Memo=P,t.Portal=k,t.Profiler=A,t.StrictMode=I,t.Suspense=R,t.isAsyncMode=function(e){return L||(L=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),O(e)||b(e)===u},t.isConcurrentMode=O,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===o||e===a||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===_||e.$$typeof===g)},t.typeOf=b}()}),zc=Y(function(e){e.exports="production"===process.env.NODE_ENV?Nc:Dc}),Uc=Object.getOwnPropertySymbols,Bc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable;function jc(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var Vc=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=jc(e),a=1;a<arguments.length;a++){for(var o in n=Object(arguments[a]))Bc.call(n,o)&&(i[o]=n[o]);if(Uc){r=Uc(n);for(var s=0;s<r.length;s++)Fc.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},Hc=Function.call.bind(Object.prototype.hasOwnProperty),Wc="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gc=Hc,$c=function(){};if("production"!==process.env.NODE_ENV){var qc=Wc,Xc={},Yc=Gc;$c=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function Zc(e,t,n,r,i){if("production"!==process.env.NODE_ENV)for(var a in e)if(Yc(e,a)){var o;try{if("function"!=typeof e[a]){var s=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}o=e[a](t,a,r,n,null,qc)}catch(e){o=e}if(!o||o instanceof Error||$c((r||"React class")+": type specification of "+n+" `"+a+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in Xc)){Xc[o.message]=!0;var l=i?i():"";$c("Failed "+n+" type: "+o.message+(null!=l?l:""))}}}Zc.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(Xc={})};var Kc=Zc,Jc=function(){};function Qc(){return null}function eh(){}function th(){}"production"!==process.env.NODE_ENV&&(Jc=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),th.resetWarningCache=eh;var nh=Y(function(e){e.exports="production"!==process.env.NODE_ENV?function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="<<anonymous>>",i={array:l("array"),bigint:l("bigint"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:s(Qc),arrayOf:function(e){return s(function(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new o("Invalid "+i+" `"+a+"` of type `"+h(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var u=e(s,l,r,i,a+"["+l+"]",Wc);if(u instanceof Error)return u}return null})},element:s(function(t,n,r,i,a){var s=t[n];return e(s)?null:new o("Invalid "+i+" `"+a+"` of type `"+h(s)+"` supplied to `"+r+"`, expected a single ReactElement.")}),elementType:s(function(e,t,n,r,i){var a=e[t];return zc.isValidElementType(a)?null:new o("Invalid "+r+" `"+i+"` of type `"+h(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(e){return s(function(t,n,i,a,s){return t[n]instanceof e?null:new o("Invalid "+a+" `"+s+"` of type `"+((l=t[n]).constructor&&l.constructor.name?l.constructor.name:r)+"` supplied to `"+i+"`, expected instance of `"+(e.name||r)+"`.");var l})},node:s(function(e,t,n,r,i){return c(e[t])?null:new o("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return s(function(t,n,r,i,a){if("function"!=typeof e)return new o("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=h(s);if("object"!==l)return new o("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var u in s)if(Gc(s,u)){var c=e(s,u,r,i,a+"."+u,Wc);if(c instanceof Error)return c}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&Jc(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Qc;function t(t,n,r,i,s){for(var l=t[n],u=0;u<e.length;u++)if(a(l,e[u]))return null;var c=JSON.stringify(e,function(e,t){return"symbol"===d(t)?String(t):t});return new o("Invalid "+i+" `"+s+"` of value `"+String(l)+"` supplied to `"+r+"`, expected one of "+c+".")}return s(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&Jc("Invalid argument supplied to oneOfType, expected an instance of array."),Qc;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return Jc("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+t+"."),Qc}return s(function(t,n,r,i,a){for(var s=[],l=0;l<e.length;l++){var u=(0,e[l])(t,n,r,i,a,Wc);if(null==u)return null;u.data&&Gc(u.data,"expectedType")&&s.push(u.data.expectedType)}return new o("Invalid "+i+" `"+a+"` supplied to `"+r+"`"+(s.length>0?", expected one of type ["+s.join(", ")+"]":"")+".")})},shape:function(e){return s(function(t,n,r,i,a){var s=t[n],l=h(s);if("object"!==l)return new o("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if("function"!=typeof f)return u(r,i,a,c,d(f));var p=f(s,c,r,i,a+"."+c,Wc);if(p)return p}return null})},exact:function(e){return s(function(t,n,r,i,a){var s=t[n],l=h(s);if("object"!==l)return new o("Invalid "+i+" `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=Vc({},t[n],e);for(var f in c){var p=e[f];if(Gc(e,f)&&"function"!=typeof p)return u(r,i,a,f,d(p));if(!p)return new o("Invalid "+i+" `"+a+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=p(s,f,r,i,a+"."+f,Wc);if(m)return m}return null})}};function a(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function o(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function s(e){function t(t,n,i,a,s,l,u){if(a=a||r,l=l||i,u!==Wc){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}return null==n[i]?t?new o(null===n[i]?"The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`.":"The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(n,i,a,s,l)}process;var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function l(e){return s(function(t,n,r,i,a,s){var l=t[n];return h(l)!==e?new o("Invalid "+i+" `"+a+"` of type `"+d(l)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null})}function u(e,t,n,r,i){return new o((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!c(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!c(o[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function d(e){if(null==e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return o.prototype=Error.prototype,i.checkPropTypes=Kc,i.resetWarningCache=Kc.resetWarningCache,i.PropTypes=i,i}(zc.isElement):function(){function e(e,t,n,r,i,a){if(a!==Wc){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:th,resetWarningCache:eh};return n.PropTypes=n,n}()}),rh=Y(function(e,t){!function(){var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||c(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.volume=o._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||c(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var r=0;r<t._howls.length;r++)if(!t._howls[r]._webAudio)for(var i=t._howls[r]._getSoundIds(),a=0;a<i.length;a++){var o=t._howls[r]._soundById(i[a]);o&&o._node&&(o._node.muted=!!e||o._muted)}return t},stop:function(){for(var e=this||n,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,c()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||n;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var r=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",a=i.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33,s=-1!==i.indexOf("Safari")&&-1===i.indexOf("Chrome"),l=i.match(/Version\/(.*?) /),u=s&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(o||!r&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||n;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=e._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||n;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||n;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var r=0;r<e._howls[t]._sounds.length;r++)if(!e._howls[t]._sounds[r]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return n.ctx||c(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var a,s;if(e._format&&e._format[r])a=e._format[r];else{if("string"!=typeof(s=e._src[r])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(s))||(a=/\.([^.]+)$/.exec(s.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&n.codecs(a)){t=e._src[r];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&o(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var r=this,i=null;if("number"==typeof e)i=e,e=null;else{if("string"==typeof e&&"loaded"===r._state&&!r._sprite[e])return null;if(void 0===e&&(e="__default",!r._playLock)){for(var a=0,o=0;o<r._sounds.length;o++)r._sounds[o]._paused&&!r._sounds[o]._ended&&(a++,i=r._sounds[o]._id);1===a?e=null:i=null}}var s=i?r._soundById(i):r._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),"loaded"!==r._state){s._sprite=e,s._ended=!1;var l=s._id;return r._queue.push({event:"play",action:function(){r.play(l)}}),l}if(i&&!s._paused)return t||r._loadQueue("play"),s._id;r._webAudio&&n._autoResume();var u=Math.max(0,s._seek>0?s._seek:r._sprite[e][0]/1e3),c=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-u),h=1e3*c/Math.abs(s._rate),d=r._sprite[e][0]/1e3,f=(r._sprite[e][0]+r._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var p=function(){s._paused=!1,s._seek=u,s._start=d,s._stop=f,s._loop=!(!s._loop&&!r._sprite[e][2])};if(!(u>=f)){var m=s._node;if(r._webAudio){var g=function(){r._playLock=!1,p(),r._refreshBuffer(s),m.gain.setValueAtTime(s._muted||r._muted?0:s._volume,n.ctx.currentTime),s._playStart=n.ctx.currentTime,void 0===m.bufferSource.start?m.bufferSource.noteGrainOn(0,u,s._loop?86400:c):m.bufferSource.start(0,u,s._loop?86400:c),Infinity!==h&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h)),t||setTimeout(function(){r._emit("play",s._id),r._loadQueue()},0)};"running"===n.state&&"interrupted"!==n.ctx.state?g():(r._playLock=!0,r.once("resume",g),r._clearTimer(s._id))}else{var v=function(){m.currentTime=u,m.muted=s._muted||r._muted||n._muted||m.muted,m.volume=s._volume*n.volume(),m.playbackRate=s._rate;try{var i=m.play();if(i&&"undefined"!=typeof Promise&&(i instanceof Promise||"function"==typeof i.then)?(r._playLock=!0,p(),i.then(function(){r._playLock=!1,m._unlocked=!0,t?r._loadQueue():r._emit("play",s._id)}).catch(function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(r._playLock=!1,p(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(e){r._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var y=window&&window.ejecta||!m.readyState&&n._navigator.isCocoonJS;if(m.readyState>=3||y)v();else{r._playLock=!0,r._state="loading";var _=function(){r._state="loaded",v(),m.removeEventListener(n._canPlayEvent,_,!1)};m.addEventListener(n._canPlayEvent,_,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&Infinity!==i._node.duration||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&Infinity!==a._node.duration||(a._node.currentTime=a._start||0,a._node.pause(),Infinity===a._node.duration&&n._clearSound(a._node))),t||n._emit("stop",a._id))}return n},mute:function(e,t){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,t)}}),r;if(void 0===t){if("boolean"!=typeof e)return r._muted;r._muted=e}for(var i=r._getSoundIds(t),a=0;a<i.length;a++){var o=r._soundById(i[a]);o&&(o._muted=e,o._interval&&r._stopFade(o._id),r._webAudio&&o._node?o._node.gain.setValueAtTime(e?0:o._volume,n.ctx.currentTime):o._node&&(o._node.muted=!!n._muted||e),r._emit("mute",o._id))}return r},volume:function(){var e,t,r,i=this,a=arguments;if(0===a.length)return i._volume;if(1===a.length||2===a.length&&void 0===a[1]){var o=i._getSoundIds(),s=o.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(r=t?i._soundById(t):i._sounds[0])?r._volume:0;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;void 0===t&&(i._volume=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)(r=i._soundById(t[l]))&&(r._volume=e,a[2]||i._stopFade(t[l]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,n.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*n.volume()),i._emit("volume",r._id));return i},fade:function(e,t,r,i){var a=this;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"fade",action:function(){a.fade(e,t,r,i)}}),a;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),r=parseFloat(r),a.volume(e,i);for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if(i||a._stopFade(o[s]),a._webAudio&&!l._muted){var u=n.ctx.currentTime,c=u+r/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}a._startFadeInterval(l,e,t,r,o[s],void 0===i)}}return a},_startFadeInterval:function(e,t,n,r,i,a){var o=this,s=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?r/u:r),h=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var i=(Date.now()-h)/r;h=Date.now(),s+=l*i,s=Math.round(100*s)/100,s=l<0?Math.max(n,s):Math.min(n,s),o._webAudio?e._volume=s:o.volume(s,e._id,!0),a&&(o._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,o.volume(n,e._id),o._emit("fade",e._id))},c)},_stopFade:function(e){var t=this,r=t._soundById(e);return r&&r._interval&&(t._webAudio&&r._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(r._interval),r._interval=null,t.volume(r._fadeTo,e),r._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;r._loop=e=i[0]}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var a=r._getSoundIds(t),o=0;o<a.length;o++)(n=r._soundById(a[o]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[o])&&(r.pause(a[o],!0),r.play(a[o],!0)))));return r},rate:function(){var e,t,r,i=this,a=arguments;if(0===a.length)t=i._sounds[0]._id;else if(1===a.length){var o=i._getSoundIds(),s=o.indexOf(a[0]);s>=0?t=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),t=parseInt(a[1],10));if("number"!=typeof e)return(r=i._soundById(t))?r._rate:i._rate;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;void 0===t&&(i._rate=e),t=i._getSoundIds(t);for(var l=0;l<t.length;l++)if(r=i._soundById(t[l])){i.playing(t[l])&&(r._rateSeek=i.seek(t[l]),r._playStart=i._webAudio?n.ctx.currentTime:r._playStart),r._rate=e,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):r._node&&(r._node.playbackRate=e);var u=i.seek(t[l]),c=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-u,h=1e3*c/Math.abs(r._rate);!i._endTimers[t[l]]&&r._paused||(i._clearTimer(t[l]),i._endTimers[t[l]]=setTimeout(i._ended.bind(i,r),h)),i._emit("rate",r._id)}return i},seek:function(){var e,t,r=this,i=arguments;if(0===i.length)r._sounds.length&&(t=r._sounds[0]._id);else if(1===i.length){var a=r._getSoundIds(),o=a.indexOf(i[0]);o>=0?t=parseInt(i[0],10):r._sounds.length&&(t=r._sounds[0]._id,e=parseFloat(i[0]))}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var s=r._soundById(t);if(s){if(!("number"==typeof e&&e>=0)){if(r._webAudio){var l=r.playing(t)?n.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+l*Math.abs(s._rate))}return s._node.currentTime}var c=r.playing(t);c&&r.pause(t,!0),s._seek=e,s._ended=!1,r._clearTimer(t),r._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=e);var h=function(){c&&r.play(t,!0),r._emit("seek",t)};if(c&&!r._webAudio){var d=function(){r._playLock?setTimeout(d,0):h()};setTimeout(d,0)}else h()}return r},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,r=0;r<t.length;r++)t[r]._paused||e.stop(t[r]._id),e._webAudio||(e._clearSound(t[r]._node),t[r]._node.removeEventListener("error",t[r]._errorFn,!1),t[r]._node.removeEventListener(n._canPlayEvent,t[r]._loadFn,!1),t[r]._node.removeEventListener("ended",t[r]._endFn,!1),n._releaseHtml5Audio(t[r]._node)),delete t[r]._node,e._clearTimer(t[r]._id);var i=n._howls.indexOf(e);i>=0&&n._howls.splice(i,1);var o=!0;for(r=0;r<n._howls.length;r++)if(n._howls[r]._src===e._src||e._src.indexOf(n._howls[r]._src)>=0){o=!1;break}return a&&o&&delete a[e._src],n.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){return"function"==typeof t&&this["_on"+e].push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],a=0;if("number"==typeof t&&(n=t,t=null),t||n)for(a=0;a<i.length;a++){var o=n===i[a].id;if(t===i[a].fn&&o||!t&&o){i.splice(a,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(a=0;a<s.length;a++)0===s[a].indexOf("_on")&&Array.isArray(r[s[a]])&&(r[s[a]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],a=i.length-1;a>=0;a--)i[a].id&&i[a].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[a].fn),0),i[a].once&&r.off(e,i[a].fn,i[a].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,r=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!(!e._loop&&!t._sprite[r][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||i||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._node.bufferSource.connect(e._panner?e._panner:e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),this},_cleanBuffer:function(e){var t=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,r=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(r,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):n.noAudio||(e._node=n._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=r*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;Infinity===t._duration&&(t._duration=Math.ceil(10*e._node.duration)/10,Infinity===t._sprite.__default[1]&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var a={},o=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void u(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);l(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){o.setRequestHeader(t,e._xhr.headers[t])}),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?l(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},s(o)}},s=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){var r=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(e){e&&t._sounds.length>0?(a[t._src]=e,u(t,e)):r()};"undefined"!=typeof Promise&&1===n.ctx.decodeAudioData.length?n.ctx.decodeAudioData(e).then(i).catch(r):n.ctx.decodeAudioData(e,i,r)},u=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},c=function(){if(n.usingWebAudio){try{"undefined"!=typeof AudioContext?n.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=t?parseInt(t[1],10):null;if(e&&r&&r<9){var i=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!i&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,void 0!==X?(X.HowlerGlobal=e,X.Howler=n,X.Howl=r,X.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)}(),function(){var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?"number"!=typeof e?r._pos:(r._pos=[e,t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,a){var o=this;if(!o.ctx||!o.ctx.listener)return o;var s=o._orientation;return"number"!=typeof e?s:(o._orientation=[e,t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,i="number"!=typeof i?s[4]:i,a="number"!=typeof a?s[5]:a],void 0!==o.ctx.listener.forwardX?(o.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),o.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),o.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),o.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),o.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),o.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):o.ctx.listener.setOrientation(e,t,n,r,i,a),o)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(e,n,r,i)}}),a;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof e)return a._pos;a._pos=[e,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),a._emit("pos",l._id)}}return a},Howl.prototype.orientation=function(e,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(e,n,r,i)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,r="number"!=typeof r?a._orientation[2]:r,void 0===i){if("number"!=typeof e)return a._orientation;a._orientation=[e,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var l=a._soundById(o[s]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=a._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),a._emit("orientation",l._id)}}return a},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,a=arguments;if(!i._webAudio)return i;if(0===a.length)return i._pannerAttr;if(1===a.length){if("object"!=typeof a[0])return(r=i._soundById(parseInt(a[0],10)))?r._pannerAttr:i._pannerAttr;e=a[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===a.length&&(e=a[0],n=parseInt(a[1],10));for(var o=i._getSoundIds(n),s=0;s<o.length;s++)if(r=i._soundById(o[s])){var l=r._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var u=r._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"))}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}),ih=/*#__PURE__*/I({__proto__:null,default:rh},[rh]),ah=void 0;"undefined"!=typeof window&&(ah=rh);var oh=ah,sh=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){}}),lh=nh,uh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ch=dh(t),hh=dh(lh);function dh(e){return e&&e.__esModule?e:{default:e}}var fh=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.initHowler=t.initHowler.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t.Component),uh(n,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(e)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.destroyHowler(),void 0!==oh.Howl&&(this.howler=new oh.Howl({src:e.src,xhr:e.xhr,format:e.format,mute:e.mute,loop:e.loop,preload:e.preload,volume:e.volume,rate:e.rate,onend:e.onEnd,onplay:e.onPlay,onplayerror:e.onPlayError,onpause:e.onPause,onvolume:e.onVolume,onstop:e.onStop,onload:e.onLoad,onseek:e.onSeek,onloaderror:e.onLoadError,html5:e.html5}),e.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(e){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),e.mute!==this.props.mute&&this.mute(this.props.mute),e.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&"unloaded"===this.howlerState()&&this.load()}},{key:"play",value:function(){this.howler.playing()||("unloaded"===this.howlerState()&&this.load(),this.howler.play())}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.pause(e):this.howler.pause()}},{key:"rate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;"number"==typeof e&&(t?this.howler.rate(e,t):this.howler.rate(e))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e?this.howler.stop(e):this.howler.stop()}},{key:"mute",value:function(){var e;(e=this.howler).mute.apply(e,arguments)}},{key:"volume",value:function(){var e;return(e=this.howler).volume.apply(e,arguments)}},{key:"loop",value:function(){var e;return(e=this.howler).loop.apply(e,arguments)}},{key:"seek",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.howler?e||0===e?e||0===e?(this.howler.seek(e),e):void 0:this.howler.seek():0}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return ch.default.createElement("div",null)}},{key:"howler",set:function(e){e&&(this._howler=e)},get:function(){return this._howler}}]),n}();fh.propTypes={src:hh.default.oneOfType([hh.default.string,hh.default.arrayOf(hh.default.string)]).isRequired,format:hh.default.arrayOf(hh.default.string),xhr:hh.default.object,playing:hh.default.bool,mute:hh.default.bool,loop:hh.default.bool,preload:hh.default.bool,volume:hh.default.number,rate:hh.default.number,onEnd:hh.default.func,onPause:hh.default.func,onPlay:hh.default.func,onPlayError:hh.default.func,onVolume:hh.default.func,onStop:hh.default.func,onLoad:hh.default.func,onSeek:hh.default.func,onLoadError:hh.default.func,html5:hh.default.bool},fh.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:sh.noop,onPause:sh.noop,onPlay:sh.noop,onPlayError:sh.noop,onVolume:sh.noop,onStop:sh.noop,onLoad:sh.noop,onSeek:sh.noop,onLoadError:sh.noop,html5:!1};var ph=/*#__PURE__*/Object.defineProperty({default:fh},"__esModule",{value:!0}).default,mh={audio_toggle:"_rIMIy",audio_toggle__default:"_P0aQV"},gh=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"relative z-10 inline-flex pointer-events-auto":r,a=e.variant,o=void 0===a?"default":a,s=e.muted,l=void 0===s||s,c=e.showLabel,d=void 0===c||c,f=e.src,m=void 0===f?"/sounds/TheHoly_Lvcidia.mp3":f,g=e.loop,v=void 0===g||g,y=e.preload,_=void 0===y||y,b=p({wasPlaying:!l,isPlaying:!l}),x=b[0],w=b[1],S=u(function(){w({wasPlaying:!0,isPlaying:x.wasPlaying})},[x.wasPlaying]),M=u(function(){w({wasPlaying:x.isPlaying,isPlaying:!1})},[x.isPlaying]);useEffect(function(){return window.addEventListener("focus",S),window.addEventListener("blur",M),function(){window.removeEventListener("focus",S),window.removeEventListener("blur",M)}},[M,S]);var E=!x.isPlaying;return h(n,{className:mh.audio_toggle+" "+mh["audio_toggle__"+o]+" "+i},h("button",{className:"inline-flex sound-button pt-[20px] pr-[20px] "+(E?"has-sound-muted":null),onClick:function(){return w(function(e){return Object.assign({},{isPlaying:!e.isPlaying})})}},h("span",{className:"transition duration-500 ease-in-out h-[14px] font-pp inline-block items-end leading-none -mt-1 "+(E?"group border-dashed border-black dark:border-white border-b hover:border-0":"group hover:border-dashed hover:border-black dark:hover:border-white hover:border-b")},[].concat(Array(10).keys()).map(function(e,t){return h("span",{key:"bar-"+t,className:"transition duration-500 ease-in-out "+(E?"opacity-0 group-hover:opacity-100":"opacity-100 group-hover:opacity-0")+"  mr-[2px] w-[1px] leading-tight inline-block border-l border-dashed border-black dark:border-white sound-button_bar_line"})})),h("span",{className:(d?"inline-block":"hidden")+" sound-button_label ml-[5px] text-black dark:text-white lowercase text-[12px] tracking-wider leading-none"},E?"sound off":"sound on")),h(ph,{src:m,playing:!E,loop:v,preload:_}),h("style",{jsx:!0},"\n        .sound-button_bar_line {\n          animation: sound 0ms -800ms linear infinite alternate;\n        }\n        .sound-button_bar_line:nth-child(1) {\n          animation-duration: 974ms;\n        }\n        .sound-button_bar_line:nth-child(2) {\n          animation-duration: 933ms;\n        }\n        .sound-button_bar_line:nth-child(3) {\n          animation-duration: 907ms;\n        }\n        .sound-button_bar_line:nth-child(4) {\n          animation-duration: 958ms;\n        }\n        .sound-button_bar_line:nth-child(5) {\n          animation-duration: 900ms;\n        }\n        .sound-button_bar_line:nth-child(6) {\n          animation-duration: 927ms;\n        }\n        .sound-button_bar_line:nth-child(7) {\n          animation-duration: 941ms;\n        }\n        .sound-button_bar_line:nth-child(8) {\n          animation-duration: 919ms;\n        }\n        .sound-button_bar_line:nth-child(9) {\n          animation-duration: 987ms;\n        }\n        .sound-button_bar_line:nth-child(10) {\n          animation-duration: 942ms;\n        }\n        @keyframes sound {\n          0% {\n            height: 4px;\n          }\n          100% {\n            height: 100%;\n          }\n        }\n      "))};gh.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};class vh{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const yh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _h=1234567;const bh=Math.PI/180,xh=180/Math.PI;function wh(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(yh[255&e]+yh[e>>8&255]+yh[e>>16&255]+yh[e>>24&255]+"-"+yh[255&t]+yh[t>>8&255]+"-"+yh[t>>16&15|64]+yh[t>>24&255]+"-"+yh[63&n|128]+yh[n>>8&255]+"-"+yh[n>>16&255]+yh[n>>24&255]+yh[255&r]+yh[r>>8&255]+yh[r>>16&255]+yh[r>>24&255]).toLowerCase()}function Sh(e,t,n){return Math.max(t,Math.min(n,e))}function Mh(e,t){return(e%t+t)%t}function Eh(e,t,n){return(1-n)*e+n*t}function Th(e){return 0==(e&e-1)&&0!==e}function Ch(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Ph(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function kh(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ah(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Ih=/*#__PURE__*/Object.freeze({__proto__:null,DEG2RAD:bh,RAD2DEG:xh,generateUUID:wh,clamp:Sh,euclideanModulo:Mh,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Eh,damp:function(e,t,n,r){return Eh(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(Mh(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(_h=e);let t=_h+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*bh},radToDeg:function(e){return e*xh},isPowerOfTwo:Th,ceilPowerOfTwo:Ch,floorPowerOfTwo:Ph,setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Ah,denormalize:kh});class Rh{constructor(e=0,t=0){Rh.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lh{constructor(){Lh.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,a,o,s,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=a*p+o*v+s*b,i[3]=a*m+o*y+s*x,i[6]=a*g+o*_+s*w,i[1]=l*p+u*v+c*b,i[4]=l*m+u*y+c*x,i[7]=l*g+u*_+c*w,i[2]=h*p+d*v+f*b,i[5]=h*m+d*y+f*x,i[8]=h*g+d*_+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,d=l*i-a*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Oh.makeScale(e,t)),this}rotate(e){return this.premultiply(Oh.makeRotation(-e)),this}translate(e,t){return this.premultiply(Oh.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Oh=/*@__PURE__*/new Lh;function Nh(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Dh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function zh(e,t){return new Dh[e](t)}function Uh(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Bh(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Fh(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const jh={srgb:{"srgb-linear":Bh},"srgb-linear":{srgb:Fh}},Vh={legacyMode:!0,get workingColorSpace(){return"srgb-linear"},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(jh[t]&&void 0!==jh[t][n]){const r=jh[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Hh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wh={r:0,g:0,b:0},Gh={h:0,s:0,l:0},$h={h:0,s:0,l:0};function qh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Xh(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class Yh{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t="srgb"){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Vh.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Vh.workingColorSpace){return this.r=e,this.g=t,this.b=n,Vh.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Vh.workingColorSpace){if(e=Mh(e,1),t=Sh(t,0,1),n=Sh(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=qh(i,r,e+1/3),this.g=qh(i,r,e),this.b=qh(i,r,e-1/3)}return Vh.toWorkingColorSpace(this,r),this}setStyle(e,t="srgb"){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const i=r[2];switch(r[1]){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,Vh.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,Vh.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const r=parseFloat(e[1])/360,i=parseFloat(e[2])/100,a=parseFloat(e[3])/100;return n(e[4]),this.setHSL(r,i,a,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,Vh.toWorkingColorSpace(this,t),this;if(6===n)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,Vh.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t="srgb"){const n=Hh[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bh(e.r),this.g=Bh(e.g),this.b=Bh(e.b),this}copyLinearToSRGB(e){return this.r=Fh(e.r),this.g=Fh(e.g),this.b=Fh(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e="srgb"){return Vh.fromWorkingColorSpace(Xh(this,Wh),e),Sh(255*Wh.r,0,255)<<16^Sh(255*Wh.g,0,255)<<8^Sh(255*Wh.b,0,255)<<0}getHexString(e="srgb"){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vh.workingColorSpace){Vh.fromWorkingColorSpace(Xh(this,Wh),t);const n=Wh.r,r=Wh.g,i=Wh.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const u=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=u<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=u,e}getRGB(e,t=Vh.workingColorSpace){return Vh.fromWorkingColorSpace(Xh(this,Wh),t),e.r=Wh.r,e.g=Wh.g,e.b=Wh.b,e}getStyle(e="srgb"){return Vh.fromWorkingColorSpace(Xh(this,Wh),e),"srgb"!==e?`color(${e} ${Wh.r} ${Wh.g} ${Wh.b})`:`rgb(${255*Wh.r|0},${255*Wh.g|0},${255*Wh.b|0})`}offsetHSL(e,t,n){return this.getHSL(Gh),Gh.h+=e,Gh.s+=t,Gh.l+=n,this.setHSL(Gh.h,Gh.s,Gh.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Gh),e.getHSL($h);const n=Eh(Gh.h,$h.h,t),r=Eh(Gh.s,$h.s,t),i=Eh(Gh.l,$h.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let Zh;Yh.NAMES=Hh;class Kh{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Zh&&(Zh=Uh("canvas")),Zh.width=e.width,Zh.height=e.height;const n=Zh.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Zh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Uh("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Bh(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t[e]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*Bh(t[e]/255)):Bh(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Jh{constructor(e=null){this.isSource=!0,this.uuid=wh(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)e.push(Qh(r[t].isDataTexture?r[t].image:r[t]))}else e=Qh(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Qh(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Kh.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ed=0;class td extends vh{constructor(e=td.DEFAULT_IMAGE,t=td.DEFAULT_MAPPING,n=1001,r=1001,i=1006,a=1008,o=1023,s=1009,l=td.DEFAULT_ANISOTROPY,u=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ed++}),this.uuid=wh(),this.name="",this.source=new Jh(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Rh(0,0),this.repeat=new Rh(1,1),this.center=new Rh(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lh,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}td.DEFAULT_IMAGE=null,td.DEFAULT_MAPPING=300,td.DEFAULT_ANISOTROPY=1;class nd{constructor(e=0,t=0,n=0,r=1){nd.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(f-m)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+m)<o&&Math.abs(l+d+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(d+1)/2,v=(g+1)/2,y=(u+h)/4,_=(c+p)/4,b=(f+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=_/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=b/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=_/i,r=b/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(c-p)/v,this.z=(h-u)/v,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rd extends vh{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new nd(0,0,e,t),this.scissorTest=!1,this.viewport=new nd(0,0,e,t),this.texture=new td({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Jh(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class id extends td{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ad extends td{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class od{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3];const h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||l!==d||u!==f){let e=1-o;const t=s*h+l*d+u*f+c*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),a=Math.atan2(i,t*n);e=Math.sin(e*a)/i,o=Math.sin(o*a)/i}const i=o*n;if(s=s*e+h*i,l=l*e+d*i,u=u*e+f*i,c=c*e+p*i,e===1-o){const e=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=e,l*=e,u*=e,c*=e}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(u-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>c){const e=2*Math.sqrt(1+n-o-c);this._w=(u-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>c){const e=2*Math.sqrt(1+o-n-c);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+u)/e}else{const e=2*Math.sqrt(1+c-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+u)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sh(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,a=this._w;let o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;const s=1-o*o;if(s<=Number.EPSILON){const e=1-t;return this._w=e*a+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),u=Math.atan2(l,o),c=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=a*c+this._w*h,this._x=n*c+this._x*h,this._y=r*c+this._y*h,this._z=i*c+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class sd{constructor(e=0,t=0,n=0){sd.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ud.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ud.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ld.copy(this).projectOnVector(e),this.sub(ld)}reflect(e){return this.sub(ld.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Sh(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ld=/*@__PURE__*/new sd,ud=/*@__PURE__*/new od;class cd{constructor(e=new sd(Infinity,Infinity,Infinity),t=new sd(-Infinity,-Infinity,-Infinity)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=Infinity,n=Infinity,r=Infinity,i=-Infinity,a=-Infinity,o=-Infinity;for(let s=0,l=e.length;s<l;s+=3){const l=e[s],u=e[s+1],c=e[s+2];l<t&&(t=l),u<n&&(n=u),c<r&&(r=c),l>i&&(i=l),u>a&&(a=u),c>o&&(o=c)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromBufferAttribute(e){let t=Infinity,n=Infinity,r=Infinity,i=-Infinity,a=-Infinity,o=-Infinity;for(let s=0,l=e.count;s<l;s++){const l=e.getX(s),u=e.getY(s),c=e.getZ(s);l<t&&(t=l),u<n&&(n=u),c<r&&(r=c),l>i&&(i=l),u>a&&(a=u),c>o&&(o=c)}return this.min.set(t,n,r),this.max.set(i,a,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=dd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)dd.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(dd)}else null===n.boundingBox&&n.computeBoundingBox(),fd.copy(n.boundingBox),fd.applyMatrix4(e.matrixWorld),this.union(fd);const r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,dd),dd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(bd),xd.subVectors(this.max,bd),pd.subVectors(e.a,bd),md.subVectors(e.b,bd),gd.subVectors(e.c,bd),vd.subVectors(md,pd),yd.subVectors(gd,md),_d.subVectors(pd,gd);let t=[0,-vd.z,vd.y,0,-yd.z,yd.y,0,-_d.z,_d.y,vd.z,0,-vd.x,yd.z,0,-yd.x,_d.z,0,-_d.x,-vd.y,vd.x,0,-yd.y,yd.x,0,-_d.y,_d.x,0];return!!Md(t,pd,md,gd,xd)&&(t=[1,0,0,0,1,0,0,0,1],!!Md(t,pd,md,gd,xd)&&(wd.crossVectors(vd,yd),t=[wd.x,wd.y,wd.z],Md(t,pd,md,gd,xd)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dd.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(dd).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(hd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hd)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const hd=[
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd,
/*@__PURE__*/new sd],dd=/*@__PURE__*/new sd,fd=/*@__PURE__*/new cd,pd=/*@__PURE__*/new sd,md=/*@__PURE__*/new sd,gd=/*@__PURE__*/new sd,vd=/*@__PURE__*/new sd,yd=/*@__PURE__*/new sd,_d=/*@__PURE__*/new sd,bd=/*@__PURE__*/new sd,xd=/*@__PURE__*/new sd,wd=/*@__PURE__*/new sd,Sd=/*@__PURE__*/new sd;function Md(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){Sd.fromArray(e,a);const o=i.x*Math.abs(Sd.x)+i.y*Math.abs(Sd.y)+i.z*Math.abs(Sd.z),s=t.dot(Sd),l=n.dot(Sd),u=r.dot(Sd);if(Math.max(-Math.max(s,l,u),Math.min(s,l,u))>o)return!1}return!0}const Ed=/*@__PURE__*/new cd,Td=/*@__PURE__*/new sd,Cd=/*@__PURE__*/new sd;class Pd{constructor(e=new sd,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ed.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Td.subVectors(e,this.center);const t=Td.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Td,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Cd.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Td.copy(e.center).add(Cd)),this.expandByPoint(Td.copy(e.center).sub(Cd))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const kd=/*@__PURE__*/new sd,Ad=/*@__PURE__*/new sd,Id=/*@__PURE__*/new sd,Rd=/*@__PURE__*/new sd,Ld=/*@__PURE__*/new sd,Od=/*@__PURE__*/new sd,Nd=/*@__PURE__*/new sd;class Dd{constructor(e=new sd,t=new sd(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,kd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=kd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(kd.copy(this.direction).multiplyScalar(t).add(this.origin),kd.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Ad.copy(e).add(t).multiplyScalar(.5),Id.copy(t).sub(e).normalize(),Rd.copy(this.origin).sub(Ad);const i=.5*e.distanceTo(t),a=-this.direction.dot(Id),o=Rd.dot(this.direction),s=-Rd.dot(Id),l=Rd.lengthSq(),u=Math.abs(1-a*a);let c,h,d,f;if(u>0)if(c=a*s-o,h=a*o-s,f=i*u,c>=0)if(h>=-f)if(h<=f){const e=1/u;c*=e,h*=e,d=c*(c+a*h+2*o)+h*(a*c+h+2*s)+l}else h=i,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*s)+l;else h=-i,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*s)+l;else h<=-f?(c=Math.max(0,-(-a*i+o)),h=c>0?-i:Math.min(Math.max(-i,-s),i),d=-c*c+h*(h+2*s)+l):h<=f?(c=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+l):(c=Math.max(0,-(a*i+o)),h=c>0?i:Math.min(Math.max(-i,-s),i),d=-c*c+h*(h+2*s)+l);else h=a>0?-i:i,c=Math.max(0,-(a*h+o)),d=-c*c+h*(h+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(c).add(this.origin),r&&r.copy(Id).multiplyScalar(h).add(Ad),d}intersectSphere(e,t){kd.subVectors(e.center,this.origin);const n=kd.dot(this.direction),r=kd.dot(kd)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,kd)}intersectTriangle(e,t,n,r,i){Ld.subVectors(t,e),Od.subVectors(n,e),Nd.crossVectors(Ld,Od);let a,o=this.direction.dot(Nd);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Rd.subVectors(this.origin,e);const s=a*this.direction.dot(Od.crossVectors(Rd,Od));if(s<0)return null;const l=a*this.direction.dot(Ld.cross(Rd));if(l<0)return null;if(s+l>o)return null;const u=-a*Rd.dot(Nd);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class zd{constructor(){zd.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,a,o,s,l,u,c,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new zd).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Ud.setFromMatrixColumn(e,0).length(),i=1/Ud.setFromMatrixColumn(e,1).length(),a=1/Ud.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*u,n=s*c,r=l*u,i=l*c;t[0]=e-i*o,t[4]=-a*c,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*u,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*u,n=a*c,r=o*u,i=o*c;t[0]=s*u,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*c,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=i-e*c,t[8]=r*c+n,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=n*c+r,t[10]=e-i*c}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=e*c+i,t[5]=a*u,t[9]=n*c-r,t[2]=r*c-n,t[6]=o*u,t[10]=i*c+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Fd,e,jd)}lookAt(e,t,n){const r=this.elements;return Wd.subVectors(e,t),0===Wd.lengthSq()&&(Wd.z=1),Wd.normalize(),Vd.crossVectors(n,Wd),0===Vd.lengthSq()&&(1===Math.abs(n.z)?Wd.x+=1e-4:Wd.z+=1e-4,Wd.normalize(),Vd.crossVectors(n,Wd)),Vd.normalize(),Hd.crossVectors(Wd,Vd),r[0]=Vd.x,r[4]=Hd.x,r[8]=Wd.x,r[1]=Vd.y,r[5]=Hd.y,r[9]=Wd.y,r[2]=Vd.z,r[6]=Hd.z,r[10]=Wd.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],M=r[12],E=r[1],T=r[5],C=r[9],P=r[13],k=r[2],A=r[6],I=r[10],R=r[14],L=r[3],O=r[7],N=r[11],D=r[15];return i[0]=a*x+o*E+s*k+l*L,i[4]=a*w+o*T+s*A+l*O,i[8]=a*S+o*C+s*I+l*N,i[12]=a*M+o*P+s*R+l*D,i[1]=u*x+c*E+h*k+d*L,i[5]=u*w+c*T+h*A+d*O,i[9]=u*S+c*C+h*I+d*N,i[13]=u*M+c*P+h*R+d*D,i[2]=f*x+p*E+m*k+g*L,i[6]=f*w+p*T+m*A+g*O,i[10]=f*S+p*C+m*I+g*N,i[14]=f*M+p*P+m*R+g*D,i[3]=v*x+y*E+_*k+b*L,i[7]=v*w+y*T+_*A+b*O,i[11]=v*S+y*C+_*I+b*N,i[15]=v*M+y*P+_*R+b*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=c*m*l-p*h*l+p*s*d-o*m*d-c*s*g+o*h*g,y=f*h*l-u*m*l-f*s*d+a*m*d+u*s*g-a*h*g,_=u*p*l-f*c*l+f*o*d-a*p*d-u*o*g+a*c*g,b=f*c*s-u*p*s-f*o*h+a*p*h+u*o*m-a*c*m,x=t*v+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(p*h*i-c*m*i-p*r*d+n*m*d+c*r*g-n*h*g)*w,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*d-n*s*d)*w,e[4]=y*w,e[5]=(u*m*i-f*h*i+f*r*d-t*m*d-u*r*g+t*h*g)*w,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*d+t*s*d)*w,e[8]=_*w,e[9]=(f*c*i-u*p*i-f*n*d+t*p*d+u*n*g-t*c*g)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*d-t*o*d)*w,e[12]=b*w,e[13]=(u*p*r-f*c*r+f*n*h-t*p*h-u*n*m+t*c*m)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,d=i*u,f=i*c,p=a*u,m=a*c,g=o*c,v=s*l,y=s*u,_=s*c,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+g))*b,r[1]=(d+_)*b,r[2]=(f-y)*b,r[3]=0,r[4]=(d-_)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Ud.set(r[0],r[1],r[2]).length();const a=Ud.set(r[4],r[5],r[6]).length(),o=Ud.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Bd.copy(this);const s=1/i,l=1/a,u=1/o;return Bd.elements[0]*=s,Bd.elements[1]*=s,Bd.elements[2]*=s,Bd.elements[4]*=l,Bd.elements[5]*=l,Bd.elements[6]*=l,Bd.elements[8]*=u,Bd.elements[9]*=u,Bd.elements[10]*=u,t.setFromRotationMatrix(Bd),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a){const o=this.elements,s=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),c=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=2*i/(t-e),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,i,a){const o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,h=(n+r)*l,d=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Ud=/*@__PURE__*/new sd,Bd=/*@__PURE__*/new zd,Fd=/*@__PURE__*/new sd(0,0,0),jd=/*@__PURE__*/new sd(1,1,1),Vd=/*@__PURE__*/new sd,Hd=/*@__PURE__*/new sd,Wd=/*@__PURE__*/new sd,Gd=/*@__PURE__*/new zd,$d=/*@__PURE__*/new od;class qd{constructor(e=0,t=0,n=0,r=qd.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(Sh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Sh(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Sh(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Sh(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Sh(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Sh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Gd.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Gd,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return $d.setFromEuler(this),this.setFromQuaternion($d,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}qd.DefaultOrder="XYZ",qd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Xd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Yd=0;const Zd=/*@__PURE__*/new sd,Kd=/*@__PURE__*/new od,Jd=/*@__PURE__*/new zd,Qd=/*@__PURE__*/new sd,ef=/*@__PURE__*/new sd,tf=/*@__PURE__*/new sd,nf=/*@__PURE__*/new od,rf=/*@__PURE__*/new sd(1,0,0),af=/*@__PURE__*/new sd(0,1,0),of=/*@__PURE__*/new sd(0,0,1),sf={type:"added"},lf={type:"removed"};class uf extends vh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Yd++}),this.uuid=wh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=uf.DefaultUp.clone();const e=new sd,t=new qd,n=new od,r=new sd(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new zd},normalMatrix:{value:new Lh}}),this.matrix=new zd,this.matrixWorld=new zd,this.matrixAutoUpdate=uf.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=uf.DefaultMatrixWorldAutoUpdate,this.layers=new Xd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Kd.setFromAxisAngle(e,t),this.quaternion.multiply(Kd),this}rotateOnWorldAxis(e,t){return Kd.setFromAxisAngle(e,t),this.quaternion.premultiply(Kd),this}rotateX(e){return this.rotateOnAxis(rf,e)}rotateY(e){return this.rotateOnAxis(af,e)}rotateZ(e){return this.rotateOnAxis(of,e)}translateOnAxis(e,t){return Zd.copy(e).applyQuaternion(this.quaternion),this.position.add(Zd.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(rf,e)}translateY(e){return this.translateOnAxis(af,e)}translateZ(e){return this.translateOnAxis(of,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Jd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Qd.copy(e):Qd.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ef.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jd.lookAt(ef,Qd,this.up):Jd.lookAt(Qd,ef,this.up),this.quaternion.setFromRotationMatrix(Jd),r&&(Jd.extractRotation(r.matrixWorld),Kd.setFromRotationMatrix(Jd),this.quaternion.premultiply(Kd.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(sf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(lf)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(lf)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Jd.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Jd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Jd),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ef,e,tf),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ef,nf,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++)i(e.shapes,n[t]);else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++)r.animations.push(i(e.animations,this.animations[t]))}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),u=a(e.animations),c=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),u.length>0&&(n.animations=u),c.length>0&&(n.nodes=c)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++)this.add(e.children[t].clone());return this}}uf.DefaultUp=/*@__PURE__*/new sd(0,1,0),uf.DefaultMatrixAutoUpdate=!0,uf.DefaultMatrixWorldAutoUpdate=!0;const cf=/*@__PURE__*/new sd,hf=/*@__PURE__*/new sd,df=/*@__PURE__*/new sd,ff=/*@__PURE__*/new sd,pf=/*@__PURE__*/new sd,mf=/*@__PURE__*/new sd,gf=/*@__PURE__*/new sd,vf=/*@__PURE__*/new sd,yf=/*@__PURE__*/new sd,_f=/*@__PURE__*/new sd;class bf{constructor(e=new sd,t=new sd,n=new sd){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),cf.subVectors(e,t),r.cross(cf);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){cf.subVectors(r,t),hf.subVectors(n,t),df.subVectors(e,t);const a=cf.dot(cf),o=cf.dot(hf),s=cf.dot(df),l=hf.dot(hf),u=hf.dot(df),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);const h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,ff),ff.x>=0&&ff.y>=0&&ff.x+ff.y<=1}static getUV(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,ff),s.set(0,0),s.addScaledVector(i,ff.x),s.addScaledVector(a,ff.y),s.addScaledVector(o,ff.z),s}static isFrontFacing(e,t,n,r){return cf.subVectors(n,t),hf.subVectors(e,t),cf.cross(hf).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cf.subVectors(this.c,this.b),hf.subVectors(this.a,this.b),.5*cf.cross(hf).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bf.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return bf.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return bf.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return bf.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bf.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;pf.subVectors(r,n),mf.subVectors(i,n),vf.subVectors(e,n);const s=pf.dot(vf),l=mf.dot(vf);if(s<=0&&l<=0)return t.copy(n);yf.subVectors(e,r);const u=pf.dot(yf),c=mf.dot(yf);if(u>=0&&c<=u)return t.copy(r);const h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return a=s/(s-u),t.copy(n).addScaledVector(pf,a);_f.subVectors(e,i);const d=pf.dot(_f),f=mf.dot(_f);if(f>=0&&d<=f)return t.copy(i);const p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(mf,o);const m=u*f-d*c;if(m<=0&&c-u>=0&&d-f>=0)return gf.subVectors(i,r),o=(c-u)/(c-u+(d-f)),t.copy(r).addScaledVector(gf,o);const g=1/(m+p+h);return a=p*g,o=h*g,t.copy(n).addScaledVector(pf,a).addScaledVector(mf,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let xf=0;class wf extends vh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:xf++}),this.uuid=wh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&Infinity!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Sf extends wf{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Yh(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Mf=/*@__PURE__*/new sd,Ef=/*@__PURE__*/new Rh;class Tf{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ef.fromBufferAttribute(this,t),Ef.applyMatrix3(e),this.setXY(t,Ef.x,Ef.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Mf.fromBufferAttribute(this,t),Mf.applyMatrix3(e),this.setXYZ(t,Mf.x,Mf.y,Mf.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Mf.fromBufferAttribute(this,t),Mf.applyMatrix4(e),this.setXYZ(t,Mf.x,Mf.y,Mf.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Mf.fromBufferAttribute(this,t),Mf.applyNormalMatrix(e),this.setXYZ(t,Mf.x,Mf.y,Mf.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Mf.fromBufferAttribute(this,t),Mf.transformDirection(e),this.setXYZ(t,Mf.x,Mf.y,Mf.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=kh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ah(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=kh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ah(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=kh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ah(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=kh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ah(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array),r=Ah(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array),r=Ah(r,this.array),i=Ah(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Cf extends Tf{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Pf extends Tf{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class kf extends Tf{constructor(e,t,n){super(new Float32Array(e),t,n)}}let Af=0;const If=/*@__PURE__*/new zd,Rf=/*@__PURE__*/new uf,Lf=/*@__PURE__*/new sd,Of=/*@__PURE__*/new cd,Nf=/*@__PURE__*/new cd,Df=/*@__PURE__*/new sd;class zf extends vh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Af++}),this.uuid=wh(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Nh(e)?Pf:Cf)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Lh).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return If.makeRotationFromQuaternion(e),this.applyMatrix4(If),this}rotateX(e){return If.makeRotationX(e),this.applyMatrix4(If),this}rotateY(e){return If.makeRotationY(e),this.applyMatrix4(If),this}rotateZ(e){return If.makeRotationZ(e),this.applyMatrix4(If),this}translate(e,t,n){return If.makeTranslation(e,t,n),this.applyMatrix4(If),this}scale(e,t,n){return If.makeScale(e,t,n),this.applyMatrix4(If),this}lookAt(e){return Rf.lookAt(e),Rf.updateMatrix(),this.applyMatrix4(Rf.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lf).negate(),this.translate(Lf.x,Lf.y,Lf.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new kf(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new cd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new sd(-Infinity,-Infinity,-Infinity),new sd(Infinity,Infinity,Infinity));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++)Of.setFromBufferAttribute(t[e]),this.morphTargetsRelative?(Df.addVectors(this.boundingBox.min,Of.min),this.boundingBox.expandByPoint(Df),Df.addVectors(this.boundingBox.max,Of.max),this.boundingBox.expandByPoint(Df)):(this.boundingBox.expandByPoint(Of.min),this.boundingBox.expandByPoint(Of.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Pd);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new sd,Infinity);if(e){const n=this.boundingSphere.center;if(Of.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++)Nf.setFromBufferAttribute(t[e]),this.morphTargetsRelative?(Df.addVectors(Of.min,Nf.min),Of.expandByPoint(Df),Df.addVectors(Of.max,Nf.max),Of.expandByPoint(Df)):(Of.expandByPoint(Nf.min),Of.expandByPoint(Nf.max));Of.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Df.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Df));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)Df.fromBufferAttribute(a,t),o&&(Lf.fromBufferAttribute(e,t),Df.add(Lf)),r=Math.max(r,n.distanceToSquared(Df))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Tf(new Float32Array(4*o),4));const s=this.getAttribute("tangent").array,l=[],u=[];for(let e=0;e<o;e++)l[e]=new sd,u[e]=new sd;const c=new sd,h=new sd,d=new sd,f=new Rh,p=new Rh,m=new Rh,g=new sd,v=new sd;function y(e,t,n){c.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),f.fromArray(a,2*e),p.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(c),d.sub(c),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar(i),v.copy(d).multiplyScalar(p.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),u[e].add(v),u[t].add(v),u[n].add(v))}let _=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(let e=0,t=_.length;e<t;++e){const t=_[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)y(n[e+0],n[e+1],n[e+2])}const b=new sd,x=new sd,w=new sd,S=new sd;function M(e){w.fromArray(i,3*e),S.copy(w);const t=l[e];b.copy(t),b.sub(w.multiplyScalar(w.dot(t))).normalize(),x.crossVectors(S,t);const n=x.dot(u[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}for(let e=0,t=_.length;e<t;++e){const t=_[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)M(n[e+0]),M(n[e+1]),M(n[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Tf(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new sd,i=new sd,a=new sd,o=new sd,s=new sd,l=new sd,u=new sd,c=new sd;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),o.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(u),s.add(u),l.add(u),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,o=t.count;e<o;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),u.subVectors(a,i),c.subVectors(r,i),u.cross(c),n.setXYZ(e+0,u.x,u.y,u.z),n.setXYZ(e+1,u.x,u.y,u.z),n.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Df.fromBufferAttribute(e,t),Df.normalize(),e.setXYZ(t,Df.x,Df.y,Df.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let i=0,l=t.length;i<l;i++){o=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new Tf(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new zf,n=this.index.array,r=this.attributes;for(const i in r){const a=e(r[i],n);t.setAttribute(i,a)}const i=this.morphAttributes;for(const r in i){const a=[],o=i[r];for(let t=0,r=o.length;t<r;t++){const r=e(o[t],n);a.push(r)}t.morphAttributes[r]=a}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let e=0,n=a.length;e<n;e++){const n=a[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n)e.data.attributes[t]=n[t].toJSON(e.data);const r={};let i=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],a=[];for(let t=0,r=n.length;t<r;t++)a.push(n[t].toJSON(e.data));a.length>0&&(r[t]=a,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const e in r)this.setAttribute(e,r[e].clone(t));const i=e.morphAttributes;for(const e in i){const n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let e=0,t=a.length;e<t;e++){const t=a[e];this.addGroup(t.start,t.count,t.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Uf=/*@__PURE__*/new zd,Bf=/*@__PURE__*/new Dd,Ff=/*@__PURE__*/new Pd,jf=/*@__PURE__*/new sd,Vf=/*@__PURE__*/new sd,Hf=/*@__PURE__*/new sd,Wf=/*@__PURE__*/new sd,Gf=/*@__PURE__*/new sd,$f=/*@__PURE__*/new sd,qf=/*@__PURE__*/new sd,Xf=/*@__PURE__*/new sd,Yf=/*@__PURE__*/new sd,Zf=/*@__PURE__*/new Rh,Kf=/*@__PURE__*/new Rh,Jf=/*@__PURE__*/new Rh,Qf=/*@__PURE__*/new sd,ep=/*@__PURE__*/new sd;class tp extends uf{constructor(e=new zf,t=new Sf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Ff.copy(n.boundingSphere),Ff.applyMatrix4(i),!1===e.ray.intersectsSphere(Ff))return;if(Uf.copy(i).invert(),Bf.copy(e.ray).applyMatrix4(Uf),null!==n.boundingBox&&!1===Bf.intersectsBox(n.boundingBox))return;let a;const o=n.index,s=n.attributes.position,l=n.morphAttributes.position,u=n.morphTargetsRelative,c=n.attributes.uv,h=n.attributes.uv2,d=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(r))for(let n=0,i=d.length;n<i;n++){const i=d[n],p=r[i.materialIndex];for(let n=Math.max(i.start,f.start),r=Math.min(o.count,Math.min(i.start+i.count,f.start+f.count));n<r;n+=3){const r=o.getX(n),d=o.getX(n+1),f=o.getX(n+2);a=np(this,p,e,Bf,s,l,u,c,h,r,d,f),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}}else for(let n=Math.max(0,f.start),i=Math.min(o.count,f.start+f.count);n<i;n+=3){const i=o.getX(n),d=o.getX(n+1),f=o.getX(n+2);a=np(this,r,e,Bf,s,l,u,c,h,i,d,f),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(let n=0,i=d.length;n<i;n++){const i=d[n],o=r[i.materialIndex];for(let n=Math.max(i.start,f.start),r=Math.min(s.count,Math.min(i.start+i.count,f.start+f.count));n<r;n+=3)a=np(this,o,e,Bf,s,l,u,c,h,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),a.face.materialIndex=i.materialIndex,t.push(a))}else for(let n=Math.max(0,f.start),i=Math.min(s.count,f.start+f.count);n<i;n+=3)a=np(this,r,e,Bf,s,l,u,c,h,n,n+1,n+2),a&&(a.faceIndex=Math.floor(n/3),t.push(a))}}function np(e,t,n,r,i,a,o,s,l,u,c,h){jf.fromBufferAttribute(i,u),Vf.fromBufferAttribute(i,c),Hf.fromBufferAttribute(i,h);const d=e.morphTargetInfluences;if(a&&d){qf.set(0,0,0),Xf.set(0,0,0),Yf.set(0,0,0);for(let e=0,t=a.length;e<t;e++){const t=d[e],n=a[e];0!==t&&(Wf.fromBufferAttribute(n,u),Gf.fromBufferAttribute(n,c),$f.fromBufferAttribute(n,h),o?(qf.addScaledVector(Wf,t),Xf.addScaledVector(Gf,t),Yf.addScaledVector($f,t)):(qf.addScaledVector(Wf.sub(jf),t),Xf.addScaledVector(Gf.sub(Vf),t),Yf.addScaledVector($f.sub(Hf),t)))}jf.add(qf),Vf.add(Xf),Hf.add(Yf)}e.isSkinnedMesh&&(e.boneTransform(u,jf),e.boneTransform(c,Vf),e.boneTransform(h,Hf));const f=function(e,t,n,r,i,a,o,s){let l;if(l=1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==t.side,s),null===l)return null;ep.copy(s),ep.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(ep);return u<n.near||u>n.far?null:{distance:u,point:ep.clone(),object:e}}(e,t,n,r,jf,Vf,Hf,Qf);if(f){s&&(Zf.fromBufferAttribute(s,u),Kf.fromBufferAttribute(s,c),Jf.fromBufferAttribute(s,h),f.uv=bf.getUV(Qf,jf,Vf,Hf,Zf,Kf,Jf,new Rh)),l&&(Zf.fromBufferAttribute(l,u),Kf.fromBufferAttribute(l,c),Jf.fromBufferAttribute(l,h),f.uv2=bf.getUV(Qf,jf,Vf,Hf,Zf,Kf,Jf,new Rh));const e={a:u,b:c,c:h,normal:new sd,materialIndex:0};bf.getNormal(jf,Vf,Hf,e.normal),f.face=e}return f}class rp extends zf{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],u=[],c=[];let h=0,d=0;function f(e,t,n,r,i,a,f,p,m,g,v){const y=a/m,_=f/g,b=a/2,x=f/2,w=p/2,S=m+1,M=g+1;let E=0,T=0;const C=new sd;for(let a=0;a<M;a++){const o=a*_-x;for(let s=0;s<S;s++)C[e]=(s*y-b)*r,C[t]=o*i,C[n]=w,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=p>0?1:-1,u.push(C.x,C.y,C.z),c.push(s/m),c.push(1-a/g),E+=1}for(let e=0;e<g;e++)for(let t=0;t<m;t++){const n=h+t+S*(e+1),r=h+(t+1)+S*(e+1),i=h+(t+1)+S*e;s.push(h+t+S*e,n,i),s.push(n,r,i),T+=6}o.addGroup(d,T,v),d+=T,h+=E}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new kf(l,3)),this.setAttribute("normal",new kf(u,3)),this.setAttribute("uv",new kf(c,2))}static fromJSON(e){return new rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ip(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];t[n][r]=i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.clone():Array.isArray(i)?i.slice():i}}return t}function ap(e){const t={};for(let n=0;n<e.length;n++){const r=ip(e[n]);for(const e in r)t[e]=r[e]}return t}function op(e){return null===e.getRenderTarget()&&3001===e.outputEncoding?"srgb":"srgb-linear"}const sp={clone:ip,merge:ap};class lp extends wf{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ip(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;t.uniforms[n]=r&&r.isTexture?{type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class up extends uf{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zd,this.projectionMatrix=new zd,this.projectionMatrixInverse=new zd}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class cp extends up{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*xh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*bh*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*xh*Math.atan(Math.tan(.5*bh*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*bh*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class hp extends uf{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new cp(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const i=new cp(-90,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);const a=new cp(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);const o=new cp(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);const s=new cp(-90,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);const l=new cp(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,a,o,s,l]=this.children,u=e.getRenderTarget(),c=e.toneMapping,h=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=c,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class dp extends td{constructor(e,t,n,r,i,a,o,s,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,i,a,o,s,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fp extends rd{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1};this.texture=new dp([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:1006}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n=new rp(5,5,5),r=new lp({name:"CubemapFromEquirect",uniforms:ip({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});r.uniforms.tEquirect.value=t;const i=new tp(n,r),a=t.minFilter;return 1008===t.minFilter&&(t.minFilter=1006),new hp(1,10,this).update(e,i),t.minFilter=a,i.geometry.dispose(),i.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}const pp=/*@__PURE__*/new sd,mp=/*@__PURE__*/new sd,gp=/*@__PURE__*/new Lh;class vp{constructor(e=new sd(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=pp.subVectors(n,t).cross(mp.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(pp),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||gp.getNormalMatrix(e),r=this.coplanarPoint(pp).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const yp=/*@__PURE__*/new Pd,_p=/*@__PURE__*/new sd;class bp{constructor(e=new vp,t=new vp,n=new vp,r=new vp,i=new vp,a=new vp){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-h,y-m).normalize(),t[1].setComponents(o+r,c+s,p+h,y+m).normalize(),t[2].setComponents(o+i,c+l,p+d,y+g).normalize(),t[3].setComponents(o-i,c-l,p-d,y-g).normalize(),t[4].setComponents(o-a,c-u,p-f,y-v).normalize(),t[5].setComponents(o+a,c+u,p+f,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),yp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(yp)}intersectsSprite(e){return yp.center.set(0,0,0),yp.radius=.7071067811865476,yp.applyMatrix4(e.matrixWorld),this.intersectsSphere(yp)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(_p.x=r.normal.x>0?e.max.x:e.min.x,_p.y=r.normal.y>0?e.max.y:e.min.y,_p.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(_p)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function xp(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function wp(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const a=r.get(t);void 0===a?r.set(t,function(t,r){const i=t.array,a=t.usage,o=e.createBuffer();let s;if(e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(function(t,r,i){const a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(a.buffer,t,i),a.version=t.version)}}}class Sp extends zf{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,u=s+1,c=e/o,h=t/s,d=[],f=[],p=[],m=[];for(let e=0;e<u;e++){const t=e*h-a;for(let n=0;n<l;n++)f.push(n*c-i,-t,0),p.push(0,0,1),m.push(n/o),m.push(1-e/s)}for(let e=0;e<s;e++)for(let t=0;t<o;t++){const n=t+l*(e+1),r=t+1+l*(e+1),i=t+1+l*e;d.push(t+l*e,n,i),d.push(n,r,i)}this.setIndex(d),this.setAttribute("position",new kf(f,3)),this.setAttribute("normal",new kf(p,3)),this.setAttribute("uv",new kf(m,2))}static fromJSON(e){return new Sp(e.width,e.height,e.widthSegments,e.heightSegments)}}const Mp={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ep={common:{diffuse:{value:/*@__PURE__*/new Yh(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:/*@__PURE__*/new Lh},uv2Transform:{value:/*@__PURE__*/new Lh},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:/*@__PURE__*/new Rh(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:/*@__PURE__*/new Yh(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:/*@__PURE__*/new Yh(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:/*@__PURE__*/new Lh}},sprite:{diffuse:{value:/*@__PURE__*/new Yh(16777215)},opacity:{value:1},center:{value:/*@__PURE__*/new Rh(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:/*@__PURE__*/new Lh}}},Tp={basic:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.specularmap,Ep.envmap,Ep.aomap,Ep.lightmap,Ep.fog]),vertexShader:Mp.meshbasic_vert,fragmentShader:Mp.meshbasic_frag},lambert:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.specularmap,Ep.envmap,Ep.aomap,Ep.lightmap,Ep.emissivemap,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,Ep.fog,Ep.lights,{emissive:{value:/*@__PURE__*/new Yh(0)}}]),vertexShader:Mp.meshlambert_vert,fragmentShader:Mp.meshlambert_frag},phong:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.specularmap,Ep.envmap,Ep.aomap,Ep.lightmap,Ep.emissivemap,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,Ep.fog,Ep.lights,{emissive:{value:/*@__PURE__*/new Yh(0)},specular:{value:/*@__PURE__*/new Yh(1118481)},shininess:{value:30}}]),vertexShader:Mp.meshphong_vert,fragmentShader:Mp.meshphong_frag},standard:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.envmap,Ep.aomap,Ep.lightmap,Ep.emissivemap,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,Ep.roughnessmap,Ep.metalnessmap,Ep.fog,Ep.lights,{emissive:{value:/*@__PURE__*/new Yh(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mp.meshphysical_vert,fragmentShader:Mp.meshphysical_frag},toon:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.aomap,Ep.lightmap,Ep.emissivemap,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,Ep.gradientmap,Ep.fog,Ep.lights,{emissive:{value:/*@__PURE__*/new Yh(0)}}]),vertexShader:Mp.meshtoon_vert,fragmentShader:Mp.meshtoon_frag},matcap:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,Ep.fog,{matcap:{value:null}}]),vertexShader:Mp.meshmatcap_vert,fragmentShader:Mp.meshmatcap_frag},points:{uniforms:/*@__PURE__*/ap([Ep.points,Ep.fog]),vertexShader:Mp.points_vert,fragmentShader:Mp.points_frag},dashed:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mp.linedashed_vert,fragmentShader:Mp.linedashed_frag},depth:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.displacementmap]),vertexShader:Mp.depth_vert,fragmentShader:Mp.depth_frag},normal:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.bumpmap,Ep.normalmap,Ep.displacementmap,{opacity:{value:1}}]),vertexShader:Mp.meshnormal_vert,fragmentShader:Mp.meshnormal_frag},sprite:{uniforms:/*@__PURE__*/ap([Ep.sprite,Ep.fog]),vertexShader:Mp.sprite_vert,fragmentShader:Mp.sprite_frag},background:{uniforms:{uvTransform:{value:/*@__PURE__*/new Lh},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mp.background_vert,fragmentShader:Mp.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mp.backgroundCube_vert,fragmentShader:Mp.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mp.cube_vert,fragmentShader:Mp.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mp.equirect_vert,fragmentShader:Mp.equirect_frag},distanceRGBA:{uniforms:/*@__PURE__*/ap([Ep.common,Ep.displacementmap,{referencePosition:{value:/*@__PURE__*/new sd},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mp.distanceRGBA_vert,fragmentShader:Mp.distanceRGBA_frag},shadow:{uniforms:/*@__PURE__*/ap([Ep.lights,Ep.fog,{color:{value:/*@__PURE__*/new Yh(0)},opacity:{value:1}}]),vertexShader:Mp.shadow_vert,fragmentShader:Mp.shadow_frag}};Tp.physical={uniforms:/*@__PURE__*/ap([Tp.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:/*@__PURE__*/new Rh(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:/*@__PURE__*/new Yh(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:/*@__PURE__*/new Rh},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:/*@__PURE__*/new Yh(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:/*@__PURE__*/new Yh(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mp.meshphysical_vert,fragmentShader:Mp.meshphysical_frag};const Cp={r:0,b:0,g:0};function Pp(e,t,n,r,i,a,o){const s=new Yh(0);let l,u,c=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(Cp,op(e)),r.buffers.color.setClear(Cp.r,Cp.g,Cp.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),c=t,p(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,p(s,c)},render:function(r,a){let o=!1,m=!0===a.isScene?a.background:null;m&&m.isTexture&&(m=(a.backgroundBlurriness>0?n:t).get(m));const g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?p(s,c):m&&m.isColor&&(p(m,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||306===m.mapping)?(void 0===u&&(u=new tp(new rp(1,1,1),new lp({name:"BackgroundCubeMaterial",uniforms:ip(Tp.backgroundCube.uniforms),vertexShader:Tp.backgroundCube.vertexShader,fragmentShader:Tp.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=m,u.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,h===m&&d===m.version&&f===e.toneMapping||(u.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),u.layers.enableAll(),r.unshift(u,u.geometry,u.material,0,0,null)):m&&m.isTexture&&(void 0===l&&(l=new tp(new Sp(2,2),new lp({name:"BackgroundMaterial",uniforms:ip(Tp.background.uniforms),vertexShader:Tp.background.vertexShader,fragmentShader:Tp.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=m,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,!0===m.matrixAutoUpdate&&m.updateMatrix(),l.material.uniforms.uvTransform.value.copy(m.matrix),h===m&&d===m.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=m,d=m.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null))}}}function kp(e,t,n,r){const i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null);let u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){const t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){const e=u.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){g(e,0)}function g(n,i){const a=u.enabledAttributes,o=u.attributeDivisors;u.newAttributes[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),o[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),o[n]=i)}function v(){const t=u.newAttributes,n=u.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function _(){b(),c=!0,u!==l&&(u=l,h(u.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,_,b){let x=!1;if(o){const t=function(t,n,i){const o=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let u=l[n.id];void 0===u&&(u={},l[n.id]=u);let c=u[o];return void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(_,d,l);u!==t&&(u=t,h(u.object)),x=function(e,t,n,r){const i=u.attributes,a=t.attributes;let o=0;const s=n.getAttributes();for(const t in s)if(s[t].location>=0){const n=i[t];let r=a[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;o++}return u.attributesNum!==o||u.index!==r}(i,_,d,b),x&&function(e,t,n,r){const i={},a=t.attributes;let o=0;const s=n.getAttributes();for(const t in s)if(s[t].location>=0){let n=a[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,o++}u.attributes=i,u.attributesNum=o,u.index=r}(i,_,d,b)}else{const e=!0===l.wireframe;u.geometry===_.id&&u.program===d.id&&u.wireframe===e||(u.geometry=_.id,u.program=d.id,u.wireframe=e,x=!0)}null!==b&&n.update(b,34963),(x||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(const t in u){const r=u[t];if(r.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,o=a.itemSize,l=n.get(a);if(void 0===l)continue;const u=l.buffer,c=l.type,h=l.bytesPerElement;if(a.isInterleavedBufferAttribute){const n=a.data,l=n.stride,d=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)g(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,u);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,c,t,l*h,(d+o/r.locationSize*e)*h)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)g(r.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,u);for(let e=0;e<r.locationSize;e++)y(r.location+e,o/r.locationSize,c,t,o*h,o/r.locationSize*e*h)}}else if(void 0!==c){const n=c[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}v()}(i,l,d,_),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:_,resetDefaultState:b,dispose:function(){_();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)d(r[e].object),delete r[e];delete n[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:v}}function Ap(e,t,n,r){const i=r.isWebGL2;let a;this.setMode=function(e){a=e},this.render=function(t,r){e.drawArrays(a,t,r),n.update(r,a,1)},this.renderInstances=function(r,o,s){if(0===s)return;let l,u;if(i)l=e,u="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](a,r,o,s),n.update(o,a,s)}}function Ip(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let o=void 0!==n.precision?n.precision:"highp";const s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);const l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),m=e.getParameter(36347),g=e.getParameter(36348),v=e.getParameter(36349),y=h>0,_=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:a?e.getParameter(36183):0}}function Rp(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new vp,s=new Lh,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){const a=null!==e?e.length:0;let u=null;if(0!==a){if(u=l.value,!0!==i||null===u){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===u||u.length<t)&&(u=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,s),o.normal.toArray(u,n),u[n+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){const o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(t,o,s){const h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||a&&!f)a?c(null):u();else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(h,o,t,s);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Lp(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const a=i.mapping;if(303===a||304===a){if(t.has(i))return n(t.get(i).texture,i.mapping);{const a=i.image;if(a&&a.height>0){const o=new fp(a.height/2);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class Op extends up{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const Np=[.125,.215,.35,.446,.526,.582],Dp=/*@__PURE__*/new Op,zp=/*@__PURE__*/new Yh;let Up=null;const Bp=(1+Math.sqrt(5))/2,Fp=1/Bp,jp=[
/*@__PURE__*/new sd(1,1,1),
/*@__PURE__*/new sd(-1,1,1),
/*@__PURE__*/new sd(1,1,-1),
/*@__PURE__*/new sd(-1,1,-1),
/*@__PURE__*/new sd(0,Bp,Fp),
/*@__PURE__*/new sd(0,Bp,-Fp),
/*@__PURE__*/new sd(Fp,0,Bp),
/*@__PURE__*/new sd(-Fp,0,Bp),
/*@__PURE__*/new sd(Bp,Fp,0),
/*@__PURE__*/new sd(-Bp,Fp,0)];class Vp{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Up=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=$p(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Gp(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Up),e.scissorTest=!1,Wp(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Up=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},r=Hp(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Hp(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+Np.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let s=1/a;o>e-4?s=Np[o-e+4-1]:0===o&&(s=0),r.push(s);const l=1/(a-2),u=-l,c=1+l,h=[u,u,c,u,c,c,u,u,c,c,u,c],d=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*d),y=new Float32Array(m*f*d),_=new Float32Array(g*f*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1;v.set([t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0],p*f*e),y.set(h,m*f*e),_.set([e,e,e,e,e,e],g*f*e)}const b=new zf;b.setAttribute("position",new Tf(v,p)),b.setAttribute("uv",new Tf(y,m)),b.setAttribute("faceIndex",new Tf(_,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(20),i=new sd(0,1,0);return new lp({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){const t=new tp(this._lodPlanes[0],e);this._renderer.compile(t,Dp)}_sceneToCubeUV(e,t,n,r){const i=new cp(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(zp),s.toneMapping=0,s.autoClear=!1;const c=new Sf({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new tp(new rp,c);let d=!1;const f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(zp),d=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(i.up.set(0,a[t],0),i.lookAt(o[t],0,0)):1===n?(i.up.set(0,0,a[t]),i.lookAt(0,o[t],0)):(i.up.set(0,a[t],0),i.lookAt(0,0,o[t]));const l=this._cubeSize;Wp(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}_textureToCubeUV(e,t){const n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=$p()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Gp());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new tp(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;Wp(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Dp)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]);this._blur(e,t-1,t,n,jp[(t-1)%jp.length])}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new tp(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let g=0;for(let e=0;e<20;++e){const t=e/f,n=Math.exp(-t*t/2);m.push(n),0===e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);const{_lodMax:v}=this;c.dTheta.value=d,c.mipInt.value=v-n;const y=this._sizeLods[r];Wp(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(u,Dp)}}function Hp(e,t,n){const r=new rd(e,t,n);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Wp(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Gp(){return new lp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $p(){return new lp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function qp(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=303===a||304===a,s=301===a||302===a;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new Vp(e)),r=o?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const a=i.image;if(o&&a&&a.height>0||s&&a&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(a)){null===n&&(n=new Vp(e));const a=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,a),i.addEventListener("dispose",r),a.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Xp(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Yp(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{o=i.version;for(let e=0,t=i.array.length/3-1;e<t;e+=3){const t=e+0,r=e+1,i=e+2;n.push(t,r,r,i,i,t)}}const s=new(Nh(n)?Pf:Cf)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const e in n)t.update(n[e],34962);const r=e.morphAttributes;for(const e in r){const n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Zp(e,t,n,r){const i=r.isWebGL2;let a,o,s;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(a,r,o,t*s),n.update(r,a,1)},this.renderInstances=function(r,l,u){if(0===u)return;let c,h;if(i)c=e,h="drawElementsInstanced";else if(c=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===c)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](a,l,o,r*s,u),n.update(l,a,u)}}function Kp(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Jp(e,t){return e[0]-t[0]}function Qp(e,t){return Math.abs(t[1])-Math.abs(e[1])}function em(e,t,n){const r={},i=new Float32Array(8),a=new WeakMap,o=new nd,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,u,c,h){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const r=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,i=void 0!==r?r.length:0;let s=a.get(u);if(void 0===s||s.count!==i){void 0!==s&&s.texture.dispose();const e=void 0!==u.morphAttributes.position,n=void 0!==u.morphAttributes.normal,r=void 0!==u.morphAttributes.color,l=u.morphAttributes.position||[],c=u.morphAttributes.normal||[],h=u.morphAttributes.color||[];let d=0;!0===e&&(d=1),!0===n&&(d=2),!0===r&&(d=3);let f=u.attributes.position.count*d,p=1;f>t.maxTextureSize&&(p=Math.ceil(f/t.maxTextureSize),f=t.maxTextureSize);const m=new Float32Array(f*p*4*i),g=new id(m,f,p,i);g.type=1015,g.needsUpdate=!0;const v=4*d;for(let t=0;t<i;t++){const i=l[t],a=c[t],s=h[t],u=f*p*4*t;for(let t=0;t<i.count;t++){const l=t*v;!0===e&&(o.fromBufferAttribute(i,t),m[u+l+0]=o.x,m[u+l+1]=o.y,m[u+l+2]=o.z,m[u+l+3]=0),!0===n&&(o.fromBufferAttribute(a,t),m[u+l+4]=o.x,m[u+l+5]=o.y,m[u+l+6]=o.z,m[u+l+7]=0),!0===r&&(o.fromBufferAttribute(s,t),m[u+l+8]=o.x,m[u+l+9]=o.y,m[u+l+10]=o.z,m[u+l+11]=4===s.itemSize?o.w:1)}}s={count:i,texture:g,size:new Rh(f,p)},a.set(u,s),u.addEventListener("dispose",function e(){g.dispose(),a.delete(u),u.removeEventListener("dispose",e)})}let l=0;for(let e=0;e<d.length;e++)l+=d[e];const c=u.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",c),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{const t=void 0===d?0:d.length;let n=r[u.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[u.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=d[e]}n.sort(Qp);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(Jp);const a=u.morphAttributes.position,o=u.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(a&&u.getAttribute("morphTarget"+e)!==a[n]&&u.setAttribute("morphTarget"+e,a[n]),o&&u.getAttribute("morphNormal"+e)!==o[n]&&u.setAttribute("morphNormal"+e,o[n]),i[e]=r,l+=r):(a&&!0===u.hasAttribute("morphTarget"+e)&&u.deleteAttribute("morphTarget"+e),o&&!0===u.hasAttribute("morphNormal"+e)&&u.deleteAttribute("morphNormal"+e),i[e]=0)}const c=u.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",c),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function tm(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const o=r.render.frame,s=t.get(e,e.geometry);return i.get(s)!==o&&(t.update(s),i.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}const nm=/*@__PURE__*/new td,rm=/*@__PURE__*/new id,im=/*@__PURE__*/new ad,am=/*@__PURE__*/new dp,om=[],sm=[],lm=new Float32Array(16),um=new Float32Array(9),cm=new Float32Array(4);function hm(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=om[i];if(void 0===a&&(a=new Float32Array(i),om[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function dm(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function fm(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function pm(e,t){let n=sm[t];void 0===n&&(n=new Int32Array(t),sm[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function mm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function gm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(dm(n,t))return;e.uniform2fv(this.addr,t),fm(n,t)}}function vm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(dm(n,t))return;e.uniform3fv(this.addr,t),fm(n,t)}}function ym(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(dm(n,t))return;e.uniform4fv(this.addr,t),fm(n,t)}}function _m(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(dm(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),fm(n,t)}else{if(dm(n,r))return;cm.set(r),e.uniformMatrix2fv(this.addr,!1,cm),fm(n,r)}}function bm(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(dm(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),fm(n,t)}else{if(dm(n,r))return;um.set(r),e.uniformMatrix3fv(this.addr,!1,um),fm(n,r)}}function xm(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(dm(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),fm(n,t)}else{if(dm(n,r))return;lm.set(r),e.uniformMatrix4fv(this.addr,!1,lm),fm(n,r)}}function wm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Sm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(dm(n,t))return;e.uniform2iv(this.addr,t),fm(n,t)}}function Mm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(dm(n,t))return;e.uniform3iv(this.addr,t),fm(n,t)}}function Em(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(dm(n,t))return;e.uniform4iv(this.addr,t),fm(n,t)}}function Tm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Cm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(dm(n,t))return;e.uniform2uiv(this.addr,t),fm(n,t)}}function Pm(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(dm(n,t))return;e.uniform3uiv(this.addr,t),fm(n,t)}}function km(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(dm(n,t))return;e.uniform4uiv(this.addr,t),fm(n,t)}}function Am(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||nm,i)}function Im(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||im,i)}function Rm(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||am,i)}function Lm(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||rm,i)}function Om(e,t){e.uniform1fv(this.addr,t)}function Nm(e,t){const n=hm(t,this.size,2);e.uniform2fv(this.addr,n)}function Dm(e,t){const n=hm(t,this.size,3);e.uniform3fv(this.addr,n)}function zm(e,t){const n=hm(t,this.size,4);e.uniform4fv(this.addr,n)}function Um(e,t){const n=hm(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Bm(e,t){const n=hm(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Fm(e,t){const n=hm(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function jm(e,t){e.uniform1iv(this.addr,t)}function Vm(e,t){e.uniform2iv(this.addr,t)}function Hm(e,t){e.uniform3iv(this.addr,t)}function Wm(e,t){e.uniform4iv(this.addr,t)}function Gm(e,t){e.uniform1uiv(this.addr,t)}function $m(e,t){e.uniform2uiv(this.addr,t)}function qm(e,t){e.uniform3uiv(this.addr,t)}function Xm(e,t){e.uniform4uiv(this.addr,t)}function Ym(e,t,n){const r=this.cache,i=t.length,a=pm(n,i);dm(r,a)||(e.uniform1iv(this.addr,a),fm(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||nm,a[e])}function Zm(e,t,n){const r=this.cache,i=t.length,a=pm(n,i);dm(r,a)||(e.uniform1iv(this.addr,a),fm(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||im,a[e])}function Km(e,t,n){const r=this.cache,i=t.length,a=pm(n,i);dm(r,a)||(e.uniform1iv(this.addr,a),fm(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||am,a[e])}function Jm(e,t,n){const r=this.cache,i=t.length,a=pm(n,i);dm(r,a)||(e.uniform1iv(this.addr,a),fm(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||rm,a[e])}class Qm{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return mm;case 35664:return gm;case 35665:return vm;case 35666:return ym;case 35674:return _m;case 35675:return bm;case 35676:return xm;case 5124:case 35670:return wm;case 35667:case 35671:return Sm;case 35668:case 35672:return Mm;case 35669:case 35673:return Em;case 5125:return Tm;case 36294:return Cm;case 36295:return Pm;case 36296:return km;case 35678:case 36198:case 36298:case 36306:case 35682:return Am;case 35679:case 36299:case 36307:return Im;case 35680:case 36300:case 36308:case 36293:return Rm;case 36289:case 36303:case 36311:case 36292:return Lm}}(t.type)}}class eg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Om;case 35664:return Nm;case 35665:return Dm;case 35666:return zm;case 35674:return Um;case 35675:return Bm;case 35676:return Fm;case 5124:case 35670:return jm;case 35667:case 35671:return Vm;case 35668:case 35672:return Hm;case 35669:case 35673:return Wm;case 5125:return Gm;case 36294:return $m;case 36295:return qm;case 36296:return Xm;case 35678:case 36198:case 36298:case 36306:case 35682:return Ym;case 35679:case 36299:case 36307:return Zm;case 35680:case 36300:case 36308:case 36293:return Km;case 36289:case 36303:case 36311:case 36292:return Jm}}(t.type)}}class tg{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const ng=/(\w+)(\])?(\[|\.)?/g;function rg(e,t){e.seq.push(t),e.map[t.id]=t}function ig(e,t,n){const r=e.name,i=r.length;for(ng.lastIndex=0;;){const a=ng.exec(r),o=ng.lastIndex;let s=a[1];const l=a[3];if("]"===a[2]&&(s|=0),void 0===l||"["===l&&o+2===i){rg(n,void 0===l?new Qm(s,e,t):new eg(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new tg(s),rg(n,e)),n=e}}}class ag{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);ig(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function og(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let sg=0;function lg(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){const i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function ug(e,t){const n=function(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function cg(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function hg(e){return""!==e}function dg(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fg(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const pg=/^[ \t]*#include +<([\w\d./]+)>/gm;function mg(e){return e.replace(pg,gg)}function gg(e,t){const n=Mp[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return mg(n)}const vg=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function yg(e){return e.replace(vg,_g)}function _g(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function bg(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function xg(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),u=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),c=function(e){let t="ENVMAP_MODE_REFLECTION";return e.envMap&&302===e.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(hg).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[p].filter(hg).join("\n"),g.length>0&&(g+="\n"),v=[f,p].filter(hg).join("\n"),v.length>0&&(v+="\n")):(g=[bg(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(hg).join("\n"),v=[f,bg(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Mp.tonemapping_pars_fragment:"",0!==n.toneMapping?cg("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Mp.encodings_pars_fragment,ug("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(hg).join("\n")),o=mg(o),o=dg(o,n),o=fg(o,n),s=mg(s),s=dg(s,n),s=fg(s,n),o=yg(o),s=yg(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in","300 es"===n.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+v+s,b=og(i,35633,y+g+o),x=og(i,35632,_);if(i.attachShader(m,b),i.attachShader(m,x),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(b).trim(),n=i.getShaderInfoLog(x).trim();let r=!0,a=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;const t=lg(i,b,"vertex"),n=lg(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==n||(a=!1);a&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let w,S;return i.deleteShader(b),i.deleteShader(x),this.getUniforms=function(){return void 0===w&&(w=new ag(i,m)),w},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,m)),S},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=sg++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=x,this}let wg=0;class Sg{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.fragmentShader,n=this._getShaderStage(e.vertexShader),r=this._getShaderStage(t),i=this._getShaderCacheForMaterial(e);return!1===i.has(n)&&(i.add(n),n.usedTimes++),!1===i.has(r)&&(i.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Mg(e),t.set(e,n)),n}}class Mg{constructor(e){this.id=wg++,this.code=e,this.usedTimes=0}}function Eg(e,t,n,r,i,a,o){const s=new Xd,l=new Sg,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,m,g){const v=m.fog,y=g.geometry,_=(a.isMeshStandardMaterial?n:t).get(a.envMap||(a.isMeshStandardMaterial?m.environment:null)),b=_&&306===_.mapping?_.image.height:null,x=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),f!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));const w=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,S=void 0!==w?w.length:0;let M,E,T,C,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),x){const e=Tp[x];M=e.vertexShader,E=e.fragmentShader}else M=a.vertexShader,E=a.fragmentShader,l.update(a),T=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);const k=e.getRenderTarget(),A=a.clearcoat>0,I=a.iridescence>0;return{isWebGL2:c,shaderID:x,shaderName:a.type,vertexShader:M,fragmentShader:E,defines:a.defines,customVertexShaderID:T,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null===k?e.outputEncoding:!0===k.isXRRenderTarget?k.texture.encoding:3e3,map:!!a.map,matcap:!!a.matcap,envMap:!!_,envMapMode:_&&_.mapping,envMapCubeUVHeight:b,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:1===a.normalMapType,tangentSpaceNormalMap:0===a.normalMapType,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&3001===a.map.encoding,clearcoat:A,clearcoatMap:A&&!!a.clearcoatMap,clearcoatRoughnessMap:A&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:A&&!!a.clearcoatNormalMap,iridescence:I,iridescenceMap:I&&!!a.iridescenceMap,iridescenceThicknessMap:I&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&1===a.blending,alphaMap:!!a.alphaMap,alphaTest:a.alphaTest>0,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!y.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:S,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.iridescence&&s.enable(18),t.iridescenceMap&&s.enable(19),t.iridescenceThicknessMap&&s.enable(20),t.displacementMap&&s.enable(21),t.specularMap&&s.enable(22),t.roughnessMap&&s.enable(23),t.metalnessMap&&s.enable(24),t.gradientMap&&s.enable(25),t.alphaMap&&s.enable(26),t.alphaTest&&s.enable(27),t.vertexColors&&s.enable(28),t.vertexAlphas&&s.enable(29),t.vertexUvs&&s.enable(30),t.vertexTangents&&s.enable(31),t.uvsVertexOnly&&s.enable(32),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.physicallyCorrectLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.specularIntensityMap&&s.enable(15),t.specularColorMap&&s.enable(16),t.transmission&&s.enable(17),t.transmissionMap&&s.enable(18),t.thicknessMap&&s.enable(19),t.sheen&&s.enable(20),t.sheenColorMap&&s.enable(21),t.sheenRoughnessMap&&s.enable(22),t.decodeVideoTexture&&s.enable(23),t.opaque&&s.enable(24),e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;return n=t?sp.clone(Tp[t].uniforms):e.uniforms,n},acquireProgram:function(t,n){let r;for(let e=0,t=u.length;e<t;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new xg(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function Tg(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Cg(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Pg(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function kg(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){const c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Cg),r.length>1&&r.sort(t||Pg),i.length>1&&i.sort(t||Pg)}}}function Ag(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new kg,e.set(t,[i])):n>=r.length?(i=new kg,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Ig(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new sd,color:new Yh};break;case"SpotLight":n={position:new sd,direction:new sd,color:new Yh,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new sd,color:new Yh,distance:0,decay:0};break;case"HemisphereLight":n={direction:new sd,skyColor:new Yh,groundColor:new Yh};break;case"RectAreaLight":n={color:new Yh,position:new sd,halfWidth:new sd,halfHeight:new sd}}return e[t.id]=n,n}}}let Rg=0;function Lg(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Og(e,t){const n=new Ig,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rh};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rh,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)i.probe.push(new sd);const a=new sd,o=new zd,s=new zd;return{setup:function(a,o){let s=0,l=0,u=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let c=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,y=0,_=0;a.sort(Lg);const b=!0!==o?Math.PI:1;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=t.color,x=t.intensity,w=t.distance,S=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=o.r*x*b,l+=o.g*x*b,u+=o.b*x*b;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],x);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[c]=n,i.directionalShadowMap[c]=S,i.directionalShadowMatrix[c]=t.shadow.matrix,m++}i.directional[c]=e,c++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(o).multiplyScalar(x*b),e.distance=w,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[d]=e;const a=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,a.updateMatrices(t),t.castShadow&&_++),i.spotLightMatrix[d]=a.matrix,t.castShadow){const e=r.get(t);e.shadowBias=a.bias,e.shadowNormalBias=a.normalBias,e.shadowRadius=a.radius,e.shadowMapSize=a.mapSize,i.spotShadow[d]=e,i.spotShadowMap[d]=S,v++}d++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(o).multiplyScalar(x),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[h]=n,i.pointShadowMap[h]=S,i.pointShadowMatrix[h]=t.shadow.matrix,g++}i.point[h]=e,h++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(x*b),e.groundColor.copy(t.groundColor).multiplyScalar(x*b),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Ep.LTC_FLOAT_1,i.rectAreaLTC2=Ep.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Ep.LTC_HALF_1,i.rectAreaLTC2=Ep.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;const x=i.hash;x.directionalLength===c&&x.pointLength===h&&x.spotLength===d&&x.rectAreaLength===f&&x.hemiLength===p&&x.numDirectionalShadows===m&&x.numPointShadows===g&&x.numSpotShadows===v&&x.numSpotMaps===y||(i.directional.length=c,i.spot.length=d,i.rectArea.length=f,i.point.length=h,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-_,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=_,x.directionalLength=c,x.pointLength=h,x.spotLength=d,x.rectAreaLength=f,x.hemiLength=p,x.numDirectionalShadows=m,x.numPointShadows=g,x.numSpotShadows=v,x.numSpotMaps=y,i.version=Rg++)},setupView:function(e,t){let n=0,r=0,l=0,u=0,c=0;const h=t.matrixWorldInverse;for(let t=0,d=e.length;t<d;t++){const d=e[t];if(d.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),n++}else if(d.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(d.matrixWorld),a.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(a),e.direction.transformDirection(h),l++}else if(d.isRectAreaLight){const e=i.rectArea[u];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),s.identity(),o.copy(d.matrixWorld),o.premultiply(h),s.extractRotation(o),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),u++}else if(d.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),r++}else if(d.isHemisphereLight){const e=i.hemi[c];e.direction.setFromMatrixPosition(d.matrixWorld),e.direction.transformDirection(h),c++}}},state:i}}function Ng(e,t){const n=new Og(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Dg(e,t){let n=new WeakMap;return{get:function(r,i=0){const a=n.get(r);let o;return void 0===a?(o=new Ng(e,t),n.set(r,[o])):i>=a.length?(o=new Ng(e,t),a.push(o)):o=a[i],o},dispose:function(){n=new WeakMap}}}class zg extends wf{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Ug extends wf{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new sd,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Bg(e,t,n){let r=new bp;const i=new Rh,a=new Rh,o=new nd,s=new zg({depthPacking:3201}),l=new Ug,u={},c=n.maxTextureSize,h={0:1,1:0,2:2},d=new lp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Rh},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;const p=new zf;p.setAttribute("position",new Tf(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new tp(p,d),g=this;function v(n,r){const a=t.update(m);d.defines.VSM_SAMPLES!==n.blurSamples&&(d.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,d.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new rd(i.x,i.y)),d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,d,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function y(t,n,r,i,a,o){let c=null;const d=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==d?d:!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=c.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=c.clone(),r[t]=i),c=i}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=3===o?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.map=n.map,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function _(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,u=t.length;l<u;l++){const u=t[l],c=i[u.materialIndex];if(c&&c.visible){const t=y(n,c,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,u)}}}else if(i.visible){const t=y(n,i,o,a.near,a.far,s);e.renderBufferDirect(a,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)_(l[e],i,a,o,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,u=t.length;l<u;l++){const u=t[l],h=u.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;i.copy(h.mapSize);const f=h.getFrameExtents();i.multiply(f),a.copy(h.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/f.x),i.x=a.x*f.x,h.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/f.y),i.y=a.y*f.y,h.mapSize.y=a.y)),null===h.map&&(h.map=new rd(i.x,i.y,3!==this.type?{minFilter:1003,magFilter:1003}:{}),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()),e.setRenderTarget(h.map),e.clear();const p=h.getViewportCount();for(let e=0;e<p;e++){const t=h.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),d.viewport(o),h.updateMatrices(u,e),r=h.getFrustum(),_(n,s,h.camera,u,this.type)}!0!==h.isPointLightShadow&&3===this.type&&v(h,s),h.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(l,u,h)}}function Fg(e,t,n){const r=n.isWebGL2,i=new function(){let t=!1;const n=new nd;let r=null;const i=new nd(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?F(2929):j(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?F(2960):j(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},s=new WeakMap,l=new WeakMap;let u={},c={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,_=null,b=null,x=null,w=!1,S=null,M=null,E=null,T=null,C=null;const P=e.getParameter(35661);let k=!1,A=0;const I=e.getParameter(7938);-1!==I.indexOf("WebGL")?(A=parseFloat(/^WebGL (\d)/.exec(I)[1]),k=A>=1):-1!==I.indexOf("OpenGL ES")&&(A=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),k=A>=2);let R=null,L={};const O=e.getParameter(3088),N=e.getParameter(2978),D=(new nd).fromArray(O),z=(new nd).fromArray(N);function U(t,n,r){const i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return a}const B={};function F(t){!0!==u[t]&&(e.enable(t),u[t]=!0)}function j(t){!1!==u[t]&&(e.disable(t),u[t]=!1)}B[3553]=U(3553,3553,1),B[34067]=U(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),F(2929),a.setFunc(3),G(!1),$(1),F(2884),W(0);const V={100:32774,101:32778,102:32779};if(r)V[103]=32775,V[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(V[103]=e.MIN_EXT,V[104]=e.MAX_EXT)}const H={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function W(t,n,r,i,a,o,s,l){if(0!==t){if(!1===p&&(F(3042),p=!0),5===t)a=a||n,o=o||r,s=s||i,n===g&&a===_||(e.blendEquationSeparate(V[n],V[a]),g=n,_=a),r===v&&i===y&&o===b&&s===x||(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),v=r,y=i,b=o,x=s),m=t,w=!1;else if(t!==m||l!==w){if(100===g&&100===_||(e.blendEquation(32774),g=100,_=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}v=null,y=null,b=null,x=null,m=t,w=l}}else!0===p&&(j(3042),p=!1)}function G(t){S!==t&&(e.frontFace(t?2304:2305),S=t)}function $(t){0!==t?(F(2884),t!==M&&e.cullFace(1===t?1029:2===t?1028:1032)):j(2884),M=t}function q(t,n,r){t?(F(32823),T===n&&C===r||(e.polygonOffset(n,r),T=n,C=r)):j(32823)}return{buffers:{color:i,depth:a,stencil:o},enable:F,disable:j,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,r&&(36009===t&&(c[36160]=n),36160===t&&(c[36009]=n)),!0)},drawBuffers:function(r,i){let a=d,o=!1;if(r)if(a=h.get(i),void 0===a&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(a.length!==e.length||36064!==a[0]){for(let t=0,n=e.length;t<n;t++)a[t]=36064+t;a.length=e.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:W,setMaterial:function(e,t){2===e.side?j(2884):F(2884);let n=1===e.side;t&&(n=!n),G(n),1===e.blending&&!1===e.transparent?W(0):W(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;o.setTest(r),r&&(o.setMask(e.stencilWriteMask),o.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),q(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?F(32926):j(32926)},setFlipSided:G,setCullFace:$,setLineWidth:function(t){t!==E&&(k&&e.lineWidth(t),E=t)},setPolygonOffset:q,setScissorTest:function(e){e?F(3089):j(3089)},activeTexture:function(t){void 0===t&&(t=33984+P-1),R!==t&&(e.activeTexture(t),R=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===R?33984+P-1:R);let i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(R!==r&&(e.activeTexture(r),R=r),e.bindTexture(t,n||B[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=L[R];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let r=l.get(n);void 0===r&&(r=new WeakMap,l.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=l.get(n).get(t);s.get(t)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),s.set(t,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),u={},R=null,L={},c={},h=new WeakMap,d=[],f=null,p=!1,m=null,g=null,v=null,y=null,_=null,b=null,x=null,w=!1,S=null,M=null,E=null,T=null,C=null,D.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),i.reset(),a.reset(),o.reset()}}}function jg(e,t,n,r,i,a,o){const s=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,h=i.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return v?new OffscreenCanvas(e,t):Uh("canvas")}function _(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?Ph:Math.floor,a=r(i*e.width),o=r(i*e.height);void 0===m&&(m=y(a,o));const s=n?y(a,o):m;return s.width=a,s.height=o,s.getContext("2d").drawImage(e,0,0,a,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+o+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return Th(e.width)&&Th(e.height)}function x(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function w(t){e.generateMipmap(t)}function S(n,r,i,a,o=!1){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=3001===a&&!1===o?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function M(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&1003!==e.minFilter&&1006!==e.minFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function E(e){return 1003===e||1004===e||1005===e?9728:9729}function T(e){const t=e.target;t.removeEventListener("dispose",T),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=g.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&P(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}(t),t.isVideoTexture&&p.delete(t)}function C(t){const n=t.target;n.removeEventListener("dispose",C),function(t){const n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),o.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}(n)}function P(t){const n=r.get(t);e.deleteTexture(n.__webglTexture),delete g.get(t.source)[n.__cacheKey],o.memory.textures--}let k=0;function A(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=o.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void N(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}const I={1e3:10497,1001:33071,1002:33648},R={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function L(n,a,o){if(o?(e.texParameteri(n,10242,I[a.wrapS]),e.texParameteri(n,10243,I[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,I[a.wrapR]),e.texParameteri(n,10240,R[a.magFilter]),e.texParameteri(n,10241,R[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),1001===a.wrapS&&1001===a.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,E(a.magFilter)),e.texParameteri(n,10241,E(a.minFilter)),1003!==a.minFilter&&1006!==a.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const o=t.get("EXT_texture_filter_anisotropic");if(1015===a.type&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&1016===a.type&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function O(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",T));const i=n.source;let a=g.get(i);void 0===a&&(a={},g.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&P(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function N(t,i,o){let l=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=35866),i.isData3DTexture&&(l=32879);const u=O(t,i),h=i.source;n.bindTexture(l,t.__webglTexture,33984+o);const d=r.get(h);if(h.version!==d.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=function(e){return!s&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter)}(i)&&!1===b(i.image);let r=_(i.image,t,!1,c);r=j(i,r);const f=b(r)||s,p=a.convert(i.format,i.encoding);let m,g=a.convert(i.type),v=S(i.internalFormat,p,g,i.encoding,i.isVideoTexture);L(l,i,f);const y=i.mipmaps,E=s&&!0!==i.isVideoTexture,T=void 0===d.__version||!0===u,C=M(i,r,f);if(i.isDepthTexture)v=6402,s?v=1015===i.type?36012:1014===i.type?33190:1020===i.type?35056:33189:1015===i.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===i.format&&6402===v&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1014,g=a.convert(i.type)),1027===i.format&&6402===v&&(v=34041,1020!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=1020,g=a.convert(i.type))),T&&(E?n.texStorage2D(3553,1,v,r.width,r.height):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,null));else if(i.isDataTexture)if(y.length>0&&f){E&&T&&n.texStorage2D(3553,C,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],E?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data);i.generateMipmaps=!1}else E?(T&&n.texStorage2D(3553,C,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,p,g,r.data)):n.texImage2D(3553,0,v,r.width,r.height,0,p,g,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){E&&T&&n.texStorage3D(35866,C,v,y[0].width,y[0].height,r.depth);for(let e=0,t=y.length;e<t;e++)m=y[e],1023!==i.format?null!==p?E?n.compressedTexSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,m.data,0,0):n.compressedTexImage3D(35866,e,v,m.width,m.height,r.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,p,g,m.data):n.texImage3D(35866,e,v,m.width,m.height,r.depth,0,p,g,m.data)}else{E&&T&&n.texStorage2D(3553,C,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],1023!==i.format?null!==p?E?n.compressedTexSubImage2D(3553,e,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(3553,e,v,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?n.texSubImage2D(3553,e,0,0,m.width,m.height,p,g,m.data):n.texImage2D(3553,e,v,m.width,m.height,0,p,g,m.data)}else if(i.isDataArrayTexture)E?(T&&n.texStorage3D(35866,C,v,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(35866,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isData3DTexture)E?(T&&n.texStorage3D(32879,C,v,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(32879,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isFramebufferTexture){if(T)if(E)n.texStorage2D(3553,C,v,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<C;r++)n.texImage2D(3553,r,v,e,t,0,p,g,null),e>>=1,t>>=1}}else if(y.length>0&&f){E&&T&&n.texStorage2D(3553,C,v,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],E?n.texSubImage2D(3553,e,0,0,p,g,m):n.texImage2D(3553,e,v,p,g,m);i.generateMipmaps=!1}else E?(T&&n.texStorage2D(3553,C,v,r.width,r.height),n.texSubImage2D(3553,0,0,0,p,g,r)):n.texImage2D(3553,0,v,p,g,r);x(i,f)&&w(l),d.__version=h.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function D(t,i,o,s,l){const u=a.convert(o.format,o.encoding),c=a.convert(o.type),h=S(o.internalFormat,u,c,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),F(i)?d.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,B(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||F(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(1015===t.type?i=36012:1014===t.type&&(i=33190));const r=B(n);F(n)?d.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=B(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):F(n)?d.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.encoding),l=a.convert(o.type),u=S(o.internalFormat,s,l,o.encoding),c=B(n);r&&!1===F(n)?e.renderbufferStorageMultisample(36161,c,u,n.width,n.height):F(n)?d.renderbufferStorageMultisampleEXT(36161,c,u,n.width,n.height):e.renderbufferStorage(36161,u,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function U(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),A(i.depthTexture,0);const a=r.get(i.depthTexture).__webglTexture,o=B(i);if(1026===i.depthTexture.format)F(i)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(1027!==i.depthTexture.format)throw new Error("Unknown depthTexture format");F(i)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),z(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function B(e){return Math.min(h,e.samples)}function F(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function j(e,n){const r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||1035===e.format||3e3!==r&&(3001===r?!1===s?!0===t.has("EXT_sRGB")&&1023===i?(e.format=1035,e.minFilter=1006,e.generateMipmaps=!1):n=Kh.sRGBToLinear(n):1023===i&&1009===a||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){const e=k;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),k+=1,e},this.resetTextureUnits=function(){k=0},this.setTexture2D=A,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;const l=O(t,i),c=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);const h=r.get(c);if(c.version!==h.__version||!0===l){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||r?r?i.image[e].image:i.image[e]:_(i.image[e],!1,!0,u),d[e]=j(i,d[e]);const f=d[0],p=b(f)||s,m=a.convert(i.format,i.encoding),g=a.convert(i.type),v=S(i.internalFormat,m,g,i.encoding),y=s&&!0!==i.isVideoTexture,E=void 0===h.__version||!0===l;let T,C=M(i,f,p);if(L(34067,i,p),t){y&&E&&n.texStorage2D(34067,C,v,f.width,f.height);for(let e=0;e<6;e++){T=d[e].mipmaps;for(let t=0;t<T.length;t++){const r=T[t];1023!==i.format?null!==m?y?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,m,r.data):n.compressedTexImage2D(34069+e,t,v,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t,v,r.width,r.height,0,m,g,r.data)}}}else{T=i.mipmaps,y&&E&&(T.length>0&&C++,n.texStorage2D(34067,C,v,d[0].width,d[0].height));for(let e=0;e<6;e++)if(r){y?n.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,m,g,d[e].data):n.texImage2D(34069+e,0,v,d[e].width,d[e].height,0,m,g,d[e].data);for(let t=0;t<T.length;t++){const r=T[t].image[e].image;y?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,m,g,r.data):n.texImage2D(34069+e,t+1,v,r.width,r.height,0,m,g,r.data)}}else{y?n.texSubImage2D(34069+e,0,0,0,m,g,d[e]):n.texImage2D(34069+e,0,v,m,g,d[e]);for(let t=0;t<T.length;t++){const r=T[t];y?n.texSubImage2D(34069+e,t+1,0,0,m,g,r.image[e]):n.texImage2D(34069+e,t+1,v,m,g,r.image[e])}}}x(i,p)&&w(34067),h.__version=c.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){const i=r.get(e);void 0!==t&&D(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&U(e)},this.setupRenderTarget=function(t){const l=t.texture,u=r.get(t),c=r.get(l);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=l.version,o.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=b(t)||s;if(h){u.__webglFramebuffer=[];for(let t=0;t<6;t++)u.__webglFramebuffer[t]=e.createFramebuffer()}else{if(u.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===F(t)){const r=d?l:[l];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];u.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,u.__webglColorRenderbuffer[n]);const o=a.convert(i.format,i.encoding),s=a.convert(i.type),l=S(i.internalFormat,o,s,i.encoding,!0===t.isXRRenderTarget),c=B(t);e.renderbufferStorageMultisample(36161,c,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,u.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),z(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,c.__webglTexture),L(34067,l,f);for(let e=0;e<6;e++)D(u.__webglFramebuffer[e],t,l,36064,34069+e);x(l,f)&&w(34067),n.unbindTexture()}else if(d){const e=t.texture;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=r.get(a);n.bindTexture(3553,o.__webglTexture),L(3553,a,f),D(u.__webglFramebuffer,t,a,36064+i,3553),x(a,f)&&w(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,c.__webglTexture),L(e,l,f),D(u.__webglFramebuffer,t,l,36064,e),x(l,f)&&w(e),n.unbindTexture()}t.depthBuffer&&U(t)},this.updateRenderTargetMipmap=function(e){const t=b(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let a=0,o=i.length;a<o;a++){const o=i[a];if(x(o,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(o).__webglTexture;n.bindTexture(t,i),w(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===F(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height;let s=16384;const l=[],u=t.stencilBuffer?33306:36096,c=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,c.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,c.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(u);const d=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===d&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,c.__webglColorRenderbuffer[n]),!0===d&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),h){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),f&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,c.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,c.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,a,0)}n.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=D,this.useMultisampledRTT=F}function Vg(e,t,n){const r=n.isWebGL2;return{convert:function(n,i=null){let a;if(1009===n)return 5121;if(1017===n)return 32819;if(1018===n)return 32820;if(1010===n)return 5120;if(1011===n)return 5122;if(1012===n)return 5123;if(1013===n)return 5124;if(1014===n)return 5125;if(1015===n)return 5126;if(1016===n)return r?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===n)return 6406;if(1023===n)return 6408;if(1024===n)return 6409;if(1025===n)return 6410;if(1026===n)return 6402;if(1027===n)return 34041;if(1022===n)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===n)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===n)return 6403;if(1029===n)return 36244;if(1030===n)return 33319;if(1031===n)return 33320;if(1033===n)return 36249;if(33776===n||33777===n||33778===n||33779===n)if(3001===i){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===n)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===n)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===n)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===n)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===n)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===n)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===n)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===n)return 3001===i?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return 3001===i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===n){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===n)return 3001===i?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return 1020===n?r?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class Hg extends cp{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Wg extends uf{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Gg={type:"move"};class $g{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Wg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Wg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new sd,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new sd),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Wg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new sd,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new sd),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const r=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),i=.02,o=.005;l.inputState.pinching&&r>i+o?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&r<=i-o&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Gg)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Wg;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class qg extends td{constructor(e,t,n,r,i,a,o,s,l,u){if(1026!==(u=void 0!==u?u:1026)&&1027!==u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===u&&(n=1014),void 0===n&&1027===u&&(n=1020),super(null,r,i,a,o,s,u,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}}class Xg extends vh{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=null,l=null,u=null,c=null,h=null,d=null;const f=t.getContextAttributes();let p=null,m=null;const g=[],v=[],y=new Set,_=new Map,b=new cp;b.layers.enable(1),b.viewport=new nd;const x=new cp;x.layers.enable(2),x.viewport=new nd;const w=[b,x],S=new Hg;S.layers.enable(1),S.layers.enable(2);let M=null,E=null;function T(e){const t=v.indexOf(e.inputSource);if(-1===t)return;const n=g[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function C(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",C),r.removeEventListener("inputsourceschange",P);for(let e=0;e<g.length;e++){const t=v[e];null!==t&&(v[e]=null,g[e].disconnect(t))}M=null,E=null,e.setRenderTarget(p),h=null,c=null,u=null,r=null,m=null,L.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function P(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=v.indexOf(n);r>=0&&(v[r]=null,g[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=v.indexOf(n);if(-1===r){for(let e=0;e<g.length;e++){if(e>=v.length){v.push(n),r=e;break}if(null===v[e]){v[e]=n,r=e;break}}if(-1===r)break}const i=g[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=g[e];return void 0===t&&(t=new $g,g[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=g[e];return void 0===t&&(t=new $g,g[e]=t),t.getGripSpace()},this.getHand=function(e){let t=g[e];return void 0===t&&(t=new $g,g[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s||a},this.setReferenceSpace=function(e){s=e},this.getBaseLayer=function(){return null!==c?c:h},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){if(p=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",C),r.addEventListener("inputsourceschange",P),!0!==f.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||f.antialias,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:i}),r.updateRenderState({baseLayer:h}),m=new rd(h.framebufferWidth,h.framebufferHeight,{format:1023,type:1009,encoding:e.outputEncoding,stencilBuffer:f.stencil});else{let n=null,a=null,o=null;f.depth&&(o=f.stencil?35056:33190,n=f.stencil?1027:1026,a=f.stencil?1020:1014);const s={colorFormat:32856,depthFormat:o,scaleFactor:i};u=new XRWebGLBinding(r,t),c=u.createProjectionLayer(s),r.updateRenderState({layers:[c]}),m=new rd(c.textureWidth,c.textureHeight,{format:1023,type:1009,depthTexture:new qg(c.textureWidth,c.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:f.stencil,encoding:e.outputEncoding,samples:f.antialias?4:0}),e.properties.get(m).__ignoreDepthValues=c.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),s=null,a=await r.requestReferenceSpace(o),L.setContext(r),L.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const k=new sd,A=new sd;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;S.near=x.near=b.near=e.near,S.far=x.far=b.far=e.far,M===S.near&&E===S.far||(r.updateRenderState({depthNear:S.near,depthFar:S.far}),M=S.near,E=S.far);const t=e.parent,n=S.cameras;I(S,t);for(let e=0;e<n.length;e++)I(n[e],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.matrix.copy(S.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const i=e.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);2===n.length?function(e,t,n){k.setFromMatrixPosition(t.matrixWorld),A.setFromMatrixPosition(n.matrixWorld);const r=k.distanceTo(A),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=r/(-c+h),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=o+p,v=s+p;e.projectionMatrix.makePerspective(d-m,f+(r-m),l*s/v*g,u*s/v*g,g,v)}(S,b,x):S.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){return null!==c?c.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(e){null!==c&&(c.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.getPlanes=function(){return y};let R=null;const L=new xp;L.setAnimationLoop(function(t,r){if(l=r.getViewerPose(s||a),d=r,null!==l){const t=l.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==h)a=h.getViewport(i);else{const t=u.getViewSubImage(c,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,c.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let o=w[r];void 0===o&&(o=new cp,o.layers.enable(r),o.viewport=new nd,w[r]=o),o.matrix.fromArray(i.transform.matrix),o.projectionMatrix.fromArray(i.projectionMatrix),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&S.matrix.copy(o.matrix),!0===n&&S.cameras.push(o)}}for(let e=0;e<g.length;e++){const t=v[e],n=g[e];null!==t&&void 0!==n&&n.update(t,r,s||a)}if(R&&R(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(const t of y)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)y.delete(t),_.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const e of r.detectedPlanes)if(y.has(e)){const t=_.get(e);e.lastChangedTime>t&&(_.set(e,e.lastChangedTime),n.dispatchEvent({type:"planechanged",data:e}))}else y.add(e),_.set(e,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:e})}d=null}),this.setAnimationLoop=function(e){R=e},this.dispose=function(){}}}function Yg(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,1===r.side&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),1===r.side&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const i=t.get(r).envMap;if(i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const t=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*t}let a,o;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?a=r.map:r.specularMap?a=r.specularMap:r.displacementMap?a=r.displacementMap:r.normalMap?a=r.normalMap:r.bumpMap?a=r.bumpMap:r.roughnessMap?a=r.roughnessMap:r.metalnessMap?a=r.metalnessMap:r.alphaMap?a=r.alphaMap:r.emissiveMap?a=r.emissiveMap:r.clearcoatMap?a=r.clearcoatMap:r.clearcoatNormalMap?a=r.clearcoatNormalMap:r.clearcoatRoughnessMap?a=r.clearcoatRoughnessMap:r.iridescenceMap?a=r.iridescenceMap:r.iridescenceThicknessMap?a=r.iridescenceThicknessMap:r.specularIntensityMap?a=r.specularIntensityMap:r.specularColorMap?a=r.specularColorMap:r.transmissionMap?a=r.transmissionMap:r.thicknessMap?a=r.thicknessMap:r.sheenColorMap?a=r.sheenColorMap:r.sheenRoughnessMap&&(a=r.sheenRoughnessMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uvTransform.value.copy(a.matrix)),r.aoMap?o=r.aoMap:r.lightMap&&(o=r.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uv2Transform.value.copy(o.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,op(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){let i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){let n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Zg(e,t,n,r){let i={},a={},o=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){const r=e.value;if(void 0===n[t])return n[t]="number"==typeof r?r:r.clone(),!0;if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=n[t];if(!1===e.equals(r))return e.copy(r),!0}return!1}function u(e){const t=e.value,n={boundary:0,storage:0};return"number"==typeof t?(n.boundary=4,n.storage=4):t.isVector2?(n.boundary=8,n.storage=8):t.isVector3||t.isColor?(n.boundary=16,n.storage=12):t.isVector4?(n.boundary=16,n.storage=16):t.isMatrix3?(n.boundary=48,n.storage=48):t.isMatrix4?(n.boundary=64,n.storage=64):t.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",t),n}function c(t){const n=t.target;n.removeEventListener("dispose",c);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){r.uniformBlockBinding(e,t.program)},update:function(n,h){let d=i[n.id];void 0===d&&(function(e){const t=e.uniforms;let n=0,r=0;for(let e=0,i=t.length;e<i;e++){const i=t[e],a=u(i);if(i.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,e>0){r=n%16;const e=16-r;0!==r&&e-a.boundary<0&&(n+=16-r,i.__offset=n)}n+=a.storage}r=n%16,r>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),d=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c)),r.updateUBOMapping(n,h.program);const f=t.render.frame;a[n.id]!==f&&(function(t){const n=t.uniforms,r=t.__cache;e.bindBuffer(35345,i[t.id]);for(let t=0,i=n.length;t<i;t++){const i=n[t];if(!0===l(i,t,r)){const t=i.value,n=i.__offset;"number"==typeof t?(i.__data[0]=t,e.bufferSubData(35345,n,i.__data)):(i.value.isMatrix3?(i.__data[0]=i.value.elements[0],i.__data[1]=i.value.elements[1],i.__data[2]=i.value.elements[2],i.__data[3]=i.value.elements[0],i.__data[4]=i.value.elements[3],i.__data[5]=i.value.elements[4],i.__data[6]=i.value.elements[5],i.__data[7]=i.value.elements[0],i.__data[8]=i.value.elements[6],i.__data[9]=i.value.elements[7],i.__data[10]=i.value.elements[8],i.__data[11]=i.value.elements[0]):t.toArray(i.__data),e.bufferSubData(35345,n,i.__data))}}e.bindBuffer(35345,null)}(n),a[n.id]=f)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Kg(e={}){this.isWebGLRenderer=!0;const t=void 0!==e.canvas?e.canvas:function(){const e=Uh("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0===e.depth||e.depth,i=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let c;c=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let h=null,d=null;const f=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const m=this;let g=!1,v=0,y=0,_=null,b=-1,x=null;const w=new nd,S=new nd;let M=null,E=t.width,T=t.height,C=1,P=null,k=null;const A=new nd(0,0,E,T),I=new nd(0,0,E,T);let R=!1;const L=new bp;let O=!1,N=!1,D=null;const z=new zd,U=new Rh,B=new sd,F={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===_?C:1}let V,H,W,G,$,q,X,Y,Z,K,J,Q,ee,te,ne,re,ie,ae,oe,se,le,ue,ce,he,de=n;function fe(e,n){for(let r=0;r<e.length;r++){const i=t.getContext(e[r],n);if(null!==i)return i}return null}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r147"),t.addEventListener("webglcontextlost",ge,!1),t.addEventListener("webglcontextrestored",ve,!1),t.addEventListener("webglcontextcreationerror",ye,!1),null===de){const t=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&t.shift(),de=fe(t,e),null===de)throw fe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){V=new Xp(de),H=new Ip(de,V,e),V.init(H),ue=new Vg(de,V,H),W=new Fg(de,V,H),G=new Kp,$=new Tg,q=new jg(de,V,W,$,H,ue,G),X=new Lp(m),Y=new qp(m),Z=new wp(de,H),ce=new kp(de,V,Z,H),K=new Yp(de,Z,G,ce),J=new tm(de,K,Z,G),oe=new em(de,H,q),re=new Rp($),Q=new Eg(m,X,Y,V,H,ce,re),ee=new Yg(m,$),te=new Ag,ne=new Dg(V,H),ae=new Pp(m,X,Y,W,J,c,o),ie=new Bg(m,J,H),he=new Zg(de,G,H,W),se=new Ap(de,V,G,H),le=new Zp(de,V,G,H),G.programs=Q.programs,m.capabilities=H,m.extensions=V,m.properties=$,m.renderLists=te,m.shadowMap=ie,m.state=W,m.info=G}pe();const me=new Xg(m,de);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const e=G.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;pe(),G.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function ye(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function _e(e){const t=e.target;t.removeEventListener("dispose",_e),function(e){(function(e){const t=$.get(e).programs;void 0!==t&&(t.forEach(function(e){Q.releaseProgram(e)}),e.isShaderMaterial&&Q.releaseShaderCache(e))})(e),$.remove(e)}(t)}this.xr=me,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){const e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(E,T,!1))},this.getSize=function(e){return e.set(E,T)},this.setSize=function(e,n,r){me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(E=e,T=n,t.width=Math.floor(e*C),t.height=Math.floor(n*C),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(E*C,T*C).floor()},this.setDrawingBufferSize=function(e,n,r){E=e,T=n,C=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(A)},this.setViewport=function(e,t,n,r){e.isVector4?A.set(e.x,e.y,e.z,e.w):A.set(e,t,n,r),W.viewport(w.copy(A).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(I)},this.setScissor=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),W.scissor(S.copy(I).multiplyScalar(C).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){W.setScissorTest(R=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),de.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ge,!1),t.removeEventListener("webglcontextrestored",ve,!1),t.removeEventListener("webglcontextcreationerror",ye,!1),te.dispose(),ne.dispose(),$.dispose(),X.dispose(),Y.dispose(),J.dispose(),ce.dispose(),he.dispose(),Q.dispose(),me.dispose(),me.removeEventListener("sessionstart",xe),me.removeEventListener("sessionend",we),D&&(D.dispose(),D=null),Se.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=F);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=F),q.resetTextureUnits();const a=t.fog,o=null===_?m.outputEncoding:!0===_.isXRRenderTarget?_.texture.encoding:3e3,s=(r.isMeshStandardMaterial?Y:X).get(r.envMap||(r.isMeshStandardMaterial?t.environment:null)),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,c=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=r.toneMapped?m.toneMapping:0,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,y=$.get(r),w=d.state.lights;!0!==O||!0!==N&&e===x||re.setState(r,e,e===x&&r.id===b);let S=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==w.state.version||y.outputEncoding!==o||i.isInstancedMesh&&!1===y.instancing?S=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?S=!0:i.isSkinnedMesh||!0!==y.skinning?y.envMap!==s||!0===r.fog&&y.fog!==a?S=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===re.numPlanes&&y.numIntersection===re.numIntersection?(y.vertexAlphas!==l||y.vertexTangents!==u||y.morphTargets!==c||y.morphNormals!==h||y.morphColors!==f||y.toneMapping!==p||!0===H.isWebGL2&&y.morphTargetsCount!==v)&&(S=!0):S=!0:S=!0:S=!0:(S=!0,y.__version=r.version);let M=y.currentProgram;!0===S&&(M=Pe(r,t,i));let E=!1,P=!1,k=!1;const A=M.getUniforms(),I=y.uniforms;if(W.useProgram(M.program)&&(E=!0,P=!0,k=!0),r.id!==b&&(b=r.id,P=!0),E||x!==e){if(A.setValue(de,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&A.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,P=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=A.map.cameraPosition;void 0!==t&&t.setValue(de,B.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&A.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){A.setOptional(de,i,"bindMatrix"),A.setOptional(de,i,"bindMatrixInverse");const e=i.skeleton;e&&(H.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(de,"boneTexture",e.boneTexture,q),A.setValue(de,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const R=n.morphAttributes;var L,z;if((void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===H.isWebGL2)&&oe.update(i,n,r,M),(P||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,A.setValue(de,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(I.envMap.value=s,I.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1),P&&(A.setValue(de,"toneMappingExposure",m.toneMappingExposure),y.needsLights&&((L=I).ambientLightColor.needsUpdate=z=k,L.lightProbe.needsUpdate=z,L.directionalLights.needsUpdate=z,L.directionalLightShadows.needsUpdate=z,L.pointLights.needsUpdate=z,L.pointLightShadows.needsUpdate=z,L.spotLights.needsUpdate=z,L.spotLightShadows.needsUpdate=z,L.rectAreaLights.needsUpdate=z,L.hemisphereLights.needsUpdate=z),a&&!0===r.fog&&ee.refreshFogUniforms(I,a),ee.refreshMaterialUniforms(I,r,C,T,D),ag.upload(de,y.uniformsList,I,q)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(ag.upload(de,y.uniformsList,I,q),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&A.setValue(de,"center",i.center),A.setValue(de,"modelViewMatrix",i.modelViewMatrix),A.setValue(de,"normalMatrix",i.normalMatrix),A.setValue(de,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(H.isWebGL2){const n=e[t];he.update(n,M),he.bind(n,M)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return M}(e,t,n,r,i);W.setMaterial(r,o);let l=n.index,u=1;!0===r.wireframe&&(l=K.getWireframeAttribute(n),u=2);const c=n.drawRange,h=n.attributes.position;let f=c.start*u,p=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),p=Math.min(p,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),p=Math.min(p,l.count)):null!=h&&(f=Math.max(f,0),p=Math.min(p,h.count));const g=p-f;if(g<0||Infinity===g)return;let v;ce.setup(i,r,s,n,l);let y=se;if(null!==l&&(v=Z.get(l),y=le,y.setIndex(v)),i.isMesh)!0===r.wireframe?(W.setLineWidth(r.wireframeLinewidth*j()),y.setMode(1)):y.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),W.setLineWidth(e*j()),y.setMode(i.isLineSegments?1:i.isLineLoop?2:3)}else i.isPoints?y.setMode(0):i.isSprite&&y.setMode(4);if(i.isInstancedMesh)y.renderInstances(f,g,i.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,void 0!==n._maxInstanceCount?n._maxInstanceCount:Infinity);y.renderInstances(f,g,e)}else y.render(f,g)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&2===e.side?(e.side=1,e.needsUpdate=!0,Pe(e,t,n),e.side=0,e.needsUpdate=!0,Pe(e,t,n),e.side=2):Pe(e,t,n)}d=ne.get(e),d.init(),p.push(d),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))}),d.setupLights(m.physicallyCorrectLights),e.traverse(function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i],e,t);else n(r,e,t)}),p.pop(),d=null};let be=null;function xe(){Se.stop()}function we(){Se.start()}const Se=new xp;function Me(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||L.intersectsSprite(e)){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=J.update(e),i=e.material;i.visible&&h.push(e,t,i,n,B.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==G.render.frame&&(e.skeleton.update(),e.skeleton.frame=G.render.frame),!e.frustumCulled||L.intersectsObject(e))){r&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=J.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&h.push(e,t,s,n,B.z,o)}}else i.visible&&h.push(e,t,i,n,B.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)Me(i[e],t,n,r)}function Ee(e,t,n,r){const i=e.opaque,o=e.transmissive,s=e.transparent;d.setupLightsView(n),o.length>0&&function(e,t,n){const r=H.isWebGL2;null===D&&(D=new rd(1,1,{generateMipmaps:!0,type:V.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:r&&!0===a?4:0})),m.getDrawingBufferSize(U),r?D.setSize(U.x,U.y):D.setSize(Ph(U.x),Ph(U.y));const i=m.getRenderTarget();m.setRenderTarget(D),m.clear();const o=m.toneMapping;m.toneMapping=0,Te(e,t,n),m.toneMapping=o,q.updateMultisampleRenderTarget(D),q.updateRenderTargetMipmap(D),m.setRenderTarget(i)}(i,t,n),r&&W.viewport(w.copy(r)),i.length>0&&Te(i,t,n),o.length>0&&Te(o,t,n),s.length>0&&Te(s,t,n),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1)}function Te(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=null===r?a.material:r,u=a.group;o.layers.test(n.layers)&&Ce(o,t,n,s,l,u)}}function Ce(e,t,n,r,i,a){e.onBeforeRender(m,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(m,t,n,r,e,a),!0===i.transparent&&2===i.side?(i.side=1,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,m.renderBufferDirect(n,t,r,i,e,a),i.side=2):m.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(m,t,n,r,i,a)}function Pe(e,t,n){!0!==t.isScene&&(t=F);const r=$.get(e),i=d.state.lights,a=i.state.version,o=Q.getParameters(e,i.state,d.state.shadowsArray,t,n),s=Q.getProgramCacheKey(o);let l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Y:X).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",_e),l=new Map,r.programs=l);let u=l.get(s);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return ke(e,o),u}else o.uniforms=Q.getUniforms(e),e.onBuild(n,o,m),e.onBeforeCompile(o,m),u=Q.acquireProgram(o,s),l.set(s,u),r.uniforms=o.uniforms;const c=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(c.clippingPlanes=re.uniform),ke(e,o),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(c.ambientLightColor.value=i.state.ambient,c.lightProbe.value=i.state.probe,c.directionalLights.value=i.state.directional,c.directionalLightShadows.value=i.state.directionalShadow,c.spotLights.value=i.state.spot,c.spotLightShadows.value=i.state.spotShadow,c.rectAreaLights.value=i.state.rectArea,c.ltc_1.value=i.state.rectAreaLTC1,c.ltc_2.value=i.state.rectAreaLTC2,c.pointLights.value=i.state.point,c.pointLightShadows.value=i.state.pointShadow,c.hemisphereLights.value=i.state.hemi,c.directionalShadowMap.value=i.state.directionalShadowMap,c.directionalShadowMatrix.value=i.state.directionalShadowMatrix,c.spotShadowMap.value=i.state.spotShadowMap,c.spotLightMatrix.value=i.state.spotLightMatrix,c.spotLightMap.value=i.state.spotLightMap,c.pointShadowMap.value=i.state.pointShadowMap,c.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),f=ag.seqWithValue(h.seq,c);return r.currentProgram=u,r.uniformsList=f,u}function ke(e,t){const n=$.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Se.setAnimationLoop(function(e){be&&be(e)}),"undefined"!=typeof self&&Se.setContext(self),this.setAnimationLoop=function(e){be=e,me.setAnimationLoop(e),null===e?Se.stop():Se.start()},me.addEventListener("sessionstart",xe),me.addEventListener("sessionend",we),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==g){if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===me.enabled&&!0===me.isPresenting&&(!0===me.cameraAutoUpdate&&me.updateCamera(t),t=me.getCamera()),!0===e.isScene&&e.onBeforeRender(m,e,t,_),d=ne.get(e,p.length),d.init(),p.push(d),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),L.setFromProjectionMatrix(z),N=this.localClippingEnabled,O=re.init(this.clippingPlanes,N,t),h=te.get(e,f.length),h.init(),f.push(h),Me(e,t,0,m.sortObjects),h.finish(),!0===m.sortObjects&&h.sort(P,k),!0===O&&re.beginShadows(),ie.render(d.state.shadowsArray,e,t),!0===O&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(h,e),d.setupLights(m.physicallyCorrectLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Ee(h,e,r,r.viewport)}}else Ee(h,e,t);null!==_&&(q.updateMultisampleRenderTarget(_),q.updateRenderTargetMipmap(_)),!0===e.isScene&&e.onAfterRender(m,e,t),ce.resetDefaultState(),b=-1,x=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(e,t,n){$.get(e.texture).__webglTexture=t,$.get(e.depthTexture).__webglTexture=n;const r=$.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===V.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=$.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){_=e,v=t,y=n;let r=!0,i=null,a=!1,o=!1;if(e){const n=$.get(e);void 0!==n.__useDefaultFramebuffer?(W.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?q.setupRenderTarget(e):n.__hasExternalTextures&&q.rebindTextures(e,$.get(e.texture).__webglTexture,$.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(o=!0);const l=$.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=H.isWebGL2&&e.samples>0&&!1===q.useMultisampledRTT(e)?$.get(e).__webglMultisampledFramebuffer:l,w.copy(e.viewport),S.copy(e.scissor),M=e.scissorTest}else w.copy(A).multiplyScalar(C).floor(),S.copy(I).multiplyScalar(C).floor(),M=R;if(W.bindFramebuffer(36160,i)&&H.drawBuffers&&r&&W.drawBuffers(e,i),W.viewport(w),W.scissor(S),W.setScissorTest(M),a){const r=$.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(o){const r=$.get(e.texture);de.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,t||0)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){W.bindFramebuffer(36160,s);try{const o=e.texture,s=o.format,l=o.type;if(1023!==s&&ue.convert(s)!==de.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const u=1016===l&&(V.has("EXT_color_buffer_half_float")||H.isWebGL2&&V.has("EXT_color_buffer_float"));if(!(1009===l||ue.convert(l)===de.getParameter(35738)||1015===l&&(H.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float"))||u))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&de.readPixels(t,n,r,i,ue.convert(s),ue.convert(l),a)}finally{const e=null!==_?$.get(_).__webglFramebuffer:null;W.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);q.setTexture2D(t,0),de.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),W.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,a=t.image.height,o=ue.convert(n.format),s=ue.convert(n.type);q.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=ue.convert(r.format),u=ue.convert(r.type);let c;if(r.isData3DTexture)q.setTexture3D(r,0),c=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");q.setTexture2DArray(r,0),c=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);const h=de.getParameter(3314),d=de.getParameter(32878),f=de.getParameter(3316),p=de.getParameter(3315),g=de.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,v.width),de.pixelStorei(32878,v.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?de.texSubImage3D(c,i,t.x,t.y,t.z,a,o,s,l,u,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(c,i,t.x,t.y,t.z,a,o,s,l,v.data)):de.texSubImage3D(c,i,t.x,t.y,t.z,a,o,s,l,u,v),de.pixelStorei(3314,h),de.pixelStorei(32878,d),de.pixelStorei(3316,f),de.pixelStorei(3315,p),de.pixelStorei(32877,g),0===i&&r.generateMipmaps&&de.generateMipmap(c),W.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?q.setTextureCube(e,0):e.isData3DTexture?q.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?q.setTexture2DArray(e,0):q.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){v=0,y=0,_=null,W.reset(),ce.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Jg extends Kg{}Jg.prototype.isWebGL1Renderer=!0;class Qg{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Yh(e),this.density=t}clone(){return new Qg(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ev{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Yh(e),this.near=t,this.far=n}clone(){return new ev(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class tv extends uf{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class nv{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=wh()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=wh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=wh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const rv=/*@__PURE__*/new sd;class iv{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.applyMatrix4(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.applyNormalMatrix(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)rv.fromBufferAttribute(this,t),rv.transformDirection(e),this.setXYZ(t,rv.x,rv.y,rv.z);return this}setX(e,t){return this.normalized&&(t=Ah(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ah(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ah(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ah(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=kh(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=kh(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=kh(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=kh(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array),r=Ah(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ah(t,this.array),n=Ah(n,this.array),r=Ah(r,this.array),i=Ah(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Tf(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new iv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class av extends wf{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Yh(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ov;const sv=/*@__PURE__*/new sd,lv=/*@__PURE__*/new sd,uv=/*@__PURE__*/new sd,cv=/*@__PURE__*/new Rh,hv=/*@__PURE__*/new Rh,dv=/*@__PURE__*/new zd,fv=/*@__PURE__*/new sd,pv=/*@__PURE__*/new sd,mv=/*@__PURE__*/new sd,gv=/*@__PURE__*/new Rh,vv=/*@__PURE__*/new Rh,yv=/*@__PURE__*/new Rh;class _v extends uf{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===ov){ov=new zf;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new nv(e,5);ov.setIndex([0,1,2,0,2,3]),ov.setAttribute("position",new iv(t,3,0,!1)),ov.setAttribute("uv",new iv(t,2,3,!1))}this.geometry=ov,this.material=void 0!==e?e:new av,this.center=new Rh(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lv.setFromMatrixScale(this.matrixWorld),dv.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&lv.multiplyScalar(-uv.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;bv(fv.set(-.5,-.5,0),uv,a,lv,r,i),bv(pv.set(.5,-.5,0),uv,a,lv,r,i),bv(mv.set(.5,.5,0),uv,a,lv,r,i),gv.set(0,0),vv.set(1,0),yv.set(1,1);let o=e.ray.intersectTriangle(fv,pv,mv,!1,sv);if(null===o&&(bv(pv.set(-.5,.5,0),uv,a,lv,r,i),vv.set(0,1),o=e.ray.intersectTriangle(fv,mv,pv,!1,sv),null===o))return;const s=e.ray.origin.distanceTo(sv);s<e.near||s>e.far||t.push({distance:s,point:sv.clone(),uv:bf.getUV(sv,fv,pv,mv,gv,vv,yv,new Rh),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function bv(e,t,n,r,i,a){cv.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(hv.x=a*cv.x-i*cv.y,hv.y=i*cv.x+a*cv.y):hv.copy(cv),e.copy(t),e.x+=hv.x,e.y+=hv.y,e.applyMatrix4(dv)}const xv=/*@__PURE__*/new sd,wv=/*@__PURE__*/new sd;class Sv extends uf{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){xv.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(xv);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){xv.setFromMatrixPosition(e.matrixWorld),wv.setFromMatrixPosition(this.matrixWorld);const n=xv.distanceTo(wv)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,r=n.length;e<r;e++){const r=n[e];t.object.levels.push({object:r.object.uuid,distance:r.distance,hysteresis:r.hysteresis})}return t}}const Mv=/*@__PURE__*/new sd,Ev=/*@__PURE__*/new nd,Tv=/*@__PURE__*/new nd,Cv=/*@__PURE__*/new sd,Pv=/*@__PURE__*/new zd;class kv extends tp{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new zd,this.bindMatrixInverse=new zd}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nd,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();Infinity!==r?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;Ev.fromBufferAttribute(r.attributes.skinIndex,e),Tv.fromBufferAttribute(r.attributes.skinWeight,e),Mv.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const r=Tv.getComponent(e);if(0!==r){const i=Ev.getComponent(e);Pv.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(Cv.copy(Mv).applyMatrix4(Pv),r)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Av extends uf{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Iv extends td{constructor(e=null,t=1,n=1,r,i,a,o,s,l=1003,u=1003,c,h){super(null,a,o,s,l,u,r,i,c,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Rv=/*@__PURE__*/new zd,Lv=/*@__PURE__*/new zd;class Ov{constructor(e=[],t=[]){this.uuid=wh(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new zd)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new zd;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++)Rv.multiplyMatrices(e[r]?e[r].matrixWorld:Lv,t[r]),Rv.toArray(n,16*r);null!==r&&(r.needsUpdate=!0)}clone(){return new Ov(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Ch(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Iv(t,e,e,1023,1015);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Av),this.bones.push(i),this.boneInverses.push((new zd).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++)e.bones.push(t[r].uuid),e.boneInverses.push(n[r].toArray());return e}}class Nv extends Tf{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Dv=/*@__PURE__*/new zd,zv=/*@__PURE__*/new zd,Uv=[],Bv=/*@__PURE__*/new zd,Fv=/*@__PURE__*/new tp;class jv extends tp{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Nv(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let e=0;e<n;e++)this.setMatrixAt(e,Bv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Fv.geometry=this.geometry,Fv.material=this.material,void 0!==Fv.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Dv),zv.multiplyMatrices(n,Dv),Fv.matrixWorld=zv,Fv.raycast(e,Uv);for(let e=0,n=Uv.length;e<n;e++){const n=Uv[e];n.instanceId=i,n.object=this,t.push(n)}Uv.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Nv(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Vv extends wf{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Yh(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hv=/*@__PURE__*/new sd,Wv=/*@__PURE__*/new sd,Gv=/*@__PURE__*/new zd,$v=/*@__PURE__*/new Dd,qv=/*@__PURE__*/new Pd;class Xv extends uf{constructor(e=new zf,t=new Vv){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Hv.fromBufferAttribute(t,e-1),Wv.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Hv.distanceTo(Wv);e.setAttribute("lineDistance",new kf(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),qv.copy(n.boundingSphere),qv.applyMatrix4(r),qv.radius+=i,!1===e.ray.intersectsSphere(qv))return;Gv.copy(r).invert(),$v.copy(e.ray).applyMatrix4(Gv);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new sd,u=new sd,c=new sd,h=new sd,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(let n=Math.max(0,a.start),r=Math.min(f.count,a.start+a.count)-1;n<r;n+=d){const r=f.getX(n),i=f.getX(n+1);if(l.fromBufferAttribute(p,r),u.fromBufferAttribute(p,i),$v.distanceSqToSegment(l,u,h,c)>s)continue;h.applyMatrix4(this.matrixWorld);const a=e.ray.origin.distanceTo(h);a<e.near||a>e.far||t.push({distance:a,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}else for(let n=Math.max(0,a.start),r=Math.min(p.count,a.start+a.count)-1;n<r;n+=d){if(l.fromBufferAttribute(p,n),u.fromBufferAttribute(p,n+1),$v.distanceSqToSegment(l,u,h,c)>s)continue;h.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(h);r<e.near||r>e.far||t.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const Yv=/*@__PURE__*/new sd,Zv=/*@__PURE__*/new sd;class Kv extends Xv{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Yv.fromBufferAttribute(t,e),Zv.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Yv.distanceTo(Zv);e.setAttribute("lineDistance",new kf(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Jv extends Xv{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Qv extends wf{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Yh(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ey=/*@__PURE__*/new zd,ty=/*@__PURE__*/new Dd,ny=/*@__PURE__*/new Pd,ry=/*@__PURE__*/new sd;class iy extends uf{constructor(e=new zf,t=new Qv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ny.copy(n.boundingSphere),ny.applyMatrix4(r),ny.radius+=i,!1===e.ray.intersectsSphere(ny))return;ey.copy(r).invert(),ty.copy(e.ray).applyMatrix4(ey);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(let n=Math.max(0,a.start),i=Math.min(l.count,a.start+a.count);n<i;n++){const i=l.getX(n);ry.fromBufferAttribute(u,i),ay(ry,i,s,r,e,t,this)}else for(let n=Math.max(0,a.start),i=Math.min(u.count,a.start+a.count);n<i;n++)ry.fromBufferAttribute(u,n),ay(ry,n,s,r,e,t,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function ay(e,t,n,r,i,a,o){const s=ty.distanceSqToPoint(e);if(s<n){const n=new sd;ty.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:o})}}class oy extends td{constructor(e,t,n,r,i,a,o,s,l,u,c,h){super(null,a,o,s,l,u,r,i,c,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class sy{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const u=n[r];return(r+(a-u)/(n[r+1]-u))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Rh:new sd);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new sd,r=[],i=[],a=[],o=new sd,s=new zd;for(let t=0;t<=e;t++)r[t]=this.getTangentAt(t/e,new sd);i[0]=new sd,a[0]=new sd;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),c=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=l&&(l=u,n.set(1,0,0)),c<=l&&(l=c,n.set(0,1,0)),h<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),a[t]=a[t-1].clone(),o.crossVectors(r[t-1],r[t]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(Sh(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(o,e))}a[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(Sh(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ly extends sy{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t){const n=t||new Rh,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class uy extends ly{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function cy(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,u*=o,i(t,n,l,u)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const hy=/*@__PURE__*/new sd,dy=/*@__PURE__*/new cy,fy=/*@__PURE__*/new cy,py=/*@__PURE__*/new cy;class my extends sy{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new sd){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let o,s,l=Math.floor(a),u=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===u&&l===i-1&&(l=i-2,u=1),this.closed||l>0?o=r[(l-1)%i]:(hy.subVectors(r[0],r[1]).add(r[0]),o=hy);const c=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(hy.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=hy),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),dy.initNonuniformCatmullRom(o.x,c.x,h.x,s.x,t,n,r),fy.initNonuniformCatmullRom(o.y,c.y,h.y,s.y,t,n,r),py.initNonuniformCatmullRom(o.z,c.z,h.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(dy.initCatmullRom(o.x,c.x,h.x,s.x,this.tension),fy.initCatmullRom(o.y,c.y,h.y,s.y,this.tension),py.initCatmullRom(o.z,c.z,h.z,s.z,this.tension));return n.set(dy.calc(u),fy.calc(u),py.calc(u)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new sd).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gy(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function vy(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function yy(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class _y extends sy{constructor(e=new Rh,t=new Rh,n=new Rh,r=new Rh){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Rh){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(yy(e,r.x,i.x,a.x,o.x),yy(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class by extends sy{constructor(e=new sd,t=new sd,n=new sd,r=new sd){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new sd){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(yy(e,r.x,i.x,a.x,o.x),yy(e,r.y,i.y,a.y,o.y),yy(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xy extends sy{constructor(e=new Rh,t=new Rh){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Rh){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Rh;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wy extends sy{constructor(e=new sd,t=new sd){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new sd){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sy extends sy{constructor(e=new Rh,t=new Rh,n=new Rh){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Rh){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(vy(e,r.x,i.x,a.x),vy(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class My extends sy{constructor(e=new sd,t=new sd,n=new sd){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new sd){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(vy(e,r.x,i.x,a.x),vy(e,r.y,i.y,a.y),vy(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ey extends sy{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Rh){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(gy(o,s.x,l.x,u.x,c.x),gy(o,s.y,l.y,u.y,c.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Rh).fromArray(n))}return this}}var Ty=/*#__PURE__*/Object.freeze({__proto__:null,ArcCurve:uy,CatmullRomCurve3:my,CubicBezierCurve:_y,CubicBezierCurve3:by,EllipseCurve:ly,LineCurve:xy,LineCurve3:wy,QuadraticBezierCurve:Sy,QuadraticBezierCurve3:My,SplineCurve:Ey});class Cy extends sy{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new xy(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength();return a.getPointAt(0===o?0:1-e/o,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.getPoints(a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e);for(let e=0;e<o.length;e++){const r=o[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Ty[n.type]).fromJSON(n))}return this}}class Py extends Cy{constructor(e){super(),this.type="Path",this.currentPoint=new Rh,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new xy(this.currentPoint.clone(),new Rh(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Sy(this.currentPoint.clone(),new Rh(e,t),new Rh(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new _y(this.currentPoint.clone(),new Rh(e,t),new Rh(n,r),new Rh(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Ey(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new ly(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ky extends zf{constructor(e=[new Rh(0,-.5),new Rh(.5,0),new Rh(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Sh(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],u=1/t,c=new sd,h=new Rh,d=new sd,f=new sd,p=new sd;let m=0,g=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,d.x=1*g,d.y=-m,d.z=0*g,p.copy(d),d.normalize(),s.push(d.x,d.y,d.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[t+1].x-e[t].x,g=e[t+1].y-e[t].y,d.x=1*g,d.y=-m,d.z=0*g,f.copy(d),d.x+=p.x,d.y+=p.y,d.z+=p.z,d.normalize(),s.push(d.x,d.y,d.z),p.copy(f)}for(let i=0;i<=t;i++){const d=n+i*u*r,f=Math.sin(d),p=Math.cos(d);for(let n=0;n<=e.length-1;n++)c.x=e[n].x*f,c.y=e[n].y,c.z=e[n].x*p,a.push(c.x,c.y,c.z),h.x=i/t,h.y=n/(e.length-1),o.push(h.x,h.y),l.push(s[3*n+0]*f,s[3*n+1],s[3*n+0]*p)}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const r=t+n*e.length,a=r+e.length,o=r+e.length+1,s=r+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new kf(a,3)),this.setAttribute("uv",new kf(o,2)),this.setAttribute("normal",new kf(l,3))}static fromJSON(e){return new ky(e.points,e.segments,e.phiStart,e.phiLength)}}class Ay extends ky{constructor(e=1,t=1,n=4,r=8){const i=new Py;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new Ay(e.radius,e.length,e.capSegments,e.radialSegments)}}class Iy extends zf{constructor(e=1,t=8,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new sd,u=new Rh;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let i=0,c=3;i<=t;i++,c+=3){const h=n+i/t*r;l.x=e*Math.cos(h),l.y=e*Math.sin(h),a.push(l.x,l.y,l.z),o.push(0,0,1),u.x=(a[c]/e+1)/2,u.y=(a[c+1]/e+1)/2,s.push(u.x,u.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new kf(a,3)),this.setAttribute("normal",new kf(o,3)),this.setAttribute("uv",new kf(s,2))}static fromJSON(e){return new Iy(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ry extends zf{constructor(e=1,t=1,n=1,r=8,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const u=[],c=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,a=new Rh,p=new sd;let v=0;const y=!0===n?e:t,_=!0===n?1:-1;for(let e=1;e<=r;e++)c.push(0,m*_,0),h.push(0,_,0),d.push(.5,.5),f++;const b=f;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*_,p.z=y*n,c.push(p.x,p.y,p.z),h.push(0,_,0),a.x=.5*n+.5,a.y=.5*i*_+.5,d.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?u.push(r,r+1,t):u.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new sd,v=new sd;let y=0;const _=(t-e)/n;for(let l=0;l<=i;l++){const u=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,c.push(v.x,v.y,v.z),a.set(l,_,p).normalize(),h.push(a.x,a.y,a.z),d.push(t,1-g),u.push(f++)}p.push(u)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t+1][e],r=p[t+1][e+1],i=p[t][e+1];u.push(p[t][e],n,i),u.push(n,r,i),y+=6}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new kf(c,3)),this.setAttribute("normal",new kf(h,3)),this.setAttribute("uv",new kf(d,2))}static fromJSON(e){return new Ry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ly extends Ry{constructor(e=1,t=1,n=8,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new Ly(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Oy extends zf{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let r=0;r<=i;r++){a[r]=[];const o=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)a[r][e]=0===e&&r===i?o:o.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){const n=Math.floor(t/2);t%2==0?(s(a[e][n+1]),s(a[e+1][n]),s(a[e][n])):(s(a[e][n+1]),s(a[e+1][n+1]),s(a[e+1][n]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function u(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new sd,r=new sd,i=new sd;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new sd;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new sd;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=c(e)/2/Math.PI+.5,o=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);a.push(r,1-o)}var t;(function(){const e=new sd,t=new sd,n=new sd,r=new sd,o=new Rh,s=new Rh,l=new Rh;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),o.set(a[d+0],a[d+1]),s.set(a[d+2],a[d+3]),l.set(a[d+4],a[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=c(r);u(o,d+0,e,f),u(s,d+2,t,f),u(l,d+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new kf(i,3)),this.setAttribute("normal",new kf(i.slice(),3)),this.setAttribute("uv",new kf(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new Oy(e.vertices,e.indices,e.radius,e.details)}}class Ny extends Oy{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ny(e.radius,e.detail)}}const Dy=/*@__PURE__*/new sd,zy=/*@__PURE__*/new sd,Uy=/*@__PURE__*/new sd,By=/*@__PURE__*/new bf;class Fy extends zf{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=Math.pow(10,4),r=Math.cos(bh*t),i=e.getIndex(),a=e.getAttribute("position"),o=i?i.count:a.count,s=[0,0,0],l=["a","b","c"],u=new Array(3),c={},h=[];for(let e=0;e<o;e+=3){i?(s[0]=i.getX(e),s[1]=i.getX(e+1),s[2]=i.getX(e+2)):(s[0]=e,s[1]=e+1,s[2]=e+2);const{a:t,b:o,c:d}=By;if(t.fromBufferAttribute(a,s[0]),o.fromBufferAttribute(a,s[1]),d.fromBufferAttribute(a,s[2]),By.getNormal(Uy),u[0]=`${Math.round(t.x*n)},${Math.round(t.y*n)},${Math.round(t.z*n)}`,u[1]=`${Math.round(o.x*n)},${Math.round(o.y*n)},${Math.round(o.z*n)}`,u[2]=`${Math.round(d.x*n)},${Math.round(d.y*n)},${Math.round(d.z*n)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],i=u[t],a=By[l[e]],o=By[l[t]],d=`${n}_${i}`,f=`${i}_${n}`;f in c&&c[f]?(Uy.dot(c[f].normal)<=r&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),c[f]=null):d in c||(c[d]={index0:s[e],index1:s[t],normal:Uy.clone()})}}for(const e in c)if(c[e]){const{index0:t,index1:n}=c[e];Dy.fromBufferAttribute(a,t),zy.fromBufferAttribute(a,n),h.push(Dy.x,Dy.y,Dy.z),h.push(zy.x,zy.y,zy.z)}this.setAttribute("position",new kf(h,3))}}}class jy extends Py{constructor(e){super(e),this.uuid=wh(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Py).fromJSON(n))}return this}}function Vy(e,t,n,r,i){let a,o;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=u_(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=u_(a,e[a],e[a+1],o);return o&&r_(o,o.next)&&(c_(o),o=o.next),o}function Hy(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!r_(r,r.next)&&0!==n_(r.prev,r,r.next))r=r.next;else{if(c_(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Wy(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Jy(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ,r);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);let s,l,u=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,a?$y(e,r,i,a):Gy(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),c_(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Wy(e=qy(Hy(e),t,n),t,n,r,i,a,2):2===o&&Xy(e,t,n,r,i,a):Wy(Hy(e),t,n,r,i,a,1);break}}function Gy(e){const t=e.prev,n=e,r=e.next;if(n_(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,d=i>a?i>o?i:o:a>o?a:o,f=s>l?s>u?s:u:l>u?l:u;let p=r.next;for(;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&e_(i,s,a,l,o,u,p.x,p.y)&&n_(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function $y(e,t,n,r){const i=e.prev,a=e,o=e.next;if(n_(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,d=o.y,f=s<l?s<u?s:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,m=s>l?s>u?s:u:l>u?l:u,g=c>h?c>d?c:d:h>d?h:d,v=Jy(f,p,t,n,r),y=Jy(m,g,t,n,r);let _=e.prevZ,b=e.nextZ;for(;_&&_.z>=v&&b&&b.z<=y;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==o&&e_(s,c,l,h,u,d,_.x,_.y)&&n_(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&e_(s,c,l,h,u,d,b.x,b.y)&&n_(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==o&&e_(s,c,l,h,u,d,_.x,_.y)&&n_(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&e_(s,c,l,h,u,d,b.x,b.y)&&n_(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function qy(e,t,n){let r=e;do{const i=r.prev,a=r.next.next;!r_(i,a)&&i_(i,r,r.next,a)&&s_(i,a)&&s_(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),c_(r),c_(r.next),r=e=a),r=r.next}while(r!==e);return Hy(r)}function Xy(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&t_(o,e)){let s=l_(o,e);return o=Hy(o,o.next),s=Hy(s,s.next),Wy(o,t,n,r,i,a,0),void Wy(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function Yy(e,t){return e.x-t.x}function Zy(e,t){const n=function(e,t){let n,r=t,i=-Infinity;const a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){const e=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=a&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===a))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,u=n.y;let c,h=Infinity;r=n;do{a>=r.x&&r.x>=l&&a!==r.x&&e_(o<u?a:i,o,l,u,o<u?i:a,o,r.x,r.y)&&(c=Math.abs(o-r.y)/(a-r.x),s_(r,e)&&(c<h||c===h&&(r.x>n.x||r.x===n.x&&Ky(n,r)))&&(n=r,h=c)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=l_(n,e);return Hy(r,r.next),Hy(n,n.next)}function Ky(e,t){return n_(e.prev,e,t.prev)<0&&n_(t.next,e,e.next)<0}function Jy(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Qy(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function e_(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function t_(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&i_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(s_(e,t)&&s_(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(n_(e.prev,e,t.prev)||n_(e,t.prev,t))||r_(e,t)&&n_(e.prev,e,e.next)>0&&n_(t.prev,t,t.next)>0)}function n_(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function r_(e,t){return e.x===t.x&&e.y===t.y}function i_(e,t,n,r){const i=o_(n_(e,t,n)),a=o_(n_(e,t,r)),o=o_(n_(n,r,e)),s=o_(n_(n,r,t));return i!==a&&o!==s||!(0!==i||!a_(e,n,t))||!(0!==a||!a_(e,r,t))||!(0!==o||!a_(n,e,r))||!(0!==s||!a_(n,t,r))}function a_(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function o_(e){return e>0?1:e<0?-1:0}function s_(e,t){return n_(e.prev,e,e.next)<0?n_(e,t,e.next)>=0&&n_(e,e.prev,t)>=0:n_(e,t,e.prev)<0||n_(e,e.next,t)<0}function l_(e,t){const n=new h_(e.i,e.x,e.y),r=new h_(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function u_(e,t,n,r){const i=new h_(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function c_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function h_(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class d_{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return d_.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];f_(e),p_(n,e);let a=e.length;t.forEach(f_);for(let e=0;e<t.length;e++)r.push(a),a+=t[e].length,p_(n,t[e]);const o=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=Vy(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,h,d,f;if(r&&(a=function(e,t,n,r){const i=[];let a,o,s,l,u;for(a=0,o=t.length;a<o;a++)s=t[a]*r,l=a<o-1?t[a+1]*r:e.length,u=Vy(e,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Qy(u));for(i.sort(Yy),a=0;a<i.length;a++)n=Zy(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=u=e[0],l=c=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<s&&(s=h),d<l&&(l=d),h>u&&(u=h),d>c&&(c=d);f=Math.max(u-s,c-l),f=0!==f?32767/f:0}return Wy(a,o,n,s,l,f,0),o}(n,r);for(let e=0;e<o.length;e+=3)i.push(o.slice(e,e+3));return i}}function f_(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function p_(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class m_ extends zf{constructor(e=new jy([new Rh(.5,.5),new Rh(-.5,.5),new Rh(-.5,-.5),new Rh(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let t=0,n=e.length;t<n;t++)a(e[t]);function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let u=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:c-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:g_;let g,v,y,_,b,x=!1;p&&(g=p.getSpacedPoints(s),x=!0,u=!1,v=p.computeFrenetFrames(s,!1),y=new sd,_=new sd,b=new sd),u||(f=0,c=0,h=0,d=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes;if(!d_.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];d_.isClockWise(t)&&(M[e]=t.reverse())}}const E=d_.triangulateShape(S,M),T=S;for(let e=0,t=M.length;e<t;e++)S=S.concat(M[e]);function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const P=S.length,k=E.length;function A(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s;if(Math.abs(o*u-s*l)>Number.EPSILON){const h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),f=t.x-s/h,p=t.y+o/h,m=((n.x-u/d-f)*u-(n.y+l/d-p)*l)/(o*u-s*l);r=f+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new Rh(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(u)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Rh(r/a,i/a)}const I=[];for(let e=0,t=T.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),I[e]=A(T[e],T[n],T[r]);const R=[];let L,O=I.concat();for(let e=0,t=M.length;e<t;e++){const t=M[e];L=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),L[e]=A(t[e],t[r],t[i]);R.push(L),O=O.concat(L)}for(let e=0;e<f;e++){const t=e/f,n=c*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=T.length;e<t;e++){const t=C(T[e],I[e],r);z(t.x,t.y,-n)}for(let e=0,t=M.length;e<t;e++){const t=M[e];L=R[e];for(let e=0,i=t.length;e<i;e++){const i=C(t[e],L[e],r);z(i.x,i.y,-n)}}}const N=h+d;for(let e=0;e<P;e++){const t=u?C(S[e],O[e],N):S[e];x?(_.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),b.copy(g[0]).add(_).add(y),z(b.x,b.y,b.z)):z(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<P;t++){const n=u?C(S[t],O[t],N):S[t];x?(_.copy(v.normals[e]).multiplyScalar(n.x),y.copy(v.binormals[e]).multiplyScalar(n.y),b.copy(g[e]).add(_).add(y),z(b.x,b.y,b.z)):z(n.x,n.y,l/s*e)}for(let e=f-1;e>=0;e--){const t=e/f,n=c*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=T.length;e<t;e++){const t=C(T[e],I[e],r);z(t.x,t.y,l+n)}for(let e=0,t=M.length;e<t;e++){const t=M[e];L=R[e];for(let e=0,i=t.length;e<i;e++){const i=C(t[e],L[e],r);x?z(i.x,i.y+g[s-1].y,g[s-1].x+n):z(i.x,i.y,l+n)}}}function D(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=P*e,a=P*(e+1);B(t+r+n,t+i+n,t+i+a,t+r+a)}}}function z(e,t,n){a.push(e),a.push(t),a.push(n)}function U(e,t,i){F(e),F(t),F(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);j(o[0]),j(o[1]),j(o[2])}function B(e,t,i,a){F(e),F(t),F(a),F(t),F(i),F(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);j(s[0]),j(s[1]),j(s[3]),j(s[1]),j(s[2]),j(s[3])}function F(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function j(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(u){let e=0,t=P*e;for(let e=0;e<k;e++){const n=E[e];U(n[2]+t,n[1]+t,n[0]+t)}e=s+2*f,t=P*e;for(let e=0;e<k;e++){const n=E[e];U(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<k;e++){const t=E[e];U(t[2],t[1],t[0])}for(let e=0;e<k;e++){const t=E[e];U(t[0]+P*s,t[1]+P*s,t[2]+P*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;D(T,t),t+=T.length;for(let e=0,n=M.length;e<n;e++){const n=M[e];D(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new kf(r,3)),this.setAttribute("uv",new kf(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++)n.shapes.push(e[t].uuid);else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++)n.push(t[e.shapes[r]]);const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Ty[r.type]).fromJSON(r)),new m_(n,e.options)}}const g_={generateTopUV:function(e,t,n,r,i){const a=t[3*r],o=t[3*r+1],s=t[3*i],l=t[3*i+1];return[new Rh(t[3*n],t[3*n+1]),new Rh(a,o),new Rh(s,l)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new Rh(o,1-l),new Rh(u,1-h),new Rh(d,1-p),new Rh(m,1-v)]:[new Rh(s,1-l),new Rh(c,1-h),new Rh(f,1-p),new Rh(g,1-v)]}};class v_ extends Oy{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new v_(e.radius,e.detail)}}class y_ extends Oy{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y_(e.radius,e.detail)}}class __ extends zf{constructor(e=.5,t=1,n=8,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n);const o=[],s=[],l=[],u=[];let c=e;const h=(t-e)/(r=Math.max(1,r)),d=new sd,f=new Rh;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){const r=i+e/n*a;d.x=c*Math.cos(r),d.y=c*Math.sin(r),s.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,u.push(f.x,f.y)}c+=h}for(let e=0;e<r;e++){const t=e*(n+1);for(let e=0;e<n;e++){const r=e+t,i=r+n+1,a=r+n+2,s=r+1;o.push(r,i,s),o.push(i,a,s)}}this.setIndex(o),this.setAttribute("position",new kf(s,3)),this.setAttribute("normal",new kf(l,3)),this.setAttribute("uv",new kf(u,2))}static fromJSON(e){return new __(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class b_ extends zf{constructor(e=new jy([new Rh(0,.5),new Rh(-.5,-.5),new Rh(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(o,s,t),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let u=l.shape;const c=l.holes;!1===d_.isClockWise(u)&&(u=u.reverse());for(let e=0,t=c.length;e<t;e++){const t=c[e];!0===d_.isClockWise(t)&&(c[e]=t.reverse())}const h=d_.triangulateShape(u,c);for(let e=0,t=c.length;e<t;e++)u=u.concat(c[e]);for(let e=0,t=u.length;e<t;e++){const t=u[e];r.push(t.x,t.y,0),i.push(0,0,1),a.push(t.x,t.y)}for(let e=0,t=h.length;e<t;e++){const t=h[e];n.push(t[0]+o,t[1]+o,t[2]+o),s+=3}}this.setIndex(n),this.setAttribute("position",new kf(r,3)),this.setAttribute("normal",new kf(i,3)),this.setAttribute("uv",new kf(a,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++)t.shapes.push(e[n].uuid);else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++)n.push(t[e.shapes[r]]);return new b_(n,e.curveSegments)}}class x_ extends zf{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const u=[],c=new sd,h=new sd,d=[],f=[],p=[],m=[];for(let d=0;d<=n;d++){const g=[],v=d/n;let y=0;0==d&&0==a?y=.5/t:d==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;c.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),c.y=e*Math.cos(a+v*o),c.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(c.x,c.y,c.z),h.copy(c).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),g.push(l++)}u.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){const t=u[e][r+1],i=u[e][r],o=u[e+1][r],l=u[e+1][r+1];(0!==e||a>0)&&d.push(t,i,l),(e!==n-1||s<Math.PI)&&d.push(i,o,l)}this.setIndex(d),this.setAttribute("position",new kf(f,3)),this.setAttribute("normal",new kf(p,3)),this.setAttribute("uv",new kf(m,2))}static fromJSON(e){return new x_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class w_ extends Oy{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new w_(e.radius,e.detail)}}class S_ extends zf{constructor(e=1,t=.4,n=8,r=6,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],u=new sd,c=new sd,h=new sd;for(let a=0;a<=n;a++)for(let d=0;d<=r;d++){const f=d/r*i,p=a/n*Math.PI*2;c.x=(e+t*Math.cos(p))*Math.cos(f),c.y=(e+t*Math.cos(p))*Math.sin(f),c.z=t*Math.sin(p),o.push(c.x,c.y,c.z),u.x=e*Math.cos(f),u.y=e*Math.sin(f),h.subVectors(c,u).normalize(),s.push(h.x,h.y,h.z),l.push(d/r),l.push(a/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+t-1,i=(r+1)*(e-1)+t,o=(r+1)*e+t;a.push((r+1)*e+t-1,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new kf(o,3)),this.setAttribute("normal",new kf(s,3)),this.setAttribute("uv",new kf(l,2))}static fromJSON(e){return new S_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class M_ extends zf{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],u=[],c=new sd,h=new sd,d=new sd,f=new sd,p=new sd,m=new sd,g=new sd;for(let o=0;o<=n;++o){const y=o/n*i*Math.PI*2;v(y,i,a,e,d),v(y+.01,i,a,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),f=t*Math.sin(i);c.x=d.x+(a*g.x+f*p.x),c.y=d.y+(a*g.y+f*p.y),c.z=d.z+(a*g.z+f*p.z),s.push(c.x,c.y,c.z),h.subVectors(c,d).normalize(),l.push(h.x,h.y,h.z),u.push(o/n),u.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*e+(t-1),i=(r+1)*e+t,a=(r+1)*(e-1)+t;o.push((r+1)*(e-1)+(t-1),n,a),o.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new kf(s,3)),this.setAttribute("normal",new kf(l,3)),this.setAttribute("uv",new kf(u,2))}static fromJSON(e){return new M_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class E_ extends zf{constructor(e=new My(new sd(-1,-1,0),new sd(-1,1,0),new sd(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new sd,s=new sd,l=new Rh;let u=new sd;const c=[],h=[],d=[],f=[];function p(i){u=e.getPointAt(i/t,u);const l=a.normals[i],d=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*d.x,s.y=a*l.y+i*d.y,s.z=a*l.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),o.x=u.x+n*s.x,o.y=u.y+n*s.y,o.z=u.z+n*s.z,c.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*e+(t-1),i=(r+1)*e+t,a=(r+1)*(e-1)+t;f.push((r+1)*(e-1)+(t-1),n,a),f.push(n,i,a)}}()}(),this.setIndex(f),this.setAttribute("position",new kf(c,3)),this.setAttribute("normal",new kf(h,3)),this.setAttribute("uv",new kf(d,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new E_((new Ty[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class T_ extends zf{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new sd,i=new sd;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],u=l.start;for(let e=u,s=u+l.count;e<s;e+=3)for(let s=0;s<3;s++){const l=o.getX(e+s),u=o.getX(e+(s+1)%3);r.fromBufferAttribute(a,l),i.fromBufferAttribute(a,u),!0===C_(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let o=0;o<3;o++){const s=3*e+(o+1)%3;r.fromBufferAttribute(a,3*e+o),i.fromBufferAttribute(a,s),!0===C_(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new kf(t,3))}}}function C_(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var P_=/*#__PURE__*/Object.freeze({__proto__:null,BoxGeometry:rp,CapsuleGeometry:Ay,CircleGeometry:Iy,ConeGeometry:Ly,CylinderGeometry:Ry,DodecahedronGeometry:Ny,EdgesGeometry:Fy,ExtrudeGeometry:m_,IcosahedronGeometry:v_,LatheGeometry:ky,OctahedronGeometry:y_,PlaneGeometry:Sp,PolyhedronGeometry:Oy,RingGeometry:__,ShapeGeometry:b_,SphereGeometry:x_,TetrahedronGeometry:w_,TorusGeometry:S_,TorusKnotGeometry:M_,TubeGeometry:E_,WireframeGeometry:T_});class k_ extends wf{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Yh(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class A_ extends lp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class I_ extends wf{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Yh(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yh(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class R_ extends I_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Rh(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sh(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Yh(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=Infinity,this.attenuationColor=new Yh(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Yh(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class L_ extends wf{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Yh(16777215),this.specular=new Yh(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yh(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O_ extends wf{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Yh(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yh(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class N_ extends wf{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class D_ extends wf{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Yh(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yh(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class z_ extends wf{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Yh(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Rh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class U_ extends Vv{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function B_(e,t,n){return j_(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function F_(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function j_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V_(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort(function(t,n){return e[t]-e[n]}),n}function H_(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function W_(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}var G_=/*#__PURE__*/Object.freeze({__proto__:null,arraySlice:B_,convertArray:F_,isTypedArray:j_,getKeyframeOrder:V_,sortedArray:H_,flattenJSON:W_,subclip:function(e,t,n,r,i=30){const a=e.clone();a.name=t;const o=[];for(let e=0;e<a.tracks.length;++e){const t=a.tracks[e],s=t.getValueSize(),l=[],u=[];for(let e=0;e<t.times.length;++e){const a=t.times[e]*i;if(!(a<n||a>=r)){l.push(t.times[e]);for(let n=0;n<s;++n)u.push(t.values[e*s+n])}}0!==l.length&&(t.times=F_(l,t.times.constructor),t.values=F_(u,t.values.constructor),o.push(t))}a.tracks=o;let s=Infinity;for(let e=0;e<a.tracks.length;++e)s>a.tracks[e].times[0]&&(s=a.tracks[e].times[0]);for(let e=0;e<a.tracks.length;++e)a.tracks[e].shift(-1*s);return a.resetDuration(),a},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let t=0;t<i;++t){const r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const o=e.tracks.find(function(e){return e.name===r.name&&e.ValueTypeName===i});if(void 0===o)continue;let s=0;const l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let u=0;const c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);const h=r.times.length-1;let d;if(a<=r.times[0])d=B_(r.values,s,l-s);else if(a>=r.times[h]){const e=h*l+s;d=B_(r.values,e,e+l-s)}else{const e=r.createInterpolant(),t=s,n=l-s;e.evaluate(a),d=B_(e.resultBuffer,t,n)}"quaternion"===i&&(new od).fromArray(d).normalize().conjugate().toArray(d);const f=o.times.length;for(let e=0;e<f;++e){const t=e*c+u;if("quaternion"===i)od.multiplyQuaternionsFlat(o.values,t,d,0,o.values,t);else{const e=c-2*u;for(let n=0;n<e;++n)o.values[t+n]-=d[n]}}}return e.blendMode=2501,e}});class $_{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(e>=i)break e;{const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0}}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class q_ extends $_{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,_=d*m-d*p;for(let e=0;e!==o;++e)i[e]=g*a[u+e]+v*a[l+e]+y*a[s+e]+_*a[c+e];return i}}class X_ extends $_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u;for(let e=0;e!==o;++e)i[e]=a[l+e]*c+a[s+e]*u;return i}}class Y_ extends $_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Z_{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=F_(t,this.TimeBufferType),this.values=F_(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:F_(e.times,Array),values:F_(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new Y_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new X_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new q_(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=B_(n,i,a),this.values=B_(this.values,i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let t=0;t!==i;t++){const r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==a&&a>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,a),e=!1;break}a=r}if(void 0!==r&&j_(r))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){const e=B_(this.times),t=B_(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=B_(e,0,a),this.values=B_(t,0,a*n)):(this.times=e,this.values=t),this}clone(){const e=B_(this.times,0),t=B_(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}Z_.prototype.TimeBufferType=Float32Array,Z_.prototype.ValueBufferType=Float32Array,Z_.prototype.DefaultInterpolation=2301;class K_ extends Z_{}K_.prototype.ValueTypeName="bool",K_.prototype.ValueBufferType=Array,K_.prototype.DefaultInterpolation=2300,K_.prototype.InterpolantFactoryMethodLinear=void 0,K_.prototype.InterpolantFactoryMethodSmooth=void 0;class J_ extends Z_{}J_.prototype.ValueTypeName="color";class Q_ extends Z_{}Q_.prototype.ValueTypeName="number";class eb extends $_{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let e=l+o;l!==e;l+=4)od.slerpFlat(i,0,a,l-o,a,l,s);return i}}class tb extends Z_{InterpolantFactoryMethodLinear(e){return new eb(this.times,this.values,this.getValueSize(),e)}}tb.prototype.ValueTypeName="quaternion",tb.prototype.DefaultInterpolation=2301,tb.prototype.InterpolantFactoryMethodSmooth=void 0;class nb extends Z_{}nb.prototype.ValueTypeName="string",nb.prototype.ValueBufferType=Array,nb.prototype.DefaultInterpolation=2300,nb.prototype.InterpolantFactoryMethodLinear=void 0,nb.prototype.InterpolantFactoryMethodSmooth=void 0;class rb extends Z_{}rb.prototype.ValueTypeName="vector";class ib{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=wh(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(ab(n[e]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(Z_.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let e=0;e<i;e++){let o=[],s=[];o.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const l=V_(o);o=H_(o,1,l),s=H_(s,1,l),r||0!==o[0]||(o.push(i),s.push(s[0])),a.push(new Q_(".morphTargetInfluences["+t[e].name+"]",o,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],a=n.name.match(i);if(a&&a.length>1){const e=a[1];let t=r[e];t||(r[e]=t=[]),t.push(n)}}const a=[];for(const e in r)a.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];W_(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(const n in e){const e=[],a=[];for(let r=0;r!==i[t].morphTargets.length;++r){const r=i[t];e.push(r.time),a.push(r.morphTarget===n?1:0)}r.push(new Q_(".morphTargetInfluence["+n+"]",e,a))}s=e.length*a}else{const a=".bones["+t[e].name+"]";n(rb,a+".position",i,"pos",r),n(tb,a+".quaternion",i,"rot",r),n(rb,a+".scale",i,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ab(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Q_;case"vector":case"vector2":case"vector3":case"vector4":return rb;case"color":return J_;case"quaternion":return tb;case"bool":case"boolean":return K_;case"string":return nb}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];W_(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const ob={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class sb{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const lb=/*@__PURE__*/new sb;class ub{constructor(e){this.manager=void 0!==e?e:lb,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const cb={};class hb extends Error{constructor(e,t){super(e),this.response=t}}class db extends ub{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=ob.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==cb[e])return void cb[e].push({onLoad:t,onProgress:n,onError:r});cb[e]=[],cb[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=cb[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}})}()}});return new Response(l)}throw new hb(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(void 0===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{ob.add(e,t);const n=cb[e];delete cb[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=cb[e];if(void 0===n)throw this.manager.itemError(e),t;delete cb[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class fb extends ub{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=ob.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;const o=Uh("img");function s(){u(),ob.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}class pb extends uf{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Yh(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class mb extends pb{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(uf.DefaultUp),this.updateMatrix(),this.groundColor=new Yh(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const gb=/*@__PURE__*/new zd,vb=/*@__PURE__*/new sd,yb=/*@__PURE__*/new sd;class _b{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Rh(512,512),this.map=null,this.mapPass=null,this.matrix=new zd,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bp,this._frameExtents=new Rh(1,1),this._viewportCount=1,this._viewports=[new nd(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;vb.setFromMatrixPosition(e.matrixWorld),t.position.copy(vb),yb.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yb),t.updateMatrixWorld(),gb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gb),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(gb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class bb extends _b{constructor(){super(new cp(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*xh*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xb extends pb{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(uf.DefaultUp),this.updateMatrix(),this.target=new uf,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new bb}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const wb=/*@__PURE__*/new zd,Sb=/*@__PURE__*/new sd,Mb=/*@__PURE__*/new sd;class Eb extends _b{constructor(){super(new cp(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Rh(4,2),this._viewportCount=6,this._viewports=[new nd(2,1,1,1),new nd(0,1,1,1),new nd(3,1,1,1),new nd(1,1,1,1),new nd(3,0,1,1),new nd(1,0,1,1)],this._cubeDirections=[new sd(1,0,0),new sd(-1,0,0),new sd(0,0,1),new sd(0,0,-1),new sd(0,1,0),new sd(0,-1,0)],this._cubeUps=[new sd(0,1,0),new sd(0,1,0),new sd(0,1,0),new sd(0,1,0),new sd(0,0,1),new sd(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Sb.setFromMatrixPosition(e.matrixWorld),n.position.copy(Sb),Mb.copy(n.position),Mb.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Mb),n.updateMatrixWorld(),r.makeTranslation(-Sb.x,-Sb.y,-Sb.z),wb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wb)}}class Tb extends pb{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Eb}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Cb extends _b{constructor(){super(new Op(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pb extends pb{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(uf.DefaultUp),this.updateMatrix(),this.target=new uf,this.shadow=new Cb}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kb extends pb{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ab extends pb{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Ib{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new sd)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class Rb extends pb{constructor(e=new Ib,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Lb extends ub{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new db(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=Lb.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Yh).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&(r.vertexColors="number"==typeof e.vertexColors?e.vertexColors>0:e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const i=e.uniforms[t];switch(r.uniforms[t]={},i.type){case"t":r.uniforms[t].value=n(i.value);break;case"c":r.uniforms[t].value=(new Yh).setHex(i.value);break;case"v2":r.uniforms[t].value=(new Rh).fromArray(i.value);break;case"v3":r.uniforms[t].value=(new sd).fromArray(i.value);break;case"v4":r.uniforms[t].value=(new nd).fromArray(i.value);break;case"m3":r.uniforms[t].value=(new Lh).fromArray(i.value);break;case"m4":r.uniforms[t].value=(new zd).fromArray(i.value);break;default:r.uniforms[t].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const t in e.extensions)r.extensions[t]=e.extensions[t];if(void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Rh).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Rh).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:k_,SpriteMaterial:av,RawShaderMaterial:A_,ShaderMaterial:lp,PointsMaterial:Qv,MeshPhysicalMaterial:R_,MeshStandardMaterial:I_,MeshPhongMaterial:L_,MeshToonMaterial:O_,MeshNormalMaterial:N_,MeshLambertMaterial:D_,MeshDepthMaterial:zg,MeshDistanceMaterial:Ug,MeshBasicMaterial:Sf,MeshMatcapMaterial:z_,LineDashedMaterial:U_,LineBasicMaterial:Vv,Material:wf}[e]}}class Ob{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Nb extends zf{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=Infinity}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Db extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new db(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=new Uint32Array(e.arrayBuffers[t]).buffer;return n[t]=r,r}(e,i.buffer),o=zh(i.type,a),s=new nv(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new Nb:new zf,a=e.data.index;if(void 0!==a){const e=zh(a.type,a.array);i.setIndex(new Tf(e,1))}const o=e.data.attributes;for(const t in o){const n=o[t];let a;if(n.isInterleavedBufferAttribute){const t=r(e.data,n.data);a=new iv(t,n.itemSize,n.offset,n.normalized)}else{const e=zh(n.type,n.array);a=new(n.isInstancedBufferAttribute?Nv:Tf)(e,n.itemSize,n.normalized)}void 0!==n.name&&(a.name=n.name),void 0!==n.usage&&a.setUsage(n.usage),void 0!==n.updateRange&&(a.updateRange.offset=n.updateRange.offset,a.updateRange.count=n.updateRange.count),i.setAttribute(t,a)}const s=e.data.morphAttributes;if(s)for(const t in s){const n=s[t],a=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];let o;if(i.isInterleavedBufferAttribute){const t=r(e.data,i.data);o=new iv(t,i.itemSize,i.offset,i.normalized)}else{const e=zh(i.type,i.array);o=new Tf(e,i.itemSize,i.normalized)}void 0!==i.name&&(o.name=i.name),a.push(o)}i.morphAttributes[t]=a}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];i.addGroup(t.start,t.count,t.materialIndex)}const u=e.data.boundingSphere;if(void 0!==u){const e=new sd;void 0!==u.center&&e.fromArray(u.center),i.boundingSphere=new Pd(e,u.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const zb={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},Ub={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Bb={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};let Fb;class jb{static getContext(){return void 0===Fb&&(Fb=new(window.AudioContext||window.webkitAudioContext)),Fb}static setContext(e){Fb=e}}const Vb=/*@__PURE__*/new zd,Hb=/*@__PURE__*/new zd,Wb=/*@__PURE__*/new zd;class Gb{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=$b(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=$b();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function $b(){return("undefined"==typeof performance?Date:performance).now()}const qb=/*@__PURE__*/new sd,Xb=/*@__PURE__*/new od,Yb=/*@__PURE__*/new sd,Zb=/*@__PURE__*/new sd;class Kb extends uf{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Jb=/*@__PURE__*/new sd,Qb=/*@__PURE__*/new od,ex=/*@__PURE__*/new sd,tx=/*@__PURE__*/new sd;class nx{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else a+=t,this._mixBufferRegion(n,i,0,t/a,r);this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1&&this._mixBufferRegion(n,r,t*this._origIndex,1-i,t),a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.buffer,t=this.valueSize,n=t*this._origIndex;this.binding.getValue(e,n);for(let r=t,i=n;r!==i;++r)e[r]=e[n+r%t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]}_slerp(e,t,n,r){od.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;od.multiplyQuaternionsFlat(e,a,e,t,e,n),od.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const rx=new RegExp("[\\[\\]\\.:\\/]","g"),ix="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",ax=new RegExp("^"+/*@__PURE__*/ /((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]")+/*@__PURE__*/ /(WCOD+)?/.source.replace("WCOD",ix)+/*@__PURE__*/ /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]")+/*@__PURE__*/ /\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]")+"$"),ox=["material","materials","bones","map"];class sx{constructor(e,t,n){this.path=t,this.parsedPath=n||sx.parseTrackName(t),this.node=sx.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new sx.Composite(e,t,n):new sx(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(rx,"")}static parseTrackName(e){const t=ax.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==ox.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=sx.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+t.nodeName+"."+r+" but it wasn't found.",e);let o=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sx.Composite=class{constructor(e,t,n){const r=n||sx.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},sx.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},sx.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},sx.prototype.GetterByBindingType=[sx.prototype._getValue_direct,sx.prototype._getValue_array,sx.prototype._getValue_arrayElement,sx.prototype._getValue_toArray],sx.prototype.SetterByBindingTypeAndVersioning=[[sx.prototype._setValue_direct,sx.prototype._setValue_direct_setNeedsUpdate,sx.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sx.prototype._setValue_array,sx.prototype._setValue_array_setNeedsUpdate,sx.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sx.prototype._setValue_arrayElement,sx.prototype._setValue_arrayElement_setNeedsUpdate,sx.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sx.prototype._setValue_fromArray,sx.prototype._setValue_fromArray_setNeedsUpdate,sx.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lx{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:2400,endingEnd:2400};for(let e=0;e!==a;++e){const t=i[e].createInterpolant(null);o[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=n/r;e.warp(1,r/n,t),this.warp(i,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const ux=new Float32Array(1);class cx{constructor(e){this.value=e}clone(){return new cx(void 0===this.value.clone?this.value:this.value.clone())}}let hx=0;class dx{constructor(e,t,n=0,r=Infinity){this.ray=new Dd(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Xd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return px(e,this,n,t),n.sort(fx),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)px(e[r],this,n,t);return n.sort(fx),n}}function fx(e,t){return e.distance-t.distance}function px(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)px(r[e],t,n,!0)}}const mx=/*@__PURE__*/new Rh,gx=/*@__PURE__*/new sd,vx=/*@__PURE__*/new sd,yx=/*@__PURE__*/new sd,_x=/*@__PURE__*/new sd,bx=/*@__PURE__*/new zd,xx=/*@__PURE__*/new zd;function wx(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,wx(e.children[n]));return t}const Sx=/*@__PURE__*/new sd,Mx=/*@__PURE__*/new Yh,Ex=/*@__PURE__*/new Yh,Tx=/*@__PURE__*/new sd,Cx=/*@__PURE__*/new sd,Px=/*@__PURE__*/new sd,kx=/*@__PURE__*/new sd,Ax=/*@__PURE__*/new up;function Ix(e,t,n,r,i,a,o){kx.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],kx.x,kx.y,kx.z)}}const Rx=/*@__PURE__*/new cd,Lx=/*@__PURE__*/new sd;let Ox,Nx;const Dx=/*@__PURE__*/zx();function zx(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(r[e]=0,r[256|e]=32768,i[e]=24,i[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,i[e]=-t-1,i[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,i[e]=13,i[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,i[e]=24,i[256|e]=24):(r[e]=31744,r[256|e]=64512,i[e]=13,i[256|e]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;0==(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,a[e]=t|n}for(let e=1024;e<2048;++e)a[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)o[e]=e<<23;o[31]=1199570944,o[32]=2147483648;for(let e=33;e<63;++e)o[e]=2147483648+(e-32<<23);o[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(s[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}var Ux=/*#__PURE__*/Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Sh(e,-65504,65504),Dx.floatView[0]=e;const t=Dx.uint32View[0],n=t>>23&511;return Dx.baseTable[n]+((8388607&t)>>Dx.shiftTable[n])},fromHalfFloat:function(e){const t=e>>10;return Dx.uint32View[0]=Dx.mantissaTable[Dx.offsetTable[t]+(1023&e)]+Dx.exponentTable[t],Dx.floatView[0]}});class Bx extends Sp{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"147"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="147");var Fx={__proto__:null,ACESFilmicToneMapping:4,AddEquation:100,AddOperation:2,AdditiveAnimationBlendMode:2501,AdditiveBlending:2,AlphaFormat:1021,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:kb,AmbientLightProbe:class extends Rb{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new Yh).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}},AnimationClip:ib,AnimationLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new db(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=ib.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends vh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let u=l[s];void 0===u&&(u={},l[s]=u);for(let e=0;e!==i;++e){const i=r[e],l=i.name;let c=u[l];if(void 0!==c)++c.referenceCount,a[e]=c;else{if(c=a[e],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,s,l));continue}c=new nx(sx.create(n,l,t&&t._propertyBindings[e].binding.parsedPath),i.ValueTypeName,i.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,s,l),a[e]=c}o[e].resultBuffer=c.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new X_(new Float32Array(2),new Float32Array(2),1,ux),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"==typeof e?ib.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const u=new lx(this,a,t,n);return this._bindAction(u,l),this._addInactiveAction(u,o,i),u}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?ib.findByName(n,e):e,a=this._actionsByClip[i?i.uuid:e];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){const t=this._actions,n=this._nActiveActions,r=this.time+=e*=this.timeScale,i=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o)t[o]._update(r,e,i,a);const o=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)o[e].apply(a);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=wh(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){const c=arguments[u],h=c.uuid;let d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(c);for(let e=0,t=a;e!==t;++e)i[e].push(new sx(c,n[e],r[e]))}else if(d<l){o=e[d];const s=--l,u=e[s];t[u.uuid]=d,e[d]=u,t[h]=s,e[s]=c;for(let e=0,t=a;e!==t;++e){const t=i[e];let a=t[d];t[d]=t[s],void 0===a&&(a=new sx(c,n[e],r[e])),t[s]=a}}else e[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,u=e[a];t[u.uuid]=l,e[l]=u,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[l];t[l]=t[a],t[a]=r}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],u=--a,c=e[u];t[s.uuid]=l,e[l]=s,t[c.uuid]=o,e[o]=c,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[u];t[l]=t[o],t[o]=r,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,u=new Array(s.length);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(let n=l,r=s.length;n!==r;++n)u[n]=new sx(s[n],e,t);return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},AnimationUtils:G_,ArcCurve:uy,ArrayCamera:Hg,ArrowHelper:class extends uf{constructor(e=new sd(0,0,1),t=new sd(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===Ox&&(Ox=new zf,Ox.setAttribute("position",new kf([0,0,0,0,1,0],3)),Nx=new Ry(0,.5,1,5,1),Nx.translate(0,-.5,0)),this.position.copy(t),this.line=new Xv(Ox,new Vv({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tp(Nx,new Sf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Lx.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Lx,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},Audio:Kb,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:jb,AudioListener:class extends uf{constructor(){super(),this.type="AudioListener",this.context=jb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Gb}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qb,Xb,Yb),Zb.set(0,0,-1).applyQuaternion(Xb),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qb.x,e),t.positionY.linearRampToValueAtTime(qb.y,e),t.positionZ.linearRampToValueAtTime(qb.z,e),t.forwardX.linearRampToValueAtTime(Zb.x,e),t.forwardY.linearRampToValueAtTime(Zb.y,e),t.forwardZ.linearRampToValueAtTime(Zb.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(qb.x,qb.y,qb.z),t.setOrientation(Zb.x,Zb.y,Zb.z,n.x,n.y,n.z)}},AudioLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new db(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{const e=n.slice(0);jb.getContext().decodeAudioData(e,function(e){t(e)})}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},n,r)}},AxesHelper:class extends Kv{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new zf;n.setAttribute("position",new kf(t,3)),n.setAttribute("color",new kf([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new Vv({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Yh,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,Bone:Av,BooleanKeyframeTrack:K_,Box2:class{constructor(e=new Rh(Infinity,Infinity),t=new Rh(-Infinity,-Infinity)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=mx.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return mx.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:cd,Box3Helper:class extends Kv{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new zf;r.setIndex(new Tf(n,1)),r.setAttribute("position",new kf([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Vv({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxBufferGeometry:class extends rp{constructor(e,t,n,r,i,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,i,a)}},BoxGeometry:rp,BoxHelper:class extends Kv{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new zf;i.setIndex(new Tf(n,1)),i.setAttribute("position",new Tf(r,3)),super(i,new Vv({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Rx.setFromObject(this.object),Rx.isEmpty())return;const t=Rx.min,n=Rx.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:Tf,BufferGeometry:zf,BufferGeometryLoader:Db,ByteType:1010,Cache:ob,Camera:up,CameraHelper:class extends Kv{constructor(e){const t=new zf,n=new Vv({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new kf(r,3)),t.setAttribute("color",new kf(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new Yh(16755200),u=new Yh(16711680),c=new Yh(43775),h=new Yh(16777215),d=new Yh(3355443);this.setColors(l,u,c,h,d)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Ax.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ix("c",t,e,Ax,0,0,-1),Ix("t",t,e,Ax,0,0,1),Ix("n1",t,e,Ax,-1,-1,-1),Ix("n2",t,e,Ax,1,-1,-1),Ix("n3",t,e,Ax,-1,1,-1),Ix("n4",t,e,Ax,1,1,-1),Ix("f1",t,e,Ax,-1,-1,1),Ix("f2",t,e,Ax,1,-1,1),Ix("f3",t,e,Ax,-1,1,1),Ix("f4",t,e,Ax,1,1,1),Ix("u1",t,e,Ax,.7,1.1,-1),Ix("u2",t,e,Ax,-.7,1.1,-1),Ix("u3",t,e,Ax,0,2,-1),Ix("cf1",t,e,Ax,-1,0,1),Ix("cf2",t,e,Ax,1,0,1),Ix("cf3",t,e,Ax,0,-1,1),Ix("cf4",t,e,Ax,0,1,1),Ix("cn1",t,e,Ax,-1,0,-1),Ix("cn2",t,e,Ax,1,0,-1),Ix("cn3",t,e,Ax,0,-1,-1),Ix("cn4",t,e,Ax,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends td{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleBufferGeometry:class extends Ay{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}},CapsuleGeometry:Ay,CatmullRomCurve3:my,CineonToneMapping:3,CircleBufferGeometry:class extends Iy{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}},CircleGeometry:Iy,ClampToEdgeWrapping:1001,Clock:Gb,Color:Yh,ColorKeyframeTrack:J_,ColorManagement:Vh,CompressedArrayTexture:class extends oy{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=1001}},CompressedTexture:oy,CompressedTextureLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new oy,s=new db(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function u(u){s.load(e[u],function(e){const n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=1006),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)u(t);else s.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}},ConeBufferGeometry:class extends Ly{constructor(e,t,n,r,i,a,o){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,i,a,o)}},ConeGeometry:Ly,CubeCamera:hp,CubeReflectionMapping:301,CubeRefractionMapping:302,CubeTexture:dp,CubeTextureLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=new dp,a=new fb(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let t=0;t<e.length;++t)s(t);return i}},CubeUVReflectionMapping:306,CubicBezierCurve:_y,CubicBezierCurve3:by,CubicInterpolant:q_,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:sy,CurvePath:Cy,CustomBlending:5,CustomToneMapping:5,CylinderBufferGeometry:class extends Ry{constructor(e,t,n,r,i,a,o,s){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,i,a,o,s)}},CylinderGeometry:Ry,Cylindrical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:ad,DataArrayTexture:id,DataTexture:Iv,DataTexture2DArray:class extends id{constructor(e,t,n,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,r)}},DataTexture3D:class extends ad{constructor(e,t,n,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,r)}},DataTextureLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new Iv,o=new db(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(e){const n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:1001,a.wrapT=void 0!==n.wrapT?n.wrapT:1001,a.magFilter=void 0!==n.magFilter?n.magFilter:1006,a.minFilter=void 0!==n.minFilter?n.minFilter:1006,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=1008),1===n.mipmapCount&&(a.minFilter=1006),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))},n,r),a}},DataUtils:Ux,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:lb,DepthFormat:1026,DepthStencilFormat:1027,DepthTexture:qg,DirectionalLight:Pb,DirectionalLightHelper:class extends uf{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new zf;r.setAttribute("position",new kf([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new Vv({fog:!1,toneMapped:!1});this.lightPlane=new Xv(r,i),this.add(this.lightPlane),r=new zf,r.setAttribute("position",new kf([0,0,0,0,0,1],3)),this.targetLine=new Xv(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Tx.setFromMatrixPosition(this.light.matrixWorld),Cx.setFromMatrixPosition(this.light.target.matrixWorld),Px.subVectors(Cx,Tx),this.lightPlane.lookAt(Cx),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Cx),this.targetLine.scale.z=Px.length()}},DiscreteInterpolant:Y_,DodecahedronBufferGeometry:class extends Ny{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}},DodecahedronGeometry:Ny,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:Fy,EllipseCurve:ly,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,Euler:qd,EventDispatcher:vh,ExtrudeBufferGeometry:class extends m_{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}},ExtrudeGeometry:m_,FileLoader:db,Float16BufferAttribute:class extends Tf{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}},Float32BufferAttribute:kf,Float64BufferAttribute:class extends Tf{constructor(e,t,n){super(new Float64Array(e),t,n)}},FloatType:1015,Fog:ev,FogExp2:Qg,FramebufferTexture:class extends td{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:bp,GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:"300 es",GreaterDepth:6,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends Kv{constructor(e=10,t=10,n=4473924,r=8947848){n=new Yh(n),r=new Yh(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let e=0,u=0,c=-o;e<=t;e++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);const t=e===i?n:r;t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3,t.toArray(l,u),u+=3}const u=new zf;u.setAttribute("position",new kf(s,3)),u.setAttribute("color",new kf(l,3)),super(u,new Vv({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:Wg,HalfFloatType:1016,HemisphereLight:mb,HemisphereLightHelper:class extends uf{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new y_(t);r.rotateY(.5*Math.PI),this.material=new Sf({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new Tf(a,3)),this.add(new tp(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Mx.copy(this.light.color),Ex.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Mx:Ex;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Sx.setFromMatrixPosition(this.light.matrixWorld).negate())}},HemisphereLightProbe:class extends Rb{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=(new Yh).set(e),i=(new Yh).set(t),a=new sd(r.r,r.g,r.b),o=new sd(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}},IcosahedronBufferGeometry:class extends v_{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}},IcosahedronGeometry:v_,ImageBitmapLoader:class extends ub{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=ob.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){ob.add(e,n),t&&t(n),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}},ImageLoader:fb,ImageUtils:Kh,ImmediateRenderObject:function(){console.error("THREE.ImmediateRenderObject has been removed.")},IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Nv,InstancedBufferGeometry:Nb,InstancedInterleavedBuffer:class extends nv{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:jv,Int16BufferAttribute:class extends Tf{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends Tf{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends Tf{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:1013,InterleavedBuffer:nv,InterleavedBufferAttribute:iv,Interpolant:$_,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,InvertStencilOp:5386,KeepStencilOp:7680,KeyframeTrack:Z_,LOD:Sv,LatheBufferGeometry:class extends ky{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}},LatheGeometry:ky,Layers:Xd,LessDepth:2,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:pb,LightProbe:Rb,Line:Xv,Line3:class{constructor(e=new sd,t=new sd){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gx.subVectors(e,this.start),vx.subVectors(this.end,this.start);const n=vx.dot(vx);let r=vx.dot(gx)/n;return t&&(r=Sh(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:Vv,LineCurve:xy,LineCurve3:wy,LineDashedMaterial:U_,LineLoop:Jv,LineSegments:Kv,LinearEncoding:3e3,LinearFilter:1006,LinearInterpolant:X_,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:1008,LinearMipmapNearestFilter:1007,LinearSRGBColorSpace:"srgb-linear",LinearToneMapping:1,Loader:ub,LoaderUtils:Ob,LoadingManager:sb,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:1025,LuminanceFormat:1024,MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Material:wf,MaterialLoader:Lb,MathUtils:Ih,Matrix3:Lh,Matrix4:zd,MaxEquation:104,Mesh:tp,MeshBasicMaterial:Sf,MeshDepthMaterial:zg,MeshDistanceMaterial:Ug,MeshLambertMaterial:D_,MeshMatcapMaterial:z_,MeshNormalMaterial:N_,MeshPhongMaterial:L_,MeshPhysicalMaterial:R_,MeshStandardMaterial:I_,MeshToonMaterial:O_,MinEquation:103,MirroredRepeatWrapping:1002,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:1003,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:1005,NearestMipmapNearestFilter:1004,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:"",NoToneMapping:0,NormalAnimationBlendMode:2500,NormalBlending:1,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:Q_,Object3D:uf,ObjectLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?Ob.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new db(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(a,t)},n,r)}async loadAsync(e,t){const n=""===this.path?Ob.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new db(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new jy).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let t=0,i=e.length;t<i;t++){const i=(new Ov).fromJSON(e[t],r);n[i.uuid]=i}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Db;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in P_?a=P_[o.type].fromJSON(o,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),!0===a.isBufferGeometry&&void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Lb;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=ib.parse(e[n]);t[r.uuid]=r}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:zh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new sb(t);i=new fb(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Iv(n.data,n.width,n.height)))}r[n.uuid]=new Jh(e)}else{const e=a(n.url);r[n.uuid]=new Jh(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:zh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new fb(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Iv(r.data,r.width,r.height)))}n[r.uuid]=new Jh(e)}else{const e=await i(r.url);n[r.uuid]=new Jh(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new dp,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Iv:new td,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,zb)),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],Ub),l.wrapT=n(a.wrap[1],Ub)),void 0!==a.format&&(l.format=a.format),void 0!==a.type&&(l.type=a.type),void 0!==a.encoding&&(l.encoding=a.encoding),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,Bb)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,Bb)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function u(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new tv,void 0!==e.background&&(a.background=Number.isInteger(e.background)?new Yh(e.background):c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ev(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Qg(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":a=new cp(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Op(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new kb(e.color,e.intensity);break;case"DirectionalLight":a=new Pb(e.color,e.intensity);break;case"PointLight":a=new Tb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Ab(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new xb(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new mb(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Rb).fromJSON(e);break;case"SkinnedMesh":o=l(e.geometry),s=u(e.material),a=new kv(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=u(e.material),a=new tp(o,s);break;case"InstancedMesh":o=l(e.geometry),s=u(e.material);const t=e.instanceMatrix,n=e.instanceColor;a=new jv(o,s,e.count),a.instanceMatrix=new Nv(new Float32Array(t.array),16),void 0!==n&&(a.instanceColor=new Nv(new Float32Array(n.array),n.itemSize));break;case"LOD":a=new Sv;break;case"Line":a=new Xv(l(e.geometry),u(e.material));break;case"LineLoop":a=new Jv(l(e.geometry),u(e.material));break;case"LineSegments":a=new Kv(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":a=new iy(l(e.geometry),u(e.material));break;case"Sprite":a=new _v(u(e.material));break;case"Group":a=new Wg;break;case"Bone":a=new Av;break;default:a=new uf}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++)a.animations.push(i[t[e]])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}},ObjectSpaceNormalMap:1,OctahedronBufferGeometry:class extends y_{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}},OctahedronGeometry:y_,OneFactor:201,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:205,OneMinusSrcColorFactor:203,OrthographicCamera:Op,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:Vp,Path:Py,PerspectiveCamera:cp,Plane:vp,PlaneBufferGeometry:Bx,PlaneGeometry:Sp,PlaneHelper:class extends Xv{constructor(e,t=1,n=16776960){const r=n,i=new zf;i.setAttribute("position",new kf([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new Vv({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new zf;a.setAttribute("position",new kf([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new tp(a,new Sf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:Tb,PointLightHelper:class extends tp{constructor(e,t,n){super(new x_(t,4,2),new Sf({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:iy,PointsMaterial:Qv,PolarGridHelper:class extends Kv{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new Yh(i),a=new Yh(a);const o=[],s=[];if(t>1)for(let n=0;n<t;n++){const r=n/t*(2*Math.PI),l=Math.sin(r)*e,u=Math.cos(r)*e;o.push(0,0,0),o.push(l,0,u);const c=1&n?i:a;s.push(c.r,c.g,c.b),s.push(c.r,c.g,c.b)}for(let t=0;t<n;t++){const l=1&t?i:a,u=e-e/n*t;for(let e=0;e<r;e++){let t=e/r*(2*Math.PI),n=Math.sin(t)*u,i=Math.cos(t)*u;o.push(n,0,i),s.push(l.r,l.g,l.b),t=(e+1)/r*(2*Math.PI),n=Math.sin(t)*u,i=Math.cos(t)*u,o.push(n,0,i),s.push(l.r,l.g,l.b)}}const l=new zf;l.setAttribute("position",new kf(o,3)),l.setAttribute("color",new kf(s,3)),super(l,new Vv({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronBufferGeometry:class extends Oy{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}},PolyhedronGeometry:Oy,PositionalAudio:class extends Kb{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Jb,Qb,ex),tx.set(0,0,1).applyQuaternion(Qb);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Jb.x,e),t.positionY.linearRampToValueAtTime(Jb.y,e),t.positionZ.linearRampToValueAtTime(Jb.z,e),t.orientationX.linearRampToValueAtTime(tx.x,e),t.orientationY.linearRampToValueAtTime(tx.y,e),t.orientationZ.linearRampToValueAtTime(tx.z,e)}else t.setPosition(Jb.x,Jb.y,Jb.z),t.setOrientation(tx.x,tx.y,tx.z)}},PropertyBinding:sx,PropertyMixer:nx,QuadraticBezierCurve:Sy,QuadraticBezierCurve3:My,Quaternion:od,QuaternionKeyframeTrack:tb,QuaternionLinearInterpolant:eb,REVISION:"147",RGBADepthPacking:3201,RGBAFormat:1023,RGBAIntegerFormat:1033,RGBA_ASTC_10x10_Format:37819,RGBA_ASTC_10x5_Format:37816,RGBA_ASTC_10x6_Format:37817,RGBA_ASTC_10x8_Format:37818,RGBA_ASTC_12x10_Format:37820,RGBA_ASTC_12x12_Format:37821,RGBA_ASTC_4x4_Format:37808,RGBA_ASTC_5x4_Format:37809,RGBA_ASTC_5x5_Format:37810,RGBA_ASTC_6x5_Format:37811,RGBA_ASTC_6x6_Format:37812,RGBA_ASTC_8x5_Format:37813,RGBA_ASTC_8x6_Format:37814,RGBA_ASTC_8x8_Format:37815,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_2BPPV1_Format:35843,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT1_Format:33777,RGBA_S3TC_DXT3_Format:33778,RGBA_S3TC_DXT5_Format:33779,RGBFormat:1022,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_2BPPV1_Format:35841,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:33776,RGFormat:1030,RGIntegerFormat:1031,RawShaderMaterial:A_,Ray:Dd,Raycaster:dx,RectAreaLight:Ab,RedFormat:1028,RedIntegerFormat:1029,ReinhardToneMapping:2,RepeatWrapping:1e3,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingBufferGeometry:class extends __{constructor(e,t,n,r,i,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,i,a)}},RingGeometry:__,SRGBColorSpace:"srgb",Scene:tv,ShaderChunk:Mp,ShaderLib:Tp,ShaderMaterial:lp,ShadowMaterial:k_,Shape:jy,ShapeBufferGeometry:class extends b_{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}},ShapeGeometry:b_,ShapePath:class{constructor(){this.type="ShapePath",this.color=new Yh,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Py,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=d_.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new jy,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const u=[],c=[];let h,d,f=[],p=0;c[p]=void 0,f[p]=[];for(let t=0,o=r.length;t<o;t++)a=r[t],h=a.getPoints(),i=n(h),i=e?!i:i,i?(!l&&c[p]&&p++,c[p]={s:new jy,p:h},c[p].s.curves=a.curves,l&&p++,f[p]=[]):f[p].push({h:a,p:h[0]});if(!c[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new jy;i.curves=r.curves,t.push(i)}return t}(r);if(c.length>1){let e=!1,n=0;for(let e=0,t=c.length;e<t;e++)u[e]=[];for(let r=0,i=c.length;r<i;r++){const i=f[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<c.length;i++)t(o.p,c[i].p)&&(r!==i&&n++,s?(s=!1,u[i].push(o)):e=!0);s&&u[r].push(o)}}n>0&&!1===e&&(f=u)}for(let e=0,t=c.length;e<t;e++){o=c[e].s,s.push(o),d=f[e];for(let e=0,t=d.length;e<t;e++)o.holes.push(d[e].h)}return s}},ShapeUtils:d_,ShortType:1011,Skeleton:Ov,SkeletonHelper:class extends Kv{constructor(e){const t=wx(e),n=new zf,r=[],i=[],a=new Yh(0,0,1),o=new Yh(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new kf(r,3)),n.setAttribute("color",new kf(i,3)),super(n,new Vv({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");xx.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(bx.multiplyMatrices(xx,i.matrixWorld),_x.setFromMatrixPosition(bx),r.setXYZ(n,_x.x,_x.y,_x.z),bx.multiplyMatrices(xx,i.parent.matrixWorld),_x.setFromMatrixPosition(bx),r.setXYZ(n+1,_x.x,_x.y,_x.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:kv,Source:Jh,Sphere:Pd,SphereBufferGeometry:class extends x_{constructor(e,t,n,r,i,a,o){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,i,a,o)}},SphereGeometry:x_,Spherical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Sh(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:Ib,SplineCurve:Ey,SpotLight:xb,SpotLightHelper:class extends uf{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new zf,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const i=e/n*Math.PI*2,a=t/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}n.setAttribute("position",new kf(r,3));const i=new Vv({fog:!1,toneMapped:!1});this.cone=new Kv(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),yx.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yx),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:_v,SpriteMaterial:av,SrcAlphaFactor:204,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:35044,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cp,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cp,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Wb.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(bh*t.fov*.5)/t.zoom;let a,o;Hb.elements[12]=-n,Vb.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,Wb.elements[0]=2*t.near/(o-a),Wb.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(Wb),a=-i*t.aspect-r,o=i*t.aspect-r,Wb.elements[0]=2*t.near/(o-a),Wb.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(Wb)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Hb),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Vb)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:nb,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronBufferGeometry:class extends w_{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}},TetrahedronGeometry:w_,Texture:td,TextureLoader:class extends ub{constructor(e){super(e)}load(e,t,n,r){const i=new td,a=new fb(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}},TorusBufferGeometry:class extends S_{constructor(e,t,n,r,i){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,i)}},TorusGeometry:S_,TorusKnotBufferGeometry:class extends M_{constructor(e,t,n,r,i,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,i,a)}},TorusKnotGeometry:M_,Triangle:bf,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeBufferGeometry:class extends E_{constructor(e,t,n,r,i){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,i)}},TubeGeometry:E_,UVMapping:300,Uint16BufferAttribute:Cf,Uint32BufferAttribute:Pf,Uint8BufferAttribute:class extends Tf{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends Tf{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:cx,UniformsGroup:class extends vh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:hx++}),this.name="",this.usage=35044,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++)this.uniforms.push(t[e].clone());return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:Ep,UniformsUtils:sp,UnsignedByteType:1009,UnsignedInt248Type:1020,UnsignedIntType:1014,UnsignedShort4444Type:1017,UnsignedShort5551Type:1018,UnsignedShortType:1012,VSMShadowMap:3,Vector2:Rh,Vector3:sd,Vector4:nd,VectorKeyframeTrack:rb,VideoTexture:class extends td{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1;const u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;0=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},WebGL1Renderer:Jg,WebGL3DRenderTarget:class extends rd{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new ad(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends rd{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new id(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLCubeRenderTarget:fp,WebGLMultipleRenderTargets:class extends rd{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const i=this.texture;this.texture=[];for(let e=0;e<n;e++)this.texture[e]=i.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},WebGLMultisampleRenderTarget:class extends rd{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}},WebGLRenderTarget:rd,WebGLRenderer:Kg,WebGLUtils:Vg,WireframeGeometry:T_,WrapAroundEnding:2402,ZeroCurvatureEnding:2400,ZeroFactor:200,ZeroSlopeEnding:2401,ZeroStencilOp:0,_SRGBAFormat:1035,sRGBEncoding:3001},jx={ConcurrentRoot:1,ContinuousEventPriority:4,DefaultEventPriority:16,DiscreteEventPriority:1,IdleEventPriority:536870912,LegacyRoot:0},Vx=Y(function(e,t){"production"!==process.env.NODE_ENV&&(t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1,t.IdleEventPriority=536870912,t.LegacyRoot=0)}),Hx=Y(function(e){e.exports="production"===process.env.NODE_ENV?jx:Vx});const Wx="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?s:o;function Gx(e){const t="function"==typeof e?function(e){let t;const n=/* @__PURE__ */new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,subscribe:(e,r,a)=>r||a?((e,r=i,a=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){const n=r(t);if(!a(o,n)){const t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}(e):e,n=(e=t.getState,n=Object.is)=>{const[,i]=r(e=>e+1,0),a=t.getState(),o=l(a),s=l(e),u=l(n),c=l(!1),h=l();let d;void 0===h.current&&(h.current=e(a));let f=!1;(o.current!==a||s.current!==e||u.current!==n||c.current)&&(d=e(a),f=!n(h.current,d)),Wx(()=>{f&&(h.current=d),o.current=a,s.current=e,u.current=n,c.current=!1});const p=l(a);Wx(()=>{const e=()=>{try{const e=t.getState(),n=s.current(e);u.current(h.current,n)||(o.current=e,h.current=n,i())}catch(e){c.current=!0,i()}},n=t.subscribe(e);return t.getState()!==p.current&&e(),n},[]);const m=f?d:h.current;return _(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,t];return{next(){const t=e.length<=0;return{value:e.shift(),done:t}}}},n}var $x=Y(function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,L(w);else{var t=r(c);null!==t&&O(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var a=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!k());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?d.callback=s:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,M=!1,E=null,T=-1,C=5,P=-1;function k(){return!(t.unstable_now()-P<C)}function A(){if(null!==E){var e=t.unstable_now();P=e;var n=!0;try{n=E(!0,e)}finally{n?S():(M=!1,E=null)}}else M=!1}if("function"==typeof _)S=function(){_(A)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=A,S=function(){R.postMessage(null)}}else S=function(){v(A,0)};function L(e){E=e,M||(M=!0,S())}function O(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,O(x,a-o))):(e.sortIndex=s,n(u,e),m||p||(m=!0,L(w))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}),qx=Y(function(e,t){"production"!==process.env.NODE_ENV&&function(){function e(e,t){var n=e.length;e.push(t),function(e,t,n){for(var r=n;r>0;){var a=r-1>>>1,o=e[a];if(!(i(o,t)>0))return;e[a]=t,e[r]=o,r=a}}(e,t,n)}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(i(l,t)<0)u<a&&i(c,l)<0?(e[r]=c,e[u]=t,r=u):(e[r]=l,e[s]=t,r=s);else{if(!(u<a&&i(c,t)<0))return;e[r]=c,e[u]=t,r=u}}}(e,n)),t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),"object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function _(t){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=t))return;r(u),i.sortIndex=i.expirationTime,e(l,i)}i=n(u)}}function b(e){if(m=!1,_(e),!p)if(null!==n(l))p=!0,R(x);else{var t=n(u);null!==t&&L(b,t.startTime-e)}}function x(e,i){p=!1,m&&(m=!1,O()),f=!0;var a=d;try{return function(e,i){var a=i;for(_(a),h=n(l);null!==h&&(!(h.expirationTime>a)||e&&!C());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=a);a=t.unstable_now(),"function"==typeof s?h.callback=s:h===n(l)&&r(l),_(a)}else r(l);h=n(l)}if(null!==h)return!0;var c=n(u);return null!==c&&L(b,c.startTime-a),!1}(e,i)}finally{h=null,d=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w=!1,S=null,M=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}var P,k=function(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?P():(w=!1,S=null)}}else w=!1};if("function"==typeof y)P=function(){y(k)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=k,P=function(){I.postMessage(null)}}else P=function(){g(k,0)};function R(e){S=e,w||(w=!0,P())}function L(e,n){M=g(function(){e(t.unstable_now())},n)}function O(){v(M),M=-1}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(x))},t.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=e>0?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){var t;switch(d){case 1:case 2:case 3:t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(r,i,a){var o,s,h=t.unstable_now();if("object"==typeof a&&null!==a){var d=a.delay;o="number"==typeof d&&d>0?h+d:h}else o=h;switch(r){case 1:s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}var g=o+s,v={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:g,sortIndex:-1};return o>h?(v.sortIndex=o,e(u,v),null===n(l)&&v===n(u)&&(m?O():m=!0,L(b,o-h))):(v.sortIndex=g,e(l,v),p||f||(p=!0,R(x))),v},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}()}),Xx=Y(function(e){e.exports="production"===process.env.NODE_ENV?$x:qx}),Yx=function(e){var n={},r=t,i=Xx,a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x=Symbol.iterator;function w(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case h:return"StrictMode";case g:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case f:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return S(e(t))}catch(e){}}return null}function M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function E(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function T(e){if(E(e)!==e)throw Error(o(188))}function C(e){var t=e.alternate;if(!t){if(null===(t=E(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return T(i),e;if(a===r)return T(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function P(e){return null!==(e=C(e))?k(e):null}function k(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=k(e);if(null!==t)return t;e=e.sibling}return null}function A(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=A(e);if(null!==t)return t}e=e.sibling}return null}var I,R=Array.isArray,L=e.getPublicInstance,O=e.getRootHostContext,N=e.getChildHostContext,D=e.prepareForCommit,z=e.resetAfterCommit,U=e.createInstance,B=e.appendInitialChild,F=e.finalizeInitialChildren,j=e.prepareUpdate,V=e.shouldSetTextContent,H=e.createTextInstance,W=e.scheduleTimeout,G=e.cancelTimeout,$=e.noTimeout,q=e.isPrimaryRenderer,X=e.supportsMutation,Y=e.supportsPersistence,Z=e.supportsHydration,K=e.getInstanceFromNode,J=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,se=e.isHiddenSubtree,le=e.matchAccessibilityRole,ue=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,he=e.appendChild,de=e.appendChildToContainer,fe=e.commitTextUpdate,pe=e.commitMount,me=e.commitUpdate,ge=e.insertBefore,ve=e.insertInContainerBefore,ye=e.removeChild,_e=e.removeChildFromContainer,be=e.resetTextContent,xe=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,Me=e.unhideTextInstance,Ee=e.clearContainer,Te=e.cloneInstance,Ce=e.createContainerChildSet,Pe=e.appendChildToContainerChildSet,ke=e.finalizeContainerChildren,Ae=e.replaceContainerChildren,Ie=e.cloneHiddenInstance,Re=e.cloneHiddenTextInstance,Le=e.canHydrateInstance,Oe=e.canHydrateTextInstance,Ne=e.canHydrateSuspenseInstance,De=e.isSuspenseInstancePending,ze=e.isSuspenseInstanceFallback,Ue=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,Ve=e.getFirstHydratableChildWithinSuspenseInstance,He=e.hydrateInstance,We=e.hydrateTextInstance,Ge=e.hydrateSuspenseInstance,$e=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,Ye=e.clearSuspenseBoundary,Ze=e.clearSuspenseBoundaryFromContainer,Ke=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function st(e){0>at||(e.current=it[at],it[at]=null,at--)}function lt(e,t){at++,it[at]=e.current,e.current=t}var ut={},ct=ot(ut),ht=ot(!1),dt=ut;function ft(e,t){var n=e.type.contextTypes;if(!n)return ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!=e.childContextTypes}function mt(){st(ht),st(ct)}function gt(e,t,n){if(ct.current!==ut)throw Error(o(168));lt(ct,t),lt(ht,n)}function vt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,M(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ut,dt=ct.current,lt(ct,e),lt(ht,ht.current),!0}function _t(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=vt(e,t,dt),r.__reactInternalMemoizedMergedChildContext=e,st(ht),st(ct),lt(ct,e)):st(ht),lt(ht,n)}var bt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(xt(e)/wt|0)|0},xt=Math.log,wt=Math.LN2,St=64,Mt=4194304;function Et(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=Et(s):0!=(a&=o)&&(r=Et(a))}else 0!=(o=n&~i)?r=Et(o):0!==a&&(r=Et(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)r|=e[n=31-bt(t)],t&=~(i=1<<n);return r}function Ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function At(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-bt(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Rt=0;function Lt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Ot=i.unstable_scheduleCallback,Nt=i.unstable_cancelCallback,Dt=i.unstable_shouldYield,zt=i.unstable_requestPaint,Ut=i.unstable_now,Bt=i.unstable_ImmediatePriority,Ft=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Vt=i.unstable_IdlePriority,Ht=null,Wt=null,Gt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},$t=null,qt=!1,Xt=!1;function Yt(e){null===$t?$t=[e]:$t.push(e)}function Zt(){if(!Xt&&null!==$t){Xt=!0;var e=0,t=Rt;try{var n=$t;for(Rt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$t=null,qt=!1}catch(t){throw null!==$t&&($t=$t.slice(e+1)),Ot(Bt,Zt),t}finally{Rt=t,Xt=!1}}return null}var Kt=s.ReactCurrentBatchConfig;function Jt(e,t){if(Gt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return nt(e.type,!1);case 11:return nt(e.type.render,!1);case 1:return nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t,n){q?(lt(tn,t._currentValue),t._currentValue=n):(lt(tn,t._currentValue2),t._currentValue2=n)}function ln(e){var t=tn.current;st(tn),q?e._currentValue=t:e._currentValue2=t}function un(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Di=!0),e.firstContext=null)}function hn(e){var t=q?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var dn=null,fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mn(e,t){t.updateQueue===(e=e.updateQueue)&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!=(1&e.mode)&&0==(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===dn?dn=[n]:dn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;t.lanes=n|=r&=e.pendingLanes,It(e,n)}}function _n(e,t){var n=e.updateQueue,r=e.alternate;if(null===r||n!==(r=r.updateQueue))null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t;else{var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;e.updateQueue=n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects}}}function bn(e,t,n,r){var i=e.updateQueue;fn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var h=e.alternate;null!==h&&(l=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===l?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u)}if(null!==o){var d=i.baseState;for(s=0,h=c=u=null,l=o;;){var f=l.lane,p=l.eventTime;if((r&f)===f){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,d,f):m))break e;d=a({},d,f);break e;case 2:fn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,s|=f;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(f=l).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===h&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=s,e.lanes=s,e.memoizedState=d}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var wn=(new r.Component).refs;function Sn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mn={isMounted:function(e){return!!(e=e._reactInternals)&&E(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xo(),i=wo(e),a=gn(r,i);a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xo(),i=wo(e),a=gn(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xo(),r=wo(e),i=gn(n,r);i.tag=2,null!=t&&(i.callback=t),vn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function En(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&Jt(n,r)&&Jt(i,a))}function Tn(e,t,n){var r=!1,i=ut,a=t.contextType;return"object"==typeof a&&null!==a?a=hn(a):(i=pt(t)?dt:ct.current,a=(r=null!=(r=t.contextTypes))?ft(e,i):ut),t=new t(n,a),e.memoizedState=null!=t.state?t.state:null,t.updater=Mn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Cn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mn.enqueueReplaceState(t,t.state,null)}function Pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=hn(a):(a=pt(t)?dt:ct.current,i.context=ft(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mn.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var kn=[],An=0,In=null,Rn=0,Ln=[],On=0,Nn=null,Dn=1,zn="";function Un(e,t){kn[An++]=Rn,kn[An++]=In,In=e,Rn=t}function Bn(e,t,n){Ln[On++]=Dn,Ln[On++]=zn,Ln[On++]=Nn,Nn=e;var r=Dn;e=zn;var i=32-bt(r)-1;r&=~(1<<i),n+=1;var a=32-bt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Dn=1<<32-bt(t)+i|n<<i|r,zn=a+e}else Dn=1<<a|n<<i|r,zn=e}function Fn(e){null!==e.return&&(Un(e,1),Bn(e,1,0))}function jn(e){for(;e===In;)In=kn[--An],kn[An]=null,Rn=kn[--An],kn[An]=null;for(;e===Nn;)Nn=Ln[--On],Ln[On]=null,zn=Ln[--On],Ln[On]=null,Dn=Ln[--On],Ln[On]=null}var Vn=null,Hn=null,Wn=!1,Gn=!1,$n=null;function qn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Le(t,e.type,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=Fe(t),!0);case 6:return null!==(t=Oe(t,e.pendingProps))&&(e.stateNode=t,Vn=e,Hn=null,!0);case 13:if(null!==(t=Ne(t))){var n=null!==Nn?{id:Dn,overflow:zn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Vn=e,Hn=null,!0}return!1;default:return!1}}function Yn(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function Zn(e){if(Wn){var t=Hn;if(t){var n=t;if(!Xn(e,t)){if(Yn(e))throw Error(o(418));t=Be(n);var r=Vn;t&&Xn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Wn=!1,Vn=e)}}else{if(Yn(e))throw Error(o(418));e.flags=-4097&e.flags|2,Wn=!1,Vn=e}}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vn=e}function Jn(e){if(!Z||e!==Vn)return!1;if(!Wn)return Kn(e),Wn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ke(e.type)&&!V(e.type,e.memoizedProps))){var t=Hn;if(t){if(Yn(e)){for(e=Hn;e;)e=Be(e);throw Error(o(418))}for(;t;)qn(e,t),t=Be(t)}}if(Kn(e),13===e.tag){if(!Z)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=$e(e)}else Hn=Vn?Be(e.stateNode):null;return!0}function Qn(){Z&&(Hn=Vn=null,Gn=Wn=!1)}function er(e){null===$n?$n=[e]:$n.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===wn&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)e.set(null!==t.key?t.key:t.index,t),t=t.sibling;return e}function i(e,t){return(e=es(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function h(e,t,n,r){return null===t||6!==t.tag?((t=is(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===_&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=ts(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=as(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=ns(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=is(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ts(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case u:return(t=as(t,e.mode,n)).return=e,t;case _:return m(e,(0,t._init)(t._payload),n)}if(R(t)||w(t))return(t=ns(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:h(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?d(e,t,n,r):null;case u:return n.key===i?f(e,t,n,r):null;case _:return g(e,t,(i=n._init)(n._payload),r)}if(R(n)||w(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return h(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case u:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return v(e,t,n,(0,r._init)(r._payload),i)}if(R(r)||w(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,h=o,d=o=0,f=null;null!==h&&d<s.length;d++){h.index>d?(f=h,h=null):f=h.sibling;var p=g(i,h,s[d],l);if(null===p){null===h&&(h=f);break}e&&h&&null===p.alternate&&t(i,h),o=a(p,o,d),null===c?u=p:c.sibling=p,c=p,h=f}if(d===s.length)return n(i,h),Wn&&Un(i,d),u;if(null===h){for(;d<s.length;d++)null!==(h=m(i,s[d],l))&&(o=a(h,o,d),null===c?u=h:c.sibling=h,c=h);return Wn&&Un(i,d),u}for(h=r(i,h);d<s.length;d++)null!==(f=v(h,i,d,s[d],l))&&(e&&null!==f.alternate&&h.delete(null===f.key?d:f.key),o=a(f,o,d),null===c?u=f:c.sibling=f,c=f);return e&&h.forEach(function(e){return t(i,e)}),Wn&&Un(i,d),u}function b(i,s,l,u){var c=w(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,d=s,f=s=0,p=null,y=l.next();null!==d&&!y.done;f++,y=l.next()){d.index>f?(p=d,d=null):p=d.sibling;var _=g(i,d,y.value,u);if(null===_){null===d&&(d=p);break}e&&d&&null===_.alternate&&t(i,d),s=a(_,s,f),null===h?c=_:h.sibling=_,h=_,d=p}if(y.done)return n(i,d),Wn&&Un(i,f),c;if(null===d){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,u))&&(s=a(y,s,f),null===h?c=y:h.sibling=y,h=y);return Wn&&Un(i,f),c}for(d=r(i,d);!y.done;f++,y=l.next())null!==(y=v(d,i,f,y.value,u))&&(e&&null!==y.alternate&&d.delete(null===y.key?f:y.key),s=a(y,s,f),null===h?c=y:h.sibling=y,h=y);return e&&d.forEach(function(e){return t(i,e)}),Wn&&Un(i,f),c}return function e(r,a,o,h){if("object"==typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case l:e:{for(var d=o.key,f=a;null!==f;){if(f.key===d){if((d=o.type)===c){if(7===f.tag){n(r,f.sibling),(a=i(f,o.props.children)).return=r,r=a;break e}}else if(f.elementType===d||"object"==typeof d&&null!==d&&d.$$typeof===_&&rr(d)===f.type){n(r,f.sibling),(a=i(f,o.props)).ref=tr(r,f,o),a.return=r,r=a;break e}n(r,f);break}t(r,f),f=f.sibling}o.type===c?((a=ns(o.props.children,r.mode,h,o.key)).return=r,r=a):((h=ts(o.type,o.key,o.props,null,r.mode,h)).ref=tr(r,a,o),h.return=r,r=h)}return s(r);case u:e:{for(f=o.key;null!==a;){if(a.key===f){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=as(o,r.mode,h)).return=r,r=a}return s(r);case _:return e(r,a,(f=o._init)(o._payload),h)}if(R(o))return y(r,a,o,h);if(w(o))return b(r,a,o,h);nr(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=is(o,r.mode,h)).return=r,r=a),s(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),sr={},lr=ot(sr),ur=ot(sr),cr=ot(sr);function hr(e){if(e===sr)throw Error(o(174));return e}function dr(e,t){lt(cr,t),lt(ur,e),lt(lr,sr),e=O(t),st(lr),lt(lr,e)}function fr(){st(lr),st(ur),st(cr)}function pr(e){var t=hr(cr.current),n=hr(lr.current);n!==(t=N(n,e.type,t))&&(lt(ur,e),lt(lr,t))}function mr(e){ur.current===e&&(st(lr),st(ur))}var gr=ot(0);function vr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||De(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function _r(){for(var e=0;e<yr.length;e++){var t=yr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var br=s.ReactCurrentDispatcher,xr=s.ReactCurrentBatchConfig,wr=0,Sr=null,Mr=null,Er=null,Tr=!1,Cr=!1,Pr=0,kr=0;function Ar(){throw Error(o(321))}function Ir(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function Rr(e,t,n,r,i,a){if(wr=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,br.current=null===e||null===e.memoizedState?pi:mi,e=n(r,i),Cr){a=0;do{if(Cr=!1,Pr=0,25<=a)throw Error(o(301));a+=1,Er=Mr=null,t.updateQueue=null,br.current=gi,e=n(r,i)}while(Cr)}if(br.current=fi,t=null!==Mr&&null!==Mr.next,wr=0,Er=Mr=Sr=null,Tr=!1,t)throw Error(o(300));return e}function Lr(){var e=0!==Pr;return Pr=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Er?Sr.memoizedState=Er=e:Er=Er.next=e,Er}function Nr(){if(null===Mr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=Mr.next;var t=null===Er?Sr.memoizedState:Er.next;if(null!==t)Er=t,Mr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Mr=e).memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},null===Er?Sr.memoizedState=Er=e:Er=Er.next=e}return Er}function Dr(e,t){return"function"==typeof t?t(e):t}function zr(e){var t=Nr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Mr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){r=r.baseState;var l=s=null,u=null,c=a=i.next;do{var h=c.lane;if((wr&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,Sr.lanes|=h,to|=h}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,Gt(r,t.memoizedState)||(Di=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{Sr.lanes|=a=i.lane,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ur(e){var t=Nr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Gt(a,t.memoizedState)||(Di=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Br(){}function Fr(e,t){var n=Sr,r=Nr(),i=t(),a=!Gt(r.memoizedState,i);if(a&&(r.memoizedState=i,Di=!0),Kr(Hr.bind(null,n,r=r.queue,e),[e]),r.getSnapshot!==t||a||null!==Er&&1&Er.memoizedState.tag){if(n.flags|=2048,$r(9,Vr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!=(30&wr)||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(Sr.updateQueue=t={lastEffect:null,stores:null},t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Vr(e,t,n,r){t.value=n,t.getSnapshot=r,Wr(t)&&So(e,1,-1)}function Hr(e,t,n){return n(function(){Wr(t)&&So(e,1,-1)})}function Wr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch(e){return!0}}function Gr(e){var t=Or();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},e=e.dispatch=li.bind(null,Sr,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(Sr.updateQueue=t={lastEffect:null,stores:null},t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Nr().memoizedState}function Xr(e,t,n,r){var i=Or();Sr.flags|=e,i.memoizedState=$r(1|t,n,void 0,void 0===r?null:r)}function Yr(e,t,n,r){var i=Nr();r=void 0===r?null:r;var a=void 0;if(null!==Mr){var o=Mr.memoizedState;if(a=o.destroy,null!==r&&Ir(r,o.deps))return void(i.memoizedState=$r(t,n,a,r))}Sr.flags|=e,i.memoizedState=$r(1|t,n,a,r)}function Zr(e,t){return Xr(8390656,8,e,t)}function Kr(e,t){return Yr(2048,8,e,t)}function Jr(e,t){return Yr(4,2,e,t)}function Qr(e,t){return Yr(4,4,e,t)}function ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!=n?n.concat([e]):null,Yr(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Nr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ir(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Rt;Rt=0!==n&&4>n?n:4,e(!0);var r=xr.transition;xr.transition={};try{e(!1),t()}finally{Rt=n,xr.transition=r}}function oi(){return Nr().memoizedState}function si(e,t,n){var r=wo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?ci(t,n):(hi(e,t,n),null!==(e=So(e,r,n=xo()))&&di(e,t,r))}function li(e,t,n){var r=wo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))ci(t,i);else{hi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Gt(s,o))return}catch(e){}null!==(e=So(e,r,n=xo()))&&di(e,t,r)}}function ui(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Cr=Tr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hi(e,t,n){null!==Xa&&0!=(1&e.mode)&&0==(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===dn?dn=[t]:dn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function di(e,t,n){if(0!=(4194240&n)){var r=t.lanes;t.lanes=n|=r&=e.pendingLanes,It(e,n)}}var fi={readContext:hn,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},pi={readContext:hn,useCallback:function(e,t){return Or().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:Zr,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=si.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return Or().memoizedState={current:e}},useState:Gr,useDebugValue:ni,useDeferredValue:function(e){var t=Gr(e),n=t[0],r=t[1];return Zr(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){var e=Gr(!1),t=e[0];return e=ai.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Or();if(Wn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!=(30&wr)||jr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Zr(Hr.bind(null,r,a,e),[e]),r.flags|=2048,$r(9,Vr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Or(),t=Xa.identifierPrefix;if(Wn){var n=zn;t=":"+t+"R"+(n=(Dn&~(1<<32-bt(Dn)-1)).toString(32)+n),0<(n=Pr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=kr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ii,useReducer:zr,useRef:qr,useState:function(){return zr(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(Dr),n=t[0],r=t[1];return Kr(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){return[zr(Dr)[0],Nr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1},gi={readContext:hn,useCallback:ri,useContext:hn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ii,useReducer:Ur,useRef:qr,useState:function(){return Ur(Dr)},useDebugValue:ni,useDeferredValue:function(e){var t=Ur(Dr),n=t[0],r=t[1];return Kr(function(){var t=xr.transition;xr.transition={};try{r(e)}finally{xr.transition=t}},[e]),n},useTransition:function(){return[Ur(Dr)[0],Nr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Fr,useId:oi,unstable_isNewReconciler:!1};function vi(e,t){try{var n="",r=t;do{n+=Qt(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var _i,bi,xi,wi,Si="function"==typeof WeakMap?WeakMap:Map;function Mi(e,t,n){(n=gn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,ho=r),yi(0,t)},n}function Ei(e,t,n){(n=gn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!=typeof r&&(null===fo?fo=new Set([this]):fo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ti(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$o.bind(null,e,t,n),t.then(e,e))}function Ci(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Pi(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=gn(-1,1)).tag=2,vn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ki(e){e.flags|=4}function Ai(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)_i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},bi=function(){},xi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=hr(lr.current);n=j(a,n,e,r,i,o),(t.updateQueue=n)&&ki(t)}},wi=function(e,t,n,r){n!==r&&ki(t)};else if(Y){_i=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),B(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),B(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),_i(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Ii=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Ie(a,i.type,i.memoizedProps,i)),Pe(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Re(a,i.memoizedProps,i)),Pe(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Ii(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};bi=function(e,t){var n=t.stateNode;if(!Ai(e,t)){var r=Ce(e=n.containerInfo);Ii(r,t,!1,!1),n.pendingChildren=r,ki(t),ke(e,r)}},xi=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ai(e,t))&&o===r)t.stateNode=a;else{var s=t.stateNode,l=hr(lr.current),u=null;o!==r&&(u=j(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Te(a,u,n,o,r,t,e,s),F(a,n,r,i,l)&&ki(t),t.stateNode=a,e?ki(t):_i(a,t,!1,!1))}},wi=function(e,t,n,r){n!==r?(e=hr(cr.current),n=hr(lr.current),t.stateNode=H(r,e,n,t),ki(t)):t.stateNode=e.stateNode}}else bi=function(){},xi=function(){},wi=function(){};function Ri(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Oi(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:case 17:return pt(t.type)&&mt(),Li(t),null;case 3:return r=t.stateNode,fr(),st(ht),st(ct),_r(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?ki(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==$n&&(Po($n),$n=null))),bi(e,t),Li(t),null;case 5:mr(t),n=hr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)xi(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Li(t),null}if(e=hr(lr.current),Jn(t)){if(!Z)throw Error(o(175));e=He(t.stateNode,t.type,t.memoizedProps,n,e,t,!Gn),t.updateQueue=e,null!==e&&ki(t)}else{var a=U(i,r,n,e,t);_i(a,t,!1,!1),t.stateNode=a,F(a,i,r,n,e)&&ki(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&null!=t.stateNode)wi(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(e=hr(cr.current),n=hr(lr.current),Jn(t)){if(!Z)throw Error(o(176));if((n=We(e=t.stateNode,r=t.memoizedProps,t,!Gn))&&null!==(i=Vn))switch(a=0!=(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,a);break;case 5:Qe(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&ki(t)}else t.stateNode=H(r,e,n,t)}return Li(t),null;case 13:if(st(gr),r=t.memoizedState,Wn&&null!==Hn&&0!=(1&t.mode)&&0==(128&t.flags)){for(e=Hn;e;)e=Be(e);return Qn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(o(318));if(!Z)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));Ge(e,t)}else Qn(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Li(t),null}return null!==$n&&(Po($n),$n=null),0!=(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&gr.current)?0===Qa&&(Qa=3):Do())),null!==t.updateQueue&&(t.flags|=4),Li(t),null);case 4:return fr(),bi(e,t),null===e&&J(t.stateNode.containerInfo),Li(t),null;case 10:return ln(t.type._context),Li(t),null;case 19:if(st(gr),null===(i=t.memoizedState))return Li(t),null;if(r=0!=(128&t.flags),null===(a=i.rendering))if(r)Ri(i,!1);else{if(0!==Qa||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=vr(e))){for(t.flags|=128,Ri(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,n.dependencies=null===(i=a.dependencies)?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return lt(gr,1&gr.current|2),t.child}e=e.sibling}null!==i.tail&&Ut()>so&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=vr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Wn)return Li(t),null}else 2*Ut()-i.renderingStartTime>so&&1073741824!==n&&(t.flags|=128,r=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(i.rendering=t=i.tail,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,e=gr.current,lt(gr,r?1&e|2:1&e),t):(Li(t),null);case 22:case 23:return Ro(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Ka)&&(Li(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Li(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Ni=s.ReactCurrentOwner,Di=!1;function zi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Ui(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Rr(e,t,n,r,a,i),n=Lr(),null===e||Di?(Wn&&n&&Fn(t),t.flags|=1,zi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Qo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ts(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fi(e,t,a,r,i))}return a=e.child,0==(e.lanes&i)&&(n=null!==(n=n.compare)?n:Jt)(a.memoizedProps,r)&&e.ref===t.ref?ia(e,t,i):(t.flags|=1,(e=es(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fi(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Di=!1,0==(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!=(131072&e.flags)&&(Di=!0)}return Hi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},lt(Ja,Ka),Ka|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,lt(Ja,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,lt(Ja,Ka),Ka|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(Ja,Ka),Ka|=r;return zi(e,t,i,n),t.child}function Vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,i){var a=pt(n)?dt:ct.current;return a=ft(t,a),cn(t,i),n=Rr(e,t,n,r,a,i),r=Lr(),null===e||Di?(Wn&&r&&Fn(t),t.flags|=1,zi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Wi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Tn(t,n,r),Pn(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?hn(u):ft(t,u=pt(n)?dt:ct.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Cn(t,o,r,u),fn=!1;var d=t.memoizedState;o.state=d,bn(t,r,o,i),l=t.memoizedState,s!==r||d!==l||ht.current||fn?("function"==typeof c&&(Sn(t,n,c,r),l=t.memoizedState),(s=fn||En(t,n,s,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?hn(l):ft(t,l=pt(n)?dt:ct.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||d!==l)&&Cn(t,o,r,l),fn=!1,o.state=d=t.memoizedState,bn(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||ht.current||fn?("function"==typeof f&&(Sn(t,n,f,r),p=t.memoizedState),(u=fn||En(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Gi(e,t,n,r,a,i)}function Gi(e,t,n,r,i,a){Vi(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&_t(t,n,!1),ia(e,t,a);r=t.stateNode,Ni.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,s,a)):zi(e,t,s,a),t.memoizedState=r.state,i&&_t(t,n,!0),t.child}function $i(e){var t=e.stateNode;t.pendingContext?gt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gt(0,t.context,!1),dr(e,t.containerInfo)}function qi(e,t,n,r,i){return Qn(),er(i),t.flags|=256,zi(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null}}function Zi(e,t,n){var r,i=t.pendingProps,a=gr.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),lt(gr,1&a),null===e)return Zn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(t.lanes=0==(1&t.mode)?1:ze(e)?8:1073741824,null):(a=i.children,e=i.fallback,s?(s=t.child,a={mode:"hidden",children:a},0==(1&(i=t.mode))&&null!==s?(s.childLanes=0,s.pendingProps=a):s=rs(a,i,0,null),e=ns(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Xi,e):Ki(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,i=rs({mode:"visible",children:i.children},a=t.mode,0,null),(s=ns(s,a,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!=(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=Yi(n),t.memoizedState=Xi,s);if(0==(1&t.mode))t=ea(e,t,n,null);else if(ze(r))t=ea(e,t,n,Error(o(419)));else if(i=0!=(n&e.childLanes),Di||i){if(null!==(i=Xa)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!=(s&(i.suspendedLanes|n))?0:s)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}Do(),t=ea(e,t,n,Error(o(421)))}else De(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),Ue(r,t),t=null):(n=a.treeContext,Z&&(Hn=Ve(r),Vn=t,Wn=!0,$n=null,Gn=!1,null!==n&&(Ln[On++]=Dn,Ln[On++]=zn,Ln[On++]=Nn,Dn=n.id,zn=n.overflow,Nn=t)),(t=Ki(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Qi(e,t,i.children,i.fallback,n),(s=t.child).memoizedState=null===(a=e.child.memoizedState)?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Qi(e,t,i.children,i.fallback,n),(s=t.child).memoizedState=null===(a=e.child.memoizedState)?Yi(n):{baseLanes:a.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Ki(e,t){return(t=rs({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=es(i,{mode:"visible",children:n}),0==(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0==(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=es(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=es(o,r):(r=ns(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),un(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(zi(e,t,r.children,n),0!=(2&(r=gr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(gr,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===vr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===vr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=es(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)(n=n.sibling=es(e=e.sibling,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&mt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return fr(),st(ht),st(ct),_r(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return mr(t),null;case 13:if(st(gr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return st(gr),null;case 4:return fr(),null;case 10:return ln(t.type._context),null;case 22:case 23:return Ro(),null;default:return null}}var oa=!1,sa=!1,la="function"==typeof WeakSet?WeakSet:Set,ua=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Go(e,t,n)}else n.current=null}function ha(e,t,n){try{n()}catch(n){Go(e,t,n)}}var da=!1;function fa(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ha(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{(n.tag&e)===e&&(n.destroy=(0,n.create)()),n=n.next}while(n!==t)}}function ma(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?L(n):n,"function"==typeof t?t(e):t.current=e}}function ga(e,t,n){if(Wt&&"function"==typeof Wt.onCommitFiberUnmount)try{Wt.onCommitFiberUnmount(Ht,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&ha(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Go(t,n,e)}break;case 5:ca(t,n);break;case 4:X?Ma(e,t,n):Y&&Y&&(n=Ce(t=t.stateNode.containerInfo),Ae(t,n))}}function va(e,t,n){for(var r=t;;)if(ga(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ee(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _a(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_a(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xa(e){if(X){e:{for(var t=e.return;null!==t;){if(_a(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(be(t),n.flags&=-33),Sa(e,n=ba(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,wa(e,n=ba(e),t);break;default:throw Error(o(161))}}}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ve(n,e,t):de(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ma(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)va(e,a,n),i?_e(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ze(r,a.stateNode):Ye(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ga(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Ea(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),pa(3,t),void fa(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&me(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Z&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Ta(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return fa(3,t,t.return),pa(3,t),void fa(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ta(t);case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:Ae((t=t.stateNode).containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach(function(t){var r=Yo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Ca(e,t,n){ua=e,Pa(e)}function Pa(e,t,n){for(var r=0!=(1&e.mode);null!==ua;){var i=ua,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||sa;s=oa;var u=sa;if(oa=o,(sa=l)&&!u)for(ua=i;null!==ua;)l=(o=ua).child,22===o.tag&&null!==o.memoizedState?Ia(i):null!==l?(l.return=o,ua=l):Ia(i);for(;null!==a;)ua=a,Pa(a),a=a.sibling;ua=i,oa=s,sa=u}ka(e)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,ua=a):ka(e)}}function ka(e){for(;null!==ua;){var t=ua;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:sa||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!sa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&xn(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=L(t.child.stateNode);break;case 1:n=t.child.stateNode}xn(t,s,n)}break;case 5:null===n&&4&t.flags&&pe(t.stateNode,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Z&&null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&Xe(c)}}}break;default:throw Error(o(163))}sa||512&t.flags&&ma(t)}catch(e){Go(t,t.return,e)}}if(t===e){ua=null;break}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}function Aa(e){for(;null!==ua;){var t=ua;if(t===e){ua=null;break}var n=t.sibling;if(null!==n){n.return=t.return,ua=n;break}ua=t.return}}function Ia(e){for(;null!==ua;){var t=ua;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(e){Go(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Go(t,i,e)}}var a=t.return;try{ma(t)}catch(e){Go(t,a,e)}break;case 5:var o=t.return;try{ma(t)}catch(e){Go(t,o,e)}}}catch(e){Go(t,t.return,e)}if(t===e){ua=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ua=s;break}ua=t.return}}var Ra=0,La=1,Oa=2,Na=3,Da=4;if("function"==typeof Symbol&&Symbol.for){var za=Symbol.for;Ra=za("selector.component"),La=za("selector.has_pseudo_class"),Oa=za("selector.role"),Na=za("selector.test_id"),Da=za("selector.text")}function Ua(e){var t=K(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ba(e,t){switch(t.$$typeof){case Ra:if(e.type===t.value)return!0;break;case La:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!se(r)){for(;null!=a&&Ba(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Oa:if(5===e.tag&&le(e.stateNode,t.value))return!0;break;case Da:if((5===e.tag||6===e.tag)&&null!==(e=oe(e))&&0<=e.indexOf(t.value))return!0;break;case Na:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(o(365))}return!1}function Fa(e){switch(e.$$typeof){case Ra:return"<"+(S(e.value)||"Unknown")+">";case La:return":has("+(Fa(e)||"")+")";case Oa:return'[role="'+e.value+'"]';case Da:return'"'+e.value+'"';case Na:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function ja(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!se(i)){for(;null!=o&&Ba(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Va(e,t){if(!re)throw Error(o(363));e=ja(e=Ua(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)se(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Ha=Math.ceil,Wa=s.ReactCurrentDispatcher,Ga=s.ReactCurrentOwner,$a=s.ReactCurrentBatchConfig,qa=0,Xa=null,Ya=null,Za=0,Ka=0,Ja=ot(0),Qa=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,so=Infinity;function lo(){so=Ut()+500}var uo,co=!1,ho=null,fo=null,po=!1,mo=null,go=0,vo=0,yo=null,_o=-1,bo=0;function xo(){return 0!=(6&qa)?Ut():-1!==_o?_o:_o=Ut()}function wo(e){return 0==(1&e.mode)?1:0!=(2&qa)&&0!==Za?Za&-Za:null!==Kt.transition?(0===bo&&(e=St,0==(4194240&(St<<=1))&&(St=64),bo=e),bo):0!==(e=Rt)?e:Q()}function So(e,t,n){if(50<vo)throw vo=0,yo=null,Error(o(185));var r=Mo(e,t);return null===r?null:(At(r,t,n),0!=(2&qa)&&r===Xa||(r===Xa&&(0==(2&qa)&&(no|=t),4===Qa&&ko(r,Za)),Eo(r,n),1===t&&0===qa&&0==(1&e.mode)&&(lo(),qt&&Zt())),r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Eo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-bt(a),s=1<<o,l=i[o];-1===l?0!=(s&n)&&0==(s&r)||(i[o]=Ct(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Tt(e,e===Xa?Za:0);if(0===r)null!==n&&Nt(n),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=r&-r)){if(null!=n&&Nt(n),1===t)0===e.tag?function(e){qt=!0,Yt(e)}(Ao.bind(null,e)):Yt(Ao.bind(null,e)),te?ne(function(){0===qa&&Zt()}):Ot(Bt,Zt),n=null;else{switch(Lt(r)){case 1:n=Bt;break;case 4:n=Ft;break;case 16:default:n=jt;break;case 536870912:n=Vt}n=Zo(n,To.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function To(e,t){if(_o=-1,bo=0,0!=(6&qa))throw Error(o(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=Tt(e,e===Xa?Za:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=zo(e,r);else{t=r;var i=qa;qa|=2;var a=No();for(Xa===e&&Za===t||(lo(),Lo(e,t));;)try{Bo();break}catch(t){Oo(e,t)}on(),Wa.current=a,qa=i,null!==Ya?t=0:(Xa=null,Za=0,t=Qa)}if(0!==t){if(2===t&&0!==(i=Pt(e))&&(r=i,t=Co(e,i)),1===t)throw n=eo,Lo(e,0),ko(e,r),Eo(e,Ut()),n;if(6===t)ko(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Gt(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=zo(e,r))&&0!==(a=Pt(e))&&(r=a,t=Co(e,a)),1===t))throw n=eo,Lo(e,0),ko(e,r),Eo(e,Ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Vo(e,ao);break;case 3:if(ko(e,r),(130023424&r)===r&&10<(t=oo+500-Ut())){if(0!==Tt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){xo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=W(Vo.bind(null,e,ao),t);break}Vo(e,ao);break;case 4:if(ko(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-bt(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ut()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ha(r/1960))-r)){e.timeoutHandle=W(Vo.bind(null,e,ao),r);break}Vo(e,ao);break;default:throw Error(o(329))}}}return Eo(e,Ut()),e.callbackNode===n?To.bind(null,e):null}function Co(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),2!==(e=zo(e,t))&&(t=ao,ao=n,null!==t&&Po(t)),e}function Po(e){null===ao?ao=e:ao.push.apply(ao,e)}function ko(e,t){for(t&=~ro,e.suspendedLanes|=t&=~no,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),r=1<<n;e[n]=-1,t&=~r}}function Ao(e){if(0!=(6&qa))throw Error(o(327));Ho();var t=Tt(e,0);if(0==(1&t))return Eo(e,Ut()),null;var n=zo(e,t);if(0!==e.tag&&2===n){var r=Pt(e);0!==r&&(t=r,n=Co(e,r))}if(1===n)throw n=eo,Lo(e,0),ko(e,t),Eo(e,Ut()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,ao),Eo(e,Ut()),null}function Io(e){null!==mo&&0===mo.tag&&0==(6&qa)&&Ho();var t=qa;qa|=1;var n=$a.transition,r=Rt;try{if($a.transition=null,Rt=1,e)return e()}finally{Rt=r,$a.transition=n,0==(6&(qa=t))&&Zt()}}function Ro(){Ka=Ja.current,st(Ja)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==$&&(e.timeoutHandle=$,G(n)),null!==Ya)for(n=Ya.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&mt();break;case 3:fr(),st(ht),st(ct),_r();break;case 5:mr(r);break;case 4:fr();break;case 13:case 19:st(gr);break;case 10:ln(r.type._context);break;case 22:case 23:Ro()}n=n.return}if(Xa=e,Ya=e=es(e.current,null),Za=Ka=t,Qa=0,eo=null,ro=no=to=0,ao=io=null,null!==dn){for(t=0;t<dn.length;t++)if(null!==(r=(n=dn[t]).interleaved)){n.interleaved=null;var i=n.pending;if(null!==i){var a=i.next;i.next=r.next,r.next=a}n.pending=r}dn=null}return e}function Oo(e,t){for(;;){var n=Ya;try{if(on(),br.current=fi,Tr){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Tr=!1}if(wr=0,Er=Mr=Sr=null,Cr=!1,Pr=0,Ga.current=null,null===n||null===n.return){Qa=1,eo=t,Ya=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Za,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ci(s);if(null!==p){p.flags&=-257,Pi(p,s,l,0,t),1&p.mode&&Ti(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){Ti(a,c,t),Do();break e}u=Error(o(426))}else if(Wn&&1&l.mode){var v=Ci(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),Pi(v,s,l,0,t),er(u);break e}}a=u,4!==Qa&&(Qa=2),null===io?io=[a]:io.push(a),u=vi(u,l),l=s;do{switch(l.tag){case 3:l.flags|=65536,l.lanes|=t&=-t,_n(l,Mi(0,u,t));break e;case 1:a=u;var y=l.stateNode;if(0==(128&l.flags)&&("function"==typeof l.type.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===fo||!fo.has(y)))){l.flags|=65536,l.lanes|=t&=-t,_n(l,Ei(l,a,t));break e}}l=l.return}while(null!==l)}jo(n)}catch(e){t=e,Ya===n&&null!==n&&(Ya=n=n.return);continue}break}}function No(){var e=Wa.current;return Wa.current=fi,null===e?fi:e}function Do(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Xa||0==(268435455&to)&&0==(268435455&no)||ko(Xa,Za)}function zo(e,t){var n=qa;qa|=2;var r=No();for(Xa===e&&Za===t||Lo(e,t);;)try{Uo();break}catch(t){Oo(e,t)}if(on(),qa=n,Wa.current=r,null!==Ya)throw Error(o(261));return Xa=null,Za=0,Qa}function Uo(){for(;null!==Ya;)Fo(Ya)}function Bo(){for(;null!==Ya&&!Dt();)Fo(Ya)}function Fo(e){var t=uo(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?jo(e):Ya=t,Ga.current=null}function jo(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Oi(n,t,Ka)))return void(Ya=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void(Ya=n);if(null===e)return Qa=6,void(Ya=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ya=t);Ya=t=e}while(null!==t);0===Qa&&(Qa=5)}function Vo(e,t){var n=Rt,r=$a.transition;try{$a.transition=null,Rt=1,function(e,t,n){do{Ho()}while(null!==mo);if(0!=(6&qa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&(Ya=Xa=null,Za=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||po||(po=!0,Zo(jt,function(){return Ho(),null})),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=$a.transition,$a.transition=null;var s=Rt;Rt=1;var l=qa;qa|=4,Ga.current=null,function(e,t){for(D(e.containerInfo),ua=t;null!==ua;)if(t=(e=ua).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,ua=t;else for(;null!==ua;){e=ua;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,s=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=s}break;case 3:X&&Ee(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(t){Go(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,ua=t;break}ua=e.return}n=da,da=!1}(e,r),function(e,t){for(ua=t;null!==ua;){var n=(t=ua).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?Ma(a,i,t):va(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){Go(i,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,ua=n;else for(;null!==ua;){t=ua;try{var s=t.flags;if(32&s&&X&&be(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ut())}break;case 22:var h=null!==t.memoizedState,d=t.alternate,f=null!==d&&null!==d.memoizedState;if(n=t,X)e:if(r=n,i=h,a=null,X)for(var p=r;;){if(5===p.tag)null===a&&(a=p,i?xe(p.stateNode):Se(p.stateNode,p.memoizedProps));else if(6===p.tag){if(null===a){var m=p.stateNode;i?we(m):Me(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(h&&!f&&0!=(1&n.mode)){ua=n;for(var g=n.child;null!==g;){for(n=ua=g;null!==ua;){var v=(r=ua).child;switch(r.tag){case 0:case 11:case 14:case 15:fa(4,r,r.return);break;case 1:ca(r,r.return);var y=r.stateNode;if("function"==typeof y.componentWillUnmount){var _=r.return;try{y.props=r.memoizedProps,y.state=r.memoizedState,y.componentWillUnmount()}catch(e){Go(r,_,e)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Aa(n);continue}}null!==v?(v.return=r,ua=v):Aa(n)}g=g.sibling}}}switch(4102&s){case 2:xa(t),t.flags&=-3;break;case 6:xa(t),t.flags&=-3,Ea(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ea(t.alternate,t);break;case 4:Ea(t.alternate,t)}}catch(e){Go(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,ua=n;break}ua=t.return}}}(e,r),z(e.containerInfo),e.current=r,Ca(r),zt(),qa=l,Rt=s,$a.transition=a}else e.current=r;if(po&&(po=!1,mo=e,go=i),0===(a=e.pendingLanes)&&(fo=null),function(e){if(Wt&&"function"==typeof Wt.onCommitFiberRoot)try{Wt.onCommitFiberRoot(Ht,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode),Eo(e,Ut()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=ho,ho=null,e;0!=(1&go)&&0!==e.tag&&Ho(),0!=(1&(a=e.pendingLanes))?e===yo?vo++:(vo=0,yo=e):vo=0,Zt()}(e,t,n)}finally{$a.transition=r,Rt=n}return null}function Ho(){if(null!==mo){var e=Lt(go),t=$a.transition,n=Rt;try{if($a.transition=null,Rt=16>e?16:e,null===mo)var r=!1;else{if(e=mo,mo=null,go=0,0!=(6&qa))throw Error(o(331));var i=qa;for(qa|=4,ua=e.current;null!==ua;){var a=ua,s=a.child;if(0!=(16&ua.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(ua=c;null!==ua;){var h=ua;switch(h.tag){case 0:case 11:case 15:fa(8,h,a)}var d=h.child;if(null!==d)d.return=h,ua=d;else for(;null!==ua;){var f=(h=ua).sibling,p=h.return;if(ya(h),h===c){ua=null;break}if(null!==f){f.return=p,ua=f;break}ua=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}ua=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,ua=s;else e:for(;null!==ua;){if(0!=(2048&(a=ua).flags))switch(a.tag){case 0:case 11:case 15:fa(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ua=y;break e}ua=a.return}}var _=e.current;for(ua=_;null!==ua;){var b=(s=ua).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,ua=b;else e:for(s=_;null!==ua;){if(0!=(2048&(l=ua).flags))try{switch(l.tag){case 0:case 11:case 15:pa(9,l)}}catch(e){Go(l,l.return,e)}if(l===s){ua=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,ua=x;break e}ua=l.return}}if(qa=i,Zt(),Wt&&"function"==typeof Wt.onPostCommitFiberRoot)try{Wt.onPostCommitFiberRoot(Ht,e)}catch(e){}r=!0}return r}finally{Rt=n,$a.transition=t}}return!1}function Wo(e,t,n){vn(e,t=Mi(0,t=vi(n,t),1)),t=xo(),null!==(e=Mo(e,1))&&(At(e,1,t),Eo(e,t))}function Go(e,t,n){if(3===e.tag)Wo(e,e,n);else for(;null!==t;){if(3===t.tag){Wo(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===fo||!fo.has(r))){vn(t,e=Ei(t,e=vi(n,e),1)),e=xo(),null!==(t=Mo(t,1))&&(At(t,1,e),Eo(t,e));break}}t=t.return}}function $o(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=xo(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Za&n)===n&&(4===Qa||3===Qa&&(130023424&Za)===Za&&500>Ut()-oo?Lo(e,0):ro|=n),Eo(e,t)}function qo(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Mt,0==(130023424&(Mt<<=1))&&(Mt=4194304)));var n=xo();null!==(e=Mo(e,t))&&(At(e,t,n),Eo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function Yo(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Zo(e,t){return Ot(e,t)}function Ko(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new Ko(e,t,n,r)}function Qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function es(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.dependencies=null===(t=e.dependencies)?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ts(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Qo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return ns(n.children,i,a,t);case h:s=8,i|=8;break;case d:return(e=Jo(12,n,t,2|i)).elementType=d,e.lanes=a,e;case g:return(e=Jo(13,n,t,i)).elementType=g,e.lanes=a,e;case v:return(e=Jo(19,n,t,i)).elementType=v,e.lanes=a,e;case b:return rs(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f:s=10;break e;case p:s=9;break e;case m:s=11;break e;case y:s=14;break e;case _:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Jo(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function ns(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function rs(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=b,e.lanes=n,e.stateNode={},e}function is(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function as(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function os(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=i,Z&&(this.mutableSourceEagerHydrationData=null)}function ss(e,t,n,r,i,a,o,s,l){return e=new os(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function ls(e){if(!e)return ut;e:{if(E(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return vt(e,n,t)}return t}function us(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=P(t))?null:e.stateNode}function cs(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function hs(e,t){cs(e,t),(e=e.alternate)&&cs(e,t)}function ds(e){return null===(e=P(e))?null:e.stateNode}function fs(){return null}return uo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ht.current)Di=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return Di=!1,function(e,t,n){switch(t.tag){case 3:$i(t),Qn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:dr(t,t.stateNode.containerInfo);break;case 10:sn(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lt(gr,1&gr.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Zi(e,t,n):(lt(gr,1&gr.current),null!==(e=ia(e,t,n))?e.sibling:null);lt(gr,1&gr.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(gr,gr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return ia(e,t,n)}(e,t,n);Di=0!=(131072&e.flags)}else Di=!1,Wn&&0!=(1048576&t.flags)&&Bn(t,Rn,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ft(t,ct.current);cn(t,n),i=Rr(null,t,r,e,i,n);var a=Lr();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!=i.state?i.state:null,pn(t),i.updater=Mn,t.stateNode=i,i._reactInternals=t,Pn(t,r,e,n),t=Gi(null,t,r,!0,a,n)):(t.tag=0,Wn&&a&&Fn(t),zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Qo(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Ui(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.pendingProps,Hi(e,t,r=t.type,i=t.elementType===r?i:en(r,i),n);case 1:return i=t.pendingProps,Wi(e,t,r=t.type,i=t.elementType===r?i:en(r,i),n);case 3:e:{if($i(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,mn(e,t),bn(t,r,null,n);var s=t.memoizedState;if(r=s.element,Z&&a.isDehydrated){if(t.updateQueue.baseState=a={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for(Z&&(Hn=je(t.stateNode.containerInfo),Vn=t,Wn=!0,$n=null,Gn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),r===i){t=ia(e,t,n);break e}zi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Zn(t),a=null!==e?e.memoizedProps:null,s=(i=t.pendingProps).children,V(r=t.type,i)?s=null:null!==a&&V(r,a)&&(t.flags|=32),Vi(e,t),zi(e,t,s,n),t.child;case 6:return null===e&&Zn(t),null;case 13:return Zi(e,t,n);case 4:return dr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):zi(e,t,r,n),t.child;case 11:return i=t.pendingProps,Ui(e,t,r=t.type,i=t.elementType===r?i:en(r,i),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.memoizedProps,sn(0,r=t.type._context,s=(i=t.pendingProps).value),null!==a)if(Gt(a.value,s)){if(a.children===i.children&&!ht.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=gn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),un(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),un(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=hn(i)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Bi(e,t,r,i=en(r.type,i),n);case 15:return Fi(e,t,t.type,t.pendingProps,n);case 17:return i=t.pendingProps,i=t.elementType===(r=t.type)?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),Tn(t,r,i),Pn(t,r,i,n),Gi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return ji(e,t,n)}throw Error(o(156,t.tag))},n.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,xo()),hs(e,134217728))},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=xo(),n=wo(e);So(e,n,t),hs(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Et(t.pendingLanes);0!==n&&(It(t,1|n),Eo(t,Ut()),0==(6&qa)&&(lo(),Zt()))}break;case 13:var r=xo();Io(function(){return So(e,1,r)}),hs(e,1)}},n.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(lo(),qt&&Zt())}},n.createComponentSelector=function(e){return{$$typeof:Ra,value:e}},n.createContainer=function(e,t,n,r,i,a,o){return ss(e,t,!1,null,0,r,0,a,o)},n.createHasPseudoClassSelector=function(e){return{$$typeof:La,value:e}},n.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=ss(n,r,!0,e,0,a,0,s,l)).context=ls(null),n=e.current,(a=gn(r=xo(),i=wo(n))).callback=null!=t?t:null,vn(n,a),e.current.lanes=i,At(e,i,r),Eo(e,r),e},n.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Oa,value:e}},n.createTestNameSelector=function(e){return{$$typeof:Na,value:e}},n.createTextSelector=function(e){return{$$typeof:Da,value:e}},n.deferredUpdates=function(e){var t=Rt,n=$a.transition;try{return $a.transition=null,Rt=16,e()}finally{Rt=t,$a.transition=n}},n.discreteUpdates=function(e,t,n,r,i){var a=Rt,o=$a.transition;try{return $a.transition=null,Rt=1,e(t,n,r,i)}finally{Rt=a,$a.transition=o,0===qa&&lo()}},n.findAllNodes=Va,n.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Va(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,h=c+u.width,d=u.y,f=d+u.height;if(r>=c&&a>=d&&i<=h&&s<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<a||d>s)){d>a&&(u.height+=d-a,u.y=a),f<s&&(u.height=s-d),e.splice(t,1);break}if(!(a!==d||n.height!==u.height||h<r||c>i)){c>r&&(u.width+=c-r,u.x=r),h<i&&(u.width=i-c),e.splice(t,1);break}}return e},n.findHostInstance=us,n.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=C(e))?A(e):null)?null:e.stateNode},n.findHostInstanceWithWarning=function(e){return us(e)},n.flushControlled=function(e){var t=qa;qa|=1;var n=$a.transition,r=Rt;try{$a.transition=null,Rt=1,e()}finally{Rt=r,$a.transition=n,0===(qa=t)&&(lo(),Zt())}},n.flushPassiveEffects=Ho,n.flushSync=Io,n.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=ja(e=Ua(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!se(n)){if(5===n.tag&&ue(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Rt},n.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Ua(e),0];for(var i=0;i<e.length;){var a=e[i++],s=e[i++],l=t[s];if((5!==a.tag||!se(a))&&(Ba(a,l)&&(r.push(Fa(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Fa(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?L(e.child.stateNode):e.child.stateNode:null},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:ds,findFiberByHostInstance:e.findFiberByHostInstance||fs,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Ht=t.inject(e),Wt=t}catch(e){}e=!!t.checkDCE}}return e},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Va(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},n.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(e,t,n,r){var i=t.current,a=xo(),o=wo(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=gn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),vn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},n},Zx=Y(function(e){"production"!==process.env.NODE_ENV&&(e.exports=function(e){var n={},r=t,i=Xx,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,o=!1;function s(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("warn",e,n)}}function l(e){if(!o){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u("error",e,n)}}function u(e,t,n){var r=a.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map(function(e){return String(e)});i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}var c=Object.assign;function h(e){return e._reactInternals}var d=!1,f=10,p=11,m=12,g=13,v=14,y=15,_=17,b=18,x=19,w=22,S=23,M=Symbol.for("react.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),z=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function U(e){if(null===e||"object"!=typeof e)return null;var t=z&&e[z]||e["@@iterator"];return"function"==typeof t?t:null}function B(e){return e.displayName||"Context"}function F(e){if(null==e)return null;if("number"==typeof e.tag&&l("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case E:return"Portal";case P:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case L:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return B(e)+".Consumer";case k:return B(e._context)+".Provider";case I:return function(e,t,n){var r=e.displayName;if(r)return r;var i=t.displayName||t.name||"";return""!==i?"ForwardRef("+i+")":"ForwardRef"}(e,e.render);case O:var t=e.displayName||null;return null!==t?t:F(e.type)||"Memo";case N:var n=e._payload,r=e._init;try{return F(r(n))}catch(e){return null}}return null}function j(e){return e.displayName||"Context"}function V(e){var t,n,r=e.type;switch(e.tag){case 24:return"Cache";case 9:return j(r)+".Consumer";case f:return j(r._context)+".Provider";case b:return"DehydratedFragment";case p:return n=(t=r.render).displayName||t.name||"",r.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(r);case 8:return r===C?"StrictMode":"Mode";case w:return"Offscreen";case m:return"Profiler";case 21:return"Scope";case g:return"Suspense";case x:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case _:case 2:case v:case y:if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r}return null}var H=16,W=128,G=256,$=512,q=1024,X=2048,Y=4096,Z=8192,K=16384,J=32768,Q=65536,ee=131072,te=1048576,ne=2097152,re=4194304,ie=16777216,ae=33554432,oe=12854,se=8772,le=2064,ue=14680064,ce=a.ReactCurrentOwner;function he(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{0!=(4098&(t=r).flags)&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function de(e){if(he(e)!==e)throw new Error("Unable to find node on an unmounted component.")}function fe(e){var t=e.alternate;if(!t){var n=he(e);if(null===n)throw new Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){var s=a.return;if(null!==s){r=i=s;continue}break}if(a.child===o.child){for(var l=a.child;l;){if(l===r)return de(a),e;if(l===i)return de(a),t;l=l.sibling}throw new Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=a,i=o;else{for(var u=!1,c=a.child;c;){if(c===r){u=!0,r=a,i=o;break}if(c===i){u=!0,i=a,r=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===r){u=!0,r=o,i=a;break}if(c===i){u=!0,i=o,r=a;break}c=c.sibling}if(!u)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw new Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function pe(e){var t=fe(e);return null!==t?me(t):null}function me(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){var n=me(t);if(null!==n)return n;t=t.sibling}return null}function ge(e){var t=fe(e);return null!==t?ve(t):null}function ve(e){if(5===e.tag||6===e.tag)return e;for(var t=e.child;null!==t;){if(4!==t.tag){var n=ve(t);if(null!==n)return n}t=t.sibling}return null}var ye=Array.isArray;function _e(e){return ye(e)}var be,xe,we,Se,Me,Ee,Te,Ce=e.getPublicInstance,Pe=e.getRootHostContext,ke=e.getChildHostContext,Ae=e.prepareForCommit,Ie=e.resetAfterCommit,Re=e.createInstance,Le=e.appendInitialChild,Oe=e.finalizeInitialChildren,Ne=e.prepareUpdate,De=e.shouldSetTextContent,ze=e.createTextInstance,Ue=e.scheduleTimeout,Be=e.cancelTimeout,Fe=e.noTimeout,je=e.isPrimaryRenderer,Ve=e.warnsIfNotActing,He=e.supportsMutation,We=e.supportsPersistence,Ge=e.supportsHydration,$e=e.getInstanceFromNode,qe=e.preparePortalMount,Xe=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Ze=e.supportsMicrotasks,Ke=e.scheduleMicrotask,Je=e.supportsTestSelectors,Qe=e.findFiberRoot,et=e.getBoundingRect,tt=e.getTextContent,nt=e.isHiddenSubtree,rt=e.matchAccessibilityRole,it=e.setFocusIfFocusable,at=e.setupIntersectionObserver,ot=e.appendChild,st=e.appendChildToContainer,lt=e.commitTextUpdate,ut=e.commitMount,ct=e.commitUpdate,ht=e.insertBefore,dt=e.insertInContainerBefore,ft=e.removeChild,pt=e.removeChildFromContainer,mt=e.resetTextContent,gt=e.hideInstance,vt=e.hideTextInstance,yt=e.unhideInstance,_t=e.unhideTextInstance,bt=e.clearContainer,xt=e.cloneInstance,wt=e.createContainerChildSet,St=e.appendChildToContainerChildSet,Mt=e.finalizeContainerChildren,Et=e.replaceContainerChildren,Tt=e.cloneHiddenInstance,Ct=e.cloneHiddenTextInstance,Pt=e.canHydrateInstance,kt=e.canHydrateTextInstance,At=e.canHydrateSuspenseInstance,It=e.isSuspenseInstancePending,Rt=e.isSuspenseInstanceFallback,Lt=e.registerSuspenseInstanceRetry,Ot=e.getNextHydratableSibling,Nt=e.getFirstHydratableChild,Dt=e.getFirstHydratableChildWithinContainer,zt=e.getFirstHydratableChildWithinSuspenseInstance,Ut=e.hydrateInstance,Bt=e.hydrateTextInstance,Ft=e.hydrateSuspenseInstance,jt=e.getNextHydratableInstanceAfterSuspenseInstance,Vt=e.commitHydratedContainer,Ht=e.commitHydratedSuspenseInstance,Wt=e.clearSuspenseBoundary,Gt=e.clearSuspenseBoundaryFromContainer,$t=e.shouldDeleteUnhydratedTailInstances,qt=e.didNotMatchHydratedContainerTextInstance,Xt=e.didNotMatchHydratedTextInstance,Yt=e.didNotHydrateInstanceWithinContainer,Zt=e.didNotHydrateInstanceWithinSuspenseInstance,Kt=e.didNotHydrateInstance,Jt=e.didNotFindHydratableInstanceWithinContainer,Qt=e.didNotFindHydratableTextInstanceWithinContainer,en=e.didNotFindHydratableSuspenseInstanceWithinContainer,tn=e.didNotFindHydratableInstanceWithinSuspenseInstance,nn=e.didNotFindHydratableTextInstanceWithinSuspenseInstance,rn=e.didNotFindHydratableSuspenseInstanceWithinSuspenseInstance,an=e.didNotFindHydratableInstance,on=e.didNotFindHydratableTextInstance,sn=e.didNotFindHydratableSuspenseInstance,ln=e.errorHydratingContainer,un=0;function cn(){}cn.__reactDisabledLog=!0;var hn,dn=a.ReactCurrentDispatcher;function fn(e,t,n){if(void 0===hn)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);hn=r&&r[1]||""}return"\n"+hn+e}var pn,mn=!1,gn="function"==typeof WeakMap?WeakMap:Map;function vn(e,t){if(!e||mn)return"";var n,r=pn.get(e);if(void 0!==r)return r;mn=!0;var i,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=dn.current,dn.current=null,function(){if(0===un){be=console.log,xe=console.info,we=console.warn,Se=console.error,Me=console.group,Ee=console.groupCollapsed,Te=console.groupEnd;var e={configurable:!0,enumerable:!0,value:cn,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}un++}();try{if(t){var o=function(){throw Error()};if(Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(o,[])}catch(e){n=e}Reflect.construct(e,[],o)}else{try{o.call()}catch(e){n=e}e.call(o.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),u=n.stack.split("\n"),h=s.length-1,d=u.length-1;h>=1&&d>=0&&s[h]!==u[d];)d--;for(;h>=1&&d>=0;h--,d--)if(s[h]!==u[d]){if(1!==h||1!==d)do{if(h--,--d<0||s[h]!==u[d]){var f="\n"+s[h].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),"function"==typeof e&&pn.set(e,f),f}}while(h>=1&&d>=0);break}}}finally{mn=!1,dn.current=i,function(){if(0==--un){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:c({},e,{value:be}),info:c({},e,{value:xe}),warn:c({},e,{value:we}),error:c({},e,{value:Se}),group:c({},e,{value:Me}),groupCollapsed:c({},e,{value:Ee}),groupEnd:c({},e,{value:Te})})}un<0&&l("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var p=e?e.displayName||e.name:"",m=p?fn(p):"";return"function"==typeof e&&pn.set(e,m),m}function yn(e,t,n){return vn(e,!1)}function _n(e,t,n){if(null==e)return"";if("function"==typeof e)return vn(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return fn(e);switch(e){case R:return fn("Suspense");case L:return fn("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case I:return yn(e.render);case O:return _n(e.type,t,n);case N:var i=e._payload,a=e._init;try{return _n(a(i),t,n)}catch(e){}}return""}pn=new gn;var bn=Object.prototype.hasOwnProperty,xn={},wn=a.ReactDebugCurrentFrame;function Sn(e){if(e){var t=e._owner,n=_n(e.type,e._source,t?t.type:null);wn.setExtraStackFrame(n)}else wn.setExtraStackFrame(null)}function Mn(e,t,n,r,i){var a=Function.call.bind(bn);for(var o in e)if(a(e,o)){var s=void 0;try{if("function"!=typeof e[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}s=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(Sn(i),l("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),Sn(null)),s instanceof Error&&!(s.message in xn)&&(xn[s.message]=!0,Sn(i),l("Failed %s type: %s",n,s.message),Sn(null))}}var En,Tn=[];En=[];var Cn,Pn=-1;function kn(e){return{current:e}}function An(e,t){Pn<0?l("Unexpected pop."):(t!==En[Pn]&&l("Unexpected Fiber popped."),e.current=Tn[Pn],Tn[Pn]=null,En[Pn]=null,Pn--)}function In(e,t,n){Pn++,Tn[Pn]=e.current,En[Pn]=n,e.current=t}Cn={};var Rn={};Object.freeze(Rn);var Ln=kn(Rn),On=kn(!1),Nn=Rn;function Dn(e,t,n){return n&&Fn(t)?Nn:Ln.current}function zn(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function Un(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={};for(var a in n)i[a]=t[a];return Mn(n,i,"context",V(e)||"Unknown"),r&&zn(e,t,i),i}function Bn(){return On.current}function Fn(e){return null!=e.childContextTypes}function jn(e){An(On,e),An(Ln,e)}function Vn(e){An(On,e),An(Ln,e)}function Hn(e,t,n){if(Ln.current!==Rn)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");In(Ln,t,e),In(On,n,e)}function Wn(e,t,n){var r=e.stateNode,i=t.childContextTypes;if("function"!=typeof r.getChildContext){var a=V(e)||"Unknown";return Cn[a]||(Cn[a]=!0,l("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),n}var o=r.getChildContext();for(var s in o)if(!(s in i))throw new Error((V(e)||"Unknown")+'.getChildContext(): key "'+s+'" is not defined in childContextTypes.');return Mn(i,o,"child context",V(e)||"Unknown"),c({},n,o)}function Gn(e){var t=e.stateNode;return Nn=Ln.current,In(Ln,t&&t.__reactInternalMemoizedMergedChildContext||Rn,e),In(On,On.current,e),!0}function $n(e,t,n){var r=e.stateNode;if(!r)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=Wn(e,t,Nn);r.__reactInternalMemoizedMergedChildContext=i,An(On,e),An(Ln,e),In(Ln,i,e),In(On,n,e)}else An(On,e),In(On,n,e)}var qn=16,Xn=Math.clz32?Math.clz32:function(e){var t=e>>>0;return 0===t?32:31-(Yn(t)/Zn|0)|0},Yn=Math.log,Zn=Math.LN2,Kn=16,Jn=4194240,Qn=1024,er=2048,tr=4096,nr=8192,rr=16384,ir=32768,ar=65536,or=131072,sr=262144,lr=524288,ur=1048576,cr=2097152,hr=130023424,dr=4194304,fr=8388608,pr=16777216,mr=33554432,gr=67108864,vr=dr,yr=134217728,_r=268435455,br=268435456,xr=536870912,wr=1073741824;function Sr(e){return 1&e?"Sync":2&e?"InputContinuousHydration":4&e?"InputContinuous":8&e?"DefaultHydration":e&Kn?"Default":32&e?"TransitionHydration":e&Jn?"Transition":e&hr?"Retry":e&yr?"SelectiveHydration":e&br?"IdleHydration":e&xr?"Idle":e&wr?"Offscreen":void 0}var Mr=-1,Er=64,Tr=dr;function Cr(e){switch(Nr(e)){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case Kn:return Kn;case 32:return 32;case 64:case 128:case 256:case 512:case Qn:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:return e&Jn;case dr:case fr:case pr:case mr:case gr:return e&hr;case yr:return yr;case br:return br;case xr:return xr;case wr:return wr;default:return l("Should have found matching lanes. This is a bug in React."),e}}function Pr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&_r;if(0!==o){var s=o&~i;if(0!==s)r=Cr(s);else{var l=o&a;0!==l&&(r=Cr(l))}}else{var u=n&~i;0!==u?r=Cr(u):0!==a&&(r=Cr(a))}if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)){var c=Nr(r),h=Nr(t);if(c>=h||c===Kn&&0!=(h&Jn))return t}0!=(4&r)&&(r|=n&Kn);var d=e.entangledLanes;if(0!==d)for(var f=e.entanglements,p=r&d;p>0;){var m=zr(p);r|=f[m],p&=~(1<<m)}return r}function kr(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case Kn:case 32:case 64:case 128:case 256:case 512:case Qn:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:return t+5e3;case dr:case fr:case pr:case mr:case gr:case yr:case br:case xr:case wr:return Mr;default:return l("Should have found matching lanes. This is a bug in React."),Mr}}function Ar(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&wr?wr:0}function Ir(e){return 0!=(e&_r)}function Rr(e){return(e&hr)===e}function Lr(e,t){return 0!=(30&t)}function Or(e){return 0!=(e&Jn)}function Nr(e){return e&-e}function Dr(e){return Nr(e)}function zr(e){return 31-Xn(e)}function Ur(e){return zr(e)}function Br(e,t){return 0!=(e&t)}function Fr(e,t){return(e&t)===t}function jr(e,t){return e|t}function Vr(e,t){return e&~t}function Hr(e,t){return e&t}function Wr(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Gr(e,t,n){e.pendingLanes|=t,t!==xr&&(e.suspendedLanes=0,e.pingedLanes=0),e.eventTimes[Ur(t)]=n}function $r(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function qr(e,t){for(var n=e.entangledLanes|=t,r=e.entanglements,i=n;i;){var a=zr(i),o=1<<a;o&t|r[a]&t&&(r[a]|=t),i&=~o}}function Xr(e,t,n){if(vi)for(var r=e.pendingUpdatersLaneMap;n>0;){var i=Ur(n),a=1<<i;r[i].add(t),n&=~a}}function Yr(e,t){if(vi)for(var n=e.pendingUpdatersLaneMap,r=e.memoizedUpdaters;t>0;){var i=Ur(t),a=1<<i,o=n[i];o.size>0&&(o.forEach(function(e){var t=e.alternate;null!==t&&r.has(t)||r.add(e)}),o.clear()),t&=~a}}var Zr=xr,Kr=0;function Jr(){return Kr}function Qr(e){Kr=e}function ei(e,t){return 0!==e&&e<t}function ti(e){var t=Nr(e);return ei(1,t)?ei(4,t)?Ir(t)?16:Zr:4:1}var ni=i.unstable_scheduleCallback,ri=i.unstable_cancelCallback,ii=i.unstable_shouldYield,ai=i.unstable_requestPaint,oi=i.unstable_now,si=i.unstable_ImmediatePriority,li=i.unstable_UserBlockingPriority,ui=i.unstable_NormalPriority,ci=i.unstable_IdlePriority,hi=i.unstable_yieldValue,di=i.unstable_setDisableYieldValue,fi=null,pi=null,mi=null,gi=!1,vi="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function yi(e){if("function"==typeof hi&&(di(e),o=e),pi&&"function"==typeof pi.setStrictMode)try{pi.setStrictMode(fi,e)}catch(e){gi||(gi=!0,l("React instrumentation encountered an error: %s",e))}}function _i(e){mi=e}function bi(){for(var e=new Map,t=1,n=0;n<31;n++){var r=Sr(t);e.set(t,r),t*=2}return e}function xi(){null!==mi&&"function"==typeof mi.markCommitStopped&&mi.markCommitStopped()}function wi(e){null!==mi&&"function"==typeof mi.markComponentRenderStarted&&mi.markComponentRenderStarted(e)}function Si(){null!==mi&&"function"==typeof mi.markComponentRenderStopped&&mi.markComponentRenderStopped()}function Mi(e){null!==mi&&"function"==typeof mi.markComponentLayoutEffectUnmountStarted&&mi.markComponentLayoutEffectUnmountStarted(e)}function Ei(){null!==mi&&"function"==typeof mi.markComponentLayoutEffectUnmountStopped&&mi.markComponentLayoutEffectUnmountStopped()}function Ti(e,t,n){null!==mi&&"function"==typeof mi.markComponentErrored&&mi.markComponentErrored(e,t,n)}function Ci(e){null!==mi&&"function"==typeof mi.markRenderStarted&&mi.markRenderStarted(e)}function Pi(){null!==mi&&"function"==typeof mi.markRenderStopped&&mi.markRenderStopped()}function ki(e,t){null!==mi&&"function"==typeof mi.markStateUpdateScheduled&&mi.markStateUpdateScheduled(e,t)}var Ai="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ii=null,Ri=!1,Li=!1;function Oi(e){null===Ii?Ii=[e]:Ii.push(e)}function Ni(){Ri&&Di()}function Di(){if(!Li&&null!==Ii){Li=!0;var e=0,t=Jr();try{var n=Ii;for(Qr(1);e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ii=null,Ri=!1}catch(t){throw null!==Ii&&(Ii=Ii.slice(e+1)),ni(si,Di),t}finally{Qr(t),Li=!1}}return null}function zi(e){return e.current.memoizedState.isDehydrated}var Ui=a.ReactCurrentBatchConfig;function Bi(e,t){if(Ai(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!bn.call(t,a)||!Ai(e[a],t[a]))return!1}return!0}function Fi(e){switch(e.tag){case 5:return fn(e.type);case 16:return fn("Lazy");case g:return fn("Suspense");case x:return fn("SuspenseList");case 0:case 2:case y:return yn(e.type);case p:return yn(e.type.render);case 1:return vn(e.type,!0);default:return""}}function ji(e){try{var t="",n=e;do{t+=Fi(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var Vi=a.ReactDebugCurrentFrame,Hi=null,Wi=!1;function Gi(){return null===Hi?"":ji(Hi)}function $i(){Vi.getCurrentStack=null,Hi=null,Wi=!1}function qi(e){Vi.getCurrentStack=Gi,Hi=e,Wi=!1}function Xi(e){Wi=e}var Yi={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Zi=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t.sort().join(", ")},Ki=[],Ji=[],Qi=[],ea=[],ta=[],na=[],ra=new Set;Yi.recordUnsafeLifecycleWarnings=function(e,t){ra.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ki.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&Ji.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Qi.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&ea.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&ta.push(e),8&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&na.push(e))},Yi.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;Ki.length>0&&(Ki.forEach(function(t){e.add(V(t)||"Component"),ra.add(t.type)}),Ki=[]);var t=new Set;Ji.length>0&&(Ji.forEach(function(e){t.add(V(e)||"Component"),ra.add(e.type)}),Ji=[]);var n=new Set;Qi.length>0&&(Qi.forEach(function(e){n.add(V(e)||"Component"),ra.add(e.type)}),Qi=[]);var r=new Set;ea.length>0&&(ea.forEach(function(e){r.add(V(e)||"Component"),ra.add(e.type)}),ea=[]);var i=new Set;ta.length>0&&(ta.forEach(function(e){i.add(V(e)||"Component"),ra.add(e.type)}),ta=[]);var a=new Set;na.length>0&&(na.forEach(function(e){a.add(V(e)||"Component"),ra.add(e.type)}),na=[]),t.size>0&&l("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",Zi(t)),r.size>0&&l("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",Zi(r)),a.size>0&&l("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",Zi(a)),e.size>0&&s("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Zi(e)),n.size>0&&s("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Zi(n)),i.size>0&&s("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Zi(i))};var ia=new Map,aa=new Set;function oa(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}function sa(e){try{return la(e),!1}catch(e){return!0}}function la(e){return""+e}function ua(e){if(sa(e))return l("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",oa(e)),la(e)}function ca(e,t){if(e&&e.defaultProps){var n=c({},t),r=e.defaultProps;for(var i in r)void 0===n[i]&&(n[i]=r[i]);return n}return t}Yi.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)8&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!aa.has(e.type)){var r=ia.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&ia.set(n,r=[]),r.push(e))}}else l("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},Yi.flushLegacyContextWarning=function(){ia.forEach(function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach(function(e){r.add(V(e)||"Component"),aa.add(e.type)});var i=Zi(r);try{qi(n),l("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{$i()}}})},Yi.discardPendingWarnings=function(){Ki=[],Ji=[],Qi=[],ea=[],ta=[],na=[],ia=new Map};var ha,da=kn(null);ha={};var fa=null,pa=null,ma=null,ga=!1;function va(){fa=null,pa=null,ma=null,ga=!1}function ya(){ga=!0}function _a(){ga=!1}function ba(e,t,n){je?(In(da,t._currentValue,e),t._currentValue=n,null!=t._currentRenderer&&t._currentRenderer!==ha&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer=ha):(In(da,t._currentValue2,e),t._currentValue2=n,null!=t._currentRenderer2&&t._currentRenderer2!==ha&&l("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),t._currentRenderer2=ha)}function xa(e,t){var n=da.current;An(da,t),je?e._currentValue=n:e._currentValue2=n}function wa(e,t,n){for(var r=e;null!==r;){var i=r.alternate;if(Fr(r.childLanes,t)?null===i||Fr(i.childLanes,t)||(i.childLanes=jr(i.childLanes,t)):(r.childLanes=jr(r.childLanes,t),null!==i&&(i.childLanes=jr(i.childLanes,t))),r===n)break;r=r.return}r!==n&&l("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function Sa(e,t){fa=e,pa=null,ma=null;var n=e.dependencies;null!==n&&null!==n.firstContext&&(Br(n.lanes,t)&&Cc(),n.firstContext=null)}function Ma(e){ga&&l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var t=je?e._currentValue:e._currentValue2;if(ma===e);else{var n={context:e,memoizedValue:t,next:null};if(null===pa){if(null===fa)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");pa=n,fa.dependencies={lanes:0,firstContext:n}}else pa=pa.next=n}return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}var Ca,Pa,ka=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){var n=e.updateQueue;t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null!==r){var i=r.shared;if(Vd(e)){var a=i.interleaved;null===a?(t.next=t,Ta(i)):(t.next=a.next,a.next=t),i.interleaved=t}else{var o=i.pending;null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t}Pa!==i||Ca||(l("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Ca=!0)}}function Oa(e,t,n){var r=t.updateQueue;if(null!==r){var i=r.shared;if(Or(n)){var a=i.lanes,o=jr(a=Hr(a,e.pendingLanes),n);i.lanes=o,qr(e,o)}}}function Na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var a=null,o=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var u={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===o?a=o=u:(o.next=u,o=u),l=l.next}while(null!==l);null===o?a=o=t:(o.next=t,o=t)}else a=o=t;return void(e.updateQueue=n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:i.shared,effects:i.effects})}}var c=n.lastBaseUpdate;null===c?n.firstBaseUpdate=t:c.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r,i,a){switch(n.tag){case 1:var o=n.payload;if("function"==typeof o){ya();var s=o.call(a,r,i);if(8&e.mode){yi(!0);try{o.call(a,r,i)}finally{yi(!1)}}return _a(),s}return o;case 3:e.flags=-65537&e.flags|W;case 0:var l,u=n.payload;if("function"==typeof u){if(ya(),l=u.call(a,r,i),8&e.mode){yi(!0);try{u.call(a,r,i)}finally{yi(!1)}}_a()}else l=u;return null==l?r:c({},r,l);case 2:return ka=!0,r}return r}function za(e,t,n,r){var i=e.updateQueue;ka=!1,Pa=i.shared;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;if(null!==c){var h=c.updateQueue,d=h.lastBaseUpdate;d!==o&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=l)}}if(null!==a){for(var f=i.baseState,p=0,m=null,g=null,v=null,y=a;;){var _=y.lane,b=y.eventTime;if(Fr(r,_)){if(null!==v&&(v=v.next={eventTime:b,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null}),f=Da(e,0,y,f,t,n),null!==y.callback&&0!==y.lane){e.flags|=64;var x=i.effects;null===x?i.effects=[y]:x.push(y)}}else{var w={eventTime:b,lane:_,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===v?(g=v=w,m=f):v=v.next=w,p=jr(p,_)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var S=s,M=S.next;S.next=null,y=M,i.lastBaseUpdate=S,i.shared.pending=null}}null===v&&(m=f),i.baseState=m,i.firstBaseUpdate=g,i.lastBaseUpdate=v;var E=i.shared.interleaved;if(null!==E){var T=E;do{p=jr(p,T.lane),T=T.next}while(T!==E)}else null===a&&(i.shared.lanes=0);nf(p),e.lanes=p,e.memoizedState=f}Pa=null}function Ua(e,t){if("function"!=typeof e)throw new Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function Ba(){ka=!1}function Fa(){return ka}function ja(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.callback;null!==o&&(a.callback=null,Ua(o,n))}}Ca=!1,Pa=null;var Va,Ha,Wa,Ga,$a,qa,Xa,Ya,Za,Ka,Ja={},Qa=(new r.Component).refs;Va=new Set,Ha=new Set,Wa=new Set,Ga=new Set,Ya=new Set,$a=new Set,Za=new Set,Ka=new Set;var eo=new Set;function to(e,t,n,r){var i=e.memoizedState,a=n(r,i);if(8&e.mode){yi(!0);try{a=n(r,i)}finally{yi(!1)}}qa(t,a);var o=null==a?i:c({},i,a);e.memoizedState=o,0===e.lanes&&(e.updateQueue.baseState=o)}Xa=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;eo.has(n)||(eo.add(n),l("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},qa=function(e,t){if(void 0===t){var n=F(e)||"Component";$a.has(n)||($a.add(n),l("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Ja,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Ja);var no={isMounted:function(e){var t=ce.current;if(null!==t&&1===t.tag){var n=t.stateNode;n._warnedAboutRefsInRender||l("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",V(t)||"A component"),n._warnedAboutRefsInRender=!0}var r=h(e);return!!r&&he(r)===r},enqueueSetState:function(e,t,n){var r=h(e),i=Ud(),a=Bd(r),o=Ra(i,a);o.payload=t,null!=n&&(Xa(n,"setState"),o.callback=n),La(r,o);var s=Fd(r,a,i);null!==s&&Oa(s,r,a),ki(r,a)},enqueueReplaceState:function(e,t,n){var r=h(e),i=Ud(),a=Bd(r),o=Ra(i,a);o.tag=1,o.payload=t,null!=n&&(Xa(n,"replaceState"),o.callback=n),La(r,o);var s=Fd(r,a,i);null!==s&&Oa(s,r,a),ki(r,a)},enqueueForceUpdate:function(e,t){var n=h(e),r=Ud(),i=Bd(n),a=Ra(r,i);a.tag=2,null!=t&&(Xa(t,"forceUpdate"),a.callback=t),La(n,a);var o=Fd(n,i,r);null!==o&&Oa(o,n,i),function(e,t){null!==mi&&"function"==typeof mi.markForceUpdateScheduled&&mi.markForceUpdateScheduled(e,t)}(n,i)}};function ro(e,t,n,r,i,a,o){var s=e.stateNode;if("function"==typeof s.shouldComponentUpdate){var u=s.shouldComponentUpdate(r,a,o);if(8&e.mode){yi(!0);try{u=s.shouldComponentUpdate(r,a,o)}finally{yi(!1)}}return void 0===u&&l("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",F(t)||"Component"),u}return!(t.prototype&&t.prototype.isPureReactComponent&&Bi(n,r)&&Bi(i,a))}function io(e,t){t.updater=no,e.stateNode=t,t._reactInternals=e,t._reactInternalInstance=Ja}function ao(e,t,n){var r,i=!1,a=Rn,o=Rn,s=t.contextType;!("contextType"in t)||null===s||void 0!==s&&s.$$typeof===A&&void 0===s._context||Ka.has(t)||(Ka.add(t),r=void 0===s?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof s?" However, it is set to a "+typeof s+".":s.$$typeof===k?" Did you accidentally pass the Context.Provider instead?":void 0!==s._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(s).join(", ")+"}.",l("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",F(t)||"Component",r)),"object"==typeof s&&null!==s?o=Ma(s):(a=Dn(0,t,!0),o=(i=null!=t.contextTypes)?Un(e,a):Rn);var u=new t(n,o);if(8&e.mode){yi(!0);try{u=new t(n,o)}finally{yi(!1)}}var c=e.memoizedState=null!=u.state?u.state:null;if(io(e,u),"function"==typeof t.getDerivedStateFromProps&&null===c){var h=F(t)||"Component";Ha.has(h)||(Ha.add(h),l("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",h,null===u.state?"null":"undefined",h))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate){var d=null,f=null,p=null;if("function"==typeof u.componentWillMount&&!0!==u.componentWillMount.__suppressDeprecationWarning?d="componentWillMount":"function"==typeof u.UNSAFE_componentWillMount&&(d="UNSAFE_componentWillMount"),"function"==typeof u.componentWillReceiveProps&&!0!==u.componentWillReceiveProps.__suppressDeprecationWarning?f="componentWillReceiveProps":"function"==typeof u.UNSAFE_componentWillReceiveProps&&(f="UNSAFE_componentWillReceiveProps"),"function"==typeof u.componentWillUpdate&&!0!==u.componentWillUpdate.__suppressDeprecationWarning?p="componentWillUpdate":"function"==typeof u.UNSAFE_componentWillUpdate&&(p="UNSAFE_componentWillUpdate"),null!==d||null!==f||null!==p){var m=F(t)||"Component",g="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Ga.has(m)||(Ga.add(m),l("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",m,g,null!==d?"\n  "+d:"",null!==f?"\n  "+f:"",null!==p?"\n  "+p:""))}}return i&&zn(e,a,o),u}function oo(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var a=V(e)||"Component";Va.has(a)||(Va.add(a),l("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",a)),no.enqueueReplaceState(t,t.state,null)}}function so(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=F(t)||"Component";r.render||l(t.prototype&&"function"==typeof t.prototype.render?"%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?":"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||l("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&l("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&l("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&l("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),r.contextTypes&&l("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!Za.has(t)&&(Za.add(t),l("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&l("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&l("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",F(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&l("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&l("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&l("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&l("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i),void 0!==r.props&&r.props!==n&&l("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&l("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||Wa.has(t)||(Wa.add(t),l("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",F(t))),"function"==typeof r.getDerivedStateFromProps&&l("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&l("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&l("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var a=r.state;a&&("object"!=typeof a||_e(a))&&l("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&l("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Qa,Aa(e);var a=t.contextType;if("object"==typeof a&&null!==a)i.context=Ma(a);else{var o=Dn(0,t,!0);i.context=Un(e,o)}if(i.state===n){var s=F(t)||"Component";Ya.has(s)||(Ya.add(s),l("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",s))}8&e.mode&&Yi.recordLegacyContextWarning(e,i),Yi.recordUnsafeLifecycleWarnings(e,i),i.state=e.memoizedState;var u=t.getDerivedStateFromProps;if("function"==typeof u&&(to(e,t,u,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(l("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",V(e)||"Component"),no.enqueueReplaceState(t,t.state,null))}(e,i),za(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount){var c=4;c|=re,0!=(e.mode&qn)&&(c|=ie),e.flags|=c}}var lo=[],uo=0,co=null,ho=0,fo=[],po=0,mo=null,go=1,vo="";function yo(e,t){So(),lo[uo++]=ho,lo[uo++]=co,co=e,ho=t}function _o(e,t,n){So(),fo[po++]=go,fo[po++]=vo,fo[po++]=mo,mo=e;var r=go,i=vo,a=xo(r)-1,o=r&~(1<<a),s=n+1,l=xo(t)+a;if(l>30){var u=a-a%5,c=(o&(1<<u)-1).toString(32),h=o>>u,d=a-u,f=xo(t)+d;go=1<<f|s<<d|h,vo=c+i}else go=1<<l|s<<a|o,vo=i}function bo(e){So(),null!==e.return&&(yo(e,1),_o(e,1,0))}function xo(e){return 32-Xn(e)}function wo(e){for(;e===co;)co=lo[--uo],lo[uo]=null,ho=lo[--uo],lo[uo]=null;for(;e===mo;)mo=fo[--po],fo[po]=null,vo=fo[--po],fo[po]=null,go=fo[--po],fo[po]=null}function So(){Yo()||l("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Mo,Eo,To,Co,Po,ko,Ao=null,Io=null,Ro=!1,Lo=!1,Oo=null;function No(e,t,n){return!!Ge&&(Io=zt(t),Ao=e,Ro=!0,Oo=null,Lo=!1,null!==n&&function(e,t){So(),fo[po++]=go,fo[po++]=vo,fo[po++]=mo,go=t.id,vo=t.overflow,mo=e}(e,n),!0)}function Do(e,t){switch(e.tag){case 3:Yt(e.stateNode.containerInfo,t);break;case 5:Kt(e.type,e.memoizedProps,e.stateNode,t);break;case g:var n=e.memoizedState;null!==n.dehydrated&&Zt(n.dehydrated,t)}}function zo(e,t){Do(e,t);var n,r=((n=Zf(5,null,null,0)).elementType="DELETED",n);r.stateNode=t,r.return=e;var i=e.deletions;null===i?(e.deletions=[r],e.flags|=H):i.push(r)}function Uo(e,t){if(!Lo)switch(e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:Jt(n,t.type,t.pendingProps);break;case 6:Qt(n,t.pendingProps);break;case g:en(n)}break;case 5:var r=e.type,i=e.memoizedProps,a=e.stateNode;switch(t.tag){case 5:an(r,i,a,t.type,t.pendingProps);break;case 6:on(r,i,a,t.pendingProps);break;case g:sn(r,i,a)}break;case g:var o=e.memoizedState.dehydrated;if(null!==o)switch(t.tag){case 5:tn(o,t.type,t.pendingProps);break;case 6:nn(o,t.pendingProps);break;case g:rn(o)}break;default:return}}function Bo(e,t){t.flags=-4097&t.flags|2,Uo(e,t)}function Fo(e,t){switch(e.tag){case 5:var n=Pt(t,e.type,e.pendingProps);return null!==n&&(e.stateNode=n,Ao=e,Io=Nt(n),!0);case 6:var r=kt(t,e.pendingProps);return null!==r&&(e.stateNode=r,Ao=e,Io=null,!0);case g:var i=At(t);if(null!==i){var a={dehydrated:i,treeContext:(So(),null!==mo?{id:go,overflow:vo}:null),retryLane:wr};e.memoizedState=a;var o=function(e){var t=Zf(b,null,null,0);return t.stateNode=e,t}(i);return o.return=e,e.child=o,Ao=e,Io=null,!0}return!1;default:return!1}}function jo(e){return 0!=(1&e.mode)&&0==(e.flags&W)}function Vo(e){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function Ho(e){if(Ro){var t=Io;if(!t)return jo(e)&&(Uo(Ao,e),Vo()),Bo(Ao,e),Ro=!1,void(Ao=e);var n=t;if(!Fo(e,t)){jo(e)&&(Uo(Ao,e),Vo()),t=Ot(n);var r=Ao;if(!t||!Fo(e,t))return Bo(Ao,e),Ro=!1,void(Ao=e);zo(r,n)}}}function Wo(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==g;)t=t.return;Ao=t}function Go(e){if(!Ge)return!1;if(e!==Ao)return!1;if(!Ro)return Wo(e),Ro=!0,!1;if(3!==e.tag&&(5!==e.tag||$t(e.type)&&!De(e.type,e.memoizedProps))){var t=Io;if(t)if(jo(e))$o(e),Vo();else for(;t;)zo(e,t),t=Ot(t)}return Wo(e),Io=e.tag===g?function(e){if(!Ge)throw new Error("Expected skipPastDehydratedSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return jt(n)}(e):Ao?Ot(e.stateNode):null,!0}function $o(e){for(var t=Io;t;)Do(e,t),t=Ot(t)}function qo(){Ge&&(Ao=null,Io=null,Ro=!1,Lo=!1)}function Xo(){null!==Oo&&($d(Oo),Oo=null)}function Yo(){return Ro}function Zo(e){null===Oo?Oo=[e]:Oo.push(e)}function Ko(e,t,n){var r,i=n.ref;if(null!==i&&"function"!=typeof i&&"object"!=typeof i){if(8&e.mode&&(!n._owner||!n._self||n._owner.stateNode===n._self)){var a=V(e)||"Component";To[a]||(l('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',i),To[a]=!0)}if(n._owner){var o,s=n._owner;if(s){var u=s;if(1!==u.tag)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");o=u.stateNode}if(!o)throw new Error("Missing owner for string ref "+i+". This error is likely caused by a bug in React. Please file an issue.");var c=o;sa(r=i)&&(l("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.","ref",oa(r)),la(r));var h=""+i;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===h)return t.ref;var d=function(e){var t=c.refs;t===Qa&&(t=c.refs={}),null===e?delete t[h]:t[h]=e};return d._stringRef=h,d}if("string"!=typeof i)throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw new Error("Element ref was specified as a string ("+i+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return i}function Jo(e,t){var n=Object.prototype.toString.call(t);throw new Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}function Qo(e){var t=V(e)||"Component";Po[t]||(Po[t]=!0,l("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=H):r.push(n)}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)n.set(null!==r.key?r.key:r.index,r),r=r.sibling;return n}function i(e,t){var n=Jf(e,t);return n.index=0,n.sibling=null,n}function a(t,n,r){if(t.index=r,!e)return t.flags|=te,n;var i=t.alternate;if(null!==i){var a=i.index;return a<n?(t.flags|=2,n):a}return t.flags|=2,n}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){if(null===t||6!==t.tag){var a=ip(n,e.mode,r);return a.return=e,a}var o=i(t,n);return o.return=e,o}function u(e,t,n,r){var a=n.type;if(a===T)return h(e,t,n.props.children,r,n.key);if(null!==t&&(t.elementType===a||Uf(t,n)||"object"==typeof a&&null!==a&&a.$$typeof===N&&es(a)===t.type)){var o=i(t,n.props);return o.ref=Ko(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var s=tp(n,e.mode,r);return s.ref=Ko(e,t,n),s.return=e,s}function c(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var a=ap(n,e.mode,r);return a.return=e,a}var o=i(t,n.children||[]);return o.return=e,o}function h(e,t,n,r,a){if(null===t||7!==t.tag){var o=np(n,e.mode,r,a);return o.return=e,o}var s=i(t,n);return s.return=e,s}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t){var r=ip(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:var i=tp(t,e.mode,n);return i.ref=Ko(e,null,t),i.return=e,i;case E:var a=ap(t,e.mode,n);return a.return=e,a;case N:return d(e,(0,t._init)(t._payload),n)}if(_e(t)||U(t)){var o=np(t,e.mode,n,null);return o.return=e,o}Jo(0,t)}return"function"==typeof t&&Qo(e),null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case N:return f(e,t,(0,n._init)(n._payload),r)}if(_e(n)||U(n))return null!==i?null:h(e,t,n,r,null);Jo(0,n)}return"function"==typeof n&&Qo(e),null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return u(t,e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(_e(r)||U(r))return h(t,e.get(n)||null,r,i,null);Jo(0,r)}return"function"==typeof r&&Qo(t),null}function m(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case M:case E:ko(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}l("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",r);break;case N:m((0,e._init)(e._payload),t,n)}return t}return function s(u,c,h,g){if("object"==typeof h&&null!==h&&h.type===T&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case M:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){var u=a.type;if(u===T){if(7===l.tag){n(e,l.sibling);var c=i(l,a.props.children);return c.return=e,c._debugSource=a._source,c._debugOwner=a._owner,c}}else if(l.elementType===u||Uf(l,a)||"object"==typeof u&&null!==u&&u.$$typeof===N&&es(u)===l.type){n(e,l.sibling);var h=i(l,a.props);return h.ref=Ko(e,l,a),h.return=e,h._debugSource=a._source,h._debugOwner=a._owner,h}n(e,l);break}t(e,l),l=l.sibling}if(a.type===T){var d=np(a.props.children,e.mode,o,a.key);return d.return=e,d}var f=tp(a,e.mode,o);return f.ref=Ko(e,r,a),f.return=e,f}(u,c,h,g));case E:return o(function(e,r,a,o){for(var s=a.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===a.containerInfo&&l.stateNode.implementation===a.implementation){n(e,l.sibling);var u=i(l,a.children||[]);return u.return=e,u}n(e,l);break}t(e,l),l=l.sibling}var c=ap(a,e.mode,o);return c.return=e,c}(u,c,h,g));case N:return s(u,c,(0,h._init)(h._payload),g)}if(_e(h))return function(i,o,s,l){for(var u=null,c=0;c<s.length;c++)u=m(s[c],u,i);for(var h=null,g=null,v=o,y=0,_=0,b=null;null!==v&&_<s.length;_++){v.index>_?(b=v,v=null):b=v.sibling;var x=f(i,v,s[_],l);if(null===x){null===v&&(v=b);break}e&&v&&null===x.alternate&&t(i,v),y=a(x,y,_),null===g?h=x:g.sibling=x,g=x,v=b}if(_===s.length)return n(i,v),Yo()&&yo(i,_),h;if(null===v){for(;_<s.length;_++){var w=d(i,s[_],l);null!==w&&(y=a(w,y,_),null===g?h=w:g.sibling=w,g=w)}return Yo()&&yo(i,_),h}for(var S=r(0,v);_<s.length;_++){var M=p(S,i,_,s[_],l);null!==M&&(e&&null!==M.alternate&&S.delete(null===M.key?_:M.key),y=a(M,y,_),null===g?h=M:g.sibling=M,g=M)}return e&&S.forEach(function(e){return t(i,e)}),Yo()&&yo(i,_),h}(u,c,h,g);if(U(h))return function(i,o,s,u){var c=U(s);if("function"!=typeof c)throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===s[Symbol.toStringTag]&&(Eo||l("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Eo=!0),s.entries===c&&(Mo||l("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Mo=!0);var h=c.call(s);if(h)for(var g=null,v=h.next();!v.done;v=h.next())g=m(v.value,g,i);var y=c.call(s);if(null==y)throw new Error("An iterable object provided no iterator.");for(var _=null,b=null,x=o,w=0,S=0,M=null,E=y.next();null!==x&&!E.done;S++,E=y.next()){x.index>S?(M=x,x=null):M=x.sibling;var T=f(i,x,E.value,u);if(null===T){null===x&&(x=M);break}e&&x&&null===T.alternate&&t(i,x),w=a(T,w,S),null===b?_=T:b.sibling=T,b=T,x=M}if(E.done)return n(i,x),Yo()&&yo(i,S),_;if(null===x){for(;!E.done;S++,E=y.next()){var C=d(i,E.value,u);null!==C&&(w=a(C,w,S),null===b?_=C:b.sibling=C,b=C)}return Yo()&&yo(i,S),_}for(var P=r(0,x);!E.done;S++,E=y.next()){var k=p(P,i,S,E.value,u);null!==k&&(e&&null!==k.alternate&&P.delete(null===k.key?S:k.key),w=a(k,w,S),null===b?_=k:b.sibling=k,b=k)}return e&&P.forEach(function(e){return t(i,e)}),Yo()&&yo(i,S),_}(u,c,h,g);Jo(0,h)}return"string"==typeof h&&""!==h||"number"==typeof h?o(function(e,t,r,a){if(null!==t&&6===t.tag){n(e,t.sibling);var o=i(t,r);return o.return=e,o}n(e,t);var s=ip(r,e.mode,a);return s.return=e,s}(u,c,""+h,g)):("function"==typeof h&&Qo(u),n(u,c))}}Mo=!1,Eo=!1,To={},Co={},Po={},ko=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=V(t)||"Component";Co[n]||(Co[n]=!0,l('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var ns=ts(!0),rs=ts(!1);function is(e,t){for(var n=e.child;null!==n;)Qf(n,t),n=n.sibling}var as={},os=kn(as),ss=kn(as),ls=kn(as);function us(e){if(e===as)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function cs(){return us(ls.current)}function hs(e,t){In(ls,t,e),In(ss,e,e),In(os,as,e);var n=Pe(t);An(os,e),In(os,n,e)}function ds(e){An(os,e),An(ss,e),An(ls,e)}function fs(){return us(os.current)}function ps(e){var t=us(ls.current),n=us(os.current),r=ke(n,e.type,t);n!==r&&(In(ss,e,e),In(os,r,e))}function ms(e){ss.current===e&&(An(os,e),An(ss,e))}var gs=kn(0);function vs(e,t){return 0!=(e&t)}function ys(e){return 1&e}function _s(e,t){return 1&e|t}function bs(e,t){In(gs,t,e)}function xs(e){An(gs,e)}function ws(e,t){var n=e.memoizedState;return null===n||null!==n.dehydrated}function Ss(e){for(var t=e;null!==t;){if(t.tag===g){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||It(r)||Rt(r))return t}}else if(t.tag===x&&void 0!==t.memoizedProps.revealOrder){if(0!=(t.flags&W))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ms=[];function Es(){for(var e=0;e<Ms.length;e++){var t=Ms[e];je?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Ms.length=0}var Ts,Cs,Ps=a.ReactCurrentDispatcher,ks=a.ReactCurrentBatchConfig;Ts=new Set;var As=0,Is=null,Rs=null,Ls=null,Os=!1,Ns=!1,Ds=0,zs=0,Us=null,Bs=null,Fs=-1,js=!1;function Vs(){null===Bs?Bs=[Us]:Bs.push(Us)}function Hs(){null!==Bs&&(Fs++,Bs[Fs]!==Us&&function(e){var t=V(Is);if(!Ts.has(t)&&(Ts.add(t),null!==Bs)){for(var n="",r=0;r<=Fs;r++){for(var i=Bs[r],a=r===Fs?e:i,o=r+1+". "+i;o.length<30;)o+=" ";n+=o+=a+"\n"}l("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(Us))}function Ws(e){null==e||_e(e)||l("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Us,typeof e)}function Gs(){throw new Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function $s(e,t){if(js)return!1;if(null===t)return l("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Us),!1;e.length!==t.length&&l("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",Us,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Ai(e[n],t[n]))return!1;return!0}function qs(e,t,n,r,i,a){As=a,Is=t,Bs=null!==e?e._debugHookTypes:null,Fs=-1,js=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ps.current=null!==e&&null!==e.memoizedState?Kl:null!==Bs?Zl:Yl;var o=n(r,i);if(Ns){var s=0;do{if(Ns=!1,Ds=0,s>=25)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,js=!1,Rs=null,Ls=null,t.updateQueue=null,Fs=-1,Ps.current=Jl,o=n(r,i)}while(Ns)}Ps.current=Xl,t._debugHookTypes=Bs;var u=null!==Rs&&null!==Rs.next;if(As=0,Is=null,Rs=null,Ls=null,Us=null,Bs=null,Fs=-1,null!==e&&(e.flags&ue)!=(t.flags&ue)&&0!=(1&e.mode)&&l("Internal React error: Expected static flag was missing. Please notify the React team."),Os=!1,u)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return o}function Xs(){var e=0!==Ds;return Ds=0,e}function Ys(e,t,n){t.updateQueue=e.updateQueue,t.flags&=0!=(t.mode&qn)?-50333701:-2053,e.lanes=Vr(e.lanes,n)}function Zs(){if(Ps.current=Xl,Os){for(var e=Is.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Os=!1}As=0,Is=null,Rs=null,Ls=null,Bs=null,Fs=-1,Us=null,Ul=!1,Ns=!1,Ds=0}function Ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ls?Is.memoizedState=Ls=e:Ls=Ls.next=e,Ls}function Js(){var e,t;if(null===Rs){var n=Is.alternate;e=null!==n?n.memoizedState:null}else e=Rs.next;if(null!==(t=null===Ls?Is.memoizedState:Ls.next))t=(Ls=t).next,Rs=e;else{if(null===e)throw new Error("Rendered more hooks than during the previous render.");var r={memoizedState:(Rs=e).memoizedState,baseState:Rs.baseState,baseQueue:Rs.baseQueue,queue:Rs.queue,next:null};null===Ls?Is.memoizedState=Ls=r:Ls=Ls.next=r}return Ls}function Qs(e,t){return"function"==typeof t?t(e):t}function el(e,t,n){var r,i=Ks();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r};i.queue=a;var o=a.dispatch=jl.bind(null,Is,a);return[i.memoizedState,o]}function tl(e,t,n){var r=Js(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=Rs,o=a.baseQueue,s=i.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}a.baseQueue!==o&&l("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),a.baseQueue=o=s,i.pending=null}if(null!==o){var c=o.next,h=a.baseState,d=null,f=null,p=null,m=c;do{var g=m.lane;if(Fr(As,g))null!==p&&(p=p.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),h=m.hasEagerState?m.eagerState:e(h,m.action);else{var v={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};null===p?(f=p=v,d=h):p=p.next=v,Is.lanes=jr(Is.lanes,g),nf(g)}m=m.next}while(null!==m&&m!==c);null===p?d=h:p.next=f,Ai(h,r.memoizedState)||Cc(),r.memoizedState=h,r.baseState=d,r.baseQueue=p,i.lastRenderedState=h}var y=i.interleaved;if(null!==y){var _=y;do{var b=_.lane;Is.lanes=jr(Is.lanes,b),nf(b),_=_.next}while(_!==y)}else null===o&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function nl(e,t,n){var r=Js(),i=r.queue;if(null===i)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,s=r.memoizedState;if(null!==o){i.pending=null;var l=o.next,u=l;do{s=e(s,u.action),u=u.next}while(u!==l);Ai(s,r.memoizedState)||Cc(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,a]}function rl(e,t,n){var r,i=Is,a=Ks();if(Yo()){if(void 0===n)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");r=n(),Cs||r!==n()&&(l("The result of getServerSnapshot should be cached to avoid an infinite loop"),Cs=!0)}else{if(r=t(),!Cs){var o=t();Ai(r,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Cs=!0)}if(null===zd())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,As)||al(i,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,yl(sl.bind(null,i,s,e),[e]),i.flags|=X,fl(9,ol.bind(null,i,s,r,t),void 0,null),r}function il(e,t,n){var r=Is,i=Js(),a=t();if(!Cs){var o=t();Ai(a,o)||(l("The result of getSnapshot should be cached to avoid an infinite loop"),Cs=!0)}var s=!Ai(i.memoizedState,a);s&&(i.memoizedState=a,Cc());var u=i.queue;if(_l(sl.bind(null,r,u,e),[e]),u.getSnapshot!==t||s||null!==Ls&&1&Ls.memoizedState.tag){if(r.flags|=X,fl(9,ol.bind(null,r,u,a,t),void 0,null),null===zd())throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Lr(0,As)||al(r,t,a)}return a}function al(e,t,n){e.flags|=K;var r={getSnapshot:t,value:n},i=Is.updateQueue;if(null===i)Is.updateQueue=i={lastEffect:null,stores:null},i.stores=[r];else{var a=i.stores;null===a?i.stores=[r]:a.push(r)}}function ol(e,t,n,r){t.value=n,t.getSnapshot=r,ll(t)&&ul(e)}function sl(e,t,n){return n(function(){ll(t)&&ul(e)})}function ll(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ai(n,r)}catch(e){return!0}}function ul(e){Fd(e,1,Mr)}function cl(e){var t=Ks();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e};t.queue=n;var r=n.dispatch=Vl.bind(null,Is,n);return[t.memoizedState,r]}function hl(e){return tl(Qs)}function dl(e){return nl(Qs)}function fl(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},a=Is.updateQueue;if(null===a)Is.updateQueue=a={lastEffect:null,stores:null},a.lastEffect=i.next=i;else{var o=a.lastEffect;if(null===o)a.lastEffect=i.next=i;else{var s=o.next;o.next=i,i.next=s,a.lastEffect=i}}return i}function pl(e){var t={current:e};return Ks().memoizedState=t,t}function ml(e){return Js().memoizedState}function gl(e,t,n,r){var i=Ks(),a=void 0===r?null:r;Is.flags|=e,i.memoizedState=fl(1|t,n,void 0,a)}function vl(e,t,n,r){var i=Js(),a=void 0===r?null:r,o=void 0;if(null!==Rs){var s=Rs.memoizedState;if(o=s.destroy,null!==a&&$s(a,s.deps))return void(i.memoizedState=fl(t,n,o,a))}Is.flags|=e,i.memoizedState=fl(1|t,n,o,a)}function yl(e,t){return gl(0!=(Is.mode&qn)?41945088:8390656,8,e,t)}function _l(e,t){return vl(X,8,e,t)}function bl(e,t){return gl(4,2,e,t)}function xl(e,t){return vl(4,2,e,t)}function wl(e,t){var n=4;return n|=re,0!=(Is.mode&qn)&&(n|=ie),gl(n,4,e,t)}function Sl(e,t){return vl(4,4,e,t)}function Ml(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||l("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var a=e();return i.current=a,function(){i.current=null}}}function El(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null,i=4;return i|=re,0!=(Is.mode&qn)&&(i|=ie),gl(i,4,Ml.bind(null,t,e),r)}function Tl(e,t,n){"function"!=typeof t&&l("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return vl(4,4,Ml.bind(null,t,e),r)}function Cl(e,t){return Ks().memoizedState=[e,void 0===t?null:t],e}function Pl(e,t){var n=Js(),r=void 0===t?null:t,i=n.memoizedState;return null!==i&&null!==r&&$s(r,i[1])?i[0]:(n.memoizedState=[e,r],e)}function kl(e,t){var n=Ks(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function Al(e,t){var n=Js(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&null!==r&&$s(r,i[1]))return i[0];var a=e();return n.memoizedState=[a,r],a}function Il(e){var t=cl(e),n=t[0],r=t[1];return yl(function(){var t=ks.transition;ks.transition={};try{r(e)}finally{ks.transition=t}},[e]),n}function Rl(e){var t=hl(),n=t[0],r=t[1];return _l(function(){var t=ks.transition;ks.transition={};try{r(e)}finally{ks.transition=t}},[e]),n}function Ll(e){var t=dl(),n=t[0],r=t[1];return _l(function(){var t=ks.transition;ks.transition={};try{r(e)}finally{ks.transition=t}},[e]),n}function Ol(e,t,n){var r=Jr();Qr(function(e,t){return 0!==e&&e<4?e:4}(r)),e(!0);var i=ks.transition;ks.transition={};var a=ks.transition;ks.transition._updatedFibers=new Set;try{e(!1),t()}finally{Qr(r),ks.transition=i,null===i&&a._updatedFibers&&(a._updatedFibers.size>10&&s("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),a._updatedFibers.clear())}}function Nl(){var e=cl(!1),t=e[0],n=Ol.bind(null,e[1]);return Ks().memoizedState=n,[t,n]}function Dl(){return[hl()[0],Js().memoizedState]}function zl(){return[dl()[0],Js().memoizedState]}var Ul=!1;function Bl(){var e,t,n=Ks(),r=zd().identifierPrefix;if(Yo()){e=":"+r+"R"+(t=vo,(go&~function(e){return 1<<xo(e)-1}(go)).toString(32)+t);var i=Ds++;i>0&&(e+="H"+i.toString(32)),e+=":"}else e=":"+r+"r"+(zs++).toString(32)+":";return n.memoizedState=e,e}function Fl(){return Js().memoizedState}function jl(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Bd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hl(e))Wl(t,i);else{Gl(e,t,i);var a=Ud(),o=Fd(e,r,a);null!==o&&$l(o,t,r)}ql(e,r)}function Vl(e,t,n){"function"==typeof arguments[3]&&l("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Bd(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hl(e))Wl(t,i);else{Gl(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)){var o=t.lastRenderedReducer;if(null!==o){var s;s=Ps.current,Ps.current=eu;try{var u=t.lastRenderedState,c=o(u,n);if(i.hasEagerState=!0,i.eagerState=c,Ai(c,u))return}catch(e){}finally{Ps.current=s}}}var h=Ud(),d=Fd(e,r,h);null!==d&&$l(d,t,r)}ql(e,r)}function Hl(e){var t=e.alternate;return e===Is||null!==t&&t===Is}function Wl(e,t){Ns=Os=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gl(e,t,n,r){if(Vd(e)){var i=t.interleaved;null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n}else{var a=t.pending;null===a?n.next=n:(n.next=a.next,a.next=n),t.pending=n}}function $l(e,t,n){if(Or(n)){var r=t.lanes,i=jr(r=Hr(r,e.pendingLanes),n);t.lanes=i,qr(e,i)}}function ql(e,t,n){ki(e,t)}var Xl={readContext:Ma,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:d},Yl=null,Zl=null,Kl=null,Jl=null,Ql=null,eu=null,tu=null,nu=function(){l("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ru=function(){l("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Yl={readContext:function(e){return Ma(e)},useCallback:function(e,t){return Us="useCallback",Vs(),Ws(t),Cl(e,t)},useContext:function(e){return Us="useContext",Vs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",Vs(),Ws(t),yl(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",Vs(),Ws(n),El(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",Vs(),Ws(t),bl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",Vs(),Ws(t),wl(e,t)},useMemo:function(e,t){Us="useMemo",Vs(),Ws(t);var n=Ps.current;Ps.current=Ql;try{return kl(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",Vs();var r=Ps.current;Ps.current=Ql;try{return el(e,t,n)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",Vs(),pl(e)},useState:function(e){Us="useState",Vs();var t=Ps.current;Ps.current=Ql;try{return cl(e)}finally{Ps.current=t}},useDebugValue:function(e,t){Us="useDebugValue",Vs()},useDeferredValue:function(e){return Us="useDeferredValue",Vs(),Il(e)},useTransition:function(){return Us="useTransition",Vs(),Nl()},useMutableSource:function(e,t,n){Us="useMutableSource",Vs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",Vs(),rl(e,t,n)},useId:function(){return Us="useId",Vs(),Bl()},unstable_isNewReconciler:d},Zl={readContext:function(e){return Ma(e)},useCallback:function(e,t){return Us="useCallback",Hs(),Cl(e,t)},useContext:function(e){return Us="useContext",Hs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",Hs(),yl(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",Hs(),El(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",Hs(),bl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",Hs(),wl(e,t)},useMemo:function(e,t){Us="useMemo",Hs();var n=Ps.current;Ps.current=Ql;try{return kl(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",Hs();var r=Ps.current;Ps.current=Ql;try{return el(e,t,n)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",Hs(),pl(e)},useState:function(e){Us="useState",Hs();var t=Ps.current;Ps.current=Ql;try{return cl(e)}finally{Ps.current=t}},useDebugValue:function(e,t){Us="useDebugValue",Hs()},useDeferredValue:function(e){return Us="useDeferredValue",Hs(),Il(e)},useTransition:function(){return Us="useTransition",Hs(),Nl()},useMutableSource:function(e,t,n){Us="useMutableSource",Hs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",Hs(),rl(e,t,n)},useId:function(){return Us="useId",Hs(),Bl()},unstable_isNewReconciler:d},Kl={readContext:function(e){return Ma(e)},useCallback:function(e,t){return Us="useCallback",Hs(),Pl(e,t)},useContext:function(e){return Us="useContext",Hs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",Hs(),_l(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",Hs(),Tl(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",Hs(),xl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",Hs(),Sl(e,t)},useMemo:function(e,t){Us="useMemo",Hs();var n=Ps.current;Ps.current=eu;try{return Al(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",Hs();var r=Ps.current;Ps.current=eu;try{return tl(e)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",Hs(),ml()},useState:function(e){Us="useState",Hs();var t=Ps.current;Ps.current=eu;try{return hl()}finally{Ps.current=t}},useDebugValue:function(e,t){return Us="useDebugValue",void Hs()},useDeferredValue:function(e){return Us="useDeferredValue",Hs(),Rl(e)},useTransition:function(){return Us="useTransition",Hs(),Dl()},useMutableSource:function(e,t,n){Us="useMutableSource",Hs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",Hs(),il(e,t)},useId:function(){return Us="useId",Hs(),Fl()},unstable_isNewReconciler:d},Jl={readContext:function(e){return Ma(e)},useCallback:function(e,t){return Us="useCallback",Hs(),Pl(e,t)},useContext:function(e){return Us="useContext",Hs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",Hs(),_l(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",Hs(),Tl(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",Hs(),xl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",Hs(),Sl(e,t)},useMemo:function(e,t){Us="useMemo",Hs();var n=Ps.current;Ps.current=tu;try{return Al(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",Hs();var r=Ps.current;Ps.current=tu;try{return nl(e)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",Hs(),ml()},useState:function(e){Us="useState",Hs();var t=Ps.current;Ps.current=tu;try{return dl()}finally{Ps.current=t}},useDebugValue:function(e,t){return Us="useDebugValue",void Hs()},useDeferredValue:function(e){return Us="useDeferredValue",Hs(),Ll(e)},useTransition:function(){return Us="useTransition",Hs(),zl()},useMutableSource:function(e,t,n){Us="useMutableSource",Hs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",Hs(),il(e,t)},useId:function(){return Us="useId",Hs(),Fl()},unstable_isNewReconciler:d},Ql={readContext:function(e){return nu(),Ma(e)},useCallback:function(e,t){return Us="useCallback",ru(),Vs(),Cl(e,t)},useContext:function(e){return Us="useContext",ru(),Vs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",ru(),Vs(),yl(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",ru(),Vs(),El(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",ru(),Vs(),bl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",ru(),Vs(),wl(e,t)},useMemo:function(e,t){Us="useMemo",ru(),Vs();var n=Ps.current;Ps.current=Ql;try{return kl(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",ru(),Vs();var r=Ps.current;Ps.current=Ql;try{return el(e,t,n)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",ru(),Vs(),pl(e)},useState:function(e){Us="useState",ru(),Vs();var t=Ps.current;Ps.current=Ql;try{return cl(e)}finally{Ps.current=t}},useDebugValue:function(e,t){Us="useDebugValue",ru(),Vs()},useDeferredValue:function(e){return Us="useDeferredValue",ru(),Vs(),Il(e)},useTransition:function(){return Us="useTransition",ru(),Vs(),Nl()},useMutableSource:function(e,t,n){Us="useMutableSource",ru(),Vs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",ru(),Vs(),rl(e,t,n)},useId:function(){return Us="useId",ru(),Vs(),Bl()},unstable_isNewReconciler:d},eu={readContext:function(e){return nu(),Ma(e)},useCallback:function(e,t){return Us="useCallback",ru(),Hs(),Pl(e,t)},useContext:function(e){return Us="useContext",ru(),Hs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",ru(),Hs(),_l(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",ru(),Hs(),Tl(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",ru(),Hs(),xl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",ru(),Hs(),Sl(e,t)},useMemo:function(e,t){Us="useMemo",ru(),Hs();var n=Ps.current;Ps.current=eu;try{return Al(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",ru(),Hs();var r=Ps.current;Ps.current=eu;try{return tl(e)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",ru(),Hs(),ml()},useState:function(e){Us="useState",ru(),Hs();var t=Ps.current;Ps.current=eu;try{return hl()}finally{Ps.current=t}},useDebugValue:function(e,t){return Us="useDebugValue",ru(),void Hs()},useDeferredValue:function(e){return Us="useDeferredValue",ru(),Hs(),Rl(e)},useTransition:function(){return Us="useTransition",ru(),Hs(),Dl()},useMutableSource:function(e,t,n){Us="useMutableSource",ru(),Hs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",ru(),Hs(),il(e,t)},useId:function(){return Us="useId",ru(),Hs(),Fl()},unstable_isNewReconciler:d},tu={readContext:function(e){return nu(),Ma(e)},useCallback:function(e,t){return Us="useCallback",ru(),Hs(),Pl(e,t)},useContext:function(e){return Us="useContext",ru(),Hs(),Ma(e)},useEffect:function(e,t){return Us="useEffect",ru(),Hs(),_l(e,t)},useImperativeHandle:function(e,t,n){return Us="useImperativeHandle",ru(),Hs(),Tl(e,t,n)},useInsertionEffect:function(e,t){return Us="useInsertionEffect",ru(),Hs(),xl(e,t)},useLayoutEffect:function(e,t){return Us="useLayoutEffect",ru(),Hs(),Sl(e,t)},useMemo:function(e,t){Us="useMemo",ru(),Hs();var n=Ps.current;Ps.current=eu;try{return Al(e,t)}finally{Ps.current=n}},useReducer:function(e,t,n){Us="useReducer",ru(),Hs();var r=Ps.current;Ps.current=eu;try{return nl(e)}finally{Ps.current=r}},useRef:function(e){return Us="useRef",ru(),Hs(),ml()},useState:function(e){Us="useState",ru(),Hs();var t=Ps.current;Ps.current=eu;try{return dl()}finally{Ps.current=t}},useDebugValue:function(e,t){return Us="useDebugValue",ru(),void Hs()},useDeferredValue:function(e){return Us="useDeferredValue",ru(),Hs(),Ll(e)},useTransition:function(){return Us="useTransition",ru(),Hs(),zl()},useMutableSource:function(e,t,n){Us="useMutableSource",ru(),Hs()},useSyncExternalStore:function(e,t,n){return Us="useSyncExternalStore",ru(),Hs(),il(e,t)},useId:function(){return Us="useId",ru(),Hs(),Fl()},unstable_isNewReconciler:d};var iu=i.unstable_now,au=0,ou=-1,su=-1,lu=-1,uu=!1,cu=!1;function hu(){return uu}function du(){return au}function fu(){au=iu()}function pu(e){su=iu(),e.actualStartTime<0&&(e.actualStartTime=iu())}function mu(e){su=-1}function gu(e,t){if(su>=0){var n=iu()-su;e.actualDuration+=n,t&&(e.selfBaseDuration=n),su=-1}}function vu(e){if(ou>=0){var t=iu()-ou;ou=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:case m:return void(n.stateNode.effectDuration+=t)}n=n.return}}}function yu(e){if(lu>=0){var t=iu()-lu;lu=-1;for(var n=e.return;null!==n;){switch(n.tag){case 3:var r=n.stateNode;return void(null!==r&&(r.passiveEffectDuration+=t));case m:var i=n.stateNode;return void(null!==i&&(i.passiveEffectDuration+=t))}n=n.return}}}function _u(){ou=iu()}function bu(){lu=iu()}function xu(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}function wu(e,t){return{value:e,source:t,stack:ji(t)}}function Su(e,t){try{var n=t.value,r=t.source,i=t.stack,a=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var o,s=r?V(r):null,l=s?"The above error occurred in the <"+s+"> component:":"The above error occurred in one of your React components:";o=3===e.tag?"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.":"React will try to recreate this component tree from scratch using the error boundary you provided, "+(V(e)||"Anonymous")+".",console.error(l+"\n"+a+"\n\n"+o)}catch(e){setTimeout(function(){throw e})}}var Mu,Eu,Tu,Cu,Pu="function"==typeof WeakMap?WeakMap:Map;function ku(e,t,n){var r=Ra(Mr,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ff(i),Su(e,t)},r}function Au(e,t,n){var r=Ra(Mr,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){Bf(e),Su(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){Bf(e),Su(e,t),"function"!=typeof i&&(null===Cd?Cd=new Set([this]):Cd.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""}),"function"!=typeof i&&(Br(e.lanes,1)||l("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",V(e)||"Unknown"))}),r}function Iu(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new Pu,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var a=gf.bind(null,e,t,n);vi&&Cf(e,n),t.then(a,a)}}function Ru(e){var t=e;do{if(t.tag===g&&ws(t))return t;t=t.return}while(null!==t);return null}function Lu(e,t,n,r,i){if(0==(1&e.mode)){if(e===t)e.flags|=Q;else{if(e.flags|=W,n.flags|=ee,n.flags&=-52805,1===n.tag)if(null===n.alternate)n.tag=_;else{var a=Ra(Mr,1);a.tag=2,La(n,a)}n.lanes=jr(n.lanes,1)}return e}return e.flags|=Q,e.lanes=i,e}function Ou(e,t,n,r,i){if(n.flags|=J,vi&&Cf(e,i),null!==r&&"object"==typeof r&&"function"==typeof r.then){var a=r;!function(e,t){var n=e.tag;if(0==(1&e.mode)&&(0===n||n===p||n===y)){var r=e.alternate;r?(e.updateQueue=r.updateQueue,e.memoizedState=r.memoizedState,e.lanes=r.lanes):(e.updateQueue=null,e.memoizedState=null)}}(n);var o=Ru(t);if(null!==o)return o.flags&=-257,Lu(o,t,n,0,i),1&o.mode&&Iu(e,a,i),void function(e,t,n,r){var i=e.updateQueue;if(null===i){var a=new Set;a.add(n),e.updateQueue=a}else i.add(n)}(o,0,a);if(0==(1&i))return Iu(e,a,i),void rf();r=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.")}else if(Yo()&&1&n.mode){Lo=!0;var s=Ru(t);if(null!==s)return 0==(s.flags&Q)&&(s.flags|=G),Lu(s,t,n,0,i),void Zo(r)}!function(e){4!==pd&&(pd=2),null===_d?_d=[e]:_d.push(e)}(r),r=wu(r,n);var l=t;do{switch(l.tag){case 3:var u=r;l.flags|=Q;var c=Dr(i);return l.lanes=jr(l.lanes,c),void Na(l,ku(l,u,c));case 1:var h=r,d=l.stateNode;if(0==(l.flags&W)&&("function"==typeof l.type.getDerivedStateFromError||null!==d&&"function"==typeof d.componentDidCatch&&!df(d))){l.flags|=Q;var f=Dr(i);return l.lanes=jr(l.lanes,f),void Na(l,Au(l,h,f))}}l=l.return}while(null!==l)}function Nu(e){e.flags|=4}function Du(e){e.flags|=$,e.flags|=ne}function zu(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(t.flags&H))return!1;for(var n=t.child;null!==n;){if(0!=(n.flags&oe)||0!=(n.subtreeFlags&oe))return!1;n=n.sibling}return!0}if(He)Mu=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)Le(e,i.stateNode);else if(4===i.tag);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eu=function(e,t){},Tu=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var o=t.stateNode,s=fs(),l=Ne(o,n,a,r,i,s);t.updateQueue=l,l&&Nu(t)}},Cu=function(e,t,n,r){n!==r&&Nu(t)};else if(We){Mu=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Tt(a,i.type,i.memoizedProps,i)),Le(e,a)}else if(6===i.tag){var o=i.stateNode;n&&r&&(o=Ct(o,i.memoizedProps,i)),Le(e,o)}else if(4===i.tag);else if(i.tag===w&&null!==i.memoizedState){var s=i.child;null!==s&&(s.return=i),Mu(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Uu=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Tt(a,i.type,i.memoizedProps,i)),St(e,a)}else if(6===i.tag){var o=i.stateNode;n&&r&&(o=Ct(o,i.memoizedProps,i)),St(e,o)}else if(4===i.tag);else if(i.tag===w&&null!==i.memoizedState){var s=i.child;null!==s&&(s.return=i),Uu(e,i,!0,!0)}else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)return;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Eu=function(e,t){var n=t.stateNode;if(zu(e,t));else{var r=n.containerInfo,i=wt(r);Uu(i,t,!1,!1),n.pendingChildren=i,Nu(t),Mt(r,i)}},Tu=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps,s=zu(e,t);if(s&&o===r)t.stateNode=a;else{var l=t.stateNode,u=fs(),c=null;if(o!==r&&(c=Ne(l,n,o,r,i,u)),s&&null===c)t.stateNode=a;else{var h=xt(a,c,n,o,r,t,s,l);Oe(h,n,r,i,u)&&Nu(t),t.stateNode=h,s?Nu(t):Mu(h,t,!1,!1)}}},Cu=function(e,t,n,r){if(n!==r){var i=cs(),a=fs();t.stateNode=ze(r,i,a,t),Nu(t)}else t.stateNode=e.stateNode}}else Eu=function(e,t){},Tu=function(e,t,n,r,i){},Cu=function(e,t,n,r){};function Bu(e,t){if(!Yo())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t){if(0!=(2&e.mode)){for(var i=e.selfBaseDuration,a=e.child;null!==a;)n=jr(n,jr(a.lanes,a.childLanes)),r|=a.subtreeFlags&ue,r|=a.flags&ue,i+=a.treeBaseDuration,a=a.sibling;e.treeBaseDuration=i}else for(var o=e.child;null!==o;)n=jr(n,jr(o.lanes,o.childLanes)),r|=o.subtreeFlags&ue,r|=o.flags&ue,o.return=e,o=o.sibling;e.subtreeFlags|=r}else{if(0!=(2&e.mode)){for(var s=e.actualDuration,l=e.selfBaseDuration,u=e.child;null!==u;)n=jr(n,jr(u.lanes,u.childLanes)),r|=u.subtreeFlags,r|=u.flags,s+=u.actualDuration,l+=u.treeBaseDuration,u=u.sibling;e.actualDuration=s,e.treeBaseDuration=l}else for(var c=e.child;null!==c;)n=jr(n,jr(c.lanes,c.childLanes)),r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;e.subtreeFlags|=r}return e.childLanes=n,t}function ju(e,t,n){var r=t.pendingProps;switch(wo(t),t.tag){case 2:case 16:case y:case 0:case p:case 7:case 8:case m:case 9:case v:return Fu(t),null;case 1:return Fn(t.type)&&jn(t),Fu(t),null;case 3:var i=t.stateNode;return ds(t),Vn(t),Es(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(Go(t)?Nu(t):null!==e&&(e.memoizedState.isDehydrated&&0==(t.flags&G)||(t.flags|=q,Xo()))),Eu(e,t),Fu(t),null;case 5:ms(t);var a=cs(),o=t.type;if(null!==e&&null!=t.stateNode)Tu(e,t,o,r,a),e.ref!==t.ref&&Du(t);else{if(!r){if(null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Fu(t),null}var s=fs();if(Go(t))(function(e,t,n){if(!Ge)throw new Error("Expected prepareToHydrateHostInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var r=Ut(e.stateNode,e.type,e.memoizedProps,t,n,e,!Lo);return e.updateQueue=r,null!==r})(t,a,s)&&Nu(t);else{var l=Re(o,r,a,s,t);Mu(l,t,!1,!1),t.stateNode=l,Oe(l,o,r,a,s)&&Nu(t)}null!==t.ref&&Du(t)}return Fu(t),null;case 6:var u=r;if(e&&null!=t.stateNode)Cu(e,t,e.memoizedProps,u);else{if("string"!=typeof u&&null===t.stateNode)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var c=cs(),h=fs();Go(t)?function(e){if(!Ge)throw new Error("Expected prepareToHydrateHostTextInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.stateNode,n=e.memoizedProps,r=Bt(t,n,e,!Lo);if(r){var i=Ao;if(null!==i){var a=0!=(1&i.mode);switch(i.tag){case 3:qt(i.stateNode.containerInfo,t,n,a);break;case 5:Xt(i.type,i.memoizedProps,i.stateNode,t,n,a)}}}return r}(t)&&Nu(t):t.stateNode=ze(u,c,h,t)}return Fu(t),null;case g:xs(t);var d=t.memoizedState;if(Ro&&null!==Io&&0!=(1&t.mode)&&0==(t.flags&W))return $o(t),qo(),t.flags|=98560,t;if(null!==d&&null!==d.dehydrated){var b=Go(t);if(null===e){if(!b)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(function(e){if(!Ge)throw new Error("Expected prepareToHydrateHostSuspenseInstance() to never be called. This error is likely caused by a bug in React. Please file an issue.");var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Ft(n,e)}(t),Fu(t),0!=(2&t.mode)&&null!==d){var M=t.child;null!==M&&(t.treeBaseDuration-=M.treeBaseDuration)}return null}if(qo(),0==(t.flags&W)&&(t.memoizedState=null),t.flags|=4,Fu(t),0!=(2&t.mode)&&null!==d){var E=t.child;null!==E&&(t.treeBaseDuration-=E.treeBaseDuration)}return null}if(Xo(),0!=(t.flags&W))return t.lanes=n,0!=(2&t.mode)&&xu(t),t;var T=null!==d,C=!1;if(null===e?Go(t):C=null!==e.memoizedState,T&&!C&&(t.child.flags|=Z,0!=(1&t.mode)&&(null===e||vs(gs.current,1)?0===pd&&(pd=3):rf())),null!==t.updateQueue&&(t.flags|=4),Fu(t),0!=(2&t.mode)&&T){var P=t.child;null!==P&&(t.treeBaseDuration-=P.treeBaseDuration)}return null;case 4:return ds(t),Eu(e,t),null===e&&qe(t.stateNode.containerInfo),Fu(t),null;case f:return xa(t.type._context,t),Fu(t),null;case _:return Fn(t.type)&&jn(t),Fu(t),null;case x:xs(t);var k=t.memoizedState;if(null===k)return Fu(t),null;var A=0!=(t.flags&W),I=k.rendering;if(null===I)if(A)Bu(k,!1);else{if(0!==pd||null!==e&&0!=(e.flags&W))for(var R=t.child;null!==R;){var L=Ss(R);if(null!==L){A=!0,t.flags|=W,Bu(k,!1);var O=L.updateQueue;return null!==O&&(t.updateQueue=O,t.flags|=4),t.subtreeFlags=0,is(t,n),bs(t,_s(gs.current,2)),t.child}R=R.sibling}null!==k.tail&&oi()>Md()&&(t.flags|=W,A=!0,Bu(k,!1),t.lanes=vr)}else{if(!A){var N=Ss(I);if(null!==N){t.flags|=W,A=!0;var D=N.updateQueue;if(null!==D&&(t.updateQueue=D,t.flags|=4),Bu(k,!0),null===k.tail&&"hidden"===k.tailMode&&!I.alternate&&!Yo())return Fu(t),null}else 2*oi()-k.renderingStartTime>Md()&&n!==wr&&(t.flags|=W,A=!0,Bu(k,!1),t.lanes=vr)}if(k.isBackwards)I.sibling=t.child,t.child=I;else{var z=k.last;null!==z?z.sibling=I:t.child=I,k.last=I}}if(null!==k.tail){var U=k.tail;k.rendering=U,k.tail=U.sibling,k.renderingStartTime=oi(),U.sibling=null;var B=gs.current;return bs(t,B=A?_s(B,2):ys(B)),U}return Fu(t),null;case 21:break;case w:case S:Kd(t);var F=null!==t.memoizedState;return null!==e&&null!==e.memoizedState!==F&&(t.flags|=Z),F&&0!=(1&t.mode)?Br(dd,wr)&&(Fu(t),He&&6&t.subtreeFlags&&(t.flags|=Z)):Fu(t),null;case 24:case 25:return null}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}var Vu,Hu,Wu,Gu,$u,qu,Xu,Yu,Zu=a.ReactCurrentOwner,Ku=!1;function Ju(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Qu(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&Mn(a,r,"prop",F(n))}var o,s,l=n.render,u=t.ref;if(Sa(t,i),wi(t),Zu.current=t,Xi(!0),o=qs(e,t,l,r,u,i),s=Xs(),8&t.mode){yi(!0);try{o=qs(e,t,l,r,u,i),s=Xs()}finally{yi(!1)}}return Xi(!1),Si(),null===e||Ku?(Yo()&&s&&bo(t),t.flags|=1,Ju(e,t,o,i),t.child):(Ys(e,t,i),Pc(e,t,i))}function ec(e,t,n,r,i){if(null===e){var a,o=n.type;if(function(e){return"function"==typeof e&&!Kf(e)&&void 0===e.defaultProps}(o)&&null===n.compare&&void 0===n.defaultProps)return a=Nf(o),t.tag=y,t.type=a,uc(t,o),tc(e,t,a,r,i);var s=o.propTypes;s&&Mn(s,r,"prop",F(o));var l=ep(n.type,null,r,t,t.mode,i);return l.ref=t.ref,l.return=t,t.child=l,l}var u=n.type,c=u.propTypes;c&&Mn(c,r,"prop",F(u));var h=e.child;if(!kc(e,i)){var d=n.compare;if((d=null!==d?d:Bi)(h.memoizedProps,r)&&e.ref===t.ref)return Pc(e,t,i)}t.flags|=1;var f=Jf(h,r);return f.ref=t.ref,f.return=t,t.child=f,f}function tc(e,t,n,r,i){if(t.type!==t.elementType){var a=t.elementType;if(a.$$typeof===N){var o=a._payload,s=a._init;try{a=s(o)}catch(e){a=null}var l=a&&a.propTypes;l&&Mn(l,r,"prop",F(a))}}if(null!==e&&Bi(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type){if(Ku=!1,!kc(e,i))return t.lanes=e.lanes,Pc(e,t,i);0!=(e.flags&ee)&&(Ku=!0)}return ic(e,t,n,r,i)}function nc(e,t,n){var r,i=t.pendingProps,a=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Zd(t,n);else{var s;if(!Br(n,wr))return s=null!==o?jr(o.baseLanes,n):n,t.lanes=t.childLanes=wr,t.memoizedState={baseLanes:s,cachePool:null},t.updateQueue=null,Zd(t,s),null;t.memoizedState={baseLanes:0,cachePool:null},Zd(t,null!==o?o.baseLanes:n)}else null!==o?(r=jr(o.baseLanes,n),t.memoizedState=null):r=n,Zd(t,r);return Ju(e,t,a,n),t.child}function rc(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=$,t.flags|=ne)}function ic(e,t,n,r,i){if(t.type!==t.elementType){var a=n.propTypes;a&&Mn(a,r,"prop",F(n))}var o,s,l;if(o=Un(t,Dn(0,n,!0)),Sa(t,i),wi(t),Zu.current=t,Xi(!0),s=qs(e,t,n,r,o,i),l=Xs(),8&t.mode){yi(!0);try{s=qs(e,t,n,r,o,i),l=Xs()}finally{yi(!1)}}return Xi(!1),Si(),null===e||Ku?(Yo()&&l&&bo(t),t.flags|=1,Ju(e,t,s,i),t.child):(Ys(e,t,i),Pc(e,t,i))}function ac(e,t,n,r,i){switch(pp(t)){case!1:var a=t.stateNode,o=new(0,t.type)(t.memoizedProps,a.context);a.updater.enqueueSetState(a,o.state,null);break;case!0:t.flags|=W,t.flags|=Q;var s=new Error("Simulated error coming from DevTools"),u=Dr(i);t.lanes=jr(t.lanes,u),Na(t,Au(t,wu(s,t),u))}if(t.type!==t.elementType){var c=n.propTypes;c&&Mn(c,r,"prop",F(n))}var h,d;Fn(n)?(h=!0,Gn(t)):h=!1,Sa(t,i),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ao(t,n,r),so(t,n,r,i),d=!0):d=null===e?function(e,t,n,r){var i=e.stateNode,a=e.memoizedProps;i.props=a;var o,s=i.context,l=t.contextType;o="object"==typeof l&&null!==l?Ma(l):Un(e,Dn(0,t,!0));var u=t.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||a===n&&s===o||oo(e,i,n,o),Ba();var h=e.memoizedState,d=i.state=h;if(za(e,n,i,r),d=e.memoizedState,a===n&&h===d&&!Bn()&&!Fa()){if("function"==typeof i.componentDidMount){var f=4;f|=re,0!=(e.mode&qn)&&(f|=ie),e.flags|=f}return!1}"function"==typeof u&&(to(e,t,u,n),d=e.memoizedState);var p=Fa()||ro(e,t,a,n,h,d,o);if(p){if(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount){var m=4;m|=re,0!=(e.mode&qn)&&(m|=ie),e.flags|=m}}else{if("function"==typeof i.componentDidMount){var g=4;g|=re,0!=(e.mode&qn)&&(g|=ie),e.flags|=g}e.memoizedProps=n,e.memoizedState=d}return i.props=n,i.state=d,i.context=o,p}(t,n,r,i):function(e,t,n,r,i){var a=t.stateNode;Ia(e,t);var o=t.memoizedProps,s=t.type===t.elementType?o:ca(t.type,o);a.props=s;var l,u=t.pendingProps,c=a.context,h=n.contextType;l="object"==typeof h&&null!==h?Ma(h):Un(t,Dn(0,n,!0));var d=n.getDerivedStateFromProps,f="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||o===u&&c===l||oo(t,a,r,l),Ba();var p=t.memoizedState,m=a.state=p;if(za(t,r,a,i),m=t.memoizedState,o===u&&p===m&&!Bn()&&!Fa())return"function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=q)),!1;"function"==typeof d&&(to(t,n,d,r),m=t.memoizedState);var g=Fa()||ro(t,n,s,r,p,m,l)||!1;return g?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=q)):("function"==typeof a.componentDidUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof a.getSnapshotBeforeUpdate&&(o===e.memoizedProps&&p===e.memoizedState||(t.flags|=q)),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,g}(e,t,n,r,i);var f=oc(e,t,n,d,h,i);return d&&t.stateNode.props!==r&&(qu||l("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",V(t)||"a component"),qu=!0),f}function oc(e,t,n,r,i,a){rc(e,t);var o=0!=(t.flags&W);if(!r&&!o)return i&&$n(t,n,!1),Pc(e,t,a);var s,l=t.stateNode;if(Zu.current=t,o&&"function"!=typeof n.getDerivedStateFromError)s=null,mu();else{if(wi(t),Xi(!0),s=l.render(),8&t.mode){yi(!0);try{l.render()}finally{yi(!1)}}Xi(!1),Si()}return t.flags|=1,null!==e&&o?function(e,t,n,r){t.child=ns(t,e.child,null,r),t.child=ns(t,null,n,r)}(e,t,s,a):Ju(e,t,s,a),t.memoizedState=l.state,i&&$n(t,n,!0),t.child}function sc(e){var t=e.stateNode;t.pendingContext?Hn(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hn(e,t.context,!1),hs(e,t.containerInfo)}function lc(e,t,n,r,i){return qo(),Zo(i),t.flags|=G,Ju(e,t,n,r),t.child}function uc(e,t){if(t&&t.childContextTypes&&l("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=function(){if(null===Hi)return null;var e=Hi._debugOwner;return null!=e?V(e):null}();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||"",a=e._debugSource;a&&(i=a.fileName+":"+a.lineNumber),$u[i]||($u[i]=!0,l("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if("function"==typeof t.getDerivedStateFromProps){var o=F(t)||"Unknown";Gu[o]||(l("%s: Function components do not support getDerivedStateFromProps.",o),Gu[o]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var s=F(t)||"Unknown";Wu[s]||(l("%s: Function components do not support contextType.",s),Wu[s]=!0)}}Vu={},Hu={},Wu={},Gu={},$u={},qu=!1,Xu={},Yu={};var cc={dehydrated:null,treeContext:null,retryLane:0};function hc(e){return{baseLanes:e,cachePool:null}}function dc(e,t){return{baseLanes:jr(e.baseLanes,t),cachePool:null}}function fc(e,t){return Vr(e.childLanes,t)}function pc(e,t,n){var r=t.pendingProps;gp(t)&&(t.flags|=W);var i=gs.current,a=!1,o=0!=(t.flags&W);if(o||function(e,t,n,r){return(null===t||null!==t.memoizedState)&&vs(e,2)}(i,e)?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),bs(t,i=ys(i)),null===e){Ho(t);var s=t.memoizedState;if(null!==s){var u=s.dehydrated;if(null!==u)return function(e,t,n){return 0==(1&e.mode)?(l("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),e.lanes=1):e.lanes=Rt(t)?8:wr,null}(t,u)}var c=r.children;if(a){var h=function(e,t,n,r){var i,a,o=e.mode,s=e.child,l={mode:"hidden",children:t};return 0==(1&o)&&null!==s?((i=s).childLanes=0,i.pendingProps=l,2&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),a=np(n,o,r,null)):(i=gc(l,o),a=np(n,o,r,null)),i.return=e,a.return=e,i.sibling=a,e.child=i,a}(t,c,r.fallback,n);return t.child.memoizedState=hc(n),t.memoizedState=cc,h}return mc(t,c)}var d=e.memoizedState;if(null!==d){var f=d.dehydrated;if(null!==f){if(o){if(t.flags&G)return t.flags&=-257,bc(e,t,n,new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));if(null!==t.memoizedState)return t.child=e.child,t.flags|=W,null;var p=function(e,t,n,r,i){var a=t.mode,o=gc({mode:"visible",children:n},a),s=np(r,a,i,null);return s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,0!=(1&t.mode)&&ns(t,e.child,null,i),s}(e,t,r.children,r.fallback,n);return t.child.memoizedState=hc(n),t.memoizedState=cc,p}return function(e,t,n,r,i){if(Ro&&l("We should not be hydrating here. This is a bug in React. Please file a bug."),0==(1&t.mode))return bc(e,t,i,null);if(Rt(n))return bc(e,t,i,new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."));var a=Br(i,e.childLanes);if(Ku||a){var o=zd();if(null!==o){var s=function(e,t){var n;switch(Nr(t)){case 4:n=2;break;case Kn:n=8;break;case 64:case 128:case 256:case 512:case Qn:case er:case tr:case nr:case rr:case ir:case ar:case or:case sr:case lr:case ur:case cr:case dr:case fr:case pr:case mr:case gr:n=32;break;case xr:n=br;break;default:n=0}return 0!=(n&(e.suspendedLanes|t))?0:n}(o,i);0!==s&&s!==r.retryLane&&(r.retryLane=s,Fd(e,s,Mr))}return rf(),bc(e,t,i,new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."))}if(It(n)){t.flags|=W,t.child=e.child;var u=yf.bind(null,e);return Lt(n,u),null}No(t,n,r.treeContext);var c=mc(t,t.pendingProps.children);return c.flags|=Y,c}(e,t,f,d,n)}if(a){var m=_c(e,t,r.children,r.fallback,n),g=t.child,v=e.child.memoizedState;return g.memoizedState=null===v?hc(n):dc(v,n),g.childLanes=fc(e,n),t.memoizedState=cc,m}var y=yc(e,t,r.children,n);return t.memoizedState=null,y}if(a){var _=_c(e,t,r.children,r.fallback,n),b=t.child,x=e.child.memoizedState;return b.memoizedState=null===x?hc(n):dc(x,n),b.childLanes=fc(e,n),t.memoizedState=cc,_}var w=yc(e,t,r.children,n);return t.memoizedState=null,w}function mc(e,t,n){var r=gc({mode:"visible",children:t},e.mode);return r.return=e,e.child=r,r}function gc(e,t,n){return rp(e,t,0,null)}function vc(e,t){return Jf(e,t)}function yc(e,t,n,r){var i=e.child,a=i.sibling,o=vc(i,{mode:"visible",children:n});if(0==(1&t.mode)&&(o.lanes=r),o.return=t,o.sibling=null,null!==a){var s=t.deletions;null===s?(t.deletions=[a],t.flags|=H):s.push(a)}return t.child=o,o}function _c(e,t,n,r,i){var a,o,s=t.mode,l=e.child,u=l.sibling,c={mode:"hidden",children:n};return 0==(1&s)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,2&t.mode&&(a.actualDuration=0,a.actualStartTime=-1,a.selfBaseDuration=l.selfBaseDuration,a.treeBaseDuration=l.treeBaseDuration),t.deletions=null):(a=vc(l,c)).subtreeFlags=l.subtreeFlags&ue,null!==u?o=Jf(u,r):(o=np(r,s,i,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,o}function bc(e,t,n,r){null!==r&&Zo(r),ns(t,e.child,null,n);var i=mc(t,t.pendingProps.children);return i.flags|=2,t.memoizedState=null,i}function xc(e,t,n){e.lanes=jr(e.lanes,t);var r=e.alternate;null!==r&&(r.lanes=jr(r.lanes,t)),wa(e.return,t,n)}function wc(e,t){var n=_e(e),r=!n&&"function"==typeof U(e);if(n||r){var i=n?"array":"iterable";return l("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Sc(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Mc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail,o=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!Xu[e])if(Xu[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":l('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":l('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:l('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else l('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||Yu[e]||("collapsed"!==e&&"hidden"!==e?(Yu[e]=!0,l('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(Yu[e]=!0,l('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(a,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(_e(e)){for(var n=0;n<e.length;n++)if(!wc(e[n],n))return}else{var r=U(e);if("function"==typeof r){var i=r.call(e);if(i)for(var a=i.next(),o=0;!a.done;a=i.next()){if(!wc(a.value,o))return;o++}}else l('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(o,i),Ju(e,t,o,n);var s=gs.current;if(vs(s,2)?(s=_s(s,2),t.flags|=W):(null!==e&&0!=(e.flags&W)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===g)null!==r.memoizedState&&xc(r,n,e);else if(r.tag===x)xc(r,n,e);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),s=ys(s)),bs(t,s),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":var u,c=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===Ss(r)&&(n=t),t=t.sibling}return n}(t.child);null===c?(u=t.child,t.child=null):(u=c.sibling,c.sibling=null),Sc(t,!1,u,c,a);break;case"backwards":var h=null,d=t.child;for(t.child=null;null!==d;){var f=d.alternate;if(null!==f&&null===Ss(f)){t.child=d;break}var p=d.sibling;d.sibling=h,h=d,d=p}Sc(t,!0,h,null,a);break;case"together":Sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}var Ec=!1,Tc=!1;function Cc(){Ku=!0}function Pc(e,t,n){return null!==e&&(t.dependencies=e.dependencies),mu(),nf(t.lanes),Br(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw new Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=Jf(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)(r=r.sibling=Jf(n=n.sibling,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function kc(e,t){return!!Br(e.lanes,t)}function Ac(e,t,n){if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var a=r.deletions;return null===a?(r.deletions=[e],r.flags|=H):a.push(e),n.flags|=2,n}(e,t,ep(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||Bn()||t.type!==e.type)Ku=!0;else{if(!kc(e,n)&&0==(t.flags&W))return Ku=!1,function(e,t,n){switch(t.tag){case 3:sc(t),qo();break;case 5:ps(t);break;case 1:Fn(t.type)&&Gn(t);break;case 4:hs(t,t.stateNode.containerInfo);break;case f:ba(t,t.type._context,t.memoizedProps.value);break;case m:Br(n,t.childLanes)&&(t.flags|=4);var r=t.stateNode;r.effectDuration=0,r.passiveEffectDuration=0;break;case g:var i=t.memoizedState;if(null!==i){if(null!==i.dehydrated)return bs(t,ys(gs.current)),t.flags|=W,null;if(Br(n,t.child.childLanes))return pc(e,t,n);bs(t,ys(gs.current));var a=Pc(e,t,n);return null!==a?a.sibling:null}bs(t,ys(gs.current));break;case x:var o=0!=(e.flags&W),s=Br(n,t.childLanes);if(o){if(s)return Mc(e,t,n);t.flags|=W}var l=t.memoizedState;if(null!==l&&(l.rendering=null,l.tail=null,l.lastEffect=null),bs(t,gs.current),s)break;return null;case w:case S:return t.lanes=0,nc(e,t,n)}return Pc(e,t,n)}(e,t,n);Ku=0!=(e.flags&ee)}else if(Ku=!1,Yo()&&function(e){return So(),0!=(e.flags&te)}(t)){var r=t.index;_o(t,(So(),ho),r)}switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i,a,o,s=t.pendingProps;if(i=Un(t,Dn(0,n,!1)),Sa(t,r),wi(t),n.prototype&&"function"==typeof n.prototype.render){var u=F(n)||"Unknown";Vu[u]||(l("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",u,u),Vu[u]=!0)}if(8&t.mode&&Yi.recordLegacyContextWarning(t,null),Xi(!0),Zu.current=t,a=qs(null,t,n,s,i,r),o=Xs(),Xi(!1),Si(),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var c=F(n)||"Unknown";Hu[c]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),Hu[c]=!0)}if("object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){var h=F(n)||"Unknown";Hu[h]||(l("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",h,h,h),Hu[h]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var d=!1;return Fn(n)?(d=!0,Gn(t)):d=!1,t.memoizedState=null!=a.state?a.state:null,Aa(t),io(t,a),so(t,n,s,r),oc(null,t,n,!0,d,r)}if(t.tag=0,8&t.mode){yi(!0);try{a=qs(null,t,n,s,i,r),o=Xs()}finally{yi(!1)}}return Yo()&&o&&bo(t),Ju(null,t,a,r),uc(t,n),t.child}(e,t,t.type,n);case 16:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i=t.pendingProps,a=(0,n._init)(n._payload);t.type=a;var o=t.tag=function(e){if("function"==typeof e)return Kf(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===I)return p;if(t===O)return v}return 2}(a),s=ca(a,i);switch(o){case 0:return uc(t,a),t.type=a=Nf(a),ic(null,t,a,s,r);case 1:return t.type=a=Df(a),ac(null,t,a,s,r);case p:return t.type=a=zf(a),Qu(null,t,a,s,r);case v:if(t.type!==t.elementType){var l=a.propTypes;l&&Mn(l,s,"prop",F(a))}return ec(null,t,a,ca(a.type,s),r)}var u="";throw null!==a&&"object"==typeof a&&a.$$typeof===N&&(u=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+a+". Lazy element type must resolve to a class or function."+u)}(e,t,t.elementType,n);case 0:var i=t.type,a=t.pendingProps;return ic(e,t,i,t.elementType===i?a:ca(i,a),n);case 1:var o=t.type,s=t.pendingProps;return ac(e,t,o,t.elementType===o?s:ca(o,s),n);case 3:return function(e,t,n){if(sc(t),null===e)throw new Error("Should have a current fiber. This is a bug in React.");var r=t.pendingProps,i=t.memoizedState,a=i.element;Ia(e,t),za(t,r,null,n);var o,s=t.memoizedState,l=s.element;if(Ge&&i.isDehydrated){var u={element:l,isDehydrated:!1,cache:s.cache,transitions:s.transitions};if(t.updateQueue.baseState=u,t.memoizedState=u,t.flags&G)return lc(e,t,l,n,new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."));if(l!==a)return lc(e,t,l,n,new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."));o=t,Ge&&(Io=Dt(o.stateNode.containerInfo),Ao=o,Ro=!0,Oo=null,Lo=!1);var c=rs(t,null,l,n);t.child=c;for(var h=c;h;)h.flags=-3&h.flags|Y,h=h.sibling}else{if(qo(),l===a)return Pc(e,t,n);Ju(e,t,l,n)}return t.child}(e,t,n);case 5:return function(e,t,n){ps(t),null===e&&Ho(t);var r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children;return De(r,i)?o=null:null!==a&&De(r,a)&&(t.flags|=32),rc(e,t),Ju(e,t,o,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&Ho(t),null}(e,t);case g:return pc(e,t,n);case 4:return function(e,t,n){hs(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=ns(t,null,r,n):Ju(e,t,r,n),t.child}(e,t,n);case p:var u=t.type,c=t.pendingProps;return Qu(e,t,u,t.elementType===u?c:ca(u,c),n);case 7:return function(e,t,n){return Ju(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return Ju(e,t,t.pendingProps.children,n),t.child}(e,t,n);case m:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,Ju(e,t,t.pendingProps.children,n),t.child}(e,t,n);case f:return function(e,t,n){var r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;"value"in i||Ec||(Ec=!0,l("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var s=t.type.propTypes;if(s&&Mn(s,i,"prop","Context.Provider"),ba(t,r,o),null!==a)if(Ai(a.value,o)){if(a.children===i.children&&!Bn())return Pc(e,t,n)}else!function(e,t,n){!function(e,t,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=void 0,a=r.dependencies;if(null!==a){i=r.child;for(var o=a.firstContext;null!==o;){if(o.context===t){if(1===r.tag){var s=Dr(n),l=Ra(Mr,s);l.tag=2;var u=r.updateQueue;if(null===u);else{var c=u.shared,h=c.pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}r.lanes=jr(r.lanes,n);var d=r.alternate;null!==d&&(d.lanes=jr(d.lanes,n)),wa(r.return,n,e),a.lanes=jr(a.lanes,n);break}o=o.next}}else if(r.tag===f)i=r.type===e.type?null:r.child;else if(r.tag===b){var p=r.return;if(null===p)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");p.lanes=jr(p.lanes,n);var m=p.alternate;null!==m&&(m.lanes=jr(m.lanes,n)),wa(p,n,e),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===e){i=null;break}var g=i.sibling;if(null!==g){g.return=i.return,i=g;break}i=i.return}r=i}}(e,t,n)}(t,r,n);return Ju(e,t,i.children,n),t.child}(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(Tc||(Tc=!0,l("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps.children;"function"!=typeof i&&l("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Sa(t,n);var a,o=Ma(r);return wi(t),Zu.current=t,Xi(!0),a=i(o),Xi(!1),Si(),t.flags|=1,Ju(e,t,a,n),t.child}(e,t,n);case v:var h=t.type,d=ca(h,t.pendingProps);if(t.type!==t.elementType){var M=h.propTypes;M&&Mn(M,d,"prop",F(h))}return ec(e,t,h,d=ca(h.type,d),n);case y:return tc(e,t,t.type,t.pendingProps,n);case _:var E=t.type,T=t.pendingProps;return function(e,t,n,r,i){var a;return null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Fn(n)?(a=!0,Gn(t)):a=!1,Sa(t,i),ao(t,n,r),so(t,n,r,i),oc(null,t,n,!0,a,i)}(e,t,E,t.elementType===E?T:ca(E,T),n);case x:return Mc(e,t,n);case 21:break;case w:return nc(e,t,n)}throw new Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Ic(e,t,n){switch(wo(t),t.tag){case 1:Fn(t.type)&&jn(t);var r=t.flags;return r&Q?(t.flags=-65537&r|W,0!=(2&t.mode)&&xu(t),t):null;case 3:ds(t),Vn(t),Es();var i=t.flags;return 0!=(i&Q)&&0==(i&W)?(t.flags=-65537&i|W,t):null;case 5:return ms(t),null;case g:xs(t);var a=t.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===t.alternate)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");qo()}var o=t.flags;return o&Q?(t.flags=-65537&o|W,0!=(2&t.mode)&&xu(t),t):null;case x:return xs(t),null;case 4:return ds(t),null;case f:return xa(t.type._context,t),null;case w:case S:return Kd(t),null;default:return null}}function Rc(e,t,n){switch(wo(t),t.tag){case 1:null!=t.type.childContextTypes&&jn(t);break;case 3:ds(t),Vn(t),Es();break;case 5:ms(t);break;case 4:ds(t);break;case g:case x:xs(t);break;case f:xa(t.type._context,t);break;case w:case S:Kd(t)}}function Lc(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Oc=Lc;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var Nc=document.createElement("react");Oc=function(e,t,n,r,i,a,o,s,l){if("undefined"==typeof document||null===document)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var u=document.createEvent("Event"),c=!1,h=!0,d=window.event,f=Object.getOwnPropertyDescriptor(window,"event");function p(){Nc.removeEventListener(x,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=d)}var m,g=Array.prototype.slice.call(arguments,3);function v(){c=!0,p(),t.apply(n,g),h=!1}var y=!1,_=!1;function b(e){if(y=!0,null===(m=e.error)&&0===e.colno&&0===e.lineno&&(_=!0),e.defaultPrevented&&null!=m&&"object"==typeof m)try{m._suppressLogging=!0}catch(e){}}var x="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",b),Nc.addEventListener(x,v,!1),u.initEvent(x,!1,!1),Nc.dispatchEvent(u),f&&Object.defineProperty(window,"event",f),c&&h&&(y?_&&(m=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):m=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(m)),window.removeEventListener("error",b),!c)return p(),Lc.apply(this,arguments)}}var Dc,zc=Oc,Uc=!1,Bc=null,Fc={onError:function(e){Uc=!0,Bc=e}};function jc(e,t,n,r,i,a,o,s,l){Uc=!1,Bc=null,zc.apply(Fc,arguments)}function Vc(){if(Uc){var e=Bc;return Uc=!1,Bc=null,e}throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}Dc=new Set;var Hc=!1,Wc=!1,Gc="function"==typeof WeakSet?WeakSet:Set,$c=null,qc=null,Xc=null;function Yc(e){jc(null,function(){throw e}),Vc()}function Zc(e,t){try{ih(4,e)}catch(n){Yc(n),mf(e,t,n)}}function Kc(e,t,n){try{!function(e,t){if(t.props=e.memoizedProps,t.state=e.memoizedState,2&e.mode)try{_u(),t.componentWillUnmount()}finally{vu(e)}else t.componentWillUnmount()}(e,n)}catch(n){Yc(n),mf(e,t,n)}}function Jc(e,t){try{lh(e)}catch(n){Yc(n),mf(e,t,n)}}function Qc(e,t){var n=e.ref;if(null!==n)if("function"==typeof n){var r;try{if(2&e.mode)try{_u(),r=n(null)}finally{vu(e)}else r=n(null)}catch(n){Yc(n),mf(e,t,n)}"function"==typeof r&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",V(e))}else n.current=null}function eh(e,t,n){try{n()}catch(n){Yc(n),mf(e,t,n)}}function th(){for(;null!==$c;){var e=$c;qi(e);try{nh(e)}catch(t){Yc(t),mf(e,e.return,t)}$i();var t=e.sibling;if(null!==t)return Uh(t,e.return),void($c=t);$c=e.return}}function nh(e){var t=e.alternate;if(0!=(e.flags&q)){switch(qi(e),e.tag){case 0:case p:case y:break;case 1:if(null!==t){var n=t.memoizedProps,r=t.memoizedState,i=e.stateNode;e.type!==e.elementType||qu||(i.props!==e.memoizedProps&&l("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",V(e)||"instance"),i.state!==e.memoizedState&&l("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",V(e)||"instance"));var a=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:ca(e.type,n),r),o=Dc;void 0!==a||o.has(e.type)||(o.add(e.type),l("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",V(e))),i.__reactInternalSnapshotBeforeUpdate=a}break;case 3:He&&bt(e.stateNode.containerInfo);break;case 5:case 6:case 4:case _:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}$i()}}function rh(e,t,n){var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next,o=a;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,void 0!==s&&(0!=(8&e)?null!==mi&&"function"==typeof mi.markComponentPassiveEffectUnmountStarted&&mi.markComponentPassiveEffectUnmountStarted(t):0!=(4&e)&&Mi(t),eh(t,n,s),0!=(8&e)?null!==mi&&"function"==typeof mi.markComponentPassiveEffectUnmountStopped&&mi.markComponentPassiveEffectUnmountStopped():0!=(4&e)&&Ei())}o=o.next}while(o!==a)}}function ih(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,a=i;do{if((a.tag&e)===e){0!=(8&e)?null!==mi&&"function"==typeof mi.markComponentPassiveEffectMountStarted&&mi.markComponentPassiveEffectMountStarted(t):0!=(4&e)&&null!==mi&&"function"==typeof mi.markComponentLayoutEffectMountStarted&&mi.markComponentLayoutEffectMountStarted(t),a.destroy=(0,a.create)(),0!=(8&e)?null!==mi&&"function"==typeof mi.markComponentPassiveEffectMountStopped&&mi.markComponentPassiveEffectMountStopped():0!=(4&e)&&null!==mi&&"function"==typeof mi.markComponentLayoutEffectMountStopped&&mi.markComponentLayoutEffectMountStopped();var o,s=a.destroy;void 0!==s&&"function"!=typeof s&&l("%s must not return anything besides a function, which is used for clean-up.%s",o=0!=(4&a.tag)?"useLayoutEffect":0!=(2&a.tag)?"useInsertionEffect":"useEffect",null===s?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof s.then?"\n\nIt looks like you wrote "+o+"(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\n"+o+"(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+s)}a=a.next}while(a!==i)}}function ah(e,t){if(0!=(4&t.flags)&&t.tag===m){var n=t.stateNode.passiveEffectDuration,r=t.memoizedProps,i=r.id,a=r.onPostCommit,o=du(),s=null===t.alternate?"mount":"update";hu()&&(s="nested-update"),"function"==typeof a&&a(i,s,n,o);var l=t.return;e:for(;null!==l;){switch(l.tag){case 3:case m:l.stateNode.passiveEffectDuration+=n;break e}l=l.return}}}function oh(e,t,n,r){if(0!=(n.flags&se))switch(n.tag){case 0:case p:case y:if(!Wc)if(2&n.mode)try{_u(),ih(5,n)}finally{vu(n)}else ih(5,n);break;case 1:var i=n.stateNode;if(4&n.flags&&!Wc)if(null===t)if(n.type!==n.elementType||qu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",V(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",V(n)||"instance")),2&n.mode)try{_u(),i.componentDidMount()}finally{vu(n)}else i.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:ca(n.type,t.memoizedProps),o=t.memoizedState;if(n.type!==n.elementType||qu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",V(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",V(n)||"instance")),2&n.mode)try{_u(),i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}finally{vu(n)}else i.componentDidUpdate(a,o,i.__reactInternalSnapshotBeforeUpdate)}var s=n.updateQueue;null!==s&&(n.type!==n.elementType||qu||(i.props!==n.memoizedProps&&l("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",V(n)||"instance"),i.state!==n.memoizedState&&l("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",V(n)||"instance")),ja(0,s,i));break;case 3:var u=n.updateQueue;if(null!==u){var c=null;if(null!==n.child)switch(n.child.tag){case 5:c=Ce(n.child.stateNode);break;case 1:c=n.child.stateNode}ja(0,u,c)}break;case 5:null===t&&4&n.flags&&ut(n.stateNode,n.type,n.memoizedProps,n);break;case 6:case 4:break;case m:var h=n.memoizedProps,d=h.onCommit,f=h.onRender,v=n.stateNode.effectDuration,b=du(),M=null===t?"mount":"update";hu()&&(M="nested-update"),"function"==typeof f&&f(n.memoizedProps.id,M,n.actualDuration,n.treeBaseDuration,n.actualStartTime,b),"function"==typeof d&&d(n.memoizedProps.id,M,v,b),Id.push(n),Pd||(Pd=!0,kf(ui,function(){return hf(),null}));var E=n.return;e:for(;null!==E;){switch(E.tag){case 3:case m:E.stateNode.effectDuration+=v;break e}E=E.return}break;case g:!function(e,t){if(Ge&&null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&Ht(i)}}}}(0,n);break;case x:case _:case 21:case w:case S:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Wc||n.flags&$&&lh(n)}function sh(e){switch(e.tag){case 0:case p:case y:if(2&e.mode)try{_u(),Zc(e,e.return)}finally{vu(e)}else Zc(e,e.return);break;case 1:var t=e.stateNode;"function"==typeof t.componentDidMount&&function(e,t,n){try{n.componentDidMount()}catch(n){Yc(n),mf(e,t,n)}}(e,e.return,t),Jc(e,e.return);break;case 5:Jc(e,e.return)}}function lh(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;if(n=5===e.tag?Ce(r):r,"function"==typeof t){var i;if(2&e.mode)try{_u(),i=t(n)}finally{vu(e)}else i=t(n);"function"==typeof i&&l("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",V(e))}else t.hasOwnProperty("current")||l("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",V(e)),t.current=n}}function uh(e,t,n){switch(function(e){if(pi&&"function"==typeof pi.onCommitFiberUnmount)try{pi.onCommitFiberUnmount(fi,e)}catch(e){gi||(gi=!0,l("React instrumentation encountered an error: %s",e))}}(t),t.tag){case 0:case p:case v:case y:var r=t.updateQueue;if(null!==r){var i=r.lastEffect;if(null!==i){var a=i.next,o=a;do{var s=o.destroy,u=o.tag;void 0!==s&&(0!=(2&u)?eh(t,n,s):0!=(4&u)&&(Mi(t),2&t.mode?(_u(),eh(t,n,s),vu(t)):eh(t,n,s),Ei())),o=o.next}while(o!==a)}}return;case 1:Qc(t,n);var c=t.stateNode;return void("function"==typeof c.componentWillUnmount&&Kc(t,n,c));case 5:return void Qc(t,n);case 4:return void(He?vh(e,t,n):We&&function(e){if(We){var t=e.stateNode.containerInfo,n=wt(t);Et(t,n)}}(t));case b:case 21:return}}function ch(e,t,n){for(var r=t;;)if(uh(e,r,n),null===r.child||He&&4===r.tag){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function hh(e){var t=e.alternate;if(null!==t&&(e.alternate=null,hh(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag){var n=e.stateNode;null!==n&&Ye(n)}e.stateNode=null,e._debugOwner=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dh(e){return 5===e.tag||3===e.tag||4===e.tag}function fh(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&t.tag!==b;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ph(e){if(He){var t=function(e){for(var t=e.return;null!==t;){if(dh(t))return t;t=t.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e);switch(t.tag){case 5:var n=t.stateNode;32&t.flags&&(mt(n),t.flags&=-33),gh(e,fh(e),n);break;case 3:case 4:var r=t.stateNode.containerInfo;mh(e,fh(e),r);break;default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function mh(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?dt(n,i,t):st(n,i)}else if(4===r);else{var a=e.child;if(null!==a){mh(a,t,n);for(var o=a.sibling;null!==o;)mh(o,t,n),o=o.sibling}}}function gh(e,t,n){var r=e.tag;if(5===r||6===r){var i=e.stateNode;t?ht(n,i,t):ot(n,i)}else if(4===r);else{var a=e.child;if(null!==a){gh(a,t,n);for(var o=a.sibling;null!==o;)gh(o,t,n),o=o.sibling}}}function vh(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){var s=a.return;e:for(;;){if(null===s)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var l=s.stateNode;switch(s.tag){case 5:r=l,i=!1;break e;case 3:case 4:r=l.containerInfo,i=!0;break e}s=s.return}o=!0}if(5===a.tag||6===a.tag)ch(e,a,n),i?pt(r,a.stateNode):ft(r,a.stateNode);else if(a.tag===b)i?Gt(r,a.stateNode):Wt(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(uh(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)return;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function yh(e,t,n){var r,i;He?vh(e,t,n):ch(e,t,n),null!==(i=(r=t).alternate)&&(i.return=null),r.return=null}function _h(e,t){if(He){switch(t.tag){case 0:case p:case v:case y:if(rh(3,t,t.return),ih(3,t),2&t.mode)try{_u(),rh(5,t,t.return)}finally{vu(t)}else rh(5,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ct(n,o,a,i,r,t)}return;case 6:if(null===t.stateNode)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.memoizedProps;return void lt(t.stateNode,null!==e?e.memoizedProps:s,s);case 3:return void(Ge&&null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo));case m:return;case g:case x:return void bh(t);case _:return}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}switch(t.tag){case 0:case p:case v:case y:if(rh(3,t,t.return),ih(3,t),2&t.mode)try{_u(),rh(5,t,t.return)}finally{vu(t)}else rh(5,t,t.return);return;case m:return;case g:case x:return void bh(t);case 3:Ge&&null!==e&&e.memoizedState.isDehydrated&&Vt(t.stateNode.containerInfo);break;case w:case S:return}!function(e){if(We){switch(e.tag){case 1:case 5:case 6:return;case 3:case 4:var t=e.stateNode;return void Et(t.containerInfo,t.pendingChildren)}throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}}(t)}function bh(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gc),t.forEach(function(t){var r=_f.bind(null,e,t);if(!n.has(t)){if(n.add(t),vi){if(null===qc||null===Xc)throw Error("Expected finished root and lanes to be set. This is a bug in React.");Cf(Xc,qc)}t.then(r,r)}})}}function xh(e,t){for(;null!==$c;){var n=$c;qi(n);try{wh(n)}catch(e){Yc(e),mf(n,n.return,e)}$i();var r=n.sibling;if(null!==r)return Uh(r,n.return),void($c=r);$c=n.return}}function wh(e,t,n){var r=e.flags;if(32&r&&function(e){He&&mt(e.stateNode)}(e),r&$){var i=e.alternate;null!==i&&function(e){var t=e.ref;if(null!==t)if("function"==typeof t)if(2&e.mode)try{_u(),t(null)}finally{vu(e)}else t(null);else t.current=null}(i)}if(r&Z)switch(e.tag){case g:if(null!==e.memoizedState){var a=e.alternate;null!==a&&null!==a.memoizedState||(xd=oi())}break;case w:var o=null!==e.memoizedState,s=e.alternate,l=null!==s&&null!==s.memoizedState,u=e;if(He&&function(e,t){var n=null;if(He)for(var r=e;;){if(5===r.tag)null===n&&(n=r,t?gt(r.stateNode):yt(r.stateNode,r.memoizedProps));else if(6===r.tag){if(null===n){var i=r.stateNode;t?vt(i):_t(i,r.memoizedProps)}}else if((r.tag!==w&&r.tag!==S||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;n===r&&(n=null),r=r.return}n===r&&(n=null),r.sibling.return=r.return,r=r.sibling}}(u,o),o&&!l&&0!=(1&u.mode)){$c=u;for(var c=u.child;null!==c;)$c=c,Th(c),c=c.sibling}}switch(4102&r){case 2:ph(e),e.flags&=-3;break;case 6:ph(e),e.flags&=-3,_h(e.alternate,e);break;case Y:e.flags&=-4097;break;case 4100:e.flags&=-4097,_h(e.alternate,e);break;case 4:_h(e.alternate,e)}}function Sh(e,t,n){qc=n,Xc=t,$c=e,Mh(e,t,n),qc=null,Xc=null}function Mh(e,t,n){for(var r=0!=(1&e.mode);null!==$c;){var i=$c,a=i.child;if(i.tag===w&&r){var o=null!==i.memoizedState||Hc;if(o){Eh(e);continue}var s=i.alternate,l=Hc,u=Wc;Hc=o,(Wc=null!==s&&null!==s.memoizedState||Wc)&&!u&&($c=i,Ph(i));for(var c=a;null!==c;)$c=c,Mh(c,t,n),c=c.sibling;$c=i,Hc=l,Wc=u,Eh(e)}else 0!=(i.subtreeFlags&se)&&null!==a?(Uh(a,i),$c=a):Eh(e)}}function Eh(e,t,n){for(;null!==$c;){var r=$c;if(0!=(r.flags&se)){var i=r.alternate;qi(r);try{oh(0,i,r)}catch(e){Yc(e),mf(r,r.return,e)}$i()}if(r===e)return void($c=null);var a=r.sibling;if(null!==a)return Uh(a,r.return),void($c=a);$c=r.return}}function Th(e){for(;null!==$c;){var t=$c,n=t.child;switch(t.tag){case 0:case p:case v:case y:if(2&t.mode)try{_u(),rh(4,t,t.return)}finally{vu(t)}else rh(4,t,t.return);break;case 1:Qc(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&Kc(t,t.return,r);break;case 5:Qc(t,t.return);break;case w:if(null!==t.memoizedState){Ch(e);continue}}null!==n?(n.return=t,$c=n):Ch(e)}}function Ch(e){for(;null!==$c;){var t=$c;if(t===e)return void($c=null);var n=t.sibling;if(null!==n)return n.return=t.return,void($c=n);$c=t.return}}function Ph(e){for(;null!==$c;){var t=$c.child;$c.tag===w&&null!==$c.memoizedState||null===t?kh(e):(t.return=$c,$c=t)}}function kh(e){for(;null!==$c;){var t=$c;qi(t);try{sh(t)}catch(e){Yc(e),mf(t,t.return,e)}if($i(),t===e)return void($c=null);var n=t.sibling;if(null!==n)return n.return=t.return,void($c=n);$c=t.return}}function Ah(e,t){for(;null!==$c;){var n=$c;if(0!=(n.flags&X)){qi(n);try{Ih(0,n)}catch(e){Yc(e),mf(n,n.return,e)}$i()}if(n===e)return void($c=null);var r=n.sibling;if(null!==r)return Uh(r,n.return),void($c=r);$c=n.return}}function Ih(e,t){switch(t.tag){case 0:case p:case y:if(2&t.mode){bu();try{ih(9,t)}finally{yu(t)}}else ih(9,t)}}function Rh(){for(;null!==$c;){var e=$c;0!=(e.flags&X)&&(qi(e),Lh(e),$i());var t=e.sibling;if(null!==t)return Uh(t,e.return),void($c=t);$c=e.return}}function Lh(e){switch(e.tag){case 0:case p:case y:2&e.mode?(bu(),rh(9,e,e.return),yu(e)):rh(9,e,e.return)}}function Oh(e,t){for(;null!==$c;){var n=$c;qi(n),Dh(n,t),$i();var r=n.child;null!==r?(Uh(r,n),$c=r):Nh(e)}}function Nh(e){for(;null!==$c;){var t=$c,n=t.sibling,r=t.return;if(hh(t),t===e)return void($c=null);if(null!==n)return Uh(n,r),void($c=n);$c=r}}function Dh(e,t){switch(e.tag){case 0:case p:case y:2&e.mode?(bu(),rh(8,e,t),yu(e)):rh(8,e,t)}}var zh=!1;function Uh(e,t){zh||e.return===t||(zh=!0,l("Internal React error: Return pointer is inconsistent with parent.")),e.return=t}function Bh(e){switch(e.tag){case 0:case p:case y:try{ih(5,e)}catch(t){Yc(t),mf(e,e.return,t)}break;case 1:var t=e.stateNode;try{t.componentDidMount()}catch(t){Yc(t),mf(e,e.return,t)}}}function Fh(e){switch(e.tag){case 0:case p:case y:try{ih(9,e)}catch(t){Yc(t),mf(e,e.return,t)}}}function jh(e){switch(e.tag){case 0:case p:case y:try{rh(5,e,e.return)}catch(t){Yc(t),mf(e,e.return,t)}break;case 1:var t=e.stateNode;"function"==typeof t.componentWillUnmount&&Kc(e,e.return,t)}}function Vh(e){switch(e.tag){case 0:case p:case y:try{rh(9,e,e.return)}catch(t){Yc(t),mf(e,e.return,t)}}}var Hh=0,Wh=1,Gh=2,$h=3,qh=4;if("function"==typeof Symbol&&Symbol.for){var Xh=Symbol.for;Hh=Xh("selector.component"),Wh=Xh("selector.has_pseudo_class"),Gh=Xh("selector.role"),$h=Xh("selector.test_id"),qh=Xh("selector.text")}function Yh(e){var t=$e(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw new Error("Invalid host root specified. Should be either a React container or a node with a testname attribute.");return t}var n=Qe(e);if(null===n)throw new Error("Could not find React container within specified host subtree.");return n.stateNode.current}function Zh(e,t){switch(t.$$typeof){case Hh:if(e.type===t.value)return!0;break;case Wh:return function(e,t){for(var n=[e,0],r=0;r<n.length;){var i=n[r++],a=n[r++],o=t[a];if(5!==i.tag||!nt(i)){for(;null!=o&&Zh(i,o);)o=t[++a];if(a===t.length)return!0;for(var s=i.child;null!==s;)n.push(s,a),s=s.sibling}}return!1}(e,t.value);case Gh:if(5===e.tag&&rt(e.stateNode,t.value))return!0;break;case qh:if(5===e.tag||6===e.tag){var n=tt(e);if(null!==n&&n.indexOf(t.value)>=0)return!0}break;case $h:if(5===e.tag){var r=e.memoizedProps["data-testname"];if("string"==typeof r&&r.toLowerCase()===t.value.toLowerCase())return!0}break;default:throw new Error("Invalid selector type specified.")}return!1}function Kh(e){switch(e.$$typeof){case Hh:return"<"+(F(e.value)||"Unknown")+">";case Wh:return":has("+(Kh(e)||"")+")";case Gh:return'[role="'+e.value+'"]';case qh:return'"'+e.value+'"';case $h:return'[data-testname="'+e.value+'"]';default:throw new Error("Invalid selector type specified.")}}function Jh(e,t){for(var n=[],r=[e,0],i=0;i<r.length;){var a=r[i++],o=r[i++],s=t[o];if(5!==a.tag||!nt(a)){for(;null!=s&&Zh(a,s);)s=t[++o];if(o===t.length)n.push(a);else for(var l=a.child;null!==l;)r.push(l,o),l=l.sibling}}return n}function Qh(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=Jh(Yh(e),t),r=[],i=Array.from(n),a=0;a<i.length;){var o=i[a++];if(5===o.tag){if(nt(o))continue;r.push(o.stateNode)}else for(var s=o.child;null!==s;)i.push(s),s=s.sibling}return r}var ed=[],td=a.ReactCurrentActQueue;function nd(){var e="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0;return e||null===td.current||l("The current testing environment is not configured to support act(...)"),e}var rd=Math.ceil,id=a.ReactCurrentDispatcher,ad=a.ReactCurrentOwner,od=a.ReactCurrentBatchConfig,sd=a.ReactCurrentActQueue,ld=0,ud=null,cd=null,hd=0,dd=0,fd=kn(0),pd=0,md=null,gd=0,vd=0,yd=0,_d=null,bd=null,xd=0,wd=Infinity;function Sd(){wd=oi()+500}function Md(){return wd}var Ed=!1,Td=null,Cd=null,Pd=!1,kd=null,Ad=0,Id=[],Rd=0,Ld=null,Od=0,Nd=Mr,Dd=0;function zd(){return ud}function Ud(){return 0!=(6&ld)?oi():Nd!==Mr?Nd:Nd=oi()}function Bd(e){var t;if(0==(1&e.mode))return 1;if(0!=(2&ld)&&0!==hd)return Dr(hd);if(null!==Ui.transition){if(null!==od.transition){var n=od.transition;n._updatedFibers||(n._updatedFibers=new Set),n._updatedFibers.add(e)}return 0===Dd&&(t=Er,0==((Er<<=1)&Jn)&&(Er=64),Dd=t),Dd}var r=Jr();return 0!==r?r:Xe()}function Fd(e,t,n){!function(){if(Rd>50)throw Rd=0,Ld=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Od>50&&(Od=0,l("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}();var r=jd(e,t);return null===r?null:(Gr(r,t,n),0!=(2&ld)&&r===ud?function(e){if(Wi&&!Ul)switch(e.tag){case 0:case p:case y:var t=cd&&V(cd)||"Unknown",n=t;Ef.has(n)||(Ef.add(n),l("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",V(e)||"Unknown",t,t));break;case 1:Tf||(l("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Tf=!0)}}(e):(vi&&Xr(r,e,t),function(e){if(1&e.mode){if(!nd())return}else{if(t="undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:void 0,n="undefined"!=typeof jest,!Ve||!n||!1===t)return;if(0!==ld)return;if(0!==e.tag&&e.tag!==p&&e.tag!==y)return}var t,n;if(null===sd.current){var r=Hi;try{qi(e),l("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",V(e))}finally{r?qi(e):$i()}}}(e),r===ud&&(0==(2&ld)&&(vd=jr(vd,t)),4===pd&&qd(r,hd)),Hd(r,n),1!==t||0!==ld||0!=(1&e.mode)||sd.isBatchingLegacy||(Sd(),Ni())),r)}function jd(e,t){e.lanes=jr(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=jr(n.lanes,t)),null===n&&0!=(4098&e.flags)&&Mf(e);for(var r=e,i=e.return;null!==i;)i.childLanes=jr(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=jr(n.childLanes,t):0!=(4098&i.flags)&&Mf(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}function Vd(e,t){return null!==ud&&0!=(1&e.mode)&&0==(2&ld)}function Hd(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;a>0;){var o=zr(a),s=1<<o,l=i[o];l===Mr?0!=(s&n)&&0==(s&r)||(i[o]=kr(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=Pr(e,e===ud?hd:0);if(0===r)return null!==n&&Af(n),e.callbackNode=null,void(e.callbackPriority=0);var i=Nr(r),a=e.callbackPriority;if(a!==i||null!==sd.current&&n!==Pf){var o,s;if(null!=n&&Af(n),1===i)0===e.tag?(null!==sd.isBatchingLegacy&&(sd.didScheduleLegacyUpdate=!0),s=Xd.bind(null,e),Ri=!0,Oi(s)):Oi(Xd.bind(null,e)),Ze?null!==sd.current?sd.current.push(Di):Ke(function(){0===ld&&Di()}):kf(si,Di),o=null;else{var u;switch(ti(r)){case 1:u=si;break;case 4:u=li;break;case 16:u=ui;break;case Zr:u=ci;break;default:u=ui}o=kf(u,Wd.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}else null==n&&1!==a&&l("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.")}function Wd(e,t){if(uu=!1,cu=!1,Nd=Mr,Dd=0,0!=(6&ld))throw new Error("Should not already be working.");var n=e.callbackNode;if(hf()&&e.callbackNode!==n)return null;var r=Pr(e,e===ud?hd:0);if(0===r)return null;var i=!Lr(0,r)&&!function(e,t){return 0!=(t&e.expiredLanes)}(e,r)&&!t,a=i?function(e,t){var n=ld;ld|=2;var r=ef();if(ud!==e||hd!==t){if(vi){var i=e.memoizedUpdaters;i.size>0&&(Cf(e,hd),i.clear()),Yr(e,t)}Sd(),Jd(e,t)}for(Ci(t);;)try{sf();break}catch(t){Qd(e,t)}return va(),tf(r),ld=n,null!==cd?(null!==mi&&"function"==typeof mi.markRenderYielded&&mi.markRenderYielded(),0):(Pi(),ud=null,hd=0,pd)}(e,r):af(e,r);if(0!==a){if(2===a){var o=Ar(e);0!==o&&(r=o,a=Gd(e,o))}if(1===a){var s=md;throw Jd(e,0),qd(e,r),Hd(e,oi()),s}if(6===a)qd(e,r);else{var l=!Lr(0,r),u=e.current.alternate;if(l&&!function(e){for(var t=e;;){if(t.flags&K){var n=t.updateQueue;if(null!==n){var r=n.stores;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i],o=a.getSnapshot,s=a.value;try{if(!Ai(o(),s))return!1}catch(e){return!1}}}}var l=t.child;if(t.subtreeFlags&K&&null!==l)l.return=t,t=l;else{if(t===e)return!0;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(u)){if(2===(a=af(e,r))){var c=Ar(e);0!==c&&(r=c,a=Gd(e,c))}if(1===a){var h=md;throw Jd(e,0),qd(e,r),Hd(e,oi()),h}}e.finishedWork=u,e.finishedLanes=r,function(e,t,n){switch(t){case 0:case 1:throw new Error("Root did not complete. This is a bug in React.");case 2:case 5:cf(e,bd);break;case 3:if(qd(e,n),Rr(n)&&!If()){var r=xd+500-oi();if(r>10){if(0!==Pr(e,0))break;var i=e.suspendedLanes;if(!Fr(i,n)){Ud(),$r(e,i);break}e.timeoutHandle=Ue(cf.bind(null,e,bd),r);break}}cf(e,bd);break;case 4:if(qd(e,n),function(e){return(e&Jn)===e}(n))break;if(!If()){var a=function(e,t){for(var n=e.eventTimes,r=Mr;t>0;){var i=zr(t),a=n[i];a>r&&(r=a),t&=~(1<<i)}return r}(e,n),o=a,s=oi()-o,l=((u=s)<120?120:u<480?480:u<1080?1080:u<1920?1920:u<3e3?3e3:u<4320?4320:1960*rd(u/1960))-s;if(l>10){e.timeoutHandle=Ue(cf.bind(null,e,bd),l);break}}cf(e,bd);break;default:throw new Error("Unknown root exit status.")}var u}(e,a,r)}}return Hd(e,oi()),e.callbackNode===n?Wd.bind(null,e):null}function Gd(e,t){var n=_d;zi(e)&&(Jd(e,t).flags|=G,ln(e.containerInfo));var r=af(e,t);if(2!==r){var i=bd;bd=n,null!==i&&$d(i)}return r}function $d(e){null===bd?bd=e:bd.push.apply(bd,e)}function qd(e,t){t=Vr(t,yd),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=zr(r),a=1<<i;n[i]=Mr,r&=~a}}(e,t=Vr(t,vd))}function Xd(e){if(uu=cu,cu=!1,0!=(6&ld))throw new Error("Should not already be working.");hf();var t=Pr(e,0);if(!Br(t,1))return Hd(e,oi()),null;var n=af(e,t);if(0!==e.tag&&2===n){var r=Ar(e);0!==r&&(t=r,n=Gd(e,r))}if(1===n){var i=md;throw Jd(e,0),qd(e,t),Hd(e,oi()),i}if(6===n)throw new Error("Root did not complete. This is a bug in React.");return e.finishedWork=e.current.alternate,e.finishedLanes=t,cf(e,bd),Hd(e,oi()),null}function Yd(e){null!==kd&&0===kd.tag&&0==(6&ld)&&hf();var t=ld;ld|=1;var n=od.transition,r=Jr();try{return od.transition=null,Qr(1),e?e():void 0}finally{Qr(r),od.transition=n,0==(6&(ld=t))&&Di()}}function Zd(e,t){In(fd,dd,e),dd=jr(dd,t)}function Kd(e){dd=fd.current,An(fd,e)}function Jd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Fe&&(e.timeoutHandle=Fe,Be(n)),null!==cd)for(var r=cd.return;null!==r;)Rc(0,r),r=r.return;ud=e;var i=Jf(e.current,null);return cd=i,hd=dd=t,pd=0,md=null,gd=0,vd=0,yd=0,_d=null,bd=null,function(){if(null!==Ea){for(var e=0;e<Ea.length;e++){var t=Ea[e],n=t.interleaved;if(null!==n){t.interleaved=null;var r=t.pending;if(null!==r){var i=r.next;r.next=n.next,n.next=i}t.pending=n}}Ea=null}}(),Yi.discardPendingWarnings(),i}function Qd(e,t){for(;;){var n=cd;try{if(va(),Zs(),$i(),ad.current=null,null===n||null===n.return)return pd=1,md=t,void(cd=null);2&n.mode&&gu(n,!0),Si(),null!==t&&"object"==typeof t&&"function"==typeof t.then?null!==mi&&"function"==typeof mi.markComponentSuspended&&mi.markComponentSuspended(n,t,hd):Ti(n,t,hd),Ou(e,n.return,n,t,hd),uf(n)}catch(e){t=e,cd===n&&null!==n?cd=n=n.return:n=cd;continue}return}}function ef(){var e=id.current;return id.current=Xl,null===e?Xl:e}function tf(e){id.current=e}function nf(e){gd=jr(e,gd)}function rf(){0!==pd&&3!==pd&&2!==pd||(pd=4),null!==ud&&(Ir(gd)||Ir(vd))&&qd(ud,hd)}function af(e,t){var n=ld;ld|=2;var r=ef();if(ud!==e||hd!==t){if(vi){var i=e.memoizedUpdaters;i.size>0&&(Cf(e,hd),i.clear()),Yr(e,t)}Jd(e,t)}for(Ci(t);;)try{of();break}catch(t){Qd(e,t)}if(va(),ld=n,tf(r),null!==cd)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Pi(),ud=null,hd=0,pd}function of(){for(;null!==cd;)lf(cd)}function sf(){for(;null!==cd&&!ii();)lf(cd)}function lf(e){var t,n=e.alternate;qi(e),0!=(2&e.mode)?(pu(e),t=wf(n,e,dd),gu(e,!0)):t=wf(n,e,dd),$i(),e.memoizedProps=e.pendingProps,null===t?uf(e):cd=t,ad.current=null}function uf(e){var t=e;do{var n=t.alternate,r=t.return;if(0==(t.flags&J)){qi(t);var i=void 0;if(0==(2&t.mode)?i=ju(n,t,dd):(pu(t),i=ju(n,t,dd),gu(t,!1)),$i(),null!==i)return void(cd=i)}else{var a=Ic(0,t);if(null!==a)return a.flags&=32767,void(cd=a);if(0!=(2&t.mode)){gu(t,!1);for(var o=t.actualDuration,s=t.child;null!==s;)o+=s.actualDuration,s=s.sibling;t.actualDuration=o}if(null===r)return pd=6,void(cd=null);r.flags|=J,r.subtreeFlags=0,r.deletions=null}var l=t.sibling;if(null!==l)return void(cd=l);cd=t=r}while(null!==t);0===pd&&(pd=5)}function cf(e,t){var n=Jr(),r=od.transition;try{od.transition=null,Qr(1),function(e,t,n){do{hf()}while(null!==kd);if(Yi.flushLegacyContextWarning(),Yi.flushPendingUnsafeLifecycleWarnings(),0!=(6&ld))throw new Error("Should not already be working.");var r=e.finishedWork,i=e.finishedLanes;if(function(e){null!==mi&&"function"==typeof mi.markCommitStarted&&mi.markCommitStarted(e)}(i),null===r)return xi(),null;if(0===i&&l("root.finishedLanes should not be empty during a commit. This is a bug in React."),e.finishedWork=null,e.finishedLanes=0,r===e.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null,e.callbackPriority=0;var a=jr(r.lanes,r.childLanes);if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,a=e.expirationTimes,o=n;o>0;){var s=zr(o),l=1<<s;r[s]=0,i[s]=Mr,a[s]=Mr,o&=~l}}(e,a),e===ud&&(ud=null,cd=null,hd=0),0==(r.subtreeFlags&le)&&0==(r.flags&le)||Pd||(Pd=!0,kf(ui,function(){return hf(),null})),0!=(15990&r.subtreeFlags)||0!=(15990&r.flags)){var o=od.transition;od.transition=null;var s=Jr();Qr(1);var u=ld;ld|=4,ad.current=null,function(e,t){Ae(e.containerInfo),$c=t,function(){for(;null!==$c;){var e=$c.child;0!=(1028&$c.subtreeFlags)&&null!==e?(Uh(e,$c),$c=e):th()}}()}(e,r),fu(),function(e,t,n){qc=n,Xc=e,$c=t,function(e,t){for(;null!==$c;){var n=$c,r=n.deletions;if(null!==r)for(var i=0;i<r.length;i++){var a=r[i];try{yh(e,a,n)}catch(e){Yc(e),mf(a,n,e)}}var o=n.child;0!=(n.subtreeFlags&oe)&&null!==o?(Uh(o,n),$c=o):xh()}}(e),qc=null,Xc=null}(e,r,i),Ie(e.containerInfo),e.current=r,function(e){null!==mi&&"function"==typeof mi.markLayoutEffectsStarted&&mi.markLayoutEffectsStarted(e)}(i),Sh(r,e,i),null!==mi&&"function"==typeof mi.markLayoutEffectsStopped&&mi.markLayoutEffectsStopped(),ai(),ld=u,Qr(s),od.transition=o}else e.current=r,fu();var c=Pd;if(Pd&&(Pd=!1,kd=e,Ad=i),0===(a=e.pendingLanes)&&(Cd=null),c||bf(e.current,!1),function(e,t){if(pi&&"function"==typeof pi.onCommitFiberRoot)try{var n,r=(e.current.flags&W)===W;switch(t){case 1:n=si;break;case 4:n=li;break;case 16:n=ui;break;case Zr:n=ci;break;default:n=ui}pi.onCommitFiberRoot(fi,e,n,r)}catch(e){gi||(gi=!0,l("React instrumentation encountered an error: %s",e))}}(r.stateNode,n),vi&&e.memoizedUpdaters.clear(),Je&&ed.forEach(function(e){return e()}),Hd(e,oi()),null!==t)for(var h=e.onRecoverableError,d=0;d<t.length;d++)h(t[d]);if(Ed){Ed=!1;var f=Td;throw Td=null,f}Br(Ad,1)&&0!==e.tag&&hf(),Br(a=e.pendingLanes,1)?(cu=!0,e===Ld?Rd++:(Rd=0,Ld=e)):Rd=0,Di(),xi()}(e,t,n)}finally{od.transition=r,Qr(n)}return null}function hf(){if(null!==kd){var e=function(e,t){return 16>t?16:t}(0,ti(Ad)),t=od.transition,n=Jr();try{return od.transition=null,Qr(e),function(){if(null===kd)return!1;var e=kd,t=Ad;if(kd=null,Ad=0,0!=(6&ld))throw new Error("Cannot flush passive effects while already rendering.");!function(e){null!==mi&&"function"==typeof mi.markPassiveEffectsStarted&&mi.markPassiveEffectsStarted(e)}(t);var n,r=ld;ld|=4,$c=e.current,function(){for(;null!==$c;){var e=$c,t=e.child;if(0!=($c.flags&H)){var n=e.deletions;if(null!==n){for(var r=0;r<n.length;r++){var i=n[r];$c=i,Oh(i,e)}var a=e.alternate;if(null!==a){var o=a.child;if(null!==o){a.child=null;do{var s=o.sibling;o.sibling=null,o=s}while(null!==o)}}$c=e}}0!=(e.subtreeFlags&le)&&null!==t?(Uh(t,e),$c=t):Rh()}}(),$c=n=e.current,function(e,t){for(;null!==$c;){var n=$c.child;0!=($c.subtreeFlags&le)&&null!==n?(Uh(n,$c),$c=n):Ah(e)}}(n);var i=Id;Id=[];for(var a=0;a<i.length;a++)ah(0,i[a]);null!==mi&&"function"==typeof mi.markPassiveEffectsStopped&&mi.markPassiveEffectsStopped(),bf(e.current,!0),ld=r,Di(),Od=null===kd?0:Od+1,function(e){if(pi&&"function"==typeof pi.onPostCommitFiberRoot)try{pi.onPostCommitFiberRoot(fi,e)}catch(e){gi||(gi=!0,l("React instrumentation encountered an error: %s",e))}}(e);var o=e.current.stateNode;return o.effectDuration=0,o.passiveEffectDuration=0,!0}()}finally{Qr(n),od.transition=t}}return!1}function df(e){return null!==Cd&&Cd.has(e)}var ff=function(e){Ed||(Ed=!0,Td=e)};function pf(e,t,n){La(e,ku(e,wu(n,t),1));var r=Ud(),i=jd(e,1);null!==i&&(Gr(i,1,r),Hd(i,r))}function mf(e,t,n){if(3!==e.tag){var r=null;for(r=t;null!==r;){if(3===r.tag)return void pf(r,e,n);if(1===r.tag){var i=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&!df(i)){La(r,Au(r,wu(n,e),1));var a=Ud(),o=jd(r,1);return void(null!==o&&(Gr(o,1,a),Hd(o,a)))}}r=r.return}l("Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.\n\nError message:\n\n%s",n)}else pf(e,e,n)}function gf(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Ud();$r(e,n),function(e){0!==e.tag&&nd()&&null===sd.current&&l("A suspended resource finished loading inside a test, but the event was not wrapped in act(...).\n\nWhen testing, code that resolves suspended data should be wrapped into act(...):\n\nact(() => {\n  /* finish loading suspended data */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act")}(e),ud===e&&Fr(hd,n)&&(4===pd||3===pd&&Rr(hd)&&oi()-xd<500?Jd(e,0):yd=jr(yd,n)),Hd(e,i)}function vf(e,t){var n;0===t&&(t=0==(1&e.mode)?1:(n=Tr,0==((Tr<<=1)&hr)&&(Tr=dr),n));var r=Ud(),i=jd(e,t);null!==i&&(Gr(i,t,r),Hd(i,r))}function yf(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vf(e,n)}function _f(e,t){var n,r=0;switch(e.tag){case g:n=e.stateNode;var i=e.memoizedState;null!==i&&(r=i.retryLane);break;case x:n=e.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}null!==n&&n.delete(t),vf(e,r)}function bf(e,t){qi(e),xf(e,ie,jh),t&&xf(e,ae,Vh),xf(e,ie,Bh),t&&xf(e,ae,Fh),$i()}function xf(e,t,n){for(var r=e,i=null;null!==r;)r!==i&&null!==r.child&&0!=(r.subtreeFlags&t)?r=r.child:(0!=(r.flags&t)&&n(r),r=null!==r.sibling?r.sibling:i=r.return)}var wf,Sf=null;function Mf(e){if(0==(2&ld)&&1&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===p||t===v||t===y){var n=V(e)||"ReactComponent";if(null!==Sf){if(Sf.has(n))return;Sf.add(n)}else Sf=new Set([n]);var r=Hi;try{qi(e),l("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?qi(e):$i()}}}}wf=function(e,t,n){var r=op(null,t);try{return Ac(e,t,n)}catch(a){if(null!==a&&"object"==typeof a&&"function"==typeof a.then)throw a;if(va(),Zs(),Rc(0,t),op(t,r),2&t.mode&&pu(t),jc(null,Ac,null,e,t,n),Uc){var i=Vc();"object"==typeof i&&null!==i&&i._suppressLogging&&"object"==typeof a&&null!==a&&!a._suppressLogging&&(a._suppressLogging=!0)}throw a}};var Ef,Tf=!1;function Cf(e,t){vi&&e.memoizedUpdaters.forEach(function(n){Xr(e,n,t)})}Ef=new Set;var Pf={};function kf(e,t){var n=sd.current;return null!==n?(n.push(t),Pf):ni(e,t)}function Af(e){if(e!==Pf)return ri(e)}function If(){return null!==sd.current}var Rf=null,Lf=null,Of=function(e){Rf=e};function Nf(e){if(null===Rf)return e;var t=Rf(e);return void 0===t?e:t.current}function Df(e){return Nf(e)}function zf(e){if(null===Rf)return e;var t=Rf(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=Nf(e.render);if(e.render!==n){var r={$$typeof:I,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Uf(e,t){if(null===Rf)return!1;var n=e.elementType,r=t.type,i=!1,a="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||a===N)&&(i=!0);break;case p:(a===I||a===N)&&(i=!0);break;case v:case y:(a===O||a===N)&&(i=!0);break;default:return!1}if(i){var o=Rf(n);if(void 0!==o&&o===Rf(r))return!0}return!1}function Bf(e){null!==Rf&&"function"==typeof WeakSet&&(null===Lf&&(Lf=new WeakSet),Lf.add(e))}var Ff=function(e,t){if(null!==Rf){var n=t.staleFamilies,r=t.updatedFamilies;hf(),Yd(function(){Vf(e.current,r,n)})}},jf=function(e,t){e.context===Rn&&(hf(),Yd(function(){cp(t,e,null,null)}))};function Vf(e,t,n){var r=e.alternate,i=e.child,a=e.sibling,o=e.tag,s=e.type,l=null;switch(o){case 0:case y:case 1:l=s;break;case p:l=s.render}if(null===Rf)throw new Error("Expected resolveFamily to be set during hot reload.");var u=!1,c=!1;if(null!==l){var h=Rf(l);void 0!==h&&(n.has(h)?c=!0:t.has(h)&&(1===o?c=!0:u=!0))}null!==Lf&&(Lf.has(e)||null!==r&&Lf.has(r))&&(c=!0),c&&(e._debugNeedsRemount=!0),(c||u)&&Fd(e,1,Mr),null===i||c||Vf(i,t,n),null!==a&&Vf(a,t,n)}var Hf,Wf=function(e,t){var n=new Set,r=new Set(t.map(function(e){return e.current}));return Gf(e.current,r,n),n};function Gf(e,t,n){var r=e.child,i=e.sibling,a=e.type,o=null;switch(e.tag){case 0:case y:case 1:o=a;break;case p:o=a.render}var s=!1;null!==o&&t.has(o)&&(s=!0),s?function(e,t){if(!function(e,t){for(var n=e,r=!1;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t))for(var n=e;;){switch(n.tag){case 5:return void t.add(n.stateNode);case 4:case 3:return void t.add(n.stateNode.containerInfo)}if(null===n.return)throw new Error("Expected to reach root first.");n=n.return}}(e,n):null!==r&&Gf(r,t,n),null!==i&&Gf(i,t,n)}Hf=!1;try{var $f=Object.preventExtensions({});new Map([[$f,null]]),new Set([$f])}catch(e){Hf=!0}function qf(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.subtreeFlags=0,this.deletions=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,Hf||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var Xf,Yf,Zf=function(e,t,n,r){return new qf(e,t,n,r)};function Kf(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function Jf(e,t){var n=e.alternate;null===n?((n=Zf(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null,n.actualDuration=0,n.actualStartTime=-1),n.flags=e.flags&ue,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case y:n.type=Nf(e.type);break;case 1:n.type=Df(e.type);break;case p:n.type=zf(e.type)}return n}function Qf(e,t){e.flags&=14680066;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function ep(e,t,n,r,i,a){var o=2,s=e;if("function"==typeof e)Kf(e)?(o=1,s=Df(s)):s=Nf(s);else if("string"==typeof e)o=5;else e:switch(e){case T:return np(n.children,i,a,t);case C:o=8,0!=(1&(i|=8))&&(i|=qn);break;case P:return function(e,t,n,r){"string"!=typeof e.id&&l('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof e.id);var i=Zf(m,e,r,2|t);return i.elementType=P,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,a,t);case R:return function(e,t,n,r){var i=Zf(g,e,r,t);return i.elementType=R,i.lanes=n,i}(n,i,a,t);case L:return function(e,t,n,r){var i=Zf(x,e,r,t);return i.elementType=L,i.lanes=n,i}(n,i,a,t);case D:return rp(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:o=f;break e;case A:o=9;break e;case I:o=p,s=zf(s);break e;case O:o=v;break e;case N:o=16,s=null;break e}var u="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(u+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var c=r?V(r):null;throw c&&(u+="\n\nCheck the render method of `"+c+"`."),new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+u)}var h=Zf(o,n,t,i);return h.elementType=e,h.type=s,h.lanes=a,h._debugOwner=r,h}function tp(e,t,n){var r=ep(e.type,e.key,e.props,e._owner,t,n);return r._debugSource=e._source,r._debugOwner=e._owner,r}function np(e,t,n,r){var i=Zf(7,e,r,t);return i.lanes=n,i}function rp(e,t,n,r){var i=Zf(w,e,r,t);return i.elementType=D,i.lanes=n,i.stateNode={},i}function ip(e,t,n){var r=Zf(6,e,null,t);return r.lanes=n,r}function ap(e,t,n){var r=Zf(4,null!==e.children?e.children:[],e.key,t);return r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function op(e,t){return null===e&&(e=Zf(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.subtreeFlags=t.subtreeFlags,e.deletions=t.deletions,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function sp(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=Fe,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(Mr),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=Wr(0),this.identifierPrefix=r,this.onRecoverableError=i,Ge&&(this.mutableSourceEagerHydrationData=null),this.effectDuration=0,this.passiveEffectDuration=0,this.memoizedUpdaters=new Set;for(var a=this.pendingUpdatersLaneMap=[],o=0;o<31;o++)a.push(new Set);switch(t){case 1:this._debugRootType=n?"hydrateRoot()":"createRoot()";break;case 0:this._debugRootType=n?"hydrate()":"render()"}}function lp(e,t,n,r,i,a,o,s,l,u){var c=new sp(e,t,n,s,l),h=function(e,t,n){var r;return 1===e?(r=1,!0===t&&(r|=8,r|=qn)):r=0,vi&&(r|=2),Zf(3,null,null,r)}(t,a);return c.current=h,h.stateNode=c,h.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Aa(h),c}function up(e){if(!e)return Rn;var t=h(e),n=function(e){if(!function(e){return he(e)===e}(e)||1!==e.tag)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(Fn(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}(t);if(1===t.tag){var r=t.type;if(Fn(r))return Wn(t,r,n)}return n}function cp(e,t,n,r){!function(e,t){if(pi&&"function"==typeof pi.onScheduleFiberRoot)try{pi.onScheduleFiberRoot(fi,e,t)}catch(e){gi||(gi=!0,l("React instrumentation encountered an error: %s",e))}}(t,e);var i=t.current,a=Ud(),o=Bd(i);!function(e){null!==mi&&"function"==typeof mi.markRenderScheduled&&mi.markRenderScheduled(e)}(o);var s=up(n);null===t.context?t.context=s:t.pendingContext=s,Wi&&null!==Hi&&!Xf&&(Xf=!0,l("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",V(Hi)||"Unknown"));var u=Ra(a,o);u.payload={element:e},null!==(r=void 0===r?null:r)&&("function"!=typeof r&&l("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",r),u.callback=r),La(i,u);var c=Fd(i,o,a);return null!==c&&Oa(c,i,o),o}function hp(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=function(e,t){return 0!==e&&e<t?e:t}(n.retryLane,t))}function dp(e,t){hp(e,t);var n=e.alternate;n&&hp(n,t)}Xf=!1,Yf={};var fp=function(e){return null};function pp(e){return fp(e)}var mp=function(e){return!1};function gp(e){return mp(e)}var vp,yp,_p,bp,xp,wp,Sp,Mp,Ep,Tp=function(e,t,n){var r=t[n],i=_e(e)?e.slice():c({},e);return n+1===t.length?(_e(i)?i.splice(r,1):delete i[r],i):(i[r]=Tp(e[r],t,n+1),i)},Cp=function(e,t){return Tp(e,t,0)},Pp=function(e,t,n,r){var i=t[r],a=_e(e)?e.slice():c({},e);return r+1===t.length?(a[n[r]]=a[i],_e(a)?a.splice(i,1):delete a[i]):a[i]=Pp(e[i],t,n,r+1),a},kp=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void s("copyWithRename() expects paths to be the same except for the deepest key");return Pp(e,t,n,0)}s("copyWithRename() expects paths of the same length")},Ap=function(e,t,n,r){if(n>=t.length)return r;var i=t[n],a=_e(e)?e.slice():c({},e);return a[i]=Ap(e[i],t,n+1,r),a},Ip=function(e,t,n){return Ap(e,t,0,n)},Rp=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function Lp(e){var t=pe(e);return null===t?null:t.stateNode}function Op(e){return null}function Np(){return Hi}return vp=function(e,t,n,r){var i=Rp(e,t);if(null!==i){var a=Ip(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps),Fd(e,1,Mr)}},yp=function(e,t,n){var r=Rp(e,t);if(null!==r){var i=Cp(r.memoizedState,n);r.memoizedState=i,r.baseState=i,e.memoizedProps=c({},e.memoizedProps),Fd(e,1,Mr)}},_p=function(e,t,n,r){var i=Rp(e,t);if(null!==i){var a=kp(i.memoizedState,n,r);i.memoizedState=a,i.baseState=a,e.memoizedProps=c({},e.memoizedProps),Fd(e,1,Mr)}},bp=function(e,t,n){e.pendingProps=Ip(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fd(e,1,Mr)},xp=function(e,t){e.pendingProps=Cp(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fd(e,1,Mr)},wp=function(e,t,n){e.pendingProps=kp(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fd(e,1,Mr)},Sp=function(e){Fd(e,1,Mr)},Mp=function(e){fp=e},Ep=function(e){mp=e},n.attemptContinuousHydration=function(e){if(e.tag===g){var t=Ud(),n=yr;Fd(e,n,t),dp(e,n)}},n.attemptHydrationAtCurrentPriority=function(e){if(e.tag===g){var t=Ud(),n=Bd(e);Fd(e,n,t),dp(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(zi(t)){var n=function(e){return Cr(e.pendingLanes)}(t);!function(e,t){0!==t&&(qr(e,jr(t,1)),Hd(e,oi()),0==(6&ld)&&(Sd(),Di()))}(t,n)}break;case g:var r=Ud();Yd(function(){return Fd(e,1,r)}),dp(e,1)}},n.batchedUpdates=function(e,t){var n=ld;ld|=1;try{return e(t)}finally{0!==(ld=n)||sd.isBatchingLegacy||(Sd(),Ni())}},n.createComponentSelector=function(e){return{$$typeof:Hh,value:e}},n.createContainer=function(e,t,n,r,i,a,o,s){return lp(e,t,!1,null,0,r,0,a,o)},n.createHasPseudoClassSelector=function(e){return{$$typeof:Wh,value:e}},n.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,u){var c=lp(n,r,!0,e,0,a,0,s,l);c.context=up(null);var h=c.current,d=Ud(),f=Bd(h),p=Ra(d,f);return p.callback=null!=t?t:null,La(h,p),function(e,t,n){e.current.lanes=t,Gr(e,t,n),Hd(e,n)}(c,f,d),c},n.createPortal=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ua(r),{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Gh,value:e}},n.createTestNameSelector=function(e){return{$$typeof:$h,value:e}},n.createTextSelector=function(e){return{$$typeof:qh,value:e}},n.deferredUpdates=function(e){var t=Jr(),n=od.transition;try{return od.transition=null,Qr(16),e()}finally{Qr(t),od.transition=n}},n.discreteUpdates=function(e,t,n,r,i){var a=Jr(),o=od.transition;try{return od.transition=null,Qr(1),e(t,n,r,i)}finally{Qr(a),od.transition=o,0===ld&&Sd()}},n.findAllNodes=Qh,n.findBoundingRects=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=Qh(e,t),r=[],i=0;i<n.length;i++)r.push(et(n[i]));for(var a=r.length-1;a>0;a--)for(var o=r[a],s=o.x,l=s+o.width,u=o.y,c=u+o.height,h=a-1;h>=0;h--)if(a!==h){var d=r[h],f=d.x,p=f+d.width,m=d.y,g=m+d.height;if(s>=f&&u>=m&&l<=p&&c<=g){r.splice(a,1);break}if(!(s!==f||o.width!==d.width||g<u||m>c)){m>u&&(d.height+=m-u,d.y=u),g<c&&(d.height=c-m),r.splice(a,1);break}if(!(u!==m||o.height!==d.height||p<s||f>l)){f>s&&(d.width+=f-s,d.x=s),p<l&&(d.width=l-f),r.splice(a,1);break}}return r},n.findHostInstance=function(e){var t=h(e);if(void 0===t){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var n=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+n)}var r=pe(t);return null===r?null:r.stateNode},n.findHostInstanceWithNoPortals=function(e){var t=ge(e);return null===t?null:t.stateNode},n.findHostInstanceWithWarning=function(e,t){var n=h(e);if(void 0===n){if("function"==typeof e.render)throw new Error("Unable to find node on an unmounted component.");var r=Object.keys(e).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+r)}var i=pe(n);if(null===i)return null;if(8&i.mode){var a=V(n)||"Component";if(!Yf[a]){Yf[a]=!0;var o=Hi;try{qi(i),l(8&n.mode?"%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node":"%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,a)}finally{o?qi(o):$i()}}}return i.stateNode},n.flushControlled=function(e){var t=ld;ld|=1;var n=od.transition,r=Jr();try{od.transition=null,Qr(1),e()}finally{Qr(r),od.transition=n,0===(ld=t)&&(Sd(),Di())}},n.flushPassiveEffects=hf,n.flushSync=Yd,n.focusWithin=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=Jh(Yh(e),t),r=Array.from(n),i=0;i<r.length;){var a=r[i++];if(!nt(a)){if(5===a.tag&&it(a.stateNode))return!0;for(var o=a.child;null!==o;)r.push(o),o=o.sibling}}return!1},n.getCurrentUpdatePriority=Jr,n.getFindAllNodesFailureDescription=function(e,t){if(!Je)throw new Error("Test selector API is not supported by this renderer.");for(var n=0,r=[],i=[Yh(e),0],a=0;a<i.length;){var o=i[a++],s=i[a++],l=t[s];if((5!==o.tag||!nt(o))&&(Zh(o,l)&&(r.push(Kh(l)),++s>n&&(n=s)),s<t.length))for(var u=o.child;null!==u;)i.push(u,s),u=u.sibling}if(n<t.length){for(var c=[],h=n;h<t.length;h++)c.push(Kh(t[h]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+c.join(" > ")}return null},n.getPublicRootInstance=function(e){var t=e.current;return t.child?5===t.child.tag?Ce(t.child.stateNode):t.child.stateNode:null},n.injectIntoDevTools=function(e){return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return l("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{e=c({},e,{getLaneLabelMap:bi,injectProfilingHooks:_i}),fi=t.inject(e),pi=t}catch(e){l("React instrumentation encountered an error: %s.",e)}return!!t.checkDCE}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:vp,overrideHookStateDeletePath:yp,overrideHookStateRenamePath:_p,overrideProps:bp,overridePropsDeletePath:xp,overridePropsRenamePath:wp,setErrorHandler:Mp,setSuspenseHandler:Ep,scheduleUpdate:Sp,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Lp,findFiberByHostInstance:e.findFiberByHostInstance||Op,findHostInstancesForRefresh:Wf,scheduleRefresh:Ff,scheduleRoot:jf,setRefreshHandler:Of,getCurrentFiber:Np,reconcilerVersion:"18.0.0-fc46dba67-20220329"})},n.isAlreadyRendering=function(){return 0!=(6&ld)},n.observeVisibleRects=function(e,t,n,r){if(!Je)throw new Error("Test selector API is not supported by this renderer.");var i=Qh(e,t),a=at(i,n,r),o=a.disconnect,s=a.observe,l=a.unobserve,u=function(){var n=Qh(e,t);i.forEach(function(e){n.indexOf(e)<0&&l(e)}),n.forEach(function(e){i.indexOf(e)<0&&s(e)})};return ed.push(u),{disconnect:function(){var e=ed.indexOf(u);e>=0&&ed.splice(e,1),o()}}},n.registerMutableSourceForHydration=function(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=Kr;try{return Kr=e,t()}finally{Kr=n}},n.shouldError=pp,n.shouldSuspend=gp,n.updateContainer=cp,n})}),Kx=Y(function(e){e.exports="production"===process.env.NODE_ENV?Yx:Zx});function Jx(e,t,n=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}const Qx=[];var ew,tw;const nw=e=>e&&e.isOrthographicCamera,rw="undefined"!=typeof window&&(null!=(ew=window.document)&&ew.createElement||"ReactNative"===(null==(tw=window.navigator)?void 0:tw.product))?e.useLayoutEffect:e.useEffect;function iw(t){const n=e.useRef(t);return rw(()=>{n.current=t},[t]),n}function aw({set:e}){return rw(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class ow extends e.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}function sw(e){const t="undefined"!=typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}ow.getDerivedStateFromError=()=>({error:!0});const lw=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},uw={obj:e=>e===Object(e)&&!uw.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(uw.str(e)||uw.num(e))return e===t;const a=uw.obj(e);if(a&&"reference"===r)return e===t;const o=uw.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;for(s in i?t:e)if(e[s]!==t[s])return!1;if(uw.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function cw(e,t){return(null!=t&&t.primitive||!e.__r3f)&&(e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),e}function hw(e,t){let n=e;if(t.includes("-")){const r=t.split("-"),i=r.pop();return n=r.reduce((e,t)=>e[t],e),{target:n,key:i}}return{target:n,key:t}}const dw=/-\d+$/;function fw(e,t,n){if(uw.str(n)){if(dw.test(n)){const t=n.replace(dw,""),{target:r,key:i}=hw(e,t);Array.isArray(r[i])||(r[i]=[])}const{target:r,key:i}=hw(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function pw(e,t,n){var r,i;if(uw.str(n)){const{target:r,key:i}=hw(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function mw(e,{children:t,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){var c;const h=null!=(c=null==e?void 0:e.__r3f)?c:{},d=Object.entries(i),f=[];if(u){const e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||d.unshift([e[t],"__defaultremove"])}d.forEach(([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t)return;if(uw.equ(n,l[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return f.push([t,n,!0,[]]);let a=[];t.includes("-")&&(a=t.split("-")),f.push([t,n,!1,a]);for(const e in i){const n=i[e];e.startsWith(`${t}-`)&&f.push([e,n,!1,e.split("-")])}});const p={...i};return h.memoizedProps&&h.memoizedProps.args&&(p.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(p.attach=h.memoizedProps.attach),{memoized:p,changes:f}}function gw(e,t){var n,r,i;const a=null!=(n=e.__r3f)?n:{},o=a.root,s=null!=(r=null==o||null==o.getState?void 0:o.getState())?r:{},{memoized:l,changes:u}=(c=t)&&c.memoized&&c.changes?t:mw(e,t);var c;const h=a.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let t=0;t<u.length;t++){let[n,r,i,o]=u[t],c=e,h=c[n];if(o.length&&(h=o.reduce((e,t)=>e[t],e),!h||!h.set)){const[t,...r]=o.reverse();c=r.reverse().reduce((e,t)=>e[t],e),n=t}var d;if("__defaultremove"===r)if(h&&h.constructor)r=new h.constructor(...null!=(d=l.args)?d:[]);else if(c.constructor){var f;const e=new c.constructor(...null!=(f=c.__r3f.memoizedProps.args)?f:[]);r=e[h],e.dispose&&e.dispose()}else r=0;if(i)r?a.handlers[n]=r:delete a.handlers[n],a.eventCount=Object.keys(a.handlers).length;else if(h&&h.set&&(h.copy||h instanceof Xd)){if(Array.isArray(r))h.fromArray?h.fromArray(r):h.set(...r);else if(h.copy&&r&&r.constructor&&h.constructor.name===r.constructor.name)h.copy(r);else if(void 0!==r){const e=h instanceof Yh;!e&&h.setScalar?h.setScalar(r):h instanceof Xd&&r instanceof Xd?h.mask=r.mask:h.set(r),"ColorManagement"in Fx||s.linear||!e||h.convertSRGBToLinear()}}else c[n]=r,!s.linear&&c[n]instanceof td&&(c[n].encoding=3001);vw(e)}if(a.parent&&s.internal&&e.raycast&&h!==a.eventCount){const t=s.internal.interaction.indexOf(e);t>-1&&s.internal.interaction.splice(t,1),a.eventCount&&s.internal.interaction.push(e)}return u.length&&null!=(i=e.__r3f)&&i.parent&&yw(e),e}function vw(e){var t,n;const r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function yw(e){null==e.onUpdate||e.onUpdate(e)}function _w(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function bw(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}let xw={};const ww=e=>!(null==e||!e.render),Sw=/*#__PURE__*/e.createContext(null);let Mw,Ew,Tw,Cw=new Set,Pw=new Set,kw=new Set;function Aw(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Iw(e,t){switch(e){case"before":return Aw(Cw,t);case"after":return Aw(Pw,t);case"tail":return Aw(kw,t)}}function Rw(e,t,n){let r=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Ew=t.internal.subscribers,Mw=0;Mw<Ew.length;Mw++)Tw=Ew[Mw],Tw.ref.current(Tw.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function Lw(){const t=e.useContext(Sw);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ow(e=(e=>e),t){return Lw()(e,t)}function Nw(e,t=0){const n=Lw(),r=n.getState().internal.subscribe,i=iw(e);return rw(()=>r(i,t,n),[t,r,n]),null}const Dw=new Map,{invalidate:zw,advance:Uw}=function(e){let t,n,r,i=!1;function a(o){n=requestAnimationFrame(a),i=!0,t=0,Iw("before",o);for(const n of e.values()){var s;r=n.store.getState(),!r.internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(s=r.gl.xr)&&s.isPresenting||(t+=Rw(o,r))}if(Iw("after",o),0===t)return Iw("tail",o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n,r=1){var o;if(!n)return e.forEach(e=>t(e.store.getState()),r);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(a)))},advance:function(t,n=!0,r,i){if(n&&Iw("before",t),r)Rw(t,r,i);else for(const n of e.values())Rw(t,n.store.getState());n&&Iw("after",t)}}}(Dw),{reconciler:Bw,applyProps:Fw}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,o=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw new Error("R3F: Primitives without 'object' are invalid!");a=cw(r.object,{type:e,root:i,attach:n,primitive:!0})}else{const r=xw[o];if(!r)throw new Error(`R3F: ${o} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw new Error("R3F: The args prop must be an array!");a=cw(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===a.__r3f.attach&&(a instanceof zf?a.__r3f.attach="geometry":a instanceof wf&&(a.__r3f.attach="material")),"inject"!==o&&gw(a,r),a}function r(e,t){let n=!1;var r,i;t&&(null!=(r=t.__r3f)&&r.attach?fw(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||cw(t,{}),t.__r3f.parent=e,yw(t),vw(t))}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)fw(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});const i=e.children.filter(e=>e!==t),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||cw(t,{}),t.__r3f.parent=e,yw(t),vw(t)}}function a(e,t,n=!1){e&&[...e].forEach(e=>o(t,e,n))}function o(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach)pw(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var s;e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{bw(n.capturedMap,t,e,r)})}(t.__r3f.root,t)}const u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;var l;u||(a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c)),t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&Xx.unstable_scheduleCallback(Xx.unstable_IdlePriority,()=>{try{t.dispose()}catch(e){}}),vw(e)}}const s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),l=Kx({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;const n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&o(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;const r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;const n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];{const{args:t=[],children:i,...a}=r,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw new Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==o[t]))return[!0];const u=mw(e,a,l,!0);return u.changes.length?[!1,u]:null}},commitUpdate(e,[t,i],a,s,l,u){t?function(e,t,i,a){var s;const l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;const u=n(t,i,e.__r3f.root);if(e.children){for(const t of e.children)t.__r3f&&r(u,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>r(u,e)),e.__r3f.objects=[],o(l,e),r(l,u),u.raycast&&u.__r3f.eventCount&&u.__r3f.root.getState().internal.interaction.push(u),[a,a.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,a,l,u):gw(e,i)},commitMount(e,t,n,r){var i;const a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>cw(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;const{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&pw(r,e,n),e.isObject3D&&(e.visible=!1),vw(e)},unhideInstance(e,t){var n;const{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&fw(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),vw(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():Hx.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&uw.fun(performance.now)?performance.now:uw.fun(Date.now)?Date.now:()=>0,scheduleTimeout:uw.fun(setTimeout)?setTimeout:void 0,cancelTimeout:uw.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:l,applyProps:gw}}(0,function(){var e;const t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return Hx.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Hx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Hx.ContinuousEventPriority;default:return Hx.DefaultEventPriority}}),jw={objects:"shallow",strict:!1},Vw=(e,t)=>{const n="function"==typeof e?e(t):e;return ww(n)?n:new Kg({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function Hw({store:t,children:n,onCreated:r,rootElement:i}){return rw(()=>{const e=t.getState();e.set(e=>({internal:{...e.internal,active:!0}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)},[]),/*#__PURE__*/e.createElement(Sw.Provider,{value:t},n)}function Ww(e,t){const n=Dw.get(e),r=null==n?void 0:n.fiber;if(r){const i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Bw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){e.dispose&&"Scene"!==e.type&&e.dispose();for(const t in e)null==t.dispose||t.dispose(),delete e[t]}(i),Dw.delete(e),t&&t(e)}catch(e){}},500)})}}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(this,arguments)}function $w(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}Bw.injectIntoDevTools({bundleType:"production"===process.env.NODE_ENV?0:1,rendererPackageName:"@react-three/fiber",version:e.version}),$w.debounce=$w;var qw=$w;function Xw(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e;const o=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[u,c]=p({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=l({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),d=t?"number"==typeof t?t:t.scroll:null,f=t?"number"==typeof t?t:t.resize:null,m=l(!1);s(()=>(m.current=!0,()=>{m.current=!1}));const[g,v,y]=i(()=>{const e=()=>{if(!h.current.element)return;const{left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:l}=h.current.element.getBoundingClientRect(),u={left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:l};h.current.element instanceof HTMLElement&&a&&(u.height=h.current.element.offsetHeight,u.width=h.current.element.offsetWidth),Object.freeze(u),m.current&&!Kw(h.current.lastBounds,u)&&c(h.current.lastBounds=u)};return[e,f?qw(e,f):e,d?qw(e,d):e]},[c,a,d,f]);function _(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",y,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null)}function b(){h.current.element&&(h.current.resizeObserver=new o(y),h.current.resizeObserver.observe(h.current.element),n&&h.current.scrollContainers&&h.current.scrollContainers.forEach(e=>e.addEventListener("scroll",y,{capture:!0,passive:!0})))}var x,w,S;return x=y,w=Boolean(n),s(()=>{if(w){const e=x;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}},[x,w]),s(()=>{const e=S;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[S=v]),s(()=>{_(),b()},[n,y,v]),s(()=>_,[]),[e=>{e&&e!==h.current.element&&(_(),h.current.element=e,h.current.scrollContainers=Yw(e),b())},u,g]}function Yw(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...Yw(e.parentElement)]}const Zw=["x","y","top","bottom","left","right","width","height"],Kw=(e,t)=>Zw.every(n=>e[n]===t[n]);var Jw=Object.defineProperty,Qw=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,tS=Object.getOwnPropertySymbols,nS=Object.prototype.hasOwnProperty,rS=Object.prototype.propertyIsEnumerable,iS=(e,t,n)=>t in e?Jw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aS=(e,t)=>{for(var n in t||(t={}))nS.call(t,n)&&iS(e,n,t[n]);if(tS)for(var n of tS(t))rS.call(t,n)&&iS(e,n,t[n]);return e};function oS(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=oS(r,t,n);if(e)return e;r=t?null:r.sibling}}function sS(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const lS=sS(e.createContext(null));class uS extends e.Component{render(){/* @__PURE__ */
return e.createElement(lS.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:cS,ReactCurrentDispatcher:hS}=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dS=[],fS=/* @__PURE__ */new WeakMap,pS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function mS(e){const{handlePointer:t}=function(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(_w(e)),null!=r&&r.eventCount){const n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,c=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=lw(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){const n=lw(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=lw(e.object),r=lw(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=_w(e);return!i.has(t)&&(i.add(t),!0)});r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(_w(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),h=u?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=c.map(e=>e.eventObject)),u&&!c.length&&h<=2&&(r(a,s.interaction),o&&o(a)),l&&n(c),function(t,r,i,a){const o=e.getState();if(t.length){const e={stopped:!1};for(const s of t){const l=lw(s.object)||o,{raycaster:u,pointer:c,camera:h,internal:d}=l,f=new sd(c.x,c.y,0).unproject(h),p=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(s.eventObject))&&t},m=e=>{const t={intersection:s,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(s.eventObject,t):d.capturedMap.set(e,new Map([[s.eventObject,t]])),r.target.setPointerCapture(e)},g=e=>{const t=d.capturedMap.get(e);t&&bw(d.capturedMap,s.eventObject,t,e)};let v={};for(let e in r){let t=r[e];"function"!=typeof t&&(v[e]=t)}let y={...s,...v,pointer:c,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:f,ray:u.ray,camera:h,stopPropagation(){const i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(s.eventObject))&&(y.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===s.eventObject))&&n([...t.slice(0,t.indexOf(s)),s])},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:r};if(a(y),!0===e.stopped)break}}}(c,a,h,function(e){const t=e.eventObject,n=t.__r3f,o=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=_w(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?u&&!s.initialHits.includes(t)||(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):u&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(pS).reduce((e,n)=>({...e,[n]:t(n)}),{}),connect:t=>{var n;const{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(([e,n])=>{const[r,i]=pS[e];t.addEventListener(r,n,{passive:i})})},disconnect:()=>{const{set:t,events:n}=e.getState();var r;n.connected&&(Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){const[r]=pS[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:{...e.events,connected:void 0}})))}}}const gS=/*#__PURE__*/e.forwardRef(function({children:t,fallback:n,resize:r,style:i,gl:a,events:o=mS,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:h,legacy:d,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:y,onPointerMissed:_,onCreated:b,...x},w){e.useMemo(()=>{return e=Fx,void(xw={...xw,...e});var e},[]);const S=function(){var t;const n=function(){const t=e.useContext(lS);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const n=e.useId();return e.useMemo(()=>{var e;return null!=(e=cS.current)?e:oS(t,!1,e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===n)return!0;t=t.next}})},[t,n])}();dS.splice(0,dS.length),oS(n,!0,e=>{var t;const n=null==(t=e.type)?void 0:t._context;n&&n!==lS&&dS.push(sS(n))});for(const e of dS){const n=null==(t=hS.current)?void 0:t.readContext(e);fS.set(e,n)}return e.useMemo(()=>dS.reduce((t,n)=>r=>/* @__PURE__ */e.createElement(t,null,/* @__PURE__ */e.createElement(n.Provider,((e,t)=>Qw(e,eS(t)))(aS({},r),{value:fS.get(n)}))),t=>/* @__PURE__ */e.createElement(uS,aS({},t))),[])}(),[M,E]=Xw({scroll:!0,debounce:{scroll:50,resize:0},...r}),T=e.useRef(null),C=e.useRef(null),[P,k]=e.useState(null);e.useImperativeHandle(w,()=>T.current);const A=iw(_),[I,R]=e.useState(!1),[L,O]=e.useState(!1);if(I)throw I;if(L)throw L;const N=e.useRef(null);return E.width>0&&E.height>0&&P&&(N.current||(N.current=function(t){const n=Dw.get(t),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");const a="function"==typeof reportError?reportError:console.error,o=i||((t,n)=>{const r=Gx((r,i)=>{const a=new sd,o=new sd,s=new sd;function l(e=i().camera,t=o,n=i().size){const{width:r,height:l,top:u,left:c}=n,h=r/l;t instanceof sd?s.copy(t):s.set(...t);const d=e.getWorldPosition(a).distanceTo(s);if(nw(e))return{width:r/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:d,aspect:h};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*d,i=n*(r/l);return{width:i,height:n,top:u,left:c,factor:r/i,distance:d,aspect:h}}}let u;const c=e=>r(t=>({performance:{...t.performance,current:e}})),h=new Rh,d={set:r,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(e=1)=>t(i(),e),advance:(e,t)=>n(e,t,i()),legacy:!1,linear:!1,flat:!1,scene:cw(new tv),controls:null,clock:new Gb,pointer:h,mouse:h,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();u&&clearTimeout(u),e.performance.current!==e.performance.min&&c(e.performance.min),u=setTimeout(()=>c(i().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>r(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,n,a,s)=>{const u=i().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:n};r(e=>({size:c,viewport:{...e.viewport,...l(u,o,c)}}))},setDpr:e=>r(t=>{const n=sw(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{const t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:/*#__PURE__*/e.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return d}),i=r.getState();let a=i.size,o=i.viewport.dpr,s=i.camera;return r.subscribe(()=>{const{camera:e,size:t,viewport:n,gl:i,set:l}=r.getState();t===a&&n.dpr===o||(a=t,o=n.dpr,function(e,t){e.manual||(nw(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}(e,t),i.setPixelRatio(n.dpr),i.setSize(t.width,t.height,t.updateStyle)),e!==s&&(s=e,l(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),r.subscribe(e=>t(e)),r})(zw,Uw),s=r||Bw.createContainer(o,Hx.ConcurrentRoot,null,!1,null,"",a,null);let l;n||Dw.set(t,{fiber:s,store:o});let u=!1;return{configure(e={}){let{gl:n,size:r,events:i,onCreated:a,shadows:s=!1,linear:c=!1,flat:h=!1,legacy:d=!1,orthographic:f=!1,frameloop:p="always",dpr:m=[1,2],performance:g,raycaster:v,camera:y,onPointerMissed:_}=e,b=o.getState(),x=b.gl;b.gl||b.set({gl:x=Vw(n,t)});let w=b.raycaster;w||b.set({raycaster:w=new dx});const{params:S,...M}=v||{};if(uw.equ(M,w,jw)||Fw(w,{...M}),uw.equ(S,w.params,jw)||Fw(w,{params:{...w.params,...S}}),!b.camera){const e=y instanceof up,t=e?y:f?new Op(0,0,0,0,.1,1e3):new cp(75,0,.1,1e3);e||(t.position.z=5,y&&Fw(t,y),null!=y&&y.rotation||t.lookAt(0,0,0)),b.set({camera:t})}if(!b.xr){const e=(e,t)=>{const n=o.getState();"never"!==n.frameloop&&Uw(e,!0,n,t)},t=()=>{const t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||zw(t)},n={connect(){const e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};x.xr&&n.connect(),b.set({xr:n})}if(x.shadowMap){const e=uw.boo(s);if(e&&x.shadowMap.enabled!==s||!uw.equ(s,x.shadowMap,jw)){const t=x.shadowMap.enabled;x.shadowMap.enabled=!!s,e?x.shadowMap.type=2:Object.assign(x.shadowMap,s),t!==x.shadowMap.enabled&&(x.shadowMap.needsUpdate=!0)}}"ColorManagement"in Fx&&function(e,t,n){const r=n.pop(),i=n.reduce((e,t)=>e[t],e);i[r]=t}(Fx,d,["ColorManagement","legacyMode"]);const E=c?3e3:3001,T=h?0:4;x.outputEncoding!==E&&(x.outputEncoding=E),x.toneMapping!==T&&(x.toneMapping=T),b.legacy!==d&&b.set(()=>({legacy:d})),b.linear!==c&&b.set(()=>({linear:c})),b.flat!==h&&b.set(()=>({flat:h})),!n||uw.fun(n)||ww(n)||uw.equ(n,x,jw)||Fw(x,n),i&&!b.events.handlers&&b.set({events:i(o)}),m&&b.viewport.dpr!==sw(m)&&b.setDpr(m);const C=function(e,t){if(t)return t;if(e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return{width:0,height:0,top:0,left:0}}(t,r);return uw.equ(C,b.size,jw)||b.setSize(C.width,C.height,C.updateStyle,C.top,C.left),b.frameloop!==p&&b.setFrameloop(p),b.onPointerMissed||b.set({onPointerMissed:_}),g&&!uw.equ(g,b.performance,jw)&&b.set(e=>({performance:{...e.performance,...g}})),l=a,u=!0,this},render(n){return u||this.configure(),Bw.updateContainer(/*#__PURE__*/e.createElement(Hw,{store:o,children:n,onCreated:l,rootElement:t}),s,null,()=>{}),o},unmount(){Ww(t)}}}(P)),N.current.configure({gl:a,events:o,shadows:u,linear:c,flat:h,legacy:d,orthographic:f,frameloop:p,dpr:m,performance:g,raycaster:v,camera:y,size:E,onPointerMissed:(...e)=>null==A.current?void 0:A.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(s?(t=s)&&t.hasOwnProperty("current")?s.current:s:C.current),l&&e.setEvents({compute:(e,t)=>{t.pointer.set(e[l+"X"]/t.size.width*2-1,-e[l+"Y"]/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==b||b(e)}}),N.current.render(/*#__PURE__*/e.createElement(S,null,/*#__PURE__*/e.createElement(ow,{set:O},/*#__PURE__*/e.createElement(e.Suspense,{fallback:/*#__PURE__*/e.createElement(aw,{set:R})},t))))),rw(()=>{k(T.current)},[]),e.useEffect(()=>{if(P)return()=>Ww(P)},[P]),/*#__PURE__*/e.createElement("div",Gw({ref:C,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:s?"none":"auto",...i}},x),/*#__PURE__*/e.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},/*#__PURE__*/e.createElement("canvas",{ref:T,style:{display:"block"}},n)))}),vS=/*#__PURE__*/e.forwardRef(function(t,n){/*#__PURE__*/
return e.createElement(uS,null,/*#__PURE__*/e.createElement(gS,Gw({},t,{ref:n})))});var yS={background_canvas:"_9vYAZ",background_canvas__default:"_pbx-9"},_S=function(e){var t=e.tagName,n=e.className,r=e.variant,i=e.raycaster;return h(void 0===t?"div":t,{className:yS.background_canvas+" "+yS["background_canvas__"+(void 0===r?"default":r)]+" "+(void 0===n?"pointer-events-none":n)+" fixed top-0 left-0 z-0 w-screen h-screen"},h(vS,{raycaster:void 0!==i&&i,style:{width:"100%",height:"100%"}},e.children))};_S.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var bS={blaster_image:"_j-m1x",blaster_image__default:"_n66yN"},xS=function(t){var n=t.tagName,r=void 0===n?"div":n,i=t.className,a=void 0===i?"absolute inset-0 object-cover w-full h-screen":i,o=t.variant,s=void 0===o?"default":o,l=t.items,u=void 0===l?["/img/blaster/0.jpeg","/img/blaster/1.jpeg","/img/blaster/2.jpeg","/img/blaster/0.jpeg","/img/blaster/1.jpeg","/img/blaster/2.jpeg","/img/blaster/0.jpeg","/img/blaster/1.jpeg","/img/blaster/2.jpeg"]:l,c=t.seconds,d=1e3*(void 0===c?.44:c),f=e.useState(0),p=f[0],m=f[1];return e.useEffect(function(){!function(){try{return Promise.resolve((e=d,new Promise(function(t){return setTimeout(t,e)}))).then(function(){var e=p+1;e>=u.length-1&&(e=0),m(e)})}catch(e){return Promise.reject(e)}var e}()},[p]),h(r,{className:bS.blaster_image+" "+bS["blaster_image__"+s]+" "+a},h("img",{src:u[p],key:"blast-img-"+p,alt:"",className:"object-cover w-full min-h-screen min-"}))};xS.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var wS=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),SS="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,MS="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),ES="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(MS):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},TS=["top","right","bottom","left","width","height","size","weight"],CS="undefined"!=typeof MutationObserver,PS=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){ES(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);i=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){SS&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),CS?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){SS&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;TS.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),kS=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},AS=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||MS},IS=NS(0,0,0,0);function RS(e){return parseFloat(e)||0}function LS(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+RS(e["border-"+n+"-width"])},0)}var OS="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof AS(e).SVGGraphicsElement}:function(e){return e instanceof AS(e).SVGElement&&"function"==typeof e.getBBox};function NS(e,t,n,r){return{x:e,y:t,width:n,height:r}}var DS=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=NS(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,SS?OS(e)?function(e){var t=e.getBBox();return NS(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return IS;var r=AS(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];t[i]=RS(e["padding-"+i])}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=RS(r.width),l=RS(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=LS(r,"left","right")+a),Math.round(l+o)!==n&&(l-=LS(r,"top","bottom")+o)),!function(e){return e===AS(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return NS(i.left,i.top,s,l)}(e):IS);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),zS=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return kS(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);kS(this,{target:e,contentRect:n})},US=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new wS,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof AS(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new DS(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof AS(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new zS(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),BS="undefined"!=typeof WeakMap?new WeakMap:new wS,FS=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=PS.getInstance(),r=new US(t,n,this);BS.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){FS.prototype[e]=function(){var t;return(t=BS.get(this))[e].apply(t,arguments)}});var jS,VS=(jS={__proto__:null,default:void 0!==MS.ResizeObserver?MS.ResizeObserver:FS})&&"object"==typeof jS&&"default"in jS?jS.default:jS,HS={debug:10,info:20,warn:30,error:40,none:100},WS="undefined"!=typeof window&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,GS={blaster_text:"_nF2hO",blaster_text__default:"_ZrCPK"},$S=function(e){var n=e.tagName,r=void 0===n?"div":n,i=e.className,a=void 0===i?"absolute inset-0 flex items-center justify-center w-full h-screen bg-black/50 backdrop-blur-sm h-screen-ios z-infinity":i,o=e.variant,l=void 0===o?"default":o,u=e.items,c=void 0===u?["Epic","Unforgettable","Dreamlike","Gritty","Immersive","Incredible","Magical","Emotional"]:u,d=e.seconds,f=void 0===d?1.25:d,m=e.start,g=void 0!==m&&m,v=e.repeat,y=void 0===v?Infinity:v,_=function(e){void 0===e&&(e={});var n=e.logLevel;void 0===n&&(n="info");var r=e.maxFontSize;void 0===r&&(r=100);var i=e.minFontSize;void 0===i&&(i=20);var a=e.onFinish,o=e.onStart,s=e.resolution;void 0===s&&(s=5);var l=HS[n],u=t.useCallback(function(){return{calcKey:0,fontSize:r,fontSizePrev:i,fontSizeMax:r,fontSizeMin:i}},[r,i]),c=t.useRef(null),h=t.useRef(),d=t.useRef(!1),f=t.useState(u),p=f[0],m=f[1],g=p.calcKey,v=p.fontSize,y=p.fontSizeMax,_=p.fontSizeMin,b=p.fontSizePrev,x=null,w=t.useState(function(){return new VS(function(){x=window.requestAnimationFrame(function(){d.current||(o&&o(),d.current=!0,m(Object.assign({},u(),{calcKey:g+1})))})})})[0];t.useEffect(function(){return c.current&&w.observe(c.current),function(){x&&window.cancelAnimationFrame(x),w.disconnect()}},[x,w]);var S=c.current&&c.current.innerHTML;return t.useEffect(function(){0===g||d.current||(S!==h.current&&(o&&o(),m(Object.assign({},u(),{calcKey:g+1}))),h.current=S)},[g,u,S,o]),WS(function(){if(0!==g){var e=Math.abs(v-b)<=s,t=!!c.current&&(c.current.scrollHeight>c.current.offsetHeight||c.current.scrollWidth>c.current.offsetWidth),n=v>b;if(e)t&&v===b?(d.current=!1,l<=HS.info&&console.info("[use-fit-text] reached `minFontSize = "+i+"` without fitting text")):t?m({fontSize:n?b:_,fontSizeMax:y,fontSizeMin:_,fontSizePrev:b,calcKey:g}):(d.current=!1,a&&a(v));else{var r,o=y,u=_;t?(r=n?b-v:_-v,o=Math.min(y,v)):(r=n?y-v:b-v,u=Math.max(_,v)),m({calcKey:g,fontSize:v+r/2,fontSizeMax:o,fontSizeMin:u,fontSizePrev:v})}}},[g,v,y,_,b,a,c,s]),{fontSize:v+"%",ref:c}}({maxFontSize:1500,minFontSize:200,onFinish:function(){return console.log("Finished sizing!")},onStart:function(){return console.log("Started sizing!")}}),b=_.fontSize,x=_.ref,w=1e3*f,S=p(0),M=S[0],E=S[1];return console.log("items",c[M]),s(function(){g&&function(){try{return Promise.resolve((e=w,new Promise(function(t){return setTimeout(t,e)}))).then(function(){var e=M+1;e>=c.length&&(e=0),(Infinity==y||y<M)&&E(e)})}catch(e){return Promise.reject(e)}var e}()},[g,M]),h(r,{className:GS.blaster_text+" "+GS["blaster_text__"+l]+" "+a},h(ru,{mode:"wait"},g?h(Yl.div,{key:"text-"+M,className:"flex items-center justify-center w-full h-auto overflow-hidden text-center"},h(Yl.p,{ref:x,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.75,ease:"easeInOut"},className:"w-full h-auto text-center text-white font-pixel",style:{fontSize:b}},'"',c[M],'"')):null))};$S.propTypes={tagName:M.object,className:M.string,variant:M.oneOf(["default"]),children:M.node};var qS={btn_color_hover:"_FQ6MX",btn_color_hover__default:"_iq4-v"},XS=function(e){var t=e.tagName,n=e.className,r=e.variant,i=e.children,a=void 0===i?"Lorem Ipsum":i;return h(void 0===t?"div":t,{className:qS.btn_color_hover+" "+qS["btn_color_hover__"+(void 0===r?"default":r)]+" "+(void 0===n?"":n)},h("button",{class:"btnCircle btn-Circle--gallery",visible:"",style:"--btnBgColor:#ffffff; --btnColor:#000000;"},h("canvas",{"data-ui":"canvas",width:"103",height:"103",style:"position: absolute; top: 50%; left: 50%; width: 51.6953px; height: 51.6953px; margin-top: -26px; margin-left: -26px;"}),h("div",{"data-ui":"icon",style:"opacity: 1;"},h("svg",{"data-ui":"grid",class:"btnCircle__icon"},h("use",{xlinkHref:"#grid"}))),h("div",{class:"btnCircle__text","data-ui":"text",style:"opacity: 1; transform: translate(0px, 0px);"},a)))};XS.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var YS=function(t){var n=t.tagName,r=void 0===n?"div":n,i=t.className,a=void 0===i?"text-2xl":i,o=t.buttonClassName,s=void 0===o?"":o,l=t.children,u=void 0===l?"":l,c=e.useRef(),d=e.useCallback(function(e){var t=1-(c.current.offsetHeight-e.offsetY)/c.current.offsetHeight;c.current.style.setProperty("--perX",(100*(1-(c.current.offsetWidth-e.offsetX)/c.current.offsetWidth)).toFixed(2)+"%"),c.current.style.setProperty("--perY",(100*t).toFixed(2)+"%")},[]);return e.useEffect(function(){var e=c.current;return e.addEventListener("mousemove",d),function(){return e.removeEventListener("mousemove",d)}},[c,d]),h(r,{className:""+a},h("a",{ref:c,href:"#!",className:"_KFdbI "+s},u))};YS.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var ZS={button_speak:"_rQDH2",button_speak__default:"_6J6-6"},KS=function(e){return h(Yl.svg,R({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e)," ",h("path",{d:"M 18 2 L 15.585938 4.4140625 L 19.585938 8.4140625 L 22 6 L 18 2 z M 14.076172 5.9238281 L 3 17 L 3 21 L 7 21 L 18.076172 9.9238281 L 14.076172 5.9238281 z"}))},JS=e.memo(e.forwardRef(function(e,t){var n=e.tagName,r=e.className,i=e.variant,a=e.onMouseEnter,o=e.onMouseLeave,s=e.onClick,l=e.motionVariants;return h(void 0===n?"button":n,{className:ZS.button_speak+" "+ZS["button_speak__"+(void 0===i?"default":i)]+" "+(void 0===r?"fixed flex items-center justify-center rounded-full outline-none dark:focus:outline-white focus:outline-black focus:outline-4 outline-dashed right-12 bottom-12 duration-400":r)+" h-[84px] w-[84px]",onMouseEnter:void 0===a?function(){}:a,onMouseLeave:void 0===o?function(){}:o,onClick:void 0===s?function(){}:s,ref:t},h(Yl.div,{whileTap:"tap",whileHover:"hover",whileFocus:"focus",animate:"animate",exit:"exit",initial:"initial",variants:void 0===l?{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},tap:{scale:.75,duration:.45,ease:[.4,0,.2,1]},hover:{scale:1.25,duration:.45,ease:[.4,0,.2,1]},focus:{scale:1.25,duration:.45,ease:[.4,0,.2,1]}}:l,className:"absolute top-0 left-0 w-full h-full transition ease-out bg-black rounded-full dark:bg-white active:bg-red-800 hover:bg-red-ff duration-400"}),h(KS,{className:"pointer-events-none absolute fill-white dark:fill-black w-[24px] h-[24px]"}))})),QS=me,eM=(0,fe.default)(t);const tM="undefined"==typeof window,nM=tM?()=>{}:eM.useLayoutEffect,rM=tM?()=>{}:eM.useEffect;var iM=/*#__PURE__*/Object.defineProperty({default:function(e){const{headManager:t,reduceComponentsToState:n}=e;function r(){if(t&&t.mountedInstances){const r=eM.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(r,e))}}var i;return tM&&(null==t||null==(i=t.mountedInstances)||i.add(e.children),r()),nM(()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}}),nM(()=>(t&&(t._pendingUpdate=r),()=>{t&&(t._pendingUpdate=r)})),rM(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},"__esModule",{value:!0}),aM=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AmpStateContext=void 0;const r=(0,se.default)(t).default.createContext({});n.AmpStateContext=r,"production"!==process.env.NODE_ENV&&(r.displayName="AmpStateContext")}),oM=/*#__PURE__*/Object.defineProperty({isInAmpMode:function({ampFirst:e=!1,hybrid:t=!1,hasQuery:n=!1}={}){return e||t&&n}},"__esModule",{value:!0}),sM=Y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.warnOnce=void 0;let n=e=>{};if("production"!==process.env.NODE_ENV){const e=new Set;t.warnOnce=n=t=>{e.has(t)||console.warn(t),e.add(t)}}t.warnOnce=n}),lM=Y(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.defaultHead=s,n.default=void 0;var r=de.default,i=se.default,a=(0,fe.default)(t),o=i(iM);function s(e=!1){const t=[
/*#__PURE__*/a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(/*#__PURE__*/a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function l(e,t){return"string"==typeof t||"number"==typeof t?e:e.concat(t.type===a.default.Fragment?a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[]):t)}const u=["name","httpEquiv","charSet","itemProp"];function c(e,t){const{inAmpMode:n}=t;return e.reduce(l,[]).reverse().concat(s(n).reverse()).filter(function(){const e=new Set,t=new Set,n=new Set,r={};return i=>{let a=!0,o=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){o=!0;const t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?a=!1:t.add(i.type);break;case"meta":for(let e=0,t=u.length;e<t;e++){const t=u[e];if(i.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?a=!1:n.add(t);else{const e=i.props[t],n=r[t]||new Set;"name"===t&&o||!n.has(e)?(n.add(e),r[t]=n):a=!1}}}return a}}()).reverse().map((e,t)=>{const i=e.key||t;if("development"!==process.env.NODE_ENV&&process.env.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){const t=r({},e.props||{});return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,/*#__PURE__*/a.default.cloneElement(e,t)}return"development"===process.env.NODE_ENV&&("script"===e.type&&"application/ld+json"!==e.props.type?sM.warnOnce(`Do not add <script> tags using next/head (see ${e.props.src?`<script> tag with src="${e.props.src}"`:"inline <script>"}). Use next/script instead. \nSee more info here: https://nextjs.org/docs/messages/no-script-tags-in-head-component`):"link"===e.type&&"stylesheet"===e.props.rel&&sM.warnOnce(`Do not add stylesheets using next/head (see <link rel="stylesheet"> tag with href="${e.props.href}"). Use Document instead. \nSee more info here: https://nextjs.org/docs/messages/no-stylesheets-in-head-component`)),/*#__PURE__*/a.default.cloneElement(e,{key:i})})}n.default=function({children:e}){const t=a.useContext(aM.AmpStateContext),n=a.useContext(ce.HeadManagerContext);/*#__PURE__*/
return a.default.createElement(o.default,{reduceComponentsToState:c,headManager:n,inAmpMode:oM.isInAmpMode(t)},e)},("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)}),uM=lM,cM={calendly_embed:"_-BDKZ",calendly_embed__default:"_8QEQ6"},hM=function(e){var t=e.tagName,n=e.className,r=e.variant,i=e.url,a=void 0===i?"https://calendly.com/fomolol":i,o=e.text,s=void 0===o?"Schedule time with me":o,l=e.color,u=void 0===l?"#0069ff":l,c=e.textColor,d=void 0===c?"#ffffff":c,f=e.branding,p=void 0===f||f;return h(void 0===t?"div":t,{className:cM.calendly_embed+" "+cM["calendly_embed__"+(void 0===r?"default":r)]+" "+(void 0===n?"":n)+" overflow-hidden"},h(QS,{src:"https://assets.calendly.com/assets/external/widget.js",strategy:"beforeInteractive"}),h(QS,{id:"calendly-script-tag",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"window.onload = function() { \n          Calendly.initBadgeWidget({ \n            url: "+a+", \n            text: "+s+", \n            color: "+u+", \n            textColor: "+d+", \n            branding: "+p+" \n          }); \n        }"}}),h(uM,null,h("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"sheet"})),h("style",{jsx:!0,global:!0},"\n        .calendly-badge-widget {\n          right: 40%;\n        }\n        .calendly-inline-widget iframe,\n        .calendly-badge-widget iframe,\n        .calendly-overlay iframe {\n          min-height: 70vh;\n          margin-bottom: 100px;\n        }\n        div#onetrust-banner-sdk {\n          border-top-right-radius: 20px !important;\n          border-top-left-radius: 20px !important;\n        }\n      "))};hM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var dM={background:"#000",completeRatio:1,enabled:!0,onComplete:null,onProgress:null,size:40},fM=function(e,t){return parseFloat(getComputedStyle(e,null)[t].replace("px",""))},pM=["completeRatio","enabled","onComplete","onProgress","size","background","width","height"],mM=forwardRef(function(e,t){var n=e.completeRatio,r=void 0===n?1:n,a=e.enabled,o=void 0===a||a,s=e.onComplete,u=void 0===s?null:s,c=e.onProgress,d=void 0===c?null:c,f=e.size,m=void 0===f?40:f,g=e.background,v=void 0===g?"#000":g,y=e.width,_=e.height,b=L(e,pM),x=p(null),w=x[0],S=x[1],M=l(null),E=((e,t)=>i(()=>null==e&&null==t?null:n=>{Ku(e,n),Ku(t,n)},[e,t]))(M,t),T=i(function(){return{background:v,completeRatio:r,enabled:o,onComplete:u,onProgress:d,size:m,width:y,height:_}},[v,r,o,u,d,m,y,_]);return useEffect(function(){var e=function(){var e=null,t=null,n={},r=function(e,t){var r=n.colParts,i=n.numParts,a=n.completeRatio,o=n.size,s=n.onComplete,l=n.onProgress;if(n.enabled){var u=Math.floor(e/o)+Math.floor(t/o)*r;if(u>=0&&u<i&&(n.ratio+=n.parts[u],n.parts[u]=0,!n.complete)){if((u=n.ratio/n.numParts)>=a)return n.complete=!0,void(s&&s());l&&l(u)}}},i=function(e){e.preventDefault();var i=n.scaleRatio,a=n.touchX,o=n.touchY,s=(e.pageX-n.posX)*i,l=(e.pageY-n.posY)*i;n.enabled&&(r(s,l),t.beginPath(),t.moveTo(a,o),t.lineTo(s,l),t.stroke()),n.touchX=s,n.touchY=l},a=function(a){a.preventDefault();var o=n.enabled,s=n.scaleRatio,l=(a.pageX-n.posX)*s,u=(a.pageY-n.posY)*s;n.touchDown=!0,n.touchX=l,n.touchY=u,o&&(r(l,u),t.beginPath(),t.moveTo(l-1,u),t.lineTo(l,u),t.stroke()),e.addEventListener("mousemove",i)},o=function(a){a.preventDefault();var o=n.enabled,s=n.scaleRatio,l=(a.pageX-n.posX)*s,u=(a.pageY-n.posY)*s;n.touchDown=!0,n.touchX=l,n.touchY=u,o&&(r(l,u),t.beginPath(),t.moveTo(l-1,u),t.lineTo(l,u),t.stroke()),e.addEventListener("mousemove",i)};return{init:function(r,i){if(void 0===i&&(i={}),!r)throw new Error("No source element provided. It must be an HTML canvas element.");var s=R({},dM,i),l=s.size,u=s.background;t=(e=r).getContext("2d");var c=window.devicePixelRatio||1,h=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,d=c/h,f=fM(e,"width"),p=fM(e,"height"),m=f*d,g=p*d;c!==h?(e.width=m,e.height=g,e.style.width=f+"px",e.style.height=p+"px"):(e.width=f,e.height=p,e.style.width="",e.style.height=""),t.fillStyle=u,t.fillRect(0,0,m,g),t.drawImage(e,0,0,m,g),t.globalCompositeOperation="destination-out",t.lineWidth=l,t.lineCap="round",e.addEventListener("mouseenter",a),e.addEventListener("click",o),n=R({posX:e.offsetLeft,posY:e.offsetTop,touchDown:!1,touchID:-999,touchX:0,touchY:0,ptouchX:0,ptouchY:0,w:m,h:g,scaleRatio:d,ratio:0,complete:!1,currentOptions:s},s)},clear:function(){var e=n.numParts,r=n.onComplete;if(n){t.clearRect(0,0,n.w,n.h);for(var i=0;i<e;i++)n.parts[i]=0;n.ratio=e,n.complete=!0,r&&r()}},reset:function(){var r=n.w,i=n.h,a=n.numParts;t.globalCompositeOperation="source-over",t.drawImage(e,0,0,r,i),t.globalCompositeOperation="destination-out";for(var o=0;o<a;o++)n.parts[o]=1;n.ratio=0,n.complete=!1,n.touchDown=!1}}}();S(e)},[]),useEffect(function(){w&&w.init(M.current,T)},[w,T]),h(Fragment,null,h("canvas",R({ref:E},b)),h("style",{jsx:!0},"\n        canvas {\n          display: block;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: "+(y+"px"||"100%")+";\n          height: "+(_+"px"||"100%")+";\n        }\n      "))}),gM={cookie_banner:"_FRYrh",cookie_banner__default:"_-2OfP"},vM=function(e){var t=e.tagName,n=void 0===t?Yl.div:t,r=e.className,i=void 0===r?"":r,a=e.visible,o=void 0===a||a,s=e.variant,l=void 0===s?"default":s,u=e.cookieAcceptKey,c=e.onDeclined,d=e.onAccepted,f=void 0===d?function(){return console.log("User accepted the cookies")}:d,m=e.children,g=void 0===m?"Do fugiat enim dolore culpa ea excepteur ut esse dolor laborum deserunt amet sint pariatur. Ex minim eiusmod ad esse veniam magna labore deserunt Lorem. Excepteur cupidatat et consequat sint ipsum pariatur duis.":m,v=(({cookieAcceptKey:e,onAccepted:t,onDeclined:n})=>{const[r,i]=p();return Yu(()=>{null!==window.localStorage.getItem(process.env.NEXT_PUBLIC_COOKIE_ACCEPT_KEY||e)?(i(!0),t()):(i(!1),n())},[]),r})({cookieAcceptKey:void 0===u?"fomolol-cookie-accepted":u,onDeclined:void 0===c?function(){return console.log("User declined the cookies")}:c,onAccepted:f});return h(ru,null,o&&!v?h(n,{className:gM.cookie_banner+" "+gM["cookie_banner__"+l]+" fixed flex items-center justify-center w-full transition duration-500 ease-in-out z-hud bottom-12 hover:drop-shadow-md "+i,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},h("div",{className:"flex h-auto w-[90%] items-center rounded-bl-2xl rounded-tr-2xl bg-white p-4 leading-snug md:w-1/2 md:p-8"},h("p",{className:"max-w-[70%] text-[9px] md:max-w-[85%] md:text-[13px]"},g),h("button",{onClick:f,className:"ml-auto h-[50px] rounded-full bg-purple-brand-light px-8 text-[12px] uppercase text-white transition duration-500 ease-in-out hover:bg-purple-brand-dark hover:text-white"},"Ok"))):null)};vM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var yM=Y(function(e,t){!function(n,r){var i="function",a="undefined",o="object",s="string",l="model",u="name",c="type",h="vendor",d="version",f="architecture",p="console",m="mobile",g="tablet",v="smarttv",y="wearable",_="embedded",b="Amazon",x="Apple",w="ASUS",S="BlackBerry",M="Google",E="Huawei",T="LG",C="Microsoft",P="Motorola",k="Samsung",A="Sharp",I="Sony",R="Xiaomi",L="Zebra",O="Facebook",N=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},D=function(e,t){return typeof e===s&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,350)},B=function(e,t){for(var n,a,s,l,u,c,h=0;h<t.length&&!u;){var d=t[h],f=t[h+1];for(n=a=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(s=0;s<f.length;s++)c=u[++a],typeof(l=f[s])===o&&l.length>0?2===l.length?this[l[0]]=typeof l[1]==i?l[1].call(this,c):l[1]:3===l.length?this[l[0]]=typeof l[1]!==i||l[1].exec&&l[1].test?c?c.replace(l[1],l[2]):r:c?l[1].call(this,c,l[2]):r:4===l.length&&(this[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):r):this[l]=c||r;h+=2}},F=function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(D(t[n][i],e))return"?"===n?r:n}else if(D(t[n],e))return"?"===n?r:n;return e},j={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,d],[/opios[\/ ]+([\w\.]+)/i],[d,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[d,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[u,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[d,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],d],[/\bfocus\/([\w\.]+)/i],[d,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[d,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[d,[u,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,O],d],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[d,F,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,z]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,k],[c,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,k],[c,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,x],[c,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,x],[c,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,E],[c,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,E],[c,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,R],[c,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,R],[c,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[c,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[c,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[c,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,P],[c,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,P],[c,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,T],[c,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,T],[c,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[c,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[c,m]],[/(pixel c)\b/i],[l,[h,M],[c,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,M],[c,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,I],[c,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,I],[c,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[c,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,b],[c,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,b],[c,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[c,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,S],[c,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,w],[c,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,w],[c,m]],[/(nexus 9)/i],[l,[h,"HTC"],[c,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[c,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[c,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[c,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,A],[c,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[c,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[c,g]],[/(surface duo)/i],[l,[h,C],[c,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[c,m]],[/(u304aa)/i],[l,[h,"AT&T"],[c,m]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[c,m]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[c,g]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[c,g]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[c,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[c,g]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[c,g]],[/\b(k88) b/i],[l,[h,"ZTE"],[c,g]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[c,m]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[c,m]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[c,g]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[c,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[c,g]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[c,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[c,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[c,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[c,m]],[/\b(ph-1) /i],[l,[h,"Essential"],[c,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[c,g]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[c,g]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[c,g]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[c,g]],[/(sprint) (\w+)/i],[h,l,[c,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,C],[c,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,L],[c,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,L],[c,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[c,p]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[c,p]],[/(playstation [345portablevi]+)/i],[l,[h,I],[c,p]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,C],[c,p]],[/smart-tv.+(samsung)/i],[h,[c,v]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,k],[c,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,T],[c,v]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[c,v]],[/crkey/i],[[l,"Chromecast"],[h,M],[c,v]],[/droid.+aft(\w)( bui|\))/i],[l,[h,b],[c,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,A],[c,v]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,I],[c,v]],[/(mitv-\w{5}) bui/i],[l,[h,R],[c,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,U],[l,U],[c,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,v]],[/((pebble))app/i],[h,l,[c,y]],[/droid.+; (glass) \d/i],[l,[h,M],[c,y]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,L],[c,y]],[/(quest( 2)?)/i],[l,[h,O],[c,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[c,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[c,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[c,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[d,F,j]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[d,F,j]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,d],[/\(bb(10);/i],[d,[u,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],d],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,d],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,d]]},H=function(e,t){if(typeof e===o&&(t=e,e=r),!(this instanceof H))return new H(e,t).getResult();var i=e||(typeof n!==a&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),l=t?function(e,t){var n={};for(var r in e)n[r]=t[r]&&t[r].length%2==0?t[r].concat(e[r]):e[r];return n}(V,t):V;return this.getBrowser=function(){var e,t={};return t.name=r,t.version=r,B.call(t,i,l.browser),t.major=typeof(e=t.version)===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r,t},this.getCPU=function(){var e={};return e.architecture=r,B.call(e,i,l.cpu),e},this.getDevice=function(){var e={};return e.vendor=r,e.model=r,e.type=r,B.call(e,i,l.device),e},this.getEngine=function(){var e={};return e.name=r,e.version=r,B.call(e,i,l.engine),e},this.getOS=function(){var e={};return e.name=r,e.version=r,B.call(e,i,l.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===s&&e.length>350?U(e,350):e,this},this.setUA(i),this};H.VERSION="1.0.32",H.BROWSER=N([u,d,"major"]),H.CPU=N([f]),H.DEVICE=N([l,h,c,p,m,v,g,y,_]),H.ENGINE=H.OS=N([u,d]),e.exports&&(t=e.exports=H),t.UAParser=H;var W=typeof n!==a&&(n.jQuery||n.Zepto);if(W&&!W.ua){var G=new H;W.ua=G.getResult(),W.ua.get=function(){return G.getUA()},W.ua.set=function(e){G.setUA(e);var t=G.getResult();for(var n in t)W.ua[n]=t[n]}}}("object"==typeof window?window:X)}),_M=new yM,bM=_M.getBrowser();_M.getCPU();var xM=_M.getDevice();_M.getEngine();var wM=_M.getOS(),SM=_M.getUA();function MM(e){return MM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MM(e)}function EM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TM=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},CM=function(e){var t=TM();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},PM=function(e){return"Edge"===e.name},kM=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},AM=function(){return CM("iPad")};"Mobile Safari"===bM.name||AM();var IM,RM="mobile"===(IM=xM.type)||"tablet"===IM||AM(),LM="mobile"===xM.type,OM="tablet"===xM.type||AM();"iOS"===wM.name||AM();var NM,DM,zM="Safari"===(NM=bM.name)||"Mobile Safari"===NM,UM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t}(wM.name);PM(bM)||kM(SM),(DM=TM())&&(/iPad|iPhone|iPod/.test(DM.platform)||"MacIntel"===DM.platform&&DM.maxTouchPoints>1)&&window,AM(),CM("iPhone"),CM("iPod"),function(){var e=TM(),t=e&&e.userAgent&&e.userAgent.toLowerCase();"string"==typeof t&&/electron/.test(t)}(),kM(SM),PM(bM)&&kM(SM);var BM=LM,FM=zM,jM=OM,VM=UM,HM={cursor:"_Z-b-v",cursor__default:"_uJF-I"},WM=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"hidden pointer-events-none md:block mix-blend-difference":r,a=e.variant,o=void 0===a?"default":a,u=e.themeColor,c=void 0===u?"light":u,d=e.navOpen,f=void 0!==d&&d,m=e.cursorStyle,g=void 0===m?"normal":m,v=e.setCursorColor,y=void 0===v?function(e){return console.log("Setting the color to",e)}:v,_=e.onMouseUp,b=void 0===_?function(){return console.log("mouse up")}:_,x=e.onMouseDown,w=void 0===x?function(){return console.log("mouse down")}:x,S=l(),M=l(),E=l(),T=p(!1),C=T[0],P=T[1],k=p(!1),A=k[0],I=k[1],R="h-[50px] w-[50px] translate-x-[calc(-50% + 15px)] translate-y-[-50%] rounded-full";switch(s(function(){y(c)},[c]),s(function(){var e=function(e){var t=e.clientX,n=e.clientY;S.current&&(S.current.style.transform="translate3d(calc("+t+"px - 50%), calc("+n+"px - 50%), 0)"),E.current&&(E.current.style.transform="translate3d(calc("+t+"px - 50%), calc("+n+"px + 175%), 0)")},t=function(e){M.current&&(M.current.style.transform="translate3d(calc("+e.clientX+"px - 50%), calc("+e.clientY+"px - 50%), 0)")},n=function(e){P(!0),A||I(!0),void 0!==w&&w(e)},r=function(e){P(!1),void 0!==b&&b(e)};return document.addEventListener("mousemove",e),document.addEventListener("mousemove",t),document.addEventListener("mousedown",n),document.addEventListener("mouseup",r),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mousemove",t),document.removeEventListener("mousedown",n),document.removeEventListener("mouseup",r)}},[]),g){case"normal":case"default":break;case"hover":R="h-[42px] w-[42px] translate-x-[calc(-50% + 15px)] translate-y-[-50%] rounded-full"}return h(n,{className:HM.cursor+" "+HM["cursor__"+o]+" "+i},h("div",{ref:S,className:(C?"border-purple-brand-dark":"border-current")+" "+R+"  ouside pointer-events-none fixed left-0 top-0 transform border "+(FM?"":"transition-all duration-500 ease-out")+" "+(f?"z-infinity":"z-cursor")+" text-white"}),h("div",{ref:M,className:(C||"hover"===g?"h-[12px] w-[12px] rounded-full bg-current":"h-[4px] w-[4px] rounded-full bg-current")+" inside pointer-events-none fixed top-0 left-0 transform "+(f?"z-infinity":"z-cursor")+" text-white"}),h("p",{ref:E,className:"fixed top-0 left-0 block transform whitespace-nowrap text-center text-xs text-white "+(FM?"":"transition-all duration-700 ease-out")+" "+(A?"opacity-0":"opacity-100")},"Click for sound"),h("style",{jsx:!0},"\n        .hover {\n          opacity: 0.5;\n        }\n\n        .inside {\n          transition: width 0.3s, height 0.3s, opacity 0.3s;\n        }\n      "))};WM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),themeColor:M.string,cursorColor:M.string,navOpen:M.bool,cursorStyle:M.oneOf("default","normal","hover"),setCursorColor:M.func,onMouseUp:M.func,onMouseDown:M.func};var GM={curtain_wipe:"_dfeQ2",curtain_wipe__default:"_rjv9w"},$M=function(e){var t=e.tagName,n=e.className,r=e.variant;return h(void 0===t?Yl.div:t,{initial:{scaleY:1,rotate:0},animate:{scaleY:0,rotate:.4},transition:{duration:1.15,delay:1.5,ease:[.6,.05,-.01,.9]},className:GM.curtain_wipe+" "+GM["curtain_wipe__"+(void 0===r?"default":r)]+" "+(void 0===n?"fixed inset-0 w-screen h-screen origin-top transform bg-black pointer-events-none min-h-screen-ios h-screen-ios":n)})};$M.propTypes={tagName:M.object,className:M.string,variant:M.oneOf(["default"]),children:M.node};var qM={debug_screen:"_mJBPQ",debug_screen__default:"_43hQU"},XM=function(e){var t=e.tagName,n=e.className,r=e.variant;return h(void 0===t?"div":t,{className:qM.debug_screen+" "+qM["debug_screen__"+(void 0===r?"default":r)]+" "+(void 0===n?"fixed px-4 py-2 font-mono text-sm tracking-wide text-black backdrop-blur-lg bg-white/70 rounded-2xl top-2 right-2":n)},h("p",{className:"block md:hidden"},"sm"),h("p",{className:"hidden md:block"},"md"),h("p",{className:"hidden lg:block"},"lg"),h("p",{className:"hidden xl:block"},"xl"))};XM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var YM={dot_grid:"_jmrjJ",dot_grid__default:"_Vkaqn"},ZM=function(e){var t=e.tagName,n=e.className,r=e.variant,i=e.children,a=e.color1,o=e.color2,s=e.color3,l=e.size,u=e.dotSize,c=void 0===u?"2.5px":u;return h(void 0===t?"div":t,{className:YM.dot_grid+" "+YM["dot_grid__"+(void 0===r?"default":r)]+" dot-grid "+(void 0===n?"fixed bottom-0 left-0 right-0 flex justify-start items-center p-20 h-[200px] w-full backdrop-blur-sm":n),style:{backgroundImage:"radial-gradient( "+(void 0===a?"rgba(0, 0, 0, 0)":a)+" "+c+", "+(void 0===o?"#ffffff":o)+" "+c+")",backgroundSize:void 0===l?"20px 20px":l}},void 0===i?"":i,h("style",{jsx:!0},"\n        .dot-grid::before {\n          display: block;\n          content: '';\n          position: absolute;\n          top: -1px;\n          left: 0;\n          right: 0;\n          height: 1px;\n          background: "+(void 0===s?"rgba(255, 255, 255, 1)":s)+";\n          opacity: 0.2;\n        }\n      "))};ZM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var KM={eye:"_SnryS",eye__default:"_GBXWV"},JM=function(e){var t=e.tagName,n=e.className,r=e.variant,i=l(),a=l();return s(function(){var e=function(e){!function(e,t){var n=t.current.getBoundingClientRect().left,r=t.current.getBoundingClientRect().top,i=Math.atan2(e.pageX-n,e.pageY-r)*(180/Math.PI)*-1+180;t.current.style.transform="rotate("+i+"deg)"}(e,a)};return document.addEventListener("mousemove",e),function(){document.removeEventListener("mousemove",e)}},[i]),h(t,{ref:i,className:KM.eye+" "+KM["eye__"+r]+" "+n+" outer-container"},h("div",{className:"mx-auto pointer-events-none select-none eye-container cur"},h("div",{className:"absolute flex text-center eye-lid"},h("div",{ref:a,className:"absolute flex text-center eyes",style:{transform:"rotate(176.094deg)"}},h("div",{className:"relative inline-block eye"})))),h("style",{jsx:!0},"\n        .outer-container {\n          font-size: 25vmin;\n        }\n        .eye-container {\n          font-size: 0.7em;\n          width: 100px;\n          height: 200px;\n          border-radius: 0.5em 0.5em 0em 0em / 0.6em 0.6em 0em 0em;\n          box-sizing: content-box;\n          border: 0.07em solid transparent;\n          top: 2em;\n          cursor: inherit;\n        }\n\n        .eye-lid {\n          background-image: url(/png/eye-150.png);\n          background-size: cover;\n          border-radius: 50%;\n        }\n\n        .eyes,\n        .eye-lid {\n          font-size: 0.65em;\n          width: 1.2em;\n          height: 1.2em;\n          top: 0.3em;\n        }\n        .eyes {\n          left: 0.25em;\n        }\n        .eye {\n          border-radius: 50%;\n          width: 80%;\n          height: 80%;\n          background-image: url(/jpg/cremers-eye-pupil.jpg);\n          background-size: cover;\n          background-color: black;\n          border-radius: 50%;\n        }\n      "))};JM.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node},JM.defaultProps={tagName:"div",className:"h-full",variant:"default",children:""};var QM={eyeballs:"_5lVRo",eyeballs__default:"_KeD75"},eE=function(e){return h(e.tagName,{className:QM.eyeballs+" "+QM["eyeballs__"+e.variant]+" "+e.className},h("div",{className:"absolute flex flex-row items-center justify-center w-screen h-auto mx-auto pointer-events-none select-none align-center",style:{zIndex:99}},h(JM,null),h(JM,{className:"pl-20"})))};eE.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node},eE.defaultProps={tagName:"div",className:"",variant:"default",children:""},M.oneOf(["default","dark","light"]);var tE={Arrow:Arrow,Facebook:Facebook,Instagram:Instagram,Logo:Logo,Edit:Edit,Vimeo:Vimeo};const nE={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function rE(e,t,n){return 0===t||Infinity===Math.abs(t)?Math.pow(e,5*n):e*t*n/(t+n*e)}function iE(e,t,n,r=.15){return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-rE(t-e,n-t,r)+t:e>n?+rE(e-n,n-t,r)+n:e}function aE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(n),!0).forEach(function(t){aE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const lE={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function uE(e){return e?e[0].toUpperCase()+e.slice(1):""}const cE=["enter","leave"],hE=["gotpointercapture","lostpointercapture"];function dE(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=hE.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function fE(e){return"touches"in e}function pE(e){return fE(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function mE(e){return fE(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function gE(e){const t=mE(e);return fE(e)?t.identifier:t.pointerId}function vE(e){const t=mE(e);return[t.clientX,t.clientY]}function yE(e,...t){return"function"==typeof e?e(...t):e}function _E(){}function bE(...e){return 0===e.length?_E:1===e.length?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function xE(e,t){return Object.assign({},t,e||{})}const wE=e=>e,SE={enabled:(e=!0)=>e,eventOptions:(e,t,n)=>sE(sE({},n.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return nE.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?nE.toVector(e):void 0,transform(e,t,n){const r=e||n.shared.transform;if(this.hasCustomTransform=!!r,"development"===process.env.NODE_ENV){const e=r||wE;return t=>{const n=e(t);return isFinite(n[0])&&isFinite(n[1])||console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${n[0]},${[1]}]`),n}}return r||wE},threshold:e=>nE.toVector(e,0)};"development"===process.env.NODE_ENV&&Object.assign(SE,{domTarget(e){if(void 0!==e)throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");return NaN},lockDirection(e){if(void 0!==e)throw Error("[@use-gesture]: `lockDirection` option has been merged with `axis`. Use it as in `{ axis: 'lock' }`");return NaN},initial(e){if(void 0!==e)throw Error("[@use-gesture]: `initial` option has been renamed to `from`.");return NaN}});const ME=sE(sE({},SE),{},{axis(e,t,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>ME.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-Infinity,right:n=Infinity,top:r=-Infinity,bottom:i=Infinity}=e;return[[t,n],[r,i]]}}),EE={ArrowRight:(e=1)=>[10*e,0],ArrowLeft:(e=1)=>[-10*e,0],ArrowUp:(e=1)=>[0,-10*e],ArrowDown:(e=1)=>[0,10*e]},TE="undefined"!=typeof window&&window.document&&window.document.createElement;function CE(){return TE&&"ontouchstart"in window||TE&&window.navigator.maxTouchPoints>1}const PE={isBrowser:TE,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:CE(),touchscreen:CE(),pointer:TE&&"onpointerdown"in window,pointerLock:TE&&"exitPointerLock"in window.document},kE={mouse:0,touch:0,pen:8},AE=sE(sE({},ME),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&PE.pointerLock,PE.touch&&n?"touch":this.pointerLock?"mouse":PE.pointer&&!i?"pointer":PE.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&e?250:void 0,PE.touchscreen&&!1!==n)return e||(void 0!==n?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&"pointer"===this.device&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i}){const a=nE.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,a},swipe({velocity:e=.5,distance:t=50,duration:n=250}={}){return{velocity:this.transform(nE.toVector(e)),distance:this.transform(nE.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?sE(sE({},kE),e):kE});"development"===process.env.NODE_ENV&&Object.assign(AE,{useTouch(e){if(void 0!==e)throw Error("[@use-gesture]: `useTouch` option has been renamed to `pointer.touch`. Use it as in `{ pointer: { touch: true } }`.");return NaN},experimental_preventWindowScrollY(e){if(void 0!==e)throw Error("[@use-gesture]: `experimental_preventWindowScrollY` option has been renamed to `preventScroll`.");return NaN},swipeVelocity(e){if(void 0!==e)throw Error("[@use-gesture]: `swipeVelocity` option has been renamed to `swipe.velocity`. Use it as in `{ swipe: { velocity: 0.5 } }`.");return NaN},swipeDistance(e){if(void 0!==e)throw Error("[@use-gesture]: `swipeDistance` option has been renamed to `swipe.distance`. Use it as in `{ swipe: { distance: 50 } }`.");return NaN},swipeDuration(e){if(void 0!==e)throw Error("[@use-gesture]: `swipeDuration` option has been renamed to `swipe.duration`. Use it as in `{ swipe: { duration: 250 } }`.");return NaN}}),sE(sE({},SE),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!PE.touch&&PE.gesture)return"gesture";if(PE.touch&&r)return"touch";if(PE.touchscreen){if(PE.pointer)return"pointer";if(PE.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=e=>{const t=xE(yE(n,e),{min:-Infinity,max:Infinity});return[t.min,t.max]},a=e=>{const t=xE(yE(r,e),{min:-Infinity,max:Infinity});return[t.min,t.max]};return"function"!=typeof n&&"function"!=typeof r?[i(),a()]:e=>[i(e),a(e)]},threshold(e,t,n){return this.lockDirection="lock"===n.axis,nE.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e}),sE(sE({},ME),{},{mouseOnly:(e=!0)=>e}),sE(sE({},ME),{},{mouseOnly:(e=!0)=>e});const IE=new Map,RE=new Map,LE={key:"drag",engine:class extends class extends class{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-Infinity,Infinity],[-Infinity,Infinity]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?yE(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:r}=this;t.args=this.args;let i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);nE.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[a,o]=t._movement,[s,l]=n.threshold,{_step:u,values:c}=t;if(n.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(a)>=s&&c[0]),!1===u[1]&&(u[1]=Math.abs(o)>=l&&c[1])):(!1===u[0]&&(u[0]=Math.abs(a)>=s&&Math.sign(a)*s),!1===u[1]&&(u[1]=Math.abs(o)>=l&&Math.sign(o)*l)),t.intentional=!1!==u[0]||!1!==u[1],!t.intentional)return;const h=[0,0];if(n.hasCustomTransform){const[e,t]=c;h[0]=!1!==u[0]?e-u[0]:0,h[1]=!1!==u[1]?t-u[1]:0}else h[0]=!1!==u[0]?a-u[0]:0,h[1]=!1!==u[1]?o-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);const d=t.offset,f=t._active&&!t._blocked||t.active;f&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=yE(n.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));const[p,m]=t.offset,[[g,v],[y,_]]=t._bounds;if(t.overflow=[p<g?-1:p>v?1:0,m<y?-1:m>_?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]),t.offset=function(e,[t,n],[r,i]){const[[a,o],[s,l]]=e;return[iE(t,a,o,r),iE(n,s,l,i)]}(t._bounds,t.offset,t._active&&n.rubberband||[0,0]),t.delta=nE.sub(t.offset,d),this.computeMovement(),f&&(!t.last||i>32)){t.delta=nE.sub(t.offset,d);const e=t.delta.map(Math.abs);nE.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i])}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(sE(sE(sE({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}{constructor(...e){super(...e),aE(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=nE.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=nE.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r="object"==typeof n.axisThreshold?n.axisThreshold[pE(e)]:n.axisThreshold;t.axis=function([e,t],n){const r=Math.abs(e),i=Math.abs(t);return r>i&&r>n?"x":i>r&&i>n?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}{constructor(...e){super(...e),aE(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect();e._bounds=ME.bounds({left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]})}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=gE(e),n._pointerActive=!0,this.computeValues(vE(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==pE(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;if(t.type===e.type&&e.timeStamp===t.timeStamp)return;const r=gE(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;const i=vE(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=nE.sub(i,t._values),this.computeValues(i)),nE.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(e){"development"===process.env.NODE_ENV&&console.warn("[@use-gesture]: If you see this message, it's likely that you're using an outdated version of `@react-three/fiber`. \n\nPlease upgrade to the latest version.")}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const r=gE(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,a]=t._distance;if(t.tap=i<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[e,r]=t.direction,[i,a]=t.velocity,[o,s]=t.movement,[l,u]=n.swipe.velocity,[c,h]=n.swipe.distance;t.elapsedTime<n.swipe.duration&&(Math.abs(i)>l&&Math.abs(o)>c&&(t.swipe[0]=e),Math.abs(a)>u&&Math.abs(s)>h&&(t.swipe[1]=r))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;if("development"===process.env.NODE_ENV)try{if("pointer"===n&&void 0===t.preventScrollDelay){const t="uv"in e?e.sourceEvent.currentTarget:e.currentTarget;"auto"===window.getComputedStyle(t).touchAction&&console.warn("[@use-gesture]: The drag target has its `touch-action` style property set to `auto`. It is recommended to add `touch-action: 'none'` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.",t)}}catch(e){}t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=EE[e.key];if(t){const n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(r),n._keyboardActive=!0,nE.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in EE&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:AE},OE={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=(PE.isBrowser?window:void 0))=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},NE=["target","eventOptions","window","enabled","transform"];function DE(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":if("development"===process.env.NODE_ENV){const t=i.call(n,e[r],r,e);Number.isNaN(t)||(n[r]=t)}else n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=DE(e[r],i);break;case"boolean":i&&(n[r]=e[r])}return n}class zE{constructor(e,t){aE(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){const a=this._listeners,o=function(e,t=""){const n=lE[e];return e+(n&&n[t]||t)}(t,n),s=sE(sE({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,r,s);const l=()=>{e.removeEventListener(o,r,s),a.delete(l)};return a.add(l),l}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class UE{constructor(){aE(this,"_timeouts",new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class BE{constructor(e){var t,n;aE(this,"gestures",new Set),aE(this,"_targetEventStore",new zE(this)),aE(this,"gestureEventStores",{}),aE(this,"gestureTimeoutStores",{}),aE(this,"handlers",{}),aE(this,"config",{}),aE(this,"pointerIds",new Set),aE(this,"touchIds",new Set),aE(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),t=this,(n=e).drag&&FE(t,"drag"),n.wheel&&FE(t,"wheel"),n.scroll&&FE(t,"scroll"),n.move&&FE(t,"move"),n.pinch&&FE(t,"pinch"),n.hover&&FE(t,"hover")}setEventIds(e){return fE(e)?(this.touchIds=new Set(function(e){return function(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))})}(e).map(e=>e.identifier)}(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,n={}){const r=e,{target:i,eventOptions:a,window:o,enabled:s,transform:l}=r,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,NE);if(n.shared=DE({target:i,eventOptions:a,window:o,enabled:s,transform:l},OE),t){const e=RE.get(t);n[t]=DE(sE({shared:n.shared},u),e)}else for(const e in u){const t=RE.get(e);if(t)n[e]=DE(sE({shared:n.shared},u[e]),t);else if("development"===process.env.NODE_ENV&&!["drag","pinch","scroll","wheel","move","hover"].includes(e)){if("domTarget"===e)throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");console.warn(`[@use-gesture]: Unknown config key \`${e}\` was used. Please read the documentation for further information.`)}}return n}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,n={};let r;if(!t.target||(r=t.target(),r)){if(t.enabled){for(const t of this.gestures){const i=this.config[t],a=jE(n,i.eventOptions,!!r);i.enabled&&new(IE.get(t))(this,e,t).bind(a)}const i=jE(n,t.eventOptions,!!r);for(const t in this.nativeHandlers)i(t,"",n=>this.nativeHandlers[t](sE(sE({},this.state.shared),{},{event:n,args:e})),void 0,!0)}for(const e in n)n[e]=bE(...n[e]);if(!r)return n;for(const e in n){const{device:t,capture:i,passive:a}=dE(e);this._targetEventStore.add(r,t,"",n[e],{capture:i,passive:a})}}}}function FE(e,t){e.gestures.add(t),e.gestureEventStores[t]=new zE(e,t),e.gestureTimeoutStores[t]=new UE}const jE=(e,t,n)=>(r,i,a,o={},s=!1)=>{var l,u;const c=null!==(l=o.capture)&&void 0!==l?l:t.capture,h=null!==(u=o.passive)&&void 0!==u?u:t.passive;let d=s?r:function(e,t="",n=!1){const r=lE[e],i=r&&r[t]||t;return"on"+uE(e)+uE(i)+(function(e=!1,t){return e&&!cE.includes(t)}(n,i)?"Capture":"")}(r,i,c);n&&h&&(d+="Passive"),e[d]=e[d]||[],e[d].push(a)};function VE(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function HE(){var e,t=0,n=[],r=0,i=0,a=d(function(e){i||s(1,e)}),o=d(function(e){i||s(-1,e)});function s(n,r){i++;var a=0;try{r===m&&f();var o=n>0&&h(r);o?o.call(r,d(function(e){a++,s(1,e)}),d(function(e){a++,s(-1,e)})):(t=n,e=r,l())}catch(e){t||a||s(-1,e)}}function l(){r||(setTimeout(u,0),r=1)}function u(){var e=n;r=0,n=[],e.forEach(c)}function c(e){e()}function h(e){var t=e&&(p(e)||"object"==typeof e)&&e.then;return p(t)&&t}function d(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function f(){throw new TypeError("Chaining cycle detected")}var p=function(e){return"function"==typeof e},m={then:function(r,i){var a=HE();return n.push(function(){var n=t>0?r:i;if(p(n))try{var o=n(e);o===a&&f();var s=h(o);s?s.call(o,a.resolve,a.reject):a.resolve(o)}catch(e){a.reject(e)}else a[t>0?"resolve":"reject"](e)}),t&&l(),a},resolve:a,reject:o};return m}function WE(){var e,t,n=new Promise(function(n,r){e=n,t=r});return{then:n.then.bind(n),resolve:e,reject:t}}HE.all=WE.all=function(e){var t=0,n=[],r=GE();return 0===e.length?r.resolve([]):e.forEach(function(i,a){var o=GE();o.resolve(i),o.then(function(i){t++,n[a]=i,t===e.length&&r.resolve(n)},r.reject)}),r};var GE="function"==typeof Promise?WE:HE;function $E(){var e=Object.create(null);function t(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map(function(n){return n&&n.isWorkerModule&&(t(n,function(e){if(e instanceof Error)throw e}),n=e[n.id].value),n}),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"==typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(e){e&&e.noLog||console.error(e),i(e)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&t(o,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"==typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"==typeof o.then?o.then(s,function(e){return n(e instanceof Error?e:new Error(""+e))}):s(o)}catch(e){n(e)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(o,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}var qE=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){"undefined"!=typeof process&&"test"===process.env.NODE_ENV||console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return qE=function(){return e},e},XE=0,YE=0,ZE=!1,KE=Object.create(null),JE=Object.create(null),QE=Object.create(null);function eT(e){if(!(e&&"function"==typeof e.init||ZE))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId;if(!qE())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var i=GE.all(n).then(function(e){return r.apply(null,e)});return t._getInitResult=function(){return i},i},t}(e);null==i&&(i="#default");var a="workerModule"+ ++XE,o=e.name||a,s=null;function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=nT(i,"registerModule",l.workerModuleData);var n=function(){s=null,JE[i].delete(n)};(JE[i]||(JE[i]=new Set)).add(n)}return s.then(function(t){if(t.isCallable)return nT(i,"callModule",{id:a,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")})}return t=t&&t.map(function(e){return"function"!=typeof e||e.workerModuleData||(ZE=!0,e=eT({workerId:i,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+tT(e)+"\n)}"}),ZE=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),l.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:t,init:tT(n),getTransferables:r&&tT(r)},l}function tT(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function nT(e,t,n){var r=GE(),i=++YE;return QE[i]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=KE[e];if(!t){var n=tT($E);(t=KE[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=QE[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete QE[n],r(t)}}return t}(e).postMessage({messageId:i,action:t,data:n}),r}var rT=/*#__PURE__*/eT({name:"Thenable",dependencies:[GE],init:function(e){return e}});function iT(){var e=function(e){function t(e,t,n,r,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*i,s.y=l*l*t+2*l*o*r+o*o*a}function n(e,t,n,r,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*a+l*l*l*s}function r(e,t){for(var n,r,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(n[1]){case"M":a=r=l[0],o=i=l[1];break;case"L":l[0]===a&&l[1]===o||t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":a===r&&o===i||t("L",a,o,r,i)}}}function i(e,i,a){void 0===a&&(a=16);var o={x:0,y:0};r(e,function(e,r,s,l,u,c,h,d,f){switch(e){case"L":i(r,s,l,u);break;case"Q":for(var p=r,m=s,g=1;g<a;g++)t(r,s,c,h,l,u,g/(a-1),o),i(p,m,o.x,o.y),p=o.x,m=o.y;break;case"C":for(var v=r,y=s,_=1;_<a;_++)n(r,s,c,h,d,f,l,u,_/(a-1),o),i(v,y,o.x,o.y),v=o.x,y=o.y}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,s={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function l(e,t){var n=e.getContext?e.getContext("webgl",s):e,r=o.get(n);if(!r){var i="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,a={},l={},u={},c=-1,h=[];function d(e){var t=a[e];if(!t&&!(t=a[e]=n.getExtension(e)))throw new Error(e+" not supported");return t}function f(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function p(){a={},l={},u={},c=-1,h.length=0}n.canvas.addEventListener("webglcontextlost",function(e){p(),e.preventDefault()},!1),o.set(n,r={gl:n,isWebGL2:i,getExtension:d,withProgram:function(e,t,r,a){if(!l[e]){var o={},s={},u=n.createProgram();n.attachShader(u,f(t,n.VERTEX_SHADER)),n.attachShader(u,f(r,n.FRAGMENT_SHADER)),n.linkProgram(u),l[e]={program:u,transaction:function(e){n.useProgram(u),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=s[t]||(s[t]=n.getUniformLocation(u,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,a,s){var l=o[e];l||(l=o[e]={buf:n.createBuffer(),loc:n.getAttribLocation(u,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),i?n.vertexAttribDivisor(l.loc,a):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,a),s!==l.data&&(n.bufferData(n.ARRAY_BUFFER,s,r),l.data=s)}})}}}l[e].transaction(a)},withTexture:function(e,t){c++;try{n.activeTexture(n.TEXTURE0+c);var r=u[e];r||(r=u[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,c)}finally{c--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();h.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,h[--h.length-1]||null)}},handleContextLoss:p})}t(r)}function u(e,t,n,r,i,o,s,u){void 0===s&&(s=15),void 0===u&&(u=null),l(e,function(e){var l=e.gl,c=e.withProgram;(0,e.withTexture)("copy",function(e,h){l.texImage2D(l.TEXTURE_2D,0,l.RGBA,i,o,0,l.RGBA,l.UNSIGNED_BYTE,t),c("copy",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,l.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",h),l.bindFramebuffer(l.FRAMEBUFFER,u||null),l.disable(l.BLEND),l.colorMask(8&s,4&s,2&s,1&s),l.viewport(n,r,i,o),l.scissor(n,r,i,o),l.drawArrays(l.TRIANGLES,0,3)})})})}var c=/*#__PURE__*/Object.freeze({__proto__:null,withWebGLContext:l,renderImageData:u,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;l(e,function(a){var o=a.gl,s=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,s),e.width=t,e.height=n,u(o,s,0,0,r,i)})}});function h(e,t,n,r,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=r[2]-r[0],u=r[3]-r[1],c=[];i(n,function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var h=0;h<e;h++)for(var d=0;d<t;d++){var f=g(r[0]+l*(h+.5)/e,r[1]+u*(d+.5)/t),m=Math.pow(1-Math.abs(f)/a,o)/2;f<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(255*m))),s[d*e+h]=m}return s;function g(e,t){for(var n=Infinity,r=Infinity,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=p(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function d(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),f(e,t,n,r,i,a,o,null,s,l,u)}function f(e,t,n,r,i,a,o,s,l,c,d){void 0===a&&(a=1),void 0===l&&(l=0),void 0===c&&(c=0),void 0===d&&(d=0);for(var f=h(e,t,n,r,i,a),p=new Uint8Array(4*f.length),m=0;m<f.length;m++)p[4*m+d]=f[m];u(o,p,l,c,e,t,1<<3-d,s)}function p(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),h=t-(r+u*s);return c*c+h*h}var m=/*#__PURE__*/Object.freeze({__proto__:null,generate:h,generateIntoCanvas:d,generateIntoFramebuffer:f}),g=new Float32Array([0,0,2,0,0,2]),v=null,y=!1,_={},b=new WeakMap;function x(e){if(!y&&!E(e))throw new Error("WebGL generation not supported")}function w(e,t,n,r,i,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),!o&&!(o=v)){var s="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!s)throw new Error("OffscreenCanvas or DOM canvas not supported");o=v=s.getContext("webgl",{depth:!1})}x(o);var u=new Uint8Array(e*t*4);l(o,function(o){var s=o.gl,l=o.withTextureFramebuffer;(0,o.withTexture)("readable",function(o,c){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),l(o,c,function(o){M(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),h=0,d=0;h<u.length;h+=4)c[d++]=u[h];return c}function S(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),M(e,t,n,r,i,a,o,null,s,l,u)}function M(e,t,n,r,o,s,u,c,h,d,f){void 0===s&&(s=1),void 0===h&&(h=0),void 0===d&&(d=0),void 0===f&&(f=0),x(u);var p=[];i(n,function(e,t,n,r){p.push(e,t,n,r)}),p=new Float32Array(p),l(u,function(n){var i=n.gl,l=n.isWebGL2,u=n.getExtension,m=n.withProgram,v=n.withTextureFramebuffer,y=n.handleContextLoss;if((0,n.withTexture)("rawDistances",function(n,y){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),m("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(a){var c=a.setAttribute,h=a.setUniform,d=!l&&u("ANGLE_instanced_arrays"),f=!l&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,g),c("aLineSegment",4,i.DYNAMIC_DRAW,1,p),h.apply(void 0,["4f","uGlyphBounds"].concat(r)),h("1f","uMaxDistance",o),h("1f","uExponent",s),v(n,y,function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,l?i.MAX:f.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),l?i.drawArraysInstanced(i.TRIANGLES,0,3,p.length/4):d.drawArraysInstancedANGLE(i.TRIANGLES,0,3,p.length/4)})}),m("post",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,g),n.setUniform("1i","tex",y),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===f,1===f,2===f,3===f),i.viewport(h,d,e,t),i.scissor(h,d,e,t),i.drawArrays(i.TRIANGLES,0,3)})}),i.isContextLost())throw y(),new Error("webgl context lost")})}function E(e){var t=e&&e!==v?e.canvas||e:_,n=b.get(t);if(void 0===n){y=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=w(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);n=a&&i.length===a.length&&a.every(function(e,t){return e===i[t]}),n||(r="bad trial run results",console.info(i,a))}catch(e){n=!1,r=e.message}r&&console.warn("WebGL SDF generation not supported:",r),y=!1,b.set(t,n)}return n}var T=/*#__PURE__*/Object.freeze({__proto__:null,generate:w,generateIntoCanvas:S,generateIntoFramebuffer:M,isSupported:E});return e.forEachPathCommand=r,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return w.apply(T,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),h.apply(m,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,s,l,u){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return S.apply(T,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),d.apply(m,arguments)}},e.javascript=m,e.pathToLineSegments=i,e.webgl=T,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}const aT=/\bvoid\s+main\s*\(\s*\)\s*{/g;function oT(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let n=Mp[t];return n?oT(n):e})}const sT=[];for(let e=0;e<256;e++)sT[e]=(e<16?"0":"")+e.toString(16);const lT=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},uT=Date.now(),cT=new WeakMap,hT=new Map;let dT=1e10;function fT(e,t){const n=function(e){const t=JSON.stringify(e,mT);let n=vT.get(t);return null==n&&vT.set(t,n=++gT),n}(t);let r=cT.get(e);if(r||cT.set(e,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(r){e.onBeforeCompile.call(this,r);const a=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let o=hT[a];if(!o){const e=function({vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:i,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:s,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:c,fragmentColorTransform:h,customRewriter:d,timeUniform:f}=n;if(i=i||"",a=a||"",o=o||"",l=l||"",u=u||"",c=c||"",(s||d)&&(e=oT(e)),(h||d)&&(t=oT(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),d){let n=d({vertexShader:e,fragmentShader:t});e=n.vertexShader,t=n.fragmentShader}if(h){let e=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),c=`${h}\n${e.join("\n")}\n${c}`}if(f){const e=`\nuniform float ${f};\n`;i=e+i,l=e+l}return s&&(i=`${i}\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${s}\n}\n`,a=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${a}\n`,e=(e=`vec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\n${e}\n`).replace(/\b(position|normal|uv)\b/g,(e,t,n,i)=>/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:`troika_${t}_${r}`)),{vertexShader:e=pT(e,r,i,a,o),fragmentShader:t=pT(t,r,l,u,c)}}(r,t,n);o=hT[a]=e}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,lT(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-uT}}),this[i]&&this[i](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){const i=Object.create(r,l);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:dT++}),i.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(sT[255&e]+sT[e>>8&255]+sT[e>>16&255]+sT[e>>24&255]+"-"+sT[255&t]+sT[t>>8&255]+"-"+sT[t>>16&15|64]+sT[t>>24&255]+"-"+sT[63&n|128]+sT[n>>8&255]+"-"+sT[n>>16&255]+sT[n>>24&255]+sT[255&r]+sT[r>>8&255]+sT[r>>16&255]+sT[r>>24&255]).toUpperCase()}(),i.uniforms=lT({},r.uniforms,t.uniforms),i.defines=lT({},r.defines,t.defines),i.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",i.extensions=lT({},r.extensions,t.extensions),i._listeners=void 0,i},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>a,set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(lT(this.extensions,t.extensions),lT(this.defines,t.defines),lT(this.uniforms,sp.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=fT(e.isDerivedMaterial?e.getDepthMaterial():new zg({depthPacking:3201}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=fT(e.isDerivedMaterial?e.getDistanceMaterial():new Ug,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function pT(e,t,n,r,i){return(r||i||n)&&(e=e.replace(aT,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${i}\n}`),e}function mT(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let gT=0;const vT=new Map,yT=()=>(self.performance||Date).now(),_T=iT();let bT;const xT=/*#__PURE__*/function(){const e=[];let t=0;function n(){const r=yT();for(;e.length&&yT()-r<5;)e.shift()();t=e.length?setTimeout(n,0):0}return(...r)=>{const i=GE();return e.push(()=>{const e=yT();try{_T.webgl.generateIntoCanvas(...r),i.resolve({timing:yT()-e})}catch(e){i.reject(e)}}),t||(t=setTimeout(n,0)),i}}(),wT=/*#__PURE__*/function(){const e={};let t=0;return function(n,r,i,a,o,s,l,u,c,h){const d="TroikaTextSDFGenerator_JS_"+t++%4;let f=e[d];return f||(f=e[d]={workerModule:eT({name:d,workerId:d,dependencies:[iT,yT],init(e,t){const n=e().javascript.generate;return function(...e){const r=t();return{textureData:n(...e),timing:t()-r}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,r,i,a,o,s).then(({textureData:e,timing:t})=>{const i=yT(),a=new Uint8Array(4*e.length);for(let t=0;t<e.length;t++)a[4*t+h]=e[t];return _T.webglUtils.renderImageData(l,a,u,c,n,r,1<<3-h),t+=yT()-i,0==--f.requests&&(f.idleTimer=setTimeout(()=>{!function(e){JE[e]&&JE[e].forEach(function(e){e()}),KE[e]&&(KE[e].terminate(),delete KE[e])}(d)},2e3)),{timing:t}})}}(),ST=_T.webglUtils.resizeWebGLCanvasWithoutClearing,MT=/*#__PURE__*/eT({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),n.readUshort(r,i+=2);var a=n.readUint(r,i+=2);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n);var a=r.readUshort(e,n+=4);r.readUshort(e,n+=2),r.readUshort(e,n+=2),r.readUshort(e,n+=2),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);r.readUint(e,n+=4);var h=r.readUint(e,n+=4),d=r.readUint(e,n+=4);n+=4,l[c]={offset:h,length:d}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);i.readUint(e,o+=4);var u=i.readUint(e,o+=4);if(i.readUint(e,o+=4),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n);var u=o.readUshort(e,n+=4),c=o.readUshort(e,n+=2),h=o.readUshort(e,n+=2);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+h,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),o.flag=i.readUshort(e,n+=2);var s=i.readUshort(e,n+=2);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var h=r(e,l,a+c,o);o.tabs.push(h)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n),s=r.readUshort(e,n+=2);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),i.push(r.readUshort(e,n+=2)),i.push(r.readUshort(e,n+=2)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3)if(e[n]<=t&&t<=e[n+1])return n;return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n);var a=r.readUshort(e,n+=2);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4),u=r.readUshort(e,n+=4);n+=2;var c=t._lctf.readFeatureTable(e,i+u);c.tag=l.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var l=0;l<s;l++)a.tab.push(r.readUshort(e,n+2*l));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4),u=r.readUshort(e,n+=4);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4),c=r.readUshort(e,n+=4);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),i.reqFeature=r.readUshort(e,n+=2);var a=r.readUshort(e,n+=2);return i.features=r.readUshorts(e,n+=2,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;e=new Uint8Array(e.buffer,n,r),n=0,++n,++n,++n,n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));var l=[];n=t.CFF.readIndex(e,n+=a[a.length-1],l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));var c=u[0],h=[];n=t.CFF.readIndex(e,n+=l[l.length-1],h);var d=[];for(s=0;s<h.length-1;s++)d.push(i.readASCII(e,n+h[s],h[s+1]-h[s]));if(t.CFF.readSubrs(e,n+=h[h.length-1],c),c.CharStrings){n=t.CFF.readIndex(e,n=c.CharStrings,h=[]);var f=[];for(s=0;s<h.length-1;s++)f.push(i.readBytes(e,n+h[s],h[s+1]-h[s]));c.CharStrings=f}if(c.ROS){var p=[];for(n=t.CFF.readIndex(e,n=c.FDArray,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,d),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=i.readUshort(e,n);for(n+=2,s=0;s<v+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,d),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(n.Private=t.CFF.readDict(e,i=n.Private[1],i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o=a.length;r.Bias=o<1240?107:o<33900?1131:32768,r.Subrs=[];for(var s=0;s<a.length-1;s++)r.Subrs.push(i.readBytes(e,n+a[s],a[s+1]-a[s]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,t,n){var r=[".notdef"],i=e[t];if(t++,0!=i)throw"error: unknown encoding format: "+i;var a=e[t];t++;for(var o=0;o<a;o++)r.push(e[t+o]);return r},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1],s=1,l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=256*-(a-251)-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1],u=1,c=null,h=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(h=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s&&(h=a.readInt(e,n+1)/65535,u=5),o.push(null!=h?h:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1],u=1,c=null,h=null;if(28==s&&(h=i.readShort(e,n+1),u=3),29==s&&(h=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(h=s-139,u=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,u=2),255==s)throw h=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var d=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&d.push(p),15!=m&&d.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)g+=v[d[y]];h=parseFloat(g)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(h),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r);var i=t._bin,a={};i.readUshort(e,n=0);var o=i.readUshort(e,n+=2);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n),c=i.readUshort(e,n+=2),h=i.readUint(e,n+=2);n+=4;var d="p"+u+"e"+c,f=s.indexOf(h);if(-1==f){var p;f=a.tables.length,s.push(h);var m=i.readUshort(e,h);0==m?p=t.cmap.parse0(e,h):4==m?p=t.cmap.parse4(e,h):6==m?p=t.cmap.parse6(e,h):12==m?p=t.cmap.parse12(e,h):console.debug("unknown format: "+m,u,c,h),a.tables.push(p)}if(null!=a[d])throw"multiple tables for one platform+encoding";a[d]=f}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n);var a=r.readUshort(e,n+=2);r.readUshort(e,n+=2),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n);var o=r.readUshort(e,n+=2);r.readUshort(e,n+=2);var s=r.readUshort(e,n+=2)/2;a.searchRange=r.readUshort(e,n+=2),a.entrySelector=r.readUshort(e,n+=2),a.rangeShift=r.readUshort(e,n+=2),a.endCount=r.readUshorts(e,n+=2,s),n+=2*s,a.startCount=r.readUshorts(e,n+=2,s),n+=2*s,a.idDelta=[];for(var l=0;l<s;l++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,s),n+=2*s,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),r.readUshort(e,n+=2),r.readUshort(e,n+=2),i.firstCode=r.readUshort(e,n+=2);var a=r.readUshort(e,n+=2);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUint(e,n+=2),r.readUint(e,n+=4);var a=r.readUint(e,n+=4);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),o.xMin=r.readShort(i,a+=2),o.yMin=r.readShort(i,a+=2),o.xMax=r.readShort(i,a+=2),o.yMax=r.readShort(i,a+=2),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var l=r.readUshort(i,a);if(i.length-(a+=2)<l)return null;o.instructions=r.readBytes(i,a,l),a+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var h=i[a];a++;for(var d=0;d<h;d++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<u;s++)p=0!=(32&o.flags[s]),(f=0!=(4&o.flags[s]))?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var m=0,g=0;for(s=0;s<u;s++)g+=o.ys[s],o.xs[s]=m+=o.xs[s],o.ys[s]=g}else{var v;o.parts=[];do{v=r.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(i,a),a+=2,1&v){var _=r.readShort(i,a),b=r.readShort(i,a+=2);a+=2}else _=r.readInt8(i,a),a++,b=r.readInt8(i,a),a++;2&v?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&v?(y.m.a=y.m.d=r.readF2dot14(i,a),a+=2):64&v?(y.m.a=r.readF2dot14(i,a),y.m.d=r.readF2dot14(i,a+=2),a+=2):128&v&&(y.m.a=r.readF2dot14(i,a),y.m.b=r.readF2dot14(i,a+=2),y.m.c=r.readF2dot14(i,a+=2),y.m.d=r.readF2dot14(i,a+=2),a+=2)}while(32&v);if(256&v){var x=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<x;s++)o.instr.push(i[a]),a++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=a.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=a.readUshort(e,r);var h=a.readUshort(e,r+=2);r+=2,c=t._lctf.numOfOnes(u);var d=t._lctf.numOfOnes(h);if(1==s.fmt){s.pairsets=[];var f=a.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var m=o+a.readUshort(e,r);r+=2;var g=a.readUshort(e,m);m+=2;for(var v=[],y=0;y<g;y++){var _=a.readUshort(e,m);m+=2,0!=u&&(E=t.GPOS.readValueRecord(e,m,u),m+=2*c),0!=h&&(T=t.GPOS.readValueRecord(e,m,h),m+=2*d),v.push({gid2:_,val1:E,val2:T})}s.pairsets.push(v)}}if(2==s.fmt){var b=a.readUshort(e,r),x=a.readUshort(e,r+=2),w=a.readUshort(e,r+=2),S=a.readUshort(e,r+=2);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<w;p++){var M=[];for(y=0;y<S;y++){var E=null,T=null;0!=u&&(E=t.GPOS.readValueRecord(e,r,u),r+=2*c),0!=h&&(T=t.GPOS.readValueRecord(e,r,h),r+=2*d),M.push({val1:E,val2:T})}s.matrix.push(M)}}}else{if(9==n&&1==s.fmt){var C=a.readUshort(e,r),P=a.readUint(e,r+=2);if(r+=4,9==i.ltype)i.ltype=C;else if(i.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+P)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,r),r+=2;else if(2==s.fmt){var u=a.readUshort(e,r);s.newg=a.readUshorts(e,r+=2,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=a.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var h=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+h))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var d=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+d),s.scset=[];var f=a.readUshort(e,r);for(r+=2,c=0;c<f;c++){var p=a.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=a.readUshort(e,r),r+=2;for(var m=[],g=0;g<u;g++)m.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*g)));r+=2*u,0==c&&(s.backCvg=m),1==c&&(s.inptCvg=m),2==c&&(s.ahedCvg=m)}u=a.readUshort(e,r),s.lookupRec=t.GSUB.readSubstLookupRecords(e,r+=2,u)}}else{if(7==n&&1==s.fmt){var v=a.readUshort(e,r),y=a.readUint(e,r+=2);if(r+=4,9==i.ltype)i.ltype=v;else if(i.ltype!=v)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);1==o&&s--,i[a[o]]=r.readUshorts(e,n+=2,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),i.subst=r.readUshorts(e,n+=2,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n);var a=r.readUshort(e,n+=2);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),a.fontRevision=i.readFixed(e,n+=4),i.readUint(e,n+=4),i.readUint(e,n+=4),a.flags=i.readUshort(e,n+=4),a.unitsPerEm=i.readUshort(e,n+=2),a.created=i.readUint64(e,n+=2),a.modified=i.readUint64(e,n+=8),a.xMin=i.readShort(e,n+=8),a.yMin=i.readShort(e,n+=2),a.xMax=i.readShort(e,n+=2),a.yMax=i.readShort(e,n+=2),a.macStyle=i.readUshort(e,n+=2),a.lowestRecPPEM=i.readUshort(e,n+=2),a.fontDirectionHint=i.readShort(e,n+=2),a.indexToLocFormat=i.readShort(e,n+=2),a.glyphDataFormat=i.readShort(e,n+=2),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),a.ascender=i.readShort(e,n+=4),a.descender=i.readShort(e,n+=2),a.lineGap=i.readShort(e,n+=2),a.advanceWidthMax=i.readUshort(e,n+=2),a.minLeftSideBearing=i.readShort(e,n+=2),a.minRightSideBearing=i.readShort(e,n+=2),a.xMaxExtent=i.readShort(e,n+=2),a.caretSlopeRise=i.readShort(e,n+=2),a.caretSlopeRun=i.readShort(e,n+=2),a.caretOffset=i.readShort(e,n+=2),n+=2,a.metricDataFormat=i.readShort(e,n+=8),a.numberOfHMetrics=i.readUshort(e,n+=2),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),l=a.readShort(e,n+=2),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){r=a.readUshort(e,n+=2);var c=a.readUshort(e,n+=2)>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n+=2,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n);var o=a.readUint(e,n+=4);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n);var u=a.readUshort(e,n+=4);a.readUshort(e,n+=2);var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n+=2,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);i.readUshort(e,n+=2),i.readUshort(e,n+=2),i.readUshort(e,n+=2),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n),u=i.readUshort(e,n+=2),c=i.readShort(e,n+=2);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var h=r.rval[r.rval.length-1];h.glyph2.push(u),h.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return a.numGlyphs=i.readUshort(e,n+=4),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),a.maxContours=i.readUshort(e,n+=2),a.maxCompositePoints=i.readUshort(e,n+=2),a.maxCompositeContours=i.readUshort(e,n+=2),a.maxZones=i.readUshort(e,n+=2),a.maxTwilightPoints=i.readUshort(e,n+=2),a.maxStorage=i.readUshort(e,n+=2),a.maxFunctionDefs=i.readUshort(e,n+=2),a.maxInstructionDefs=i.readUshort(e,n+=2),a.maxStackElements=i.readUshort(e,n+=2),a.maxSizeOfInstructions=i.readUshort(e,n+=2),a.maxComponentElements=i.readUshort(e,n+=2),a.maxComponentDepth=i.readUshort(e,n+=2),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n);var o=i.readUshort(e,n+=2);i.readUshort(e,n+=2);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var h=i.readUshort(e,n),d=i.readUshort(e,n+=2),f=i.readUshort(e,n+=2),p=i.readUshort(e,n+=2),m=i.readUshort(e,n+=2),g=i.readUshort(e,n+=2);n+=2;var v,y=l[p],_=u+12*o+g;if(0==h)v=i.readUnicode(e,_,m/2);else if(3==h&&0==d)v=i.readUnicode(e,_,m/2);else if(0==d)v=i.readASCII(e,_,m);else if(1==d)v=i.readUnicode(e,_,m/2);else if(3==d)v=i.readUnicode(e,_,m/2);else{if(1!=h)throw"unknown encoding "+d+", platformID: "+h;v=i.readASCII(e,_,m),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var b="p"+h+","+f.toString(16);null==a[b]&&(a[b]={}),a[b][void 0!==y?y:p]=v,a[b]._lang=f}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),r.usWeightClass=i.readUshort(e,n+=2),r.usWidthClass=i.readUshort(e,n+=2),r.fsType=i.readUshort(e,n+=2),r.ySubscriptXSize=i.readShort(e,n+=2),r.ySubscriptYSize=i.readShort(e,n+=2),r.ySubscriptXOffset=i.readShort(e,n+=2),r.ySubscriptYOffset=i.readShort(e,n+=2),r.ySuperscriptXSize=i.readShort(e,n+=2),r.ySuperscriptYSize=i.readShort(e,n+=2),r.ySuperscriptXOffset=i.readShort(e,n+=2),r.ySuperscriptYOffset=i.readShort(e,n+=2),r.yStrikeoutSize=i.readShort(e,n+=2),r.yStrikeoutPosition=i.readShort(e,n+=2),r.sFamilyClass=i.readShort(e,n+=2),r.panose=i.readBytes(e,n+=2,10),r.ulUnicodeRange1=i.readUint(e,n+=10),r.ulUnicodeRange2=i.readUint(e,n+=4),r.ulUnicodeRange3=i.readUint(e,n+=4),r.ulUnicodeRange4=i.readUint(e,n+=4),r.achVendID=[i.readInt8(e,n+=4),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],r.fsSelection=i.readUshort(e,n+=4),r.usFirstCharIndex=i.readUshort(e,n+=2),r.usLastCharIndex=i.readUshort(e,n+=2),r.sTypoAscender=i.readShort(e,n+=2),r.sTypoDescender=i.readShort(e,n+=2),r.sTypoLineGap=i.readShort(e,n+=2),r.usWinAscent=i.readUshort(e,n+=2),r.usWinDescent=i.readUshort(e,n+=2),n+2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),r.ulCodePageRange2=i.readUint(e,n+=4),n+4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),r.sCapHeight=i.readShort(e,n+=2),r.usDefault=i.readUshort(e,n+=2),r.usBreak=i.readUshort(e,n+=2),r.usMaxContext=i.readUshort(e,n+=2),n+2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),r.usUpperOpticalPointSize=i.readUshort(e,n+=2),n+2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),a.italicAngle=i.readFixed(e,n+=4),a.underlinePosition=i.readShort(e,n+=4),a.underlineThickness=i.readShort(e,n+=2),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],h=1&e.flags[l],d=e.xs[o],f=e.ys[o];if(o==i)if(u){if(!c){t.U.P.moveTo(n,d,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,d,f):h?t.U.P.qcurveTo(n,d,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,d,f,(d+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var i=0,a=!1;if(e.GPOS)for(var o=e.GPOS,s=o.lookupList,l=o.featureList,u=[],c=0;c<l.length;c++){var h=l[c];if("kern"==h.tag){a=!0;for(var d=0;d<h.tab.length;d++)if(!u[h.tab[d]]){u[h.tab[d]]=!0;for(var f=s[h.tab[d]],p=0;p<f.tabs.length;p++)if(null!=f.tabs[p]){var m,g=f.tabs[p];if(!g.coverage||-1!=(m=t._lctf.coverageIndex(g.coverage,n)))if(1==f.ltype);else if(2==f.ltype){var v;if(1==g.fmt){var y=g.pairsets[m];for(c=0;c<y.length;c++)y[c].gid2==r&&(v=y[c])}else if(2==g.fmt){var _=t.U._getGlyphClass(n,g.classDef1),b=t.U._getGlyphClass(r,g.classDef2);v=g.matrix[_][b]}v&&v.val1&&v.val1[2]&&(i+=v.val1[2]),v&&v.val2&&v.val2[0]&&(i+=v.val2[0])}}}}}if(e.kern&&!a){var x=e.kern.glyph1.indexOf(n);if(-1!=x){var w=e.kern.rval[x].glyph2.indexOf(r);-1!=w&&(i+=e.kern.rval[x].vals[w])}}return i},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n]=1==l.fmt?e[n]+l.delta:l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var h=u[c],d=h.chain.length;if(!(d>a)){for(var f=!0,p=0,m=0;m<d;m++){for(;-1==e[n+p+(1+m)];)p++;h.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=h.nglyph,m=0;m<d+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.scset[l.cDef[g+2]],y=0;y<v.length;y++){var _=v[y],b=_.input;if(!(b.length>a)){for(f=!0,m=0;m<b.length;m++){var x=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[x+2]!=b[m]){f=!1;break}}if(f){var w=_.substLookupRecords;for(c=0;c<w.length;c+=2);}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var S=l.lookupRec;for(y=0;y<S.length;y+=2)t.U._applySubs(e,n+(g=S[y]),i[S[y+1]],i)}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,h=0,d=n.x,f=n.y,p=0,m=0,g=0,v=0,y=0,_=0,b=0,x=0,w=0,S=0,M={val:0,size:0};h<e.length;){t.CFF.getCharString(e,h,M);var E=M.val;if(h+=M.size,"o1"==E||"o18"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==E||"o23"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),f+=o.pop(),t.U.P.moveTo(a,d,f),c=!0;else if("o5"==E)for(;o.length>0;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,d,f);else if("o6"==E||"o7"==E)for(var T=o.length,C="o6"==E,P=0;P<T;P++){var k=o.shift();C?d+=k:f+=k,C=!C,t.U.P.lineTo(a,d,f)}else if("o8"==E||"o24"==E){T=o.length;for(var A=0;A+6<=T;)p=d+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),d=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,d,f),A+=6;"o24"==E&&(d+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,d,f))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(m=f,g=(p=d+o.shift())+o.shift(),S=v=m+o.shift(),_=v,x=f,d=(b=(y=(w=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,w,S),t.U.P.curveTo(a,y,_,b,x,d,f)),"o1235"==E&&(p=d+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),w=g+o.shift(),S=v+o.shift(),y=w+o.shift(),_=S+o.shift(),b=y+o.shift(),x=_+o.shift(),d=b+o.shift(),f=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,g,v,w,S),t.U.P.curveTo(a,y,_,b,x,d,f)),"o1236"==E&&(p=d+o.shift(),m=f+o.shift(),g=p+o.shift(),S=v=m+o.shift(),_=v,b=(y=(w=g+o.shift())+o.shift())+o.shift(),x=_+o.shift(),d=b+o.shift(),t.U.P.curveTo(a,p,m,g,v,w,S),t.U.P.curveTo(a,y,_,b,x,d,f)),"o1237"==E&&(p=d+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),w=g+o.shift(),S=v+o.shift(),y=w+o.shift(),_=S+o.shift(),b=y+o.shift(),x=_+o.shift(),Math.abs(b-d)>Math.abs(x-f)?d=b+o.shift():f=x+o.shift(),t.U.P.curveTo(a,p,m,g,v,w,S),t.U.P.curveTo(a,y,_,b,x,d,f));else if("o14"==E){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var I=o.shift(),R=o.shift(),L=o.shift(),O=o.shift(),N=t.CFF.glyphBySE(r,L),D=t.CFF.glyphBySE(r,O);t.U._drawCFF(r.CharStrings[N],n,r,i,a),n.x=I,n.y=R,t.U._drawCFF(r.CharStrings[D],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==E||"o20"==E)o.length%2!=0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,h+=s+7>>3;else if("o21"==E)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),d+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,d,f),c=!0;else if("o22"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),d+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,d,f),c=!0;else if("o25"==E){for(;o.length>6;)d+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,d,f);p=d+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),d=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(a,p,m,g,v,d,f)}else if("o26"==E)for(o.length%2&&(d+=o.shift());o.length>0;)p=d,m=f+o.shift(),d=g=p+o.shift(),f=(v=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,g,v,d,f);else if("o27"==E)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,g=(p=d+o.shift())+o.shift(),v=m+o.shift(),d=g+o.shift(),t.U.P.curveTo(a,p,m,g,v,d,f=v);else if("o10"==E||"o29"==E){var z="o10"==E?i:r;if(0==o.length)console.debug("error: empty stack");else{var U=o.pop(),B=z.Subrs[U+z.Bias];n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(B,n,r,i,a),d=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==E||"o31"==E){var F=o.length,j=(A=0,"o31"==E);for(A+=F-(T=-3&F);A<T;)j?(m=f,g=(p=d+o.shift())+o.shift(),f=(v=m+o.shift())+o.shift(),T-A==5?(d=g+o.shift(),A++):d=g,j=!1):(p=d,m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),d=g+o.shift(),T-A==5?(f=v+o.shift(),A++):f=v,j=!0),t.U.P.curveTo(a,p,m,g,v,d,f),A+=4}else{if("o"==(E+"").charAt(0))throw console.debug("Unknown operation: "+E,e),E;o.push(E)}}}n.x=d,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n={Typr:t};return e.Typr=t,e.default=n,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var h=s(a,0)[0],d=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,d[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],h=t-e[a],f=l[e[a]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)s[d[f]>>>u]=c}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=d[l[e[a]-1]++]>>>15-e[a]);return s},g=new t(288);for(f=0;f<144;++f)g[f]=8;for(f=144;f<256;++f)g[f]=9;for(f=256;f<280;++f)g[f]=7;for(f=280;f<288;++f)g[f]=8;var v=new t(32);for(f=0;f<32;++f)v[f]=5;var y=m(g,9,1),_=m(v,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],M=function(e,t,n){var r=new Error(t||S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,M),!n)throw r;return r},E=function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var d=!s||l,f=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,g=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},v=l.f||0,S=l.p||0,E=l.b||0,T=l.l,C=l.d,P=l.m,k=l.n,A=8*c;do{if(!T){l.f=v=x(e,S,1);var I=x(e,S+1,3);if(S+=3,!I){var R=e[(H=((p=S)/8|0)+(7&p&&1)+4)-4]|e[H-3]<<8,L=H+R;if(L>c){f&&M(0);break}d&&g(E+R),s.set(e.subarray(H,L),E),l.b=E+=R,l.p=S=8*L;continue}if(1==I)T=y,C=_,P=9,k=5;else if(2==I){var O=x(e,S,31)+257,N=x(e,S+10,15)+4,D=O+x(e,S+5,31)+1;S+=14;for(var z=new t(D),U=new t(19),B=0;B<N;++B)U[o[B]]=x(e,S+3*B,7);S+=3*N;var F=b(U),j=(1<<F)-1,V=m(U,F,1);for(B=0;B<D;){var H,W=V[x(e,S,j)];if(S+=15&W,(H=W>>>4)<16)z[B++]=H;else{var G=0,$=0;for(16==H?($=3+x(e,S,3),S+=2,G=z[B-1]):17==H?($=3+x(e,S,7),S+=3):18==H&&($=11+x(e,S,127),S+=7);$--;)z[B++]=G}}var q=z.subarray(0,O),X=z.subarray(O);P=b(q),k=b(X),T=m(q,P,1),C=m(X,k,1)}else M(1);if(S>A){f&&M(0);break}}d&&g(E+131072);for(var Y=(1<<P)-1,Z=(1<<k)-1,K=S;;K=S){var J=(G=T[w(e,S)&Y])>>>4;if((S+=15&G)>A){f&&M(0);break}if(G||M(2),J<256)s[E++]=J;else{if(256==J){K=S,T=null;break}var Q=J-254;if(J>264){var ee=i[B=J-257];Q=x(e,S,(1<<ee)-1)+u[B],S+=ee}var te=C[w(e,S)&Z],ne=te>>>4;if(te||M(3),S+=15&te,X=h[ne],ne>3&&(ee=a[ne],X+=w(e,S)&(1<<ee)-1,S+=ee),S>A){f&&M(0);break}d&&g(E+131072);for(var re=E+Q;E<re;E+=4)s[E]=s[E-X],s[E+1]=s[E+1-X],s[E+2]=s[E+2-X],s[E+3]=s[E+3-X];E=re}}l.l=T,l.p=K,l.b=E,T&&(v=1,l.m=P,l.d=C,l.n=k)}while(!v);return E==s.length?s:function(e,i,a){(null==i||i<0)&&(i=0),(null==a||a>e.length)&&(a=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(a-i);return o.set(e.subarray(i,a)),o}(s,0,E)},T=new t(0),C="undefined"!=typeof TextDecoder&&new TextDecoder;try{C.decode(T,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){v.setUint16(y,e),y+=2}function o(e){v.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,h=12,d=[],f=0;f<s.numTables;f++)d.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),h+=16;var p,m=new Uint8Array(12+16*d.length+d.reduce(function(e,t){return e+t.origLength+4},0)),g=m.buffer,v=new DataView(g),y=0;return o(s.flavor),a(s.numTables),a(u),a(l),a(c),d.forEach(function(e){o(e.tag),o(e.origChecksum),o(h),o(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)}),d.forEach(function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),E(n,i)}else i=new Uint8Array(r);m.set(i,t.outOffset);var a=0;(h=t.outOffset+t.origLength)%4!=0&&(a=4-h%4),m.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=h+a}),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let i;function a(e){if(!i){const e={R:2,L:1,D:4,C:16,U:32,T:8};i=new Map;for(let t in r){let n=0;r[t].split(",").forEach(r=>{let[a,o]=r.split("+");a=parseInt(a,36),o=o?parseInt(o,36):0,i.set(n+=a,e[t]);for(let r=o;r--;)i.set(++n,e[t])})}}return i.get(e)||32}const o=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let n=32,r=1,i=-1;for(let o=0;o<e.length;o++){const s=e.codePointAt(o);let l=0|a(s),u=1;8&l||(21&n?22&l?(u=3,1!==r&&3!==r||t[i]++):33&l&&(2!==r&&4!==r||t[i]--):34&n&&(2!==r&&4!==r||t[i]--),r=t[o]=u,n=l,i=o,s>65535&&o++)}return t}return function(r){const i=new Uint8Array(r,0,4),a=e._bin.readASCII(i,0,4);if("wOFF"===a)r=t(r);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return function(t){const r=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph(a,l,u,c){let h=0;const d=1/i.unitsPerEm*l,f=function(t,n){const r=[];for(let i=0;i<n.length;i++){const a=n.codePointAt(i);a>65535&&i++,r.push(e.U.codeToGlyph(t,a))}const i=t.GSUB;if(i){const{lookupList:t,featureList:a}=i;let l;const u=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,c=[];a.forEach(i=>{if(u.test(i.tag))for(let a=0;a<i.tab.length;a++){if(c[i.tab[a]])continue;c[i.tab[a]]=!0;const u=t[i.tab[a]],h=/^(isol|init|fina|medi)$/.test(i.tag);h&&!l&&(l=s(n));for(let n=0;n<r.length;n++)l&&h&&o[l[n]]!==i.tag||e.U._applySubs(r,n,u,t)}})}return r}(t,a);let p=0,m=-1;return f.forEach((i,o)=>{if(-1!==i){let a=r[i];if(!a){const{cmds:o,crds:s}=e.U.glyphToPath(t,i);let l,u,c,h,d="",f=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];d+=o[e];for(let e=1;e<=t;e++)d+=(e>1?",":"")+s[f++]}if(s.length){l=u=Infinity,c=h=-Infinity;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],n=s[e+1];t<l&&(l=t),n<u&&(u=n),t>c&&(c=t),n>h&&(h=n)}}else l=c=u=h=0;a=r[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:l,yMin:u,xMax:c,yMax:h,path:d,pathCommandCount:o.length}}-1!==m&&(h+=e.U.getPairAdjustment(t,m,i)*d),c.call(null,a,h,p),a.advanceWidth&&(h+=a.advanceWidth*d),u&&(h+=u*l),m=i}p+=a.codePointAt(p)>65535?2:1}),h}};return i}(e.parse(r)[0])}}],init:(e,t,n)=>n(e(),t())}),ET={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},TT=/*#__PURE__*/new Yh;function CT(){return(self.performance||Date).now()}const PT=Object.create(null);function kT(e,t){e=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e);const n=CT();if(e.font=(r=e.font||ET.defaultFontURL,IT||(IT="undefined"==typeof document?{}:document.createElement("a")),IT.href=r,IT.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||ET.sdfGlyphSize,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=TT.set(r).getHex()),t[n]=r}e.colorRanges=t}var r;Object.freeze(e);const{textureWidth:i,sdfExponent:a}=ET,{sdfGlyphSize:o}=e,s=i/o*4;let l=PT[o];if(!l){const e=document.createElement("canvas");e.width=i,e.height=256*o/s,l=PT[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:e,sdfTexture:new td(e,void 0,void 0,void 0,1006,1006),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0}),t.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),e.contextLost=!1;const n=[];e.glyphsByFont.forEach(t=>{t.forEach(t=>{n.push(AT(t,e,!0))})}),GE.all(n).then(()=>{RT(e),e.sdfTexture.needsUpdate=!0})})}(l)}const{sdfTexture:u,sdfCanvas:c}=l;let h=l.glyphsByFont.get(e.font);h||l.glyphsByFont.set(e.font,h=new Map),OT(e).then(r=>{const{glyphIds:d,glyphPositions:f,fontSize:p,unitsPerEm:m,timings:g}=r,v=[],y=new Float32Array(4*d.length),_=p/m;let b=0,x=0;const w=CT();d.forEach((e,t)=>{let n=h.get(e);if(!n){const{path:t,pathBounds:i}=r.glyphData[e],a=Math.max(i[2]-i[0],i[3]-i[1])/o*(ET.sdfMargin*o+.5),s=l.glyphCount++;h.set(e,n={path:t,atlasIndex:s,sdfViewBox:[i[0]-a,i[1]-a,i[2]+a,i[3]+a]}),v.push(n)}const{sdfViewBox:i}=n,a=f[x++],s=f[x++];y[b++]=a+i[0]*_,y[b++]=s+i[1]*_,y[b++]=a+i[2]*_,y[b++]=s+i[3]*_,d[t]=n.atlasIndex}),g.quads=(g.quads||0)+(CT()-w);const S=CT();g.sdf={};const M=c.height,E=Math.ceil(l.glyphCount/s),T=Math.pow(2,Math.ceil(Math.log2(E*o)));T>M&&(console.info(`Increasing SDF texture size ${M}->${T}`),ST(c,i,T),u.dispose()),GE.all(v.map(t=>AT(t,l,e.gpuAccelerateSDF).then(({timing:e})=>{g.sdf[t.atlasIndex]=e}))).then(()=>{v.length&&!l.contextLost&&(RT(l),u.needsUpdate=!0),g.sdfTotal=CT()-S,g.total=CT()-n,t(Object.freeze({parameters:e,sdfTexture:u,sdfGlyphSize:o,sdfExponent:a,glyphBounds:y,glyphAtlasIndices:d,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[e,t,n,i]=r.blockBounds;return[n-e,i-t]}}))})}),GE.all([]).then(()=>{var e;l.contextLost||(e=c)._warm||(_T.webgl.isSupported(e),e._warm=!0)})}function AT({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=ET,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(t/4);return function(e,t,n,r,i,a,o,s,l,u,c=!0){return c?xT(e,t,n,r,i,a,o,s,l,u).then(null,c=>(bT||(console.warn("WebGL SDF generation failed, falling back to JS",c),bT=!0),wT(e,t,n,r,i,a,o,s,l,u))):wT(e,t,n,r,i,a,o,s,l,u)}(r,r,e,n,u,l,i,c%(s/r)*r,Math.floor(c/(s/r))*r,t%4,o)}let IT;function RT(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,a=e.sdfCanvas.getContext("webgl");let o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const LT=/*#__PURE__*/eT({name:"Typesetter",dependencies:[ET,MT,function(e,t,n){const{defaultFontURL:r}=n,i=Object.create(null),a=Infinity,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(t,n){t||(t=r);let a=i[t];var o;a?a.pending?a.pending.push(n):n(a):(i[t]={pending:[n]},o=t,function n(){const a=e=>{console.error(`Failure loading font ${o}${o===r?"":"; trying fallback"}`,e),o!==r&&(o=r,n())};try{const n=new XMLHttpRequest;n.open("get",o,!0),n.responseType="arraybuffer",n.onload=function(){if(n.status>=400)a(new Error(n.statusText));else if(n.status>0)try{(e=>{let n=i[t].pending;i[t]=e,n.forEach(t=>t(e))})(e(n.response))}catch(e){a(e)}},n.onerror=a,n.send()}catch(e){a(e)}}())}function u({text:e="",font:n=r,sdfGlyphSize:i=64,fontSize:u=1,letterSpacing:p=0,lineHeight:m="normal",maxWidth:g=a,direction:v,textAlign:y="left",textIndent:_=0,whiteSpace:b="normal",overflowWrap:x="normal",anchorX:w=0,anchorY:S=0,includeCaretPositions:M=!1,chunkedBoundsSize:E=8192,colorRanges:T=null},C,P=!1){const k=d(),A={fontLoad:0,typesetting:0};e.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),u=+u,p=+p,g=+g,m=m||"normal",_=+_,l(n,n=>{const r=isFinite(g);let i=null,l=null,I=null,R=null,L=null,O=null,N=null,D=0,z=0,U="nowrap"!==b;const{ascender:B,descender:F,unitsPerEm:j}=n;A.fontLoad=d()-k;const V=d(),H=u/j;"normal"===m&&(m=(B-F)/j);const W=((m*=u)-(B-F)*H)/2,G=-(B*H+W),$=Math.min(m,(B-F)*H),q=(B+F)/2*H-$/2;let X=_,Y=new f;const Z=[Y];n.forEachGlyph(e,u,p,(t,n,i)=>{const a=e.charAt(i),l=t.advanceWidth*H,c=Y.count;let h;if("isEmpty"in t||(t.isWhitespace=!!a&&/\s/.test(a),t.canBreakAfter=!!a&&s.test(a),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||o.test(a)),t.isWhitespace||t.isEmpty||z++,U&&r&&!t.isWhitespace&&n+l+X>g&&c){if(Y.glyphAt(c-1).glyphObj.canBreakAfter)h=new f,X=-n;else for(let e=c;e--;){if(0===e&&"break-word"===x){h=new f,X=-n;break}if(Y.glyphAt(e).glyphObj.canBreakAfter){h=Y.splitAt(e+1);const t=h.glyphAt(0).x;X-=t;for(let e=h.count;e--;)h.glyphAt(e).x-=t;break}}h&&(Y.isSoftWrapped=!0,Y=h,Z.push(Y),D=g)}let d=Y.glyphAt(Y.count);d.glyphObj=t,d.x=n+X,d.width=l,d.charIndex=i,"\n"===a&&(Y=new f,Z.push(Y),X=-(n+l+p*u)+_)}),Z.forEach(e=>{for(let t=e.count;t--;){let{glyphObj:n,x:r,width:i}=e.glyphAt(t);if(!n.isWhitespace)return e.width=r+i,void(e.width>D&&(D=e.width))}});let K=0,J=0;if(w&&("number"==typeof w?K=-w:"string"==typeof w&&(K=-D*("left"===w?0:"center"===w?.5:"right"===w?1:c(w)))),S)if("number"==typeof S)J=-S;else if("string"==typeof S){let e=Z.length*m;J="top"===S?0:"top-baseline"===S?-G:"middle"===S?e/2:"bottom"===S?e:"bottom-baseline"===S?e-W+F*H:c(S)*e}if(!P){const r=t.getEmbeddingLevels(e,v);i=new Uint16Array(z),l=new Float32Array(2*z),I={},O=[a,a,-a,-a],N=[];let o=G;M&&(L=new Float32Array(3*e.length)),T&&(R=new Uint8Array(3*z));let s,u,c=0,d=-1,f=-1;if(Z.forEach((p,g)=>{let{count:v,width:_}=p;if(v>0){let m=0;for(let e=v;e--&&p.glyphAt(e).glyphObj.isWhitespace;)m++;let g=0,b=0;if("center"===y)g=(D-_)/2;else if("right"===y)g=D-_;else if("justify"===y&&p.isSoftWrapped){let e=0;for(let t=v-m;t--;)p.glyphAt(t).glyphObj.isWhitespace&&e++;b=(D-_)/e}if(b||g){let e=0;for(let t=0;t<v;t++){let n=p.glyphAt(t);const r=n.glyphObj;n.x+=g+e,0!==b&&r.isWhitespace&&t<v-m&&(e+=b,n.width+=b)}}const x=t.getReorderSegments(e,r,p.glyphAt(0).charIndex,p.glyphAt(p.count-1).charIndex);for(let e=0;e<x.length;e++){const[t,n]=x[e];let r=Infinity,i=-Infinity;for(let e=0;e<v;e++)if(p.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<v;a++){let e=p.glyphAt(a);if(e.charIndex>n)break;a<v-m&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){const t=p.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let w;const S=e=>w=e;for(let m=0;m<v;m++){let g=p.glyphAt(m);w=g.glyphObj;const v=w.index,y=1&r.levels[g.charIndex];if(y){const r=t.getMirroredCharacter(e[g.charIndex]);r&&n.forEachGlyph(r,0,0,S)}if(M){const{charIndex:e}=g,t=g.x+K,n=g.x+g.width+K;L[3*e]=y?n:t,L[3*e+1]=y?t:n,L[3*e+2]=o+q+J;const r=e-d;r>1&&h(L,d,r),d=e}if(T){const{charIndex:e}=g;for(;e>f;)f++,T.hasOwnProperty(f)&&(u=T[f])}if(!w.isWhitespace&&!w.isEmpty){const e=c++;I[v]||(I[v]={path:w.path,pathBounds:[w.xMin,w.yMin,w.xMax,w.yMax]});const t=g.x+K,n=o+J;l[2*e]=t,l[2*e+1]=n;const r=t+w.xMin*H,h=n+w.yMin*H,d=t+w.xMax*H,f=n+w.yMax*H;r<O[0]&&(O[0]=r),h<O[1]&&(O[1]=h),d>O[2]&&(O[2]=d),f>O[3]&&(O[3]=f),e%E==0&&(s={start:e,end:e,rect:[a,a,-a,-a]},N.push(s)),s.end++;const p=s.rect;if(r<p[0]&&(p[0]=r),h<p[1]&&(p[1]=h),d>p[2]&&(p[2]=d),f>p[3]&&(p[3]=f),i[e]=v,T){const t=3*e;R[t]=u>>16&255,R[t+1]=u>>8&255,R[t+2]=255&u}}}}o-=m}),L){const t=e.length-d;t>1&&h(L,d,t)}}A.typesetting=d()-V,C({glyphIds:i,glyphPositions:l,glyphData:I,caretPositions:L,caretHeight:$,glyphColors:R,chunkedBounds:N,fontSize:u,unitsPerEm:j,ascender:B*H,descender:F*H,lineHeight:m,topBaseline:G,blockBounds:[K,J-Z.length*m,K+D,J],visibleBounds:O,timings:A})})}function c(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function h(e,t,n){const r=e[3*t],i=e[3*t+2],a=(e[3*t+1]-r)/n;for(let o=0;o<n;o++){const n=3*(t+o);e[n]=r+a*o,e[n+1]=r+a*(o+1),e[n+2]=i}}function d(){return(self.performance||Date).now()}function f(){this.data=[]}const p=["glyphObj","x","width","charIndex"];return f.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(e){let t=f.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new f;return t.data=this.data.splice(e*p.length),t}},f.flyweight=p.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*p.length+n]},set(e){this.data[this.index*p.length+n]=e}}),e),{data:null,index:0}),{typeset:u,measure:function(e,t){u(e,e=>{const[n,r,i,a]=e.blockBounds;t({width:i-n,height:a-r})},{metricsOnly:!0})},loadFont:l}},function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach(function(e,t){n[e]=1<<t+1,r[n[e]]=e}),Object.freeze(n);var i,a,o,s=n.LRI|n.RLI|n.FSI,l=n.L|n.R|n.AL,u=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,c=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,h=n.S|n.WS|n.B|s|n.PDI|c,d=null;function f(e){return function(){if(!d){d=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach(function(t){var i=t.split("+"),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,d.set(r+=a,n[e]);for(var s=0;s<o;s++)d.set(++r,n[e])})}};for(var r in t)e(r)}}(),d.get(e.codePointAt(0))||n.L}function p(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}}),{map:i,reverseMap:a}}function m(){if(!i){var e=p("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0);i=e.map,a=e.reverseMap,o=p("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function g(e){return m(),i.get(e)||null}function v(e){return m(),a.get(e)||null}function y(e){return m(),o.get(e)||null}var _,b=n.L,x=n.R,w=n.EN,S=n.ES,M=n.ET,E=n.AN,T=n.CS,C=n.B,P=n.S,k=n.ON,A=n.BN,I=n.NSM,R=n.AL,L=n.LRO,O=n.RLO,N=n.LRE,D=n.RLE,z=n.PDF,U=n.LRI,B=n.RLI,F=n.FSI,j=n.PDI;function V(e){return function(){if(!_){var e=p("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach(function(e,n){t.set(n,e)}),_=t}}(),_.get(e)||null}function H(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach(function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&f(e[u])&h;u--)l[u]=i.level;for(var c=i.level,d=Infinity,p=0;p<l.length;p++){var m=l[p];m>c&&(c=m),m<d&&(d=1|m)}for(var g=c;g>=d;g--)for(var v=0;v<l.length;v++)if(l[v]>=g){for(var y=v;v+1<l.length&&l[v+1]>=g;)v++;v>y&&a.push([y+n,v+n])}}}),a}function W(e,t,n,r){for(var i=H(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach(function(e){for(var t=e[1],n=a.slice(e[0],t+1),r=n.length;r--;)a[t-r]=n[r]}),a}return e.closingToOpeningBracket=v,e.getBidiCharType=f,e.getBidiCharTypeName=function(e){return r[f(e)]},e.getCanonicalBracket=y,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=f(e[r]);var i=new Map;function a(e,t){var r=n[e];n[e]=t,i.set(r,i.get(r)-1),r&u&&i.set(u,i.get(u)-1),i.set(t,(i.get(t)||0)+1),t&u&&i.set(u,(i.get(u)||0)+1)}for(var o=new Uint8Array(e.length),d=new Map,p=[],m=null,_=0;_<e.length;_++)m||p.push(m={start:_,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Bt(_,!1)}),n[_]&C&&(m.end=_,m=null);for(var V=D|N|O|L|s|j|z|C,H=function(e){return e+(1&e?1:2)},W=function(e){return e+(1&e?2:1)},G=0;G<p.length;G++){var $=[{_level:(m=p[G]).level,_override:0,_isolate:0}],q=void 0,X=0,Y=0,Z=0;i.clear();for(var K=m.start;K<=m.end;K++){var J=n[K];if(q=$[$.length-1],i.set(J,(i.get(J)||0)+1),J&u&&i.set(u,(i.get(u)||0)+1),J&V)if(J&(D|N)){o[K]=q._level;var Q=(J===D?W:H)(q._level);Q<=125&&!X&&!Y?$.push({_level:Q,_override:0,_isolate:0}):X||Y++}else if(J&(O|L)){o[K]=q._level;var ee=(J===O?W:H)(q._level);ee<=125&&!X&&!Y?$.push({_level:ee,_override:J&O?x:b,_isolate:0}):X||Y++}else if(J&s){J&F&&(J=1===Bt(K+1,!0)?B:U),o[K]=q._level,q._override&&a(K,q._override);var te=(J===B?W:H)(q._level);te<=125&&0===X&&0===Y?(Z++,$.push({_level:te,_override:0,_isolate:1,_isolInitIndex:K})):X++}else if(J&j){if(X>0)X--;else if(Z>0){for(Y=0;!$[$.length-1]._isolate;)$.pop();var ne=$[$.length-1]._isolInitIndex;null!=ne&&(d.set(ne,K),d.set(K,ne)),$.pop(),Z--}o[K]=(q=$[$.length-1])._level,q._override&&a(K,q._override)}else J&z?(0===X&&(Y>0?Y--:!q._isolate&&$.length>1&&($.pop(),q=$[$.length-1])),o[K]=q._level):J&C&&(o[K]=m.level);else o[K]=q._level,q._override&&J!==A&&a(K,q._override)}for(var re=[],ie=null,ae=m.start;ae<=m.end;ae++){var oe=n[ae];if(!(oe&c)){var se=o[ae],le=oe&s,ue=oe===j;ie&&se===ie._level?(ie._end=ae,ie._endsWithIsolInit=le):re.push(ie={_start:ae,_end:ae,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],he=0;he<re.length;he++){var de=re[he];if(!de._startsWithPDI||de._startsWithPDI&&!d.has(de._start)){for(var fe=[ie=de],pe=void 0;ie&&ie._endsWithIsolInit&&null!=(pe=d.get(ie._end));)for(var me=he+1;me<re.length;me++)if(re[me]._start===pe){fe.push(ie=re[me]);break}for(var ge=[],ve=0;ve<fe.length;ve++)for(var ye=fe[ve],_e=ye._start;_e<=ye._end;_e++)ge.push(_e);for(var be=o[ge[0]],xe=m.level,we=ge[0]-1;we>=0;we--)if(!(n[we]&c)){xe=o[we];break}var Se=ge[ge.length-1],Me=o[Se],Ee=m.level;if(!(n[Se]&s))for(var Te=Se+1;Te<=m.end;Te++)if(!(n[Te]&c)){Ee=o[Te];break}ce.push({_seqIndices:ge,_sosType:Math.max(xe,be)%2?x:b,_eosType:Math.max(Ee,Me)%2?x:b})}}for(var Ce=0;Ce<ce.length;Ce++){var Pe=ce[Ce],ke=Pe._seqIndices,Ae=Pe._sosType,Ie=Pe._eosType;if(i.get(I))for(var Re=0;Re<ke.length;Re++){var Le=ke[Re];if(n[Le]&I){for(var Oe=Ae,Ne=Re-1;Ne>=0;Ne--)if(!(n[ke[Ne]]&c)){Oe=n[ke[Ne]];break}a(Le,Oe&(s|j)?k:Oe)}}if(i.get(w))for(var De=0;De<ke.length;De++){var ze=ke[De];if(n[ze]&w)for(var Ue=De-1;Ue>=-1;Ue--){var Be=-1===Ue?Ae:n[ke[Ue]];if(Be&l){Be===R&&a(ze,E);break}}}if(i.get(R))for(var Fe=0;Fe<ke.length;Fe++){var je=ke[Fe];n[je]&R&&a(je,x)}if(i.get(S)||i.get(T))for(var Ve=1;Ve<ke.length-1;Ve++){var He=ke[Ve];if(n[He]&(S|T)){for(var We=0,Ge=0,$e=Ve-1;$e>=0&&(We=n[ke[$e]])&c;$e--);for(var qe=Ve+1;qe<ke.length&&(Ge=n[ke[qe]])&c;qe++);We===Ge&&(n[He]===S?We===w:We&(w|E))&&a(He,We)}}if(i.get(w))for(var Xe=0;Xe<ke.length;Xe++)if(n[ke[Xe]]&w){for(var Ye=Xe-1;Ye>=0&&n[ke[Ye]]&(M|c);Ye--)a(ke[Ye],w);for(var Ze=Xe+1;Ze<ke.length&&n[ke[Ze]]&(M|c);Ze++)a(ke[Ze],w)}if(i.get(M)||i.get(S)||i.get(T))for(var Ke=0;Ke<ke.length;Ke++){var Je=ke[Ke];if(n[Je]&(M|S|T)){a(Je,k);for(var Qe=Ke-1;Qe>=0&&n[ke[Qe]]&c;Qe--)a(ke[Qe],k);for(var et=Ke+1;et<ke.length&&n[ke[et]]&c;et++)a(ke[et],k)}}if(i.get(w))for(var tt=0,nt=Ae;tt<ke.length;tt++){var rt=ke[tt],it=n[rt];it&w?nt===b&&a(rt,b):it&l&&(nt=it)}if(i.get(u)){for(var at=x|w|E,ot=at|b,st=[],lt=[],ut=0;ut<ke.length;ut++)if(n[ke[ut]]&u){var ct=e[ke[ut]],ht=void 0;if(null!==g(ct)){if(!(lt.length<63))break;lt.push({char:ct,seqIndex:ut})}else if(null!==(ht=v(ct)))for(var dt=lt.length-1;dt>=0;dt--){var ft=lt[dt].char;if(ft===ht||ft===v(y(ct))||g(y(ft))===ct){st.push([lt[dt].seqIndex,ut]),lt.length=dt;break}}}st.sort(function(e,t){return e[0]-t[0]});for(var pt=0;pt<st.length;pt++){for(var mt=st[pt],gt=mt[0],vt=mt[1],yt=!1,_t=0,bt=gt+1;bt<vt;bt++){var xt=ke[bt];if(n[xt]&ot){yt=!0;var wt=n[xt]&at?x:b;if(wt===jt(xt)){_t=wt;break}}}if(yt&&!_t){_t=Ae;for(var St=gt-1;St>=0;St--){var Mt=ke[St];if(n[Mt]&ot){var Et=n[Mt]&at?x:b;_t=Et!==jt(Mt)?Et:jt(Mt);break}}}if(_t){if(n[ke[gt]]=n[ke[vt]]=_t,_t!==jt(ke[gt]))for(var Tt=gt+1;Tt<ke.length;Tt++)if(!(n[ke[Tt]]&c)){f(e[ke[Tt]])&I&&(n[ke[Tt]]=_t);break}if(_t!==jt(ke[vt]))for(var Ct=vt+1;Ct<ke.length;Ct++)if(!(n[ke[Ct]]&c)){f(e[ke[Ct]])&I&&(n[ke[Ct]]=_t);break}}}for(var Pt=0;Pt<ke.length;Pt++)if(n[ke[Pt]]&u){for(var kt=Pt,At=Pt,It=Ae,Rt=Pt-1;Rt>=0;Rt--){if(!(n[ke[Rt]]&c)){It=n[ke[Rt]]&at?x:b;break}kt=Rt}for(var Lt=Ie,Ot=Pt+1;Ot<ke.length;Ot++){if(!(n[ke[Ot]]&(u|c))){Lt=n[ke[Ot]]&at?x:b;break}At=Ot}for(var Nt=kt;Nt<=At;Nt++)n[ke[Nt]]=It===Lt?It:jt(ke[Nt]);Pt=At}}}for(var Dt=m.start;Dt<=m.end;Dt++){var zt=n[Dt];if(1&o[Dt]?zt&(b|w|E)&&o[Dt]++:zt&x?o[Dt]++:zt&(E|w)&&(o[Dt]+=2),zt&c&&(o[Dt]=0===Dt?m.level:o[Dt-1]),Dt===m.end||f(e[Dt])&(P|C))for(var Ut=Dt;Ut>=0&&f(e[Ut])&h;Ut--)o[Ut]=m.level}}return{levels:o,paragraphs:p};function Bt(t,r){for(var i=t;i<e.length;i++){var a=n[i];if(a&(x|R))return 1;if(a&(C|b)||r&&a===j)return 0;if(a&s){var o=Ft(i);i=-1===o?e.length:o}}return 0}function Ft(t){for(var r=1,i=t+1;i<e.length;i++){var a=n[i];if(a&C)break;if(a&j){if(0==--r)return i}else a&s&&r++}return-1}function jt(e){return 1&o[e]?x:b}},e.getMirroredCharacter=V,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var s=V(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=H,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var i=W(e,t,n,r),a=[].concat(e);return i.forEach(function(n,r){a[r]=(1&t.levels[n]?V(e[n]):null)||e[n]}),a.join("")},e.openingToClosingBracket=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}],init(e,t,n,r){const{defaultFontURL:i}=e;return n(t,r(),{defaultFontURL:i})}}),OT=/*#__PURE__*/eT({name:"Typesetter",dependencies:[LT,rT],init:(e,t)=>function(n){const r=new t;return e.typeset(n,r.resolve),r},getTransferables(e){const t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}}),NT=/*#__PURE__*/(()=>{const e={},t="aTroikaGlyphIndex";class n extends Nb{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:Infinity,materialIndex:0},{start:0,count:Infinity,materialIndex:1}],this.boundingSphere=new Pd,this.boundingBox=new cd}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(1===e?t/2:0,2===e?t:t/2)}set detail(t){if(t!==this._detail){this._detail=t,("number"!=typeof t||t<1)&&(t=1);let n=function(t){let n=e[t];if(!n){const r=new Bx(1,1,t,t),i=r.clone(),a=r.attributes,o=i.attributes,s=new zf,l=a.uv.count;for(let e=0;e<l;e++)o.position.array[3*e]*=-1,o.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach(e=>{s.setAttribute(e,new kf([...a[e].array,...o[e].array],a[e].itemSize))}),s.setIndex([...r.index.array,...i.index.array.map(e=>e+l)]),s.translate(.5,.5,0),n=e[t]=s}return n}(t);["position","normal","uv"].forEach(e=>{this.attributes[e]=n.attributes[e].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,a,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=a,this._chunkedBounds=o,i(this,n.length),this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:i,min:a,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,h=Math.abs(t),d=e[0]/h,f=e[2]/h,p=i((d+u)/c)!==i((f+u)/c)?-h:a(s(d)*h,s(f)*h),m=i((d-u)/c)!==i((f-u)/c)?h:o(s(d)*h,s(f)*h),g=i((d+r)/c)!==i((f+r)/c)?2*h:o(h-l(d)*h,h-l(f)*h);n.min.set(p,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(let t=r.length;t--;){n=r[t].end;let i=r[t].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}i(this,n)}}function r(e,t,n,r){const i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new Nv(n,r)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}function i(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n})(),DT=/*#__PURE__*/(()=>{const e=new Sf({color:16777215,side:2,transparent:!0}),t=8421504,n=new zd,r=new sd,i=new sd,a=[],o=new sd,s="+x+y";function l(e){return Array.isArray(e)?e[0]:e}let u=()=>{const t=new tp(new Bx(1,1),e);return u=()=>t,t},c=()=>{const t=new tp(new Bx(1,1,32,1),e);return c=()=>t,t};const h={type:"syncstart"},d={type:"synccomplete"},f=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],p=f.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class m extends tp{constructor(){super(new NT,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=Infinity,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=t,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=s,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(h),kT({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(d),e&&e()})))}onBeforeRender(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=0}onAfterRender(e,t,n,r,i,a){i._hadOwnSide?i.side=i._actualSide:delete i.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){const t=fT(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Rh},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new nd(0,0,0,0)},uTroikaClipRect:{value:new nd(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Rh},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Yh},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Lh},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(aT,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(n),n.addEventListener("dispose",function e(){n.removeEventListener("dispose",e),t.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let e=t._outlineMtl;return e||(e=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),e.isTextOutlineMaterial=!0,e.depthWrite=!1,e.map=null,t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),[e,t]}return t}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return l(this.material).getDepthMaterial()}get customDistanceMaterial(){return l(this.material).getDistanceMaterial()}_prepareForRender(e){const a=e.isTextOutlineMaterial,l=e.uniforms,u=this.textRenderInfo;if(u){const{sdfTexture:e,blockBounds:n}=u;l.uTroikaSDFTexture.value=e,l.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),l.uTroikaSDFGlyphSize.value=u.sdfGlyphSize,l.uTroikaSDFExponent.value=u.sdfExponent,l.uTroikaTotalBounds.value.fromArray(n),l.uTroikaUseGlyphColors.value=!a&&!!u.glyphColors;let r,i,o,s=0,c=0,h=0,d=0,f=0;if(a){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:i,outlineOpacity:a}=this;s=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(i)||0),r=a,d=this._parsePercent(t)||0,f=this._parsePercent(n)||0}else h=Math.max(0,this._parsePercent(this.strokeWidth)||0),h&&(o=this.strokeColor,l.uTroikaStrokeColor.value.set(null==o?t:o),i=this.strokeOpacity,null==i&&(i=1)),r=this.fillOpacity;l.uTroikaDistanceOffset.value=s,l.uTroikaPositionOffset.value.set(d,f),l.uTroikaBlurRadius.value=c,l.uTroikaStrokeWidth.value=h,l.uTroikaStrokeOpacity.value=i,l.uTroikaFillOpacity.value=null==r?1:r,l.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&4===p.length)l.uTroikaClipRect.value.fromArray(p);else{const e=100*(this.fontSize||.1);l.uTroikaClipRect.value.set(n[0]-e,n[1]-e,n[2]+e,n[3]+e)}this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const c=a?this.outlineColor||0:this.color;if(null==c)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new Yh;c===t._input&&"object"!=typeof c||t.set(t._input=c)}let h=this.orientation||s;if(h!==e._orientation){let t=l.uTroikaOrient.value;h=h.replace(/[^-+xyz]/g,"");let a=h!==s&&h.match(/^([-+])([xyz])([-+])([xyz])$/);if(a){let[,e,s,l,u]=a;r.set(0,0,0)[s]="-"===e?1:-1,i.set(0,0,0)[u]="-"===l?-1:1,n.lookAt(o,r.cross(i),i),t.setFromMatrix4(n)}else t.identity();e._orientation=h}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Rh){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new Rh){return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const i=n.blockBounds,o=r?c():u(),s=o.geometry,{position:l,uv:h}=s.attributes;for(let e=0;e<h.count;e++){let t=i[0]+h.getX(e)*(i[2]-i[0]);const n=i[1]+h.getY(e)*(i[3]-i[1]);let a=0;r&&(a=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),l.setXYZ(e,t,n,a)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,a.length=0,o.raycast(e,a);for(let e=0;e<a.length;e++)a[e].object=this,t.push(a[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,p.forEach(t=>{this[t]=e[t]}),this}clone(){return(new this.constructor).copy(this)}}f.forEach(e=>{const t="_private_"+e;Object.defineProperty(m.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});let g=!1;return Object.defineProperty(m.prototype,"anchor",{get(){return this._deprecated_anchor},set(e){this._deprecated_anchor=e,g||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),g=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}}),m})(),zT=/*#__PURE__*/e.forwardRef(({anchorX:t="center",anchorY:n="middle",font:r,children:i,characters:a,onSync:o,...s},l)=>{const u=Ow(({invalidate:e})=>e),[c]=e.useState(()=>new DT),[h,d]=e.useMemo(()=>{const t=[];let n="";return e.Children.forEach(i,e=>{"string"==typeof e||"number"==typeof e?n+=e:t.push(e)}),[t,n]},[i]);return((e,t,n)=>{!function(e,t,n=!1,r={}){for(const e of Qx)if(Jx(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return e.response;if(!n)throw e.promise}const i={keys:t,equal:r.equal,promise:e(...t).then(e=>i.response=e).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const e=Qx.indexOf(i);-1!==e&&Qx.splice(e,1)},r.lifespan)}).catch(e=>i.error=e)};if(Qx.push(i),!n)throw i.promise}(()=>new Promise(e=>function({font:e,characters:t,sdfGlyphSize:n},r){kT({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},r)}({font:r,characters:a},e)),t,!1,void 0)})(0,["troika-text",r,a]),e.useLayoutEffect(()=>{c.sync(()=>{u(),o&&o(c)})}),e.useEffect(()=>()=>c.dispose(),[c]),/*#__PURE__*/e.createElement("primitive",Gw({object:c,ref:l,font:r,text:d,anchorX:t,anchorY:n},s),h)}),UT=({compute:t,name:n,...r})=>{const[i]=e.useState(()=>new Tf(new Float32Array(0),1)),a=e.useRef(null);return e.useLayoutEffect(()=>{if(a.current){var e;const n=null!==(e=a.current.parent)&&void 0!==e?e:a.current.__r3f.parent,r=t(n);a.current.copy(r)}},[t]),/*#__PURE__*/e.createElement("primitive",Gw({ref:a,object:i,attach:`attributes-${n}`},r))};function BT(...e){return t=>e.forEach(e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t))}function FT(...t){return e.useCallback(BT(...t),t)}const jT=/*#__PURE__*/e.forwardRef((t,n)=>{const{children:r,...i}=t;return e.Children.toArray(r).some(WT)?/*#__PURE__*/e.createElement(e.Fragment,null,e.Children.map(r,t=>WT(t)?/*#__PURE__*/e.createElement(VT,Gw({},i,{ref:n}),t.props.children):t)):/*#__PURE__*/e.createElement(VT,Gw({},i,{ref:n}),r)});jT.displayName="Slot";const VT=/*#__PURE__*/e.forwardRef((t,n)=>{const{children:r,...i}=t;return e.isValidElement(r)?/*#__PURE__*/e.cloneElement(r,{...GT(i,r.props),ref:BT(n,r.ref)}):e.Children.count(r)>1?e.Children.only(null):null});VT.displayName="SlotClone";const HT=({children:t})=>/*#__PURE__*/e.createElement(e.Fragment,null,t);function WT(t){return e.isValidElement(t)&&t.type===HT}function GT(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==a||a(...e),null==i||i(...e)}:"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const $T=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,n)=>({...t,[n]:/*#__PURE__*/e.forwardRef((t,r)=>{const{asChild:i,...a}=t,o=i?jT:n;return e.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),/*#__PURE__*/e.createElement(o,Gw({},a,{ref:r}))})}),{}),qT=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?e.useLayoutEffect:()=>{},XT=/*#__PURE__*/e.forwardRef((t,n)=>{var r,i;const{containerRef:a,style:o,...s}=t,l=null!==(r=null==a?void 0:a.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,[,u]=e.useState({});return qT(()=>{u({})},[]),l?/*#__PURE__*/T.createPortal(/*#__PURE__*/e.createElement($T.div,Gw({"data-radix-portal":""},s,{ref:n,style:l===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...o}:void 0})),l):null}),YT=XT;var ZT=Object.prototype.hasOwnProperty;function KT(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&KT(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(ZT.call(e,n)&&++r&&!ZT.call(t,n))return!1;if(!(n in t)||!KT(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}var JT=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};function QT(e,t){return void 0===t&&(t="simple"),"object"==typeof e?e[t]:e}function eC(e,t,n){if(e.length){var r=e.shift(),i=eC(e,t,n);return r.perform(i,n)}return QT(t)}function tC(e,t,n){if(e.length){var r=e.shift(),i=tC(e,t,n);return r.performAsync(i,n)}return function(e){return Promise.resolve(QT(t,"async")(e))}}JT.prototype._test=function(e){var t=this.fn;try{eC(this.modifiers.slice(),t,this)(e)}catch(e){t=function(){return!1}}try{return eC(this.modifiers.slice(),t,this)(e)}catch(e){return!1}},JT.prototype._check=function(e){try{eC(this.modifiers.slice(),this.fn,this)(e)}catch(e){if(eC(this.modifiers.slice(),function(e){return e},this)(!1))return}if(!eC(this.modifiers.slice(),this.fn,this)(e))throw null},JT.prototype._testAsync=function(e){var t=this;return new Promise(function(n,r){tC(t.modifiers.slice(),t.fn,t)(e).then(function(t){t?n(e):r(null)}).catch(function(e){return r(e)})})};var nC=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},rC=/*@__PURE__*/function(e){function t(n,r,i,a){for(var o=[],s=arguments.length-4;s-- >0;)o[s]=arguments[s+4];e.call(this,o),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=i,this.target=a}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t}(Error),iC=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};function aC(e,t,n,r){if(t.length){var i=t.shift();i._testAsync(e).then(function(){aC(e,t,n,r)},function(t){r(new rC(i,e,t))})}else n(e)}iC.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.chain.push(new JT(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},iC.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new nC(t,e.simple,e.async)),this},iC.prototype._clone=function(){return new iC(this.chain.slice(),this.nextRuleModifiers.slice())},iC.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})},iC.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(n){try{n._check(e)}catch(r){t.push(new rC(n,e,r))}}),t},iC.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new rC(t,e,n)}})},iC.prototype.testAsync=function(e){var t=this;return new Promise(function(n,r){aC(e,t.chain.slice(),n,r)})};var oC=function(e,t){return!(!t||"string"!=typeof e||0!==e.trim().length)||null==e};function sC(){return"undefined"!=typeof Proxy?uC(new iC):cC(new iC)}var lC={};function uC(e){return new Proxy(e,{get:function(t,n){if(n in t)return t[n];var r=uC(e._clone());return n in hC?r._applyModifier(hC[n],n):n in lC?r._applyRule(lC[n],n):n in pC?r._applyRule(pC[n],n):void 0}})}function cC(e){var t=function(e,t){return Object.keys(e).forEach(function(n){t[n]=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var a=cC(t._clone()),o=a._applyRule(e[n],n).apply(void 0,r);return o}}),t},n=t(pC,e),r=t(lC,n);return Object.keys(hC).forEach(function(e){Object.defineProperty(r,e,{get:function(){return cC(r._clone())._applyModifier(hC[e],e)}})}),r}sC.extend=function(e){Object.assign(lC,e)},sC.clearCustomRules=function(){lC={}};var hC={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then(function(e){return!e}).catch(function(){return!0})}}},some:{simple:function(e){return function(t){return fC(t).some(function(t){try{return e(t)}catch(e){return!1}})}},async:function(e){return function(t){return Promise.all(fC(t).map(function(t){try{return e(t).catch(function(){return!1})}catch(e){return!1}})).then(function(e){return e.some(Boolean)})}}},every:{simple:function(e){return function(t){return!1!==t&&fC(t).every(e)}},async:function(e){return function(t){return Promise.all(fC(t).map(e)).then(function(e){return e.every(Boolean)})}}},strict:{simple:function(e,t){return function(n){return dC(t)&&n&&"object"==typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e(n):e(n)}},async:function(e,t){return function(n){return Promise.resolve(e(n)).then(function(e){return dC(t)&&n&&"object"==typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e:e}).catch(function(){return!1})}}}};function dC(e){return e&&"schema"===e.name&&e.args.length>0&&"object"==typeof e.args[0]}function fC(e){return"string"==typeof e?e.split(""):e}var pC={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"==typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||gC)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return mC("string")},boolean:function(){return mC("boolean")},undefined:function(){return mC("undefined")},null:function(){return mC("null")},array:function(){return mC("array")},object:function(){return mC("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return"boolean"==typeof e||e===e.toLowerCase()&&""!==e.trim()}},uppercase:function(){return function(e){return e===e.toUpperCase()&&""!==e.trim()}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach(function(r){var i=e[r];try{i.check((t||{})[r])}catch(e){e.target=r,n.push(e)}}),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map(function(r){return e[r].testAsync((t||{})[r]).catch(function(e){e.target=r,n.push(e)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}(e)},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some(function(e){return e.test(t)})}},optional:function(e,t){return void 0===t&&(t=!1),{simple:function(n){return oC(n,t)||void 0===e.check(n)},async:function(n){return oC(n,t)||e.testAsync(n)}}}};function mC(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||typeof t===e}}function gC(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var vC="colors",yC="sizes",_C="space",bC={gap:_C,gridGap:_C,columnGap:_C,gridColumnGap:_C,rowGap:_C,gridRowGap:_C,inset:_C,insetBlock:_C,insetBlockEnd:_C,insetBlockStart:_C,insetInline:_C,insetInlineEnd:_C,insetInlineStart:_C,margin:_C,marginTop:_C,marginRight:_C,marginBottom:_C,marginLeft:_C,marginBlock:_C,marginBlockEnd:_C,marginBlockStart:_C,marginInline:_C,marginInlineEnd:_C,marginInlineStart:_C,padding:_C,paddingTop:_C,paddingRight:_C,paddingBottom:_C,paddingLeft:_C,paddingBlock:_C,paddingBlockEnd:_C,paddingBlockStart:_C,paddingInline:_C,paddingInlineEnd:_C,paddingInlineStart:_C,top:_C,right:_C,bottom:_C,left:_C,scrollMargin:_C,scrollMarginTop:_C,scrollMarginRight:_C,scrollMarginBottom:_C,scrollMarginLeft:_C,scrollMarginX:_C,scrollMarginY:_C,scrollMarginBlock:_C,scrollMarginBlockEnd:_C,scrollMarginBlockStart:_C,scrollMarginInline:_C,scrollMarginInlineEnd:_C,scrollMarginInlineStart:_C,scrollPadding:_C,scrollPaddingTop:_C,scrollPaddingRight:_C,scrollPaddingBottom:_C,scrollPaddingLeft:_C,scrollPaddingX:_C,scrollPaddingY:_C,scrollPaddingBlock:_C,scrollPaddingBlockEnd:_C,scrollPaddingBlockStart:_C,scrollPaddingInline:_C,scrollPaddingInlineEnd:_C,scrollPaddingInlineStart:_C,fontSize:"fontSizes",background:vC,backgroundColor:vC,backgroundImage:vC,borderImage:vC,border:vC,borderBlock:vC,borderBlockEnd:vC,borderBlockStart:vC,borderBottom:vC,borderBottomColor:vC,borderColor:vC,borderInline:vC,borderInlineEnd:vC,borderInlineStart:vC,borderLeft:vC,borderLeftColor:vC,borderRight:vC,borderRightColor:vC,borderTop:vC,borderTopColor:vC,caretColor:vC,color:vC,columnRuleColor:vC,fill:vC,outline:vC,outlineColor:vC,stroke:vC,textDecorationColor:vC,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:yC,minBlockSize:yC,maxBlockSize:yC,inlineSize:yC,minInlineSize:yC,maxInlineSize:yC,width:yC,minWidth:yC,maxWidth:yC,height:yC,minHeight:yC,maxHeight:yC,flexBasis:yC,gridTemplateColumns:yC,gridTemplateRows:yC,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},xC=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,wC=()=>{const e=Object.create(null);return(t,n,...r)=>{const i=(e=>JSON.stringify(e,xC))(t);return i in e?e[i]:e[i]=n(t,...r)}},SC=Symbol.for("sxs.internal"),MC=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),EC=e=>{for(const t in e)return!0;return!1},{hasOwnProperty:TC}=Object.prototype,CC=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),PC=/\s+(?![^()]*\))/,kC=e=>t=>e(..."string"==typeof t?String(t).split(PC):[t]),AC={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:kC((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:kC((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:kC((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:kC((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:kC((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:kC((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},IC=/([\d.]+)([^]*)/,RC=(e,t)=>e.length?e.reduce((e,n)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e)),e),[]):t,LC=(e,t)=>e in OC&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,r,i)=>n+("stretch"===r?`-moz-available${i};${CC(e)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${CC(e)}:${n}fit-content`)+i):String(t),OC={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},NC=e=>e?e+"-":"",DC=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,r,i,a,o)=>"$"==a==!!i?e:(r||"--"==a?"calc(":"")+"var(--"+("$"===a?NC(t)+(o.includes("$")?"":NC(n))+o.replace(/\$/g,"-"):o)+")"+(r||"--"==a?"*"+(r||"")+(i||"1")+")":"")),zC=/\s*,\s*(?![^()]*\))/,UC=Object.prototype.toString,BC=(e,t,n,r,i)=>{let a,o,s;const l=(e,t,n)=>{let u,c;const h=e=>{for(u in e){const p=64===u.charCodeAt(0),m=p&&Array.isArray(e[u])?e[u]:[e[u]];for(c of m){const e=/[A-Z]/.test(f=u)?f:f.replace(/-[^]/g,e=>e[1].toUpperCase()),m="object"==typeof c&&c&&c.toString===UC&&(!r.utils[e]||!t.length);if(e in r.utils&&!m){const t=r.utils[e];if(t!==o){o=t,h(t(c)),o=null;continue}}else if(e in AC){const t=AC[e];if(t!==s){s=t,h(t(c)),s=null;continue}}if(p&&(d=u.slice(1)in r.media?"@media "+r.media[u.slice(1)]:u,u=d.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,n,r,i,a)=>{const o=IC.test(t),s=.0625*(o?-1:1),[l,u]=o?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===o?"max-":"min-")+l+":"+("="!==n[0]&&1===n.length?u.replace(IC,(e,t,r)=>Number(t)+s*(">"===n?1:-1)+r):u)+(i?") and ("+(">"===i[0]?"min-":"max-")+l+":"+(1===i.length?a.replace(IC,(e,t,n)=>Number(t)+s*(">"===i?-1:1)+n):a):"")+")"})),m){const e=p?n.concat(u):[...n],r=p?[...t]:RC(t,u.split(zC));void 0!==a&&i(FC(...a)),a=void 0,l(c,r,e)}else void 0===a&&(a=[[],t,n]),u=p||36!==u.charCodeAt(0)?u:`--${NC(r.prefix)}${u.slice(1).replace(/\$/g,"-")}`,c=m?c:"number"==typeof c?c&&e in jC?String(c)+"px":String(c):DC(LC(e,null==c?"":c),r.prefix,r.themeMap[e]),a[0].push(`${p?`${u} `:`${CC(u)}:`}${c}`)}}var d,f};h(e),void 0!==a&&i(FC(...a)),a=void 0};l(e,t,n)},FC=(e,t,n)=>`${n.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,jC={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},VC=e=>String.fromCharCode(e+(e>25?39:97)),HC=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=VC(t%52)+n;return VC(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),WC=["themed","global","styled","onevar","resonevar","allvar","inline"],GC=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(e){return!1}},$C=e=>{let t;const n=()=>{const{cssRules:e}=t.sheet;return[].map.call(e,(n,r)=>{const{cssText:i}=n;let a="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(a=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(const e in t.rules)if(t.rules[e].group===n)return`--sxs{--sxs:${[...t.rules[e].cache].join(" ")}}${i}`;return n.cssRules.length?`${a}${i}`:""}return i}).join("")},r=()=>{if(t){const{rules:e,sheet:n}=t;if(!n.deleteRule){for(;3===Object(Object(n.cssRules)[0]).type;)n.cssRules.splice(0,1);n.cssRules=[]}for(const t in e)delete e[t]}const i=Object(e).styleSheets||[];for(const e of i)if(GC(e)){for(let i=0,a=e.cssRules;a[i];++i){const o=Object(a[i]);if(1!==o.type)continue;const s=Object(a[i+1]);if(4!==s.type)continue;++i;const{cssText:l}=o;if(!l.startsWith("--sxs"))continue;const u=l.slice(14,-3).trim().split(/\s+/),c=WC[u[0]];c&&(t||(t={sheet:e,reset:r,rules:{},toString:n}),t.rules[c]={group:s,index:i,cache:new Set(u)})}if(t)break}if(!t){const i=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,i(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:i("","text/css"),rules:{},reset:r,toString:n}}const{sheet:a,rules:o}=t;for(let e=WC.length-1;e>=0;--e){const t=WC[e];if(!o[t]){const n=WC[e+1],r=o[n]?o[n].index:a.cssRules.length;a.insertRule("@media{}",r),a.insertRule(`--sxs{--sxs:${e}}`,r),o[t]={group:a.cssRules[r+1],index:r,cache:new Set([e])}}qC(o[t])}};return r(),t},qC=e=>{const t=e.group;let n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(e){}}},XC=Symbol(),YC=wC(),ZC=(e,t)=>YC(e,()=>(...n)=>{let r={type:null,composers:new Set};for(const t of n)if(null!=t)if(t[SC]){null==r.type&&(r.type=t[SC].type);for(const e of t[SC].composers)r.composers.add(e)}else t.constructor!==Object||t.$$typeof?null==r.type&&(r.type=t):r.composers.add(KC(t,e));return null==r.type&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),JC(e,r,t)}),KC=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{const a=`${NC(i.prefix)}c-${HC(r)}`,o=[],s=[],l=Object.create(null),u=[];for(const e in n)l[e]=String(n[e]);if("object"==typeof e&&e)for(const t in e){c=t,TC.call(l,c)||(l[t]="undefined");const n=e[t];for(const e in n){const r={[t]:String(e)};"undefined"===String(e)&&u.push(t);const i=n[e],a=[r,i,!EC(i)];o.push(a)}}var c;if("object"==typeof t&&t)for(const e of t){let{css:t,...n}=e;t="object"==typeof t&&t||{};for(const e in n)n[e]=String(n[e]);const r=[n,t,!EC(t)];s.push(r)}return[a,r,o,s,l,u]},JC=(e,t,n)=>{const[r,i,a,o]=QC(t.composers),s="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[XC].length;n++){const[r,i]=t[XC][n];e.rules[r].apply(i)}return t[XC]=[],null}return t[XC]=[],t.rules={},WC.forEach(e=>t.rules[e]={apply:n=>t[XC].push([e,n])}),t})(n):null,l=(s||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=c=>{c="object"==typeof c&&c||tP;const{css:h,...d}=c,f={};for(const e in a)if(delete d[e],e in c){let t=c[e];"object"==typeof t&&t?f[e]={"@initial":a[e],...t}:(t=String(t),f[e]="undefined"!==t||o.has(e)?t:a[e])}else f[e]=a[e];const p=new Set([...i]);for(const[r,i,a,o]of t.composers){n.rules.styled.cache.has(r)||(n.rules.styled.cache.add(r),BC(i,[`.${r}`],[],e,e=>{l.styled.apply(e)}));const t=eP(a,f,e.media),s=eP(o,f,e.media,!0);for(const i of t)if(void 0!==i)for(const[t,a,o]of i){const i=`${r}-${HC(a)}-${t}`;p.add(i);const s=(o?n.rules.resonevar:n.rules.onevar).cache,u=o?l.resonevar:l.onevar;s.has(i)||(s.add(i),BC(a,[`.${i}`],[],e,e=>{u.apply(e)}))}for(const t of s)if(void 0!==t)for(const[i,a]of t){const t=`${r}-${HC(a)}-${i}`;p.add(t),n.rules.allvar.cache.has(t)||(n.rules.allvar.cache.add(t),BC(a,[`.${t}`],[],e,e=>{l.allvar.apply(e)}))}}if("object"==typeof h&&h){const t=`${r}-i${HC(h)}-css`;p.add(t),n.rules.inline.cache.has(t)||(n.rules.inline.cache.add(t),BC(h,[`.${t}`],[],e,e=>{l.inline.apply(e)}))}for(const e of String(c.className||"").trim().split(/\s+/))e&&p.add(e);const m=d.className=[...p].join(" ");return{type:t.type,className:m,selector:u,props:d,toString:()=>m,deferredInjector:s}};return MC(c,{className:r,selector:u,[SC]:t,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},QC=e=>{let t="";const n=[],r={},i=[];for(const[a,,,,o,s]of e){""===t&&(t=a),n.push(a),i.push(...s);for(const e in o){const t=o[e];(void 0===r[e]||"undefined"!==t||s.includes(t))&&(r[e]=t)}}return[t,n,r,new Set(i)]},eP=(e,t,n,r)=>{const i=[];e:for(let[a,o,s]of e){if(s)continue;let e,l=0,u=!1;for(e in a){const r=a[e];let i=t[e];if(i!==r){if("object"!=typeof i||!i)continue e;{let e,t,a=0;for(const o in i){if(r===String(i[o])){if("@initial"!==o){const e=o.slice(1);(t=t||[]).push(e in n?n[e]:o.replace(/^@media ?/,"")),u=!0}l+=a,e=!0}++a}if(t&&t.length&&(o={["@media "+t.join(", ")]:o}),!e)continue e}}}(i[l]=i[l]||[]).push([r?"cv":`${e}-${a[e]}`,o,u])}return i},tP={},nP=wC(),rP=(e,t)=>nP(e,()=>(...n)=>{const r=()=>{for(let r of n){r="object"==typeof r&&r||{};let n=HC(r);if(!t.rules.global.cache.has(n)){if(t.rules.global.cache.add(n),"@import"in r){let e=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let n of[].concat(r["@import"]))n=n.includes('"')||n.includes("'")?n:`"${n}"`,t.sheet.insertRule(`@import ${n};`,e++);delete r["@import"]}BC(r,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return MC(r,{toString:r})}),iP=wC(),aP=(e,t)=>iP(e,()=>n=>{const r=`${NC(e.prefix)}k-${HC(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);const i=[];BC(n,[],[],e,e=>i.push(e));const a=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(a)}return r};return MC(i,{get name(){return i()},toString:i})}),oP=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+NC(this.prefix)+NC(this.scale)+this.token}toString(){return this.computedValue}},sP=wC(),lP=(e,t)=>sP(e,()=>(n,r)=>{r="object"==typeof n&&n||Object(r);const i=`.${n=(n="string"==typeof n?n:"")||`${NC(e.prefix)}t-${HC(r)}`}`,a={},o=[];for(const t in r){a[t]={};for(const n in r[t]){const i=`--${NC(e.prefix)}${t}-${n}`,s=DC(String(r[t][n]),e.prefix,t);a[t][n]=new oP(n,s,t,e.prefix),o.push(`${i}:${s}`)}}const s=()=>{if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);const i=`${r===e.theme?":root,":""}.${n}{${o.join(";")}}`;t.rules.themed.apply(i)}return n};return{...a,get className(){return s()},selector:i,toString:s}}),uP=wC(),cP=wC();const hP=e["useId".toString()]||(()=>{});let dP=0;const fP=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,n)=>({...t,[n]:/*#__PURE__*/e.forwardRef((t,r)=>{const{asChild:i,...a}=t,o=i?jT:n;return e.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.as&&console.error(pP),/*#__PURE__*/e.createElement(o,Gw({},a,{ref:r}))})}),{}),pP="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",mP=/*#__PURE__*/e.forwardRef((t,n)=>/*#__PURE__*/e.createElement(fP.span,Gw({},t,{ref:n,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),gP=mP,vP=/*#__PURE__*/e.forwardRef((t,n)=>{var r,i;const{containerRef:a,style:o,...s}=t,l=null!==(r=null==a?void 0:a.current)&&void 0!==r?r:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,[,u]=e.useState({});return qT(()=>{u({})},[]),l?/*#__PURE__*/T.createPortal(/*#__PURE__*/e.createElement(fP.div,Gw({"data-radix-portal":""},s,{ref:n,style:l===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...o}:void 0})),l):null}),yP=/*#__PURE__*/e.forwardRef((t,n)=>{const{children:r,width:i=10,height:a=5,...o}=t;return e.createElement(fP.svg,Gw({},o,{ref:n,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?r:/*#__PURE__*/e.createElement("polygon",{points:"0,0 30,0 15,10"}))}),_P=yP;function bP(t){const[n,r]=e.useState(void 0);return e.useEffect(()=>{if(t){const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const n=e[0];let i,a;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else{const e=t.getBoundingClientRect();i=e.width,a=e.height}r({width:i,height:a})});return e.observe(t,{box:"border-box"}),()=>{r(void 0),e.unobserve(t)}}},[t]),n}let xP;const wP=new Map;function SP(){const e=[];wP.forEach((t,n)=>{const r=n.getBoundingClientRect();var i,a;((i=t.rect).width!==(a=r).width||i.height!==a.height||i.top!==a.top||i.right!==a.right||i.bottom!==a.bottom||i.left!==a.left)&&(t.rect=r,e.push(t))}),e.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),xP=requestAnimationFrame(SP)}function MP(t){const[n,r]=e.useState();return e.useEffect(()=>{if(t){const e=function(e,t){const n=wP.get(e);return void 0===n?(wP.set(e,{rect:{},callbacks:[t]}),1===wP.size&&(xP=requestAnimationFrame(SP))):(n.callbacks.push(t),t(e.getBoundingClientRect())),()=>{const n=wP.get(e);if(void 0===n)return;const r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(wP.delete(e),0===wP.size&&cancelAnimationFrame(xP))}}(t,r);return()=>{r(void 0),e()}}},[t]),n}function EP(t,n=[]){let r=[];const i=()=>{const n=r.map(t=>/*#__PURE__*/e.createContext(t));return function(r){const i=(null==r?void 0:r[t])||n;return e.useMemo(()=>({[`__scope${t}`]:{...r,[t]:i}}),[r,i])}};return i.scopeName=t,[function(n,i){const a=/*#__PURE__*/e.createContext(i),o=r.length;function s(n){const{scope:r,children:i,...s}=n,l=(null==r?void 0:r[t][o])||a,u=e.useMemo(()=>s,Object.values(s));return e.createElement(l.Provider,{value:u},i)}return r=[...r,i],s.displayName=n+"Provider",[s,function(r,s){const l=e.useContext((null==s?void 0:s[t][o])||a);if(l)return l;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},TP(i,...n)]}function TP(...t){const n=t[0];if(1===t.length)return n;const r=()=>{const r=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){const i=r.reduce((e,{useScope:n,scopeName:r})=>({...e,...n(t)[`__scope${r}`]}),{});return e.useMemo(()=>({[`__scope${n.scopeName}`]:i}),[i])}};return r.scopeName=n.scopeName,r}function CP(e,t,n){const r=e["x"===n?"left":"top"],i="x"===n?"width":"height",a=e[i],o=t[i];return{before:r-o,start:r,center:r+(a-o)/2,end:r+a-o,after:r+a}}function PP(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(e.x+window.scrollX)}px, ${Math.round(e.y+window.scrollY)}px, 0)`}}function kP(e,t,n,r,i){const a=i?i.height:0,o=(i?i.width:0)/2+r;let s="",l="";return"top"===t||"bottom"===t?(s={start:`${o}px`,center:"center",end:e.width-o+"px"}[n],l="top"===t?`${e.height+a}px`:-a+"px"):(s="left"===t?`${e.width+a}px`:-a+"px",l={start:`${o}px`,center:"center",end:e.height-o+"px"}[n]),`${s} ${l}`}const AP={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},IP={position:"absolute",opacity:0};function RP({popperSize:e,arrowSize:t,arrowOffset:n,side:r,align:i}){const a=(e.width-t.width)/2,o=(e.height-t.width)/2,s={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(t.width,t.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${s}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:LP(r,i)};return"top"!==r&&"bottom"!==r||("start"===i&&(u.left=`${n}px`),"center"===i&&(u.left=`${a}px`),"end"===i&&(u.right=`${n}px`)),"left"!==r&&"right"!==r||("start"===i&&(u.top=`${n}px`),"center"===i&&(u.top=`${o}px`),"end"===i&&(u.bottom=`${n}px`)),u}function LP(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}function OP(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function NP(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}const[DP,zP]=EP("Popper"),[UP,BP]=DP("Popper"),FP=/*#__PURE__*/e.forwardRef((t,n)=>{const{__scopePopper:r,virtualRef:i,...a}=t,o=BP("PopperAnchor",r),s=e.useRef(null),l=FT(n,s);return e.useEffect(()=>{o.onAnchorChange((null==i?void 0:i.current)||s.current)}),i?null:/*#__PURE__*/e.createElement(fP.div,Gw({},a,{ref:l}))}),[jP,VP]=DP("PopperContent"),HP=/*#__PURE__*/e.forwardRef((t,n)=>{const{__scopePopper:r,side:i="bottom",sideOffset:a,align:o="center",alignOffset:s,collisionTolerance:l,avoidCollisions:u=!0,...c}=t,h=BP("PopperContent",r),[d,f]=e.useState(),p=MP(h.anchor),[m,g]=e.useState(null),v=bP(m),[y,_]=e.useState(null),b=bP(y),x=FT(n,e=>g(e)),w=function(){const[t,n]=e.useState(void 0);return e.useEffect(()=>{let e;function t(){n({width:window.innerWidth,height:window.innerHeight})}function r(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}(),S=w?DOMRect.fromRect({...w,x:0,y:0}):void 0,{popperStyles:M,arrowStyles:E,placedSide:T,placedAlign:C}=function({anchorRect:e,popperSize:t,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:a=0,align:o,alignOffset:s=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!e||!t||!u)return{popperStyles:AP,arrowStyles:IP};const h=function(e,t,n=0,r=0,i){const a=i?i.height:0,o=CP(t,e,"x"),s=CP(t,e,"y"),l=s.before-n-a,u=s.after+n+a,c=o.before-n-a,h=o.after+n+a;return{top:{start:{x:o.start+r,y:l},center:{x:o.center,y:l},end:{x:o.end-r,y:l}},right:{start:{x:h,y:s.start+r},center:{x:h,y:s.center},end:{x:h,y:s.end-r}},bottom:{start:{x:o.start+r,y:u},center:{x:o.center,y:u},end:{x:o.end-r,y:u}},left:{start:{x:c,y:s.start+r},center:{x:c,y:s.center},end:{x:c,y:s.end-r}}}}(t,e,a,s,n),d=h[i][o];if(!1===l){const e=PP(d);let a=IP;return n&&(a=RP({popperSize:t,arrowSize:n,arrowOffset:r,side:i,align:o})),{popperStyles:{...e,"--radix-popper-transform-origin":kP(t,i,o,r,n)},arrowStyles:a,placedSide:i,placedAlign:o}}const f=DOMRect.fromRect({...t,...d}),p=(m=u,g=c,DOMRect.fromRect({width:m.width-2*g,height:m.height-2*g,x:m.left+g,y:m.top+g}));var m,g;const v=NP(f,p),y=h[OP(i)][o],_=function(e,t,n){const r=OP(e);return t[e]&&!n[r]?r:e}(i,v,NP(DOMRect.fromRect({...t,...y}),p)),b=function(e,t,n,r,i){const a="top"===n||"bottom"===n,o=a?"left":"top",s=a?"right":"bottom",l=a?"width":"height",u=t[l]>e[l];return"start"!==r&&"center"!==r||!(i[o]&&u||i[s]&&!u)?"end"!==r&&"center"!==r||!(i[s]&&u||i[o]&&!u)?r:"start":"end"}(t,e,i,o,v),x=PP(h[_][b]);let w=IP;return n&&(w=RP({popperSize:t,arrowSize:n,arrowOffset:r,side:_,align:b})),{popperStyles:{...x,"--radix-popper-transform-origin":kP(t,_,b,r,n)},arrowStyles:w,placedSide:_,placedAlign:b}}({anchorRect:p,popperSize:v,arrowSize:b,arrowOffset:d,side:i,sideOffset:a,align:o,alignOffset:s,shouldAvoidCollisions:u,collisionBoundariesRect:S,collisionTolerance:l});return e.createElement("div",{style:M,"data-radix-popper-content-wrapper":""},/*#__PURE__*/e.createElement(jP,{scope:r,arrowStyles:E,onArrowChange:_,onArrowOffsetChange:f},/*#__PURE__*/e.createElement(fP.div,Gw({"data-side":T,"data-align":C},c,{style:{...c.style,animation:void 0!==T?void 0:"none"},ref:x}))))}),WP=/*#__PURE__*/e.forwardRef(function(t,n){const{__scopePopper:r,offset:i,...a}=t,o=VP("PopperArrow",r),{onArrowOffsetChange:s}=o;return e.useEffect(()=>s(i),[s,i]),/*#__PURE__*/e.createElement("span",{style:{...o.arrowStyles,pointerEvents:"none"}},/*#__PURE__*/e.createElement("span",{ref:o.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},/*#__PURE__*/e.createElement(_P,Gw({},a,{ref:n,style:{...a.style,display:"block"}}))))}),GP=t=>{const{__scopePopper:n,children:r}=t,[i,a]=e.useState(null);return e.createElement(UP,{scope:n,anchor:i,onAnchorChange:a},r)},$P=FP,qP=HP,XP=WP,YP=t=>{const{present:n,children:r}=t,i=function(t){const[n,r]=e.useState(),i=e.useRef({}),a=e.useRef(t),o=e.useRef("none"),s=t?"mounted":"unmounted",[l,u]=function(t,n){return e.useReducer((e,t)=>{const r=n[e][t];return null!=r?r:e},t)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return e.useEffect(()=>{const e=ZP(i.current);o.current="mounted"===l?e:"none"},[l]),qT(()=>{const e=i.current,n=a.current;if(n!==t){const r=o.current,i=ZP(e);if(t)u("MOUNT");else if("none"===i||"none"===(null==e?void 0:e.display))u("UNMOUNT");else{const e=r!==i;u(n&&e?"ANIMATION_OUT":"UNMOUNT")}a.current=t}},[t,u]),qT(()=>{if(n){const e=e=>{const t=ZP(i.current).includes(e.animationName);e.target===n&&t&&u("ANIMATION_END")},t=e=>{e.target===n&&(o.current=ZP(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:e.useCallback(e=>{e&&(i.current=getComputedStyle(e)),r(e)},[])}}(n),a="function"==typeof r?r({present:i.isPresent}):e.Children.only(r),o=FT(i.ref,a.ref);return"function"==typeof r||i.isPresent?/*#__PURE__*/e.cloneElement(a,{ref:o}):null};function ZP(e){return(null==e?void 0:e.animationName)||"none"}function KP(t){const n=e.useRef(t);return e.useEffect(()=>{n.current=t},[t]),n.current}function JP(t){const n=e.useRef(t);return e.useEffect(()=>{n.current=t}),e.useMemo(()=>(...e)=>{var t;return null===(t=n.current)||void 0===t?void 0:t.call(n,...e)},[])}function QP(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}YP.displayName="Presence";const[ek,tk]=EP("Tooltip",[zP]),nk=zP(),[rk,ik]=ek("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen:()=>{},onClose:()=>{}}),[ak,ok]=ek("Tooltip"),sk=/*#__PURE__*/e.forwardRef((t,n)=>{const{__scopeTooltip:r,...i}=t,a=ok("TooltipTrigger",r),o=nk(r),s=FT(n,a.onTriggerChange),l=e.useRef(!1),u=e.useCallback(()=>l.current=!1,[]);return e.useEffect(()=>()=>document.removeEventListener("mouseup",u),[u]),/*#__PURE__*/e.createElement($P,Gw({asChild:!0},o),/*#__PURE__*/e.createElement(fP.button,Gw({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},i,{ref:s,onMouseEnter:QP(t.onMouseEnter,a.onTriggerEnter),onMouseLeave:QP(t.onMouseLeave,a.onClose),onMouseDown:QP(t.onMouseDown,()=>{a.onClose(),l.current=!0,document.addEventListener("mouseup",u,{once:!0})}),onFocus:QP(t.onFocus,()=>{l.current||a.onOpen()}),onBlur:QP(t.onBlur,a.onClose),onClick:QP(t.onClick,a.onClose)})))}),lk=/*#__PURE__*/e.forwardRef((t,n)=>{const{forceMount:r,...i}=t,a=ok("TooltipContent",t.__scopeTooltip);return e.createElement(YP,{present:r||a.open},/*#__PURE__*/e.createElement(uk,Gw({ref:n},i)))}),uk=/*#__PURE__*/e.forwardRef((t,n)=>{const{__scopeTooltip:r,children:i,"aria-label":a,portalled:o=!0,...s}=t,l=ok("TooltipContent",r),u=nk(r),c=o?vP:e.Fragment,{onClose:h}=l;return function(t){const n=JP(()=>h());e.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n])}(),e.useEffect(()=>(document.addEventListener("tooltip.open",h),()=>document.removeEventListener("tooltip.open",h)),[h]),/*#__PURE__*/e.createElement(c,null,/*#__PURE__*/e.createElement(hk,{__scopeTooltip:r}),/*#__PURE__*/e.createElement(qP,Gw({"data-state":l.stateAttribute},u,s,{ref:n,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),/*#__PURE__*/e.createElement(HT,null,i),/*#__PURE__*/e.createElement(gP,{id:l.contentId,role:"tooltip"},a||i)))}),ck=/*#__PURE__*/e.forwardRef((t,n)=>{const{__scopeTooltip:r,...i}=t,a=nk(r);return e.createElement(XP,Gw({},a,i,{ref:n}))});function hk(t){const{__scopeTooltip:n}=t,r=ok("CheckTriggerMoved",n),i=MP(r.trigger),a=null==i?void 0:i.left,o=KP(a),s=null==i?void 0:i.top,l=KP(s),u=r.onClose;return e.useEffect(()=>{(void 0!==o&&o!==a||void 0!==l&&l!==s)&&u()},[u,o,l,a,s]),null}const dk=t=>{const{__scopeTooltip:n,children:r,open:i,defaultOpen:a=!1,onOpenChange:o,delayDuration:s}=t,l=ik("Tooltip",n),u=nk(n),[c,h]=e.useState(null),d=function(t){const[n,r]=e.useState(hP());return qT(()=>{r(e=>null!=e?e:String(dP++))},[void 0]),n?`radix-${n}`:""}(),f=e.useRef(0),p=null!=s?s:l.delayDuration,m=e.useRef(!1),{onOpen:g,onClose:v}=l,[y=!1,_]=function({prop:t,defaultProp:n,onChange:r=(()=>{})}){const[i,a]=function({defaultProp:t,onChange:n}){const r=e.useState(t),[i]=r,a=e.useRef(i),o=JP(n);return e.useEffect(()=>{a.current!==i&&(o(i),a.current=i)},[i,a,o]),r}({defaultProp:n,onChange:r}),o=void 0!==t,s=o?t:i,l=JP(r);return[s,e.useCallback(e=>{if(o){const n=e,r="function"==typeof e?n(t):e;r!==t&&l(r)}else a(e)},[o,t,a,l])]}({prop:i,defaultProp:a,onChange:e=>{e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),g()),null==o||o(e)}}),b=e.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),x=e.useCallback(()=>{window.clearTimeout(f.current),m.current=!1,_(!0)},[_]),w=e.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current=!0,_(!0)},p)},[p,_]);return e.useEffect(()=>()=>window.clearTimeout(f.current),[]),/*#__PURE__*/e.createElement(GP,u,/*#__PURE__*/e.createElement(ak,{scope:n,contentId:d,open:y,stateAttribute:b,trigger:c,onTriggerChange:h,onTriggerEnter:e.useCallback(()=>{l.isOpenDelayed?w():x()},[l.isOpenDelayed,w,x]),onOpen:e.useCallback(x,[x]),onClose:e.useCallback(()=>{window.clearTimeout(f.current),_(!1),v()},[_,v])},r))},fk=sk,pk=lk,mk=ck;function gk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}let vk;!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(vk||(vk={}));const yk={[vk.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[vk.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[vk.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[vk.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[vk.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[vk.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[vk.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[vk.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[vk.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[vk.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[vk.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _k(e,t,...n){const[r,...i]=yk[t](...n);console[e]("LEVA: "+r,...i)}const bk=_k.bind(null,"warn"),xk=_k.bind(null,"log"),wk=["value"],Sk=["schema"],Mk=["value"],Ek=[],Tk={};function Ck(e){let{value:t}=e,n=gk(e,wk);for(let e of Ek){const r=e(t,n);if(r)return r}}function Pk(e,t){let{schema:n}=t,r=gk(t,Sk);e in Tk?bk(vk.ALREADY_REGISTERED_TYPE,e):(Ek.push((t,r)=>n(t,r)&&e),Tk[e]=r)}function kk(e,t,n,r){const{normalize:i}=Tk[e];if(i)return i(t,n,r);if("object"!=typeof t||!("value"in t))return{value:t};const{value:a}=t;return{value:a,settings:gk(t,Mk)}}function Ak(e,t,n){const{format:r}=Tk[e];return r?r(t,n):t}function Ik(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(t){Ik(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ok=(e,t,n)=>e>n?n:e<t?t:e,Nk=e=>{if(""===e||"number"==typeof e)return e;try{const t=$k(e);if(!isNaN(t))return t}catch(e){}return parseFloat(e)},Dk=Math.log(10);function zk(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10==0;)t/=10;const n=Math.floor(Math.log(t)/Dk)+1,r=Math.floor(Math.log10(Math.abs(e))),i=Math.pow(10,r-n);return Math.max(i,.001)}const Uk=(e,t,n)=>n===t?0:(Ok(e,t,n)-t)/(n-t),Bk=(e,t,n)=>e*(n-t)+t,Fk=/\(([0-9+\-*/^ .]+)\)/,jk=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Vk=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Hk=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,Wk=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Gk=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function $k(e){if(isNaN(Number(e))){if(Fk.test(e)){const t=e.replace(Fk,(e,t)=>String($k(t)));return $k(t)}if(jk.test(e))return $k(e.replace(jk,(e,t,n)=>String(Math.pow(Number(t),Number(n)))));if(Vk.test(e)){const t=e.replace(Vk,(e,t,n)=>String(Number(t)*Number(n)));return $k(t)}if(Hk.test(e)){const t=e.replace(Hk,(e,t,n)=>{if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")});return $k(t)}if(Wk.test(e)){const t=e.replace(Wk,(e,t,n)=>String(Number(t)+Number(n)));return $k(t)}if(Gk.test(e)){const t=e.replace(Gk,(e,t,n)=>String(Number(t)-Number(n)));return $k(t)}return Number(e)}return Number(e)}function qk(e){return"[object Object]"===Object.prototype.toString.call(e)}let Xk,Yk;!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(Xk||(Xk={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(Yk||(Yk={}));const Zk=["type","__customInput"],Kk=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Jk=["type"];function Qk(e,t,n={},r){var i,a;if("object"!=typeof e||Array.isArray(e))return{type:r,input:e,options:Lk({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:n,__customInput:r}=e;return Qk(r,t,gk(e,Zk),n)}const{render:o,label:s,optional:l,order:u=0,disabled:c,hint:h,onChange:d,onEditStart:f,onEditEnd:p,transient:m}=e,g=gk(e,Kk),v=Lk({render:o,key:t,label:null!=s?s:t,hint:h,transient:null!=m?m:!!d,onEditStart:f,onEditEnd:p,disabled:c,optional:l,order:u},n);let y,{type:_}=g,b=gk(g,Jk);return _=null!=r?r:_,_ in Xk?{type:_,input:b,options:v}:(y=r&&qk(b)&&"value"in b?b.value:qk(x=b)&&0===Object.keys(x).length?void 0:b,{type:_,input:y,options:Lk(Lk({},v),{},{onChange:d,optional:null!==(i=v.optional)&&void 0!==i&&i,disabled:null!==(a=v.disabled)&&void 0!==a&&a})});var x}function eA(e,t,n,r,i){const{value:a,type:o,settings:s}=e;e.value=nA({type:o,value:a,settings:s},t,n,r),e.fromPanel=i}const tA=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function nA({type:e,value:t,settings:n},r,i,a){const o="SELECT"!==e&&"function"==typeof r?r(t):r;let s;try{s=function(e,t,n,r,i,a){const{sanitize:o}=Tk[e];return o?o(t,n,r,i,a):t}(e,o,n,t,i,a)}catch(e){throw new tA(`The value \`${r}\` did not result in a correct value.`,t,e)}return KT(s,t)?t:s}const rA=(e,t,n=!1)=>{let r=0;return function(){const i=arguments,a=n&&!r,o=()=>e.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,t),a&&o()}},iA=e=>e.shiftKey?5:e.altKey?.2:1,aA=["value"],oA=["min","max"],sA=(e,{min:t=-Infinity,max:n=Infinity,suffix:r})=>{const i=parseFloat(e);if(""===e||isNaN(i))throw Error("Invalid number");const a=Ok(i,t,n);return r?a+r:a},lA=e=>{let{value:t}=e,n=gk(e,aA);const{min:r=-Infinity,max:i=Infinity}=n,a=gk(n,oA);let o=parseFloat(t);const s="string"==typeof t?t.substring((""+o).length):void 0;o=Ok(o,r,i);let l=n.step;l||(Number.isFinite(r)?l=Number.isFinite(i)?+(Math.abs(i-r)/100).toPrecision(1):+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?10*zk(l):zk(o);return l=l||u/10,{value:s?o+s:o,settings:Lk({initialValue:o,step:l,pad:Math.round(Ok(Math.log10(1/u),0,2)),min:r,max:i,suffix:s},a)}},uA=(e,{step:t,initialValue:n})=>n+Math.round((e-n)/t)*t;var cA=/*#__PURE__*/Object.freeze({__proto__:null,schema:e=>{if("number"==typeof e)return!0;if("string"==typeof e){const t=parseFloat(e);return!isNaN(t)&&e.substring((""+t).length).trim().length<4}return!1},sanitize:sA,format:(e,{pad:t=0,suffix:n})=>{const r=parseFloat(e).toFixed(t);return n?r+n:r},normalize:lA,sanitizeStep:uA});function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hA.apply(this,arguments)}const dA=n({});function fA(){return a(dA)}const pA=n(null),mA=n(null),gA=n(null);function vA(){return a(mA)}function yA(e,t){const[n,r]=e.split(" "),i={};return"none"!==n&&(i.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${"default"!==n&&n||t.borderColor}`),r&&(i.backgroundColor=r),i}const _A={$inputStyle:()=>e=>yA(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>yA(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>yA(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>yA(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:bA,createTheme:xA,globalCss:wA}=(e=>{const n=(e=>{let t=!1;const n=uP(e,e=>{t=!0;const n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.root?e.root||null:globalThis.document||null,i="object"==typeof e.theme&&e.theme||{},a={prefix:n,media:"object"==typeof e.media&&e.media||{},theme:i,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...bC},utils:"object"==typeof e.utils&&e.utils||{}},o=$C(r),s={css:ZC(a,o),globalCss:rP(a,o),keyframes:aP(a,o),createTheme:lP(a,o),reset(){o.reset(),s.theme.toString()},theme:{},sheet:o,config:a,prefix:n,getCssText:o.toString,toString:o.toString};return String(s.theme=s.createTheme(i)),s});return t||n.reset(),n})(e);return n.styled=(({config:e,sheet:n})=>cP(e,()=>{const r=ZC(e,n);return(...e)=>{const n=r(...e),i=n[SC].type,a=t.forwardRef((e,r)=>{const a=e&&e.as||i,{props:o,deferredInjector:s}=n(e);return delete o.as,o.ref=r,s?t.createElement(t.Fragment,null,t.createElement(a,o),t.createElement(s,null)):t.createElement(a,o)});return a.className=n.className,a.displayName=`Styled.${i.displayName||i.name||i}`,a.selector=n.selector,a.toString=()=>n.selector,a[SC]=n[SC],a}}))(n),n})({prefix:"leva",theme:{colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}},utils:Lk(Lk({},_A),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":_A.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":_A.$focusStyle()(e)}),$hover:e=>({"&:hover":_A.$hoverStyle()(e)}),$active:e=>({"&:active":_A.$activeStyle()(e)})})}),SA=wA({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function MA(e,t){const{theme:n}=a(pA);if(!(e in n)||!(t in n[e]))return bk(vk.THEME_ERROR,e,t),"";let r=t;for(;;){let t=n[e][r];if("string"!=typeof t||"$"!==t.charAt(0))return t;r=t.substr(1)}}const EA=bA("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),TA=bA("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${EA}`]:{paddingLeft:0}}),CA=bA(TA,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),PA=bA("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),kA=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],AA=["onUpdate"];function IA(e){let{innerLabel:n,value:r,onUpdate:i,onChange:a,onKeyDown:o,type:s,id:c,inputType:h="text",rows:d=0}=e,f=gk(e,kA);const{id:p,emitOnEditStart:m,emitOnEditEnd:g,disabled:v}=fA(),y=c||p,_=l(null),b=d>0,x=b?"textarea":"input",w=u(e=>t=>{e(t.currentTarget.value)},[]);t.useEffect(()=>{const e=_.current,t=w(e=>{i(e),g()});return null==e||e.addEventListener("blur",t),()=>null==e?void 0:e.removeEventListener("blur",t)},[w,i,g]);const S=u(e=>{"Enter"===e.key&&w(i)(e)},[w,i]),M=Object.assign({as:x},b?{rows:d}:{},f);return t.createElement(PA,{textArea:b},n&&"string"==typeof n?t.createElement(TA,null,n):n,t.createElement(EA,hA({levaType:s,ref:_,id:y,type:h,autoComplete:"off",spellCheck:"false",value:r,onChange:w(a),onFocus:()=>m(),onKeyPress:S,onKeyDown:o,disabled:v},M)))}function RA(e){let{onUpdate:n}=e,r=gk(e,AA);const i=u(e=>n(Nk(e)),[n]),a=u(e=>{const t="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(t){e.preventDefault();const r=e.altKey?.1:e.shiftKey?10:1;n(e=>parseFloat(e)+t*r)}},[n]);return t.createElement(IA,hA({},r,{onUpdate:i,onKeyDown:a,type:"number"}))}const LA=bA("div",{}),OA=bA("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),NA=bA("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${OA}::after`]:{opacity:.6},[`${LA}:hover > & + ${OA}::after`]:{opacity:.6},[`${LA}:hover > & > svg`]:{opacity:1}}),DA=bA("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${LA}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),zA=bA("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${DA} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),UA=bA(zA,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),BA=bA("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),FA=bA("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),jA=bA("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),VA=bA("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${jA}`]:{pointerEvents:"auto"}}}}}),HA=bA("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),WA=bA("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),GA=bA(mk,{fill:"$toolTipBackground"});function $A({children:e}){const{className:n}=a(pA);return t.createElement(YT,{className:n},e)}const qA=["align"];function XA(){const{id:e,disable:n,disabled:r}=fA();return t.createElement(t.Fragment,null,t.createElement(FA,{id:e+"__disable",type:"checkbox",checked:!r,onChange:()=>n(!r)}),t.createElement("label",{htmlFor:e+"__disable"}))}function YA(e){const{id:n,optional:r,hint:i}=fA(),a=e.htmlFor||(n?{htmlFor:n}:null),o=i||"string"!=typeof e.children?null:{title:e.children};return t.createElement(t.Fragment,null,r&&t.createElement(XA,null),void 0!==i?t.createElement(dk,null,t.createElement(fk,{asChild:!0},t.createElement(jA,hA({},a,e))),t.createElement(pk,{side:"top",sideOffset:2},t.createElement(WA,null,i,t.createElement(GA,null)))):t.createElement(jA,hA({},a,o,e)))}function ZA(e){let{align:n}=e,r=gk(e,qA);const{value:i,label:o,key:s,disabled:l}=fA(),{hideCopyButton:u}=a(gA),c=!u&&void 0!==s,[h,d]=p(!1);return t.createElement(BA,{align:n,onPointerLeave:()=>d(!1)},t.createElement(YA,r),c&&!l&&t.createElement("div",{title:`Click to copy ${"string"==typeof o?o:s} value`},h?t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),t.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):t.createElement("svg",{onClick:async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:null!=i?i:""})),d(!0)}catch(e){bk(vk.CLIPBOARD_ERROR,{[s]:i})}},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),t.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const KA=["toggled"],JA=bA("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function QA(e){let{toggled:n}=e,r=gk(e,KA);return t.createElement(JA,hA({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${n?0:-90}deg)`}},r),t.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const eI=["input"];function tI(e){let{input:n}=e,r=gk(e,eI);return t.createElement(n?UA:zA,r)}function nI({value:e,type:t,settings:n,setValue:r}){const[i,a]=p(Ak(t,e,n)),o=l(e),c=l(n);c.current=n;const h=u(e=>a(Ak(t,e,c.current)),[t]),d=u(e=>{try{r(e)}catch(e){const{type:t,previousValue:n}=e;if("LEVA_ERROR"!==t)throw e;h(n)}},[h,r]);return s(()=>{KT(e,o.current)||h(e),o.current=e},[e,h]),{displayValue:i,onChange:a,onUpdate:d}}function rI(e,n){const{emitOnEditStart:r,emitOnEditEnd:i}=fA();return function(e,n){var r;return IE.set((r=LE).key,r.engine),RE.set(r.key,r.resolver),function(e,n={},r,i){const a=t.useMemo(()=>new BE(e),[]);if(a.applyHandlers(e,i),a.applyConfig(n,r),t.useEffect(a.effect.bind(a)),t.useEffect(()=>a.clean.bind(a),[]),void 0===n.target)return a.bind.bind(a)}({drag:e},n||{},"drag")}(t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null==r||r());const n=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==i||i()),n},n)}function iI(){const e=l(null),t=l({x:0,y:0}),n=u(n=>{Object.assign(t.current,n),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}const aI=["__refCount"],oI=(e,t)=>e[t]?gk(e[t],aI):null,sI=bA("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),lI=bA("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),uI=bA("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),cI=bA("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),hI=bA("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function dI({value:e,min:n,max:r,onDrag:i,step:a,initialValue:o}){const s=l(null),u=l(null),c=l(0),h=MA("sizes","scrubberWidth"),d=rI(({event:t,first:l,xy:[d],movement:[f],memo:p})=>{if(l){const{width:i,left:a}=s.current.getBoundingClientRect();c.current=i-parseFloat(h),p=(null==t?void 0:t.target)===u.current?e:Bk((d-a)/i,n,r)}const m=p+Bk(f/c.current,0,r-n);return i(uA(m,{step:a,initialValue:o})),p}),f=Uk(e,n,r);return t.createElement(cI,hA({ref:s},d()),t.createElement(lI,null,t.createElement(hI,{style:{left:0,right:100*(1-f)+"%"}})),t.createElement(uI,{ref:u,style:{left:`calc(${f} * (100% - ${h}))`}}))}const fI=t.memo(({label:e,onUpdate:n,step:r,innerLabelTrim:i})=>{const[a,o]=p(!1),s=rI(({active:e,delta:[t],event:i,memo:a=0})=>(o(e),a+=t/2,Math.abs(a)>=1&&(n(e=>parseFloat(e)+Math.floor(a)*r*iA(i)),a=0),a));return t.createElement(CA,hA({dragging:a,title:e.length>1?e:""},s()),e.slice(0,i))});function pI({label:e,id:n,displayValue:r,onUpdate:i,onChange:a,settings:o,innerLabelTrim:s=1}){const l=s>0&&t.createElement(fI,{label:e,step:o.step,onUpdate:i,innerLabelTrim:s});return t.createElement(RA,{id:n,value:String(r),onUpdate:i,onChange:a,innerLabel:l})}const{sanitizeStep:mI}=cA;var gI=Lk({component:function(){const e=fA(),{label:n,value:r,onUpdate:i,settings:a,id:o}=e,{min:s,max:l}=a,u=Infinity!==l&&-Infinity!==s;return t.createElement(tI,{input:!0},t.createElement(ZA,null,n),t.createElement(sI,{hasRange:u},u&&t.createElement(dI,hA({value:parseFloat(r),onDrag:i},a)),t.createElement(pI,hA({},e,{id:o,label:"value",innerLabelTrim:u?0:1}))))}},gk(cA,["sanitizeStep"])),vI=/*#__PURE__*/Object.freeze({__proto__:null,schema:(e,t)=>sC().schema({options:sC().passesAnyOf(sC().object(),sC().array())}).test(t),sanitize:(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:(e,{values:t})=>t.indexOf(e),normalize:e=>{let t,n,{value:r,options:i}=e;return Array.isArray(i)?(n=i,t=i.map(e=>String(e))):(n=Object.values(i),t=Object.keys(i)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(i).includes(r)||(i[String(r)]=r),{value:r,settings:{keys:t,values:n}}}});const yI=bA("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),_I=bA("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),bI=bA("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${_I}:focus + &`]:{$focusStyle:""},[`${_I}:hover + &`]:{$hoverStyle:""}});function xI({displayValue:e,value:n,onUpdate:r,id:i,settings:a,disabled:o}){const{keys:s,values:u}=a,c=l();return n===u[e]&&(c.current=s[e]),t.createElement(yI,null,t.createElement(_I,{id:i,value:e,onChange:e=>r(u[Number(e.currentTarget.value)]),disabled:o},s.map((e,n)=>t.createElement("option",{key:e,value:n},e))),t.createElement(bI,null,c.current),t.createElement(QA,{toggled:!0}))}var wI=Lk({component:function(){const{label:e,value:n,displayValue:r,onUpdate:i,id:a,disabled:o,settings:s}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(xI,{id:a,value:n,displayValue:r,onUpdate:i,settings:s,disabled:o}))}},vI),SI=/*#__PURE__*/Object.freeze({__proto__:null,schema:e=>sC().string().test(e),sanitize:e=>{if("string"!=typeof e)throw Error("Invalid string");return e},normalize:({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:"number"==typeof n?n:n?5:0}})});const MI=["displayValue","onUpdate","onChange","editable"],EI=bA("div",{whiteSpace:"pre-wrap"});function TI(e){let{displayValue:n,onUpdate:r,onChange:i,editable:a=!0}=e,o=gk(e,MI);return a?t.createElement(IA,hA({value:n,onUpdate:r,onChange:i},o)):t.createElement(EI,null,n)}var CI=Lk({component:function(){const{label:e,settings:n,displayValue:r,onUpdate:i,onChange:a}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(TI,hA({displayValue:r,onUpdate:i,onChange:a},n)))}},SI),PI=/*#__PURE__*/Object.freeze({__proto__:null,schema:e=>sC().boolean().test(e),sanitize:e=>{if("boolean"!=typeof e)throw Error("Invalid boolean");return e}});const kI=bA("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function AI({value:e,onUpdate:n,id:r,disabled:i}){return t.createElement(kI,null,t.createElement("input",{id:r,type:"checkbox",checked:e,onChange:e=>n(e.currentTarget.checked),disabled:i}),t.createElement("label",{htmlFor:r},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var II=Lk({component:function(){const{label:e,value:n,onUpdate:r,disabled:i,id:a}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(AI,{value:n,onUpdate:r,id:a,disabled:i}))}},PI);const RI=["locked"];function LI({value:e,id:n,valueKey:r,settings:i,onUpdate:a,innerLabelTrim:o}){const s=l(e[r]);s.current=e[r];const c=u(e=>a({[r]:nA({type:"NUMBER",value:s.current,settings:i},e)}),[a,i,r]),h=nI({type:"NUMBER",value:e[r],settings:i,setValue:c});return t.createElement(pI,{id:n,label:r,value:e[r],displayValue:h.displayValue,onUpdate:h.onUpdate,onChange:h.onChange,settings:i,innerLabelTrim:o})}const OI=bA("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function NI(e){let{locked:n}=e,r=gk(e,RI);return t.createElement("svg",hA({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),t.createElement("path",n?{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}:{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function DI({value:e,onUpdate:n,settings:r,innerLabelTrim:i}){const{id:a,setSettings:o}=fA(),{lock:s,locked:l}=r;return t.createElement(OI,{withLock:s},s&&t.createElement(NI,{locked:l,onClick:()=>o({locked:!l})}),Object.keys(e).map((o,s)=>t.createElement(LI,{id:0===s?a:`${a}.${o}`,key:o,valueKey:o,value:e,settings:r[o],onUpdate:n,innerLabelTrim:i})))}const zI=(e,t)=>{const n={};let r=0,i=Infinity;Object.entries(e).forEach(([e,a])=>{n[e]=lA(Lk({value:a},t[e])).settings,r=Math.max(r,n[e].step),i=Math.min(i,n[e].pad)});for(let e in n){const{step:a,min:o,max:s}=t[e]||{};isFinite(a)||isFinite(o)&&isFinite(s)||(n[e].step=r,n[e].pad=i)}return n},UI=["lock"],BI=["value"];function FI(e){const t=sC().array().length(e).every.number();return n=>t.test(n)||(t=>{if(!t||"object"!=typeof t)return!1;const n=Object.values(t);return n.length===e&&n.every(e=>isFinite(e))})(n)}function jI(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce((e,n,r)=>Object.assign(e,{[t[r]]:n}),{})}(e,n)}function VI(e){return{schema:FI(e.length),normalize:t=>{let{value:n}=t;return function(e,t,n=[]){const{lock:r=!1}=t,i=gk(t,UI),a=Array.isArray(e)?"array":"object",o="object"===a?Object.keys(e):n,s=jI(e,"object",o),l=(e=>!!e&&("step"in e||"min"in e||"max"in e))(i)?o.reduce((e,t)=>Object.assign(e,{[t]:i}),{}):i;return{value:"array"===a?e:s,settings:Lk(Lk({},zI(s,l)),{},{format:a,keys:o,lock:r,locked:!1})}}(n,gk(t,BI),e)},format:(e,t)=>((e,t)=>jI(e,"object",t.keys))(e,t),sanitize:(e,t,n)=>((e,t,n)=>{const r=jI(e,"object",t.keys);for(let e in r)r[e]=sA(r[e],t[e]);const i=Object.keys(r);let a={};if(i.length===t.keys.length)a=r;else{const e=jI(n,"object",t.keys);if(1===i.length&&t.locked){const t=i[0],n=r[t],o=e[t],s=0!==o?n/o:1;for(let r in e)r===t?a[t]=n:a[r]=e[r]*s}else a=Lk(Lk({},e),r)}return jI(a,t.format,t.keys)})(e,t,n)}}var HI={grad:.9,turn:360,rad:360/(2*Math.PI)},WI=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},GI=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},$I=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},qI=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},XI=function(e){return{r:$I(e.r,0,255),g:$I(e.g,0,255),b:$I(e.b,0,255),a:$I(e.a)}},YI=function(e){return{r:GI(e.r),g:GI(e.g),b:GI(e.b),a:GI(e.a,3)}},ZI=/^#([0-9a-f]{3,8})$/i,KI=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},JI=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(s<0?s+6:s),s:a?o/a*100:0,v:a/255*100,a:i}},QI=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),l=r*(1-(1-t+a)*n),u=a%6;return{r:255*[r,s,o,o,l,r][u],g:255*[l,r,r,s,o,o][u],b:255*[o,o,l,r,r,s][u],a:i}},eR=function(e){return{h:qI(e.h),s:$I(e.s,0,100),l:$I(e.l,0,100),a:$I(e.a)}},tR=function(e){return{h:GI(e.h),s:GI(e.s),l:GI(e.l),a:GI(e.a,3)}},nR=function(e){return QI((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},rR=function(e){return{h:(t=JI(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},iR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aR=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lR={string:[[function(e){var t=ZI.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?GI(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?GI(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=oR.exec(e)||sR.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:XI({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=iR.exec(e)||aR.exec(e);if(!t)return null;var n,r,i=eR({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(HI[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return nR(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return WI(t)&&WI(n)&&WI(r)?XI({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!WI(t)||!WI(n)||!WI(r))return null;var o=eR({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return nR(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!WI(t)||!WI(n)||!WI(r))return null;var o=function(e){return{h:qI(e.h),s:$I(e.s,0,100),v:$I(e.v,0,100),a:$I(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return QI(o)},"hsv"]]},uR=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},cR=function(e){return"string"==typeof e?uR(e.trim(),lR.string):"object"==typeof e&&null!==e?uR(e,lR.object):[null,void 0]},hR=function(e,t){var n=rR(e);return{h:n.h,s:$I(n.s+100*t,0,100),l:n.l,a:n.a}},dR=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},fR=function(e,t){var n=rR(e);return{h:n.h,s:n.s,l:$I(n.l+100*t,0,100),a:n.a}},pR=function(){function e(e){this.parsed=cR(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return GI(dR(this.rgba),2)},e.prototype.isDark=function(){return dR(this.rgba)<.5},e.prototype.isLight=function(){return dR(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=YI(this.rgba)).r,n=e.g,r=e.b,a=(i=e.a)<1?KI(GI(255*i)):"","#"+KI(t)+KI(n)+KI(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return YI(this.rgba)},e.prototype.toRgbString=function(){return t=(e=YI(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return tR(rR(this.rgba))},e.prototype.toHslString=function(){return t=(e=tR(rR(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=JI(this.rgba),{h:GI(e.h),s:GI(e.s),v:GI(e.v),a:GI(e.a,3)};var e},e.prototype.invert=function(){return mR({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),mR(hR(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),mR(hR(this.rgba,-e))},e.prototype.grayscale=function(){return mR(hR(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),mR(fR(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),mR(fR(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?mR({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):GI(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=rR(this.rgba);return"number"==typeof e?mR({h:e,s:t.s,l:t.l,a:t.a}):GI(t.h)},e.prototype.isEqual=function(e){return this.toHex()===mR(e).toHex()},e}(),mR=function(e){return e instanceof pR?e:new pR(e)},gR=[];function vR(){return(vR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yR(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function _R(e){var t=l(e),n=l(function(e){t.current&&t.current(e)});return t.current=e,n.current}var bR=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},xR=function(e){return"touches"in e},wR=function(e){return e&&e.ownerDocument.defaultView||self},SR=function(e,t,n){var r=e.getBoundingClientRect(),i=xR(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:bR((i.pageX-(r.left+wR(e).pageXOffset))/r.width),top:bR((i.pageY-(r.top+wR(e).pageYOffset))/r.height)}},MR=function(e){!xR(e)&&e.preventDefault()},ER=t.memo(function(e){var n=e.onMove,r=e.onKey,a=yR(e,["onMove","onKey"]),o=l(null),u=_R(n),c=_R(r),h=l(null),d=l(!1),f=i(function(){var e=function(e){MR(e),(xR(e)?e.touches.length>0:e.buttons>0)&&o.current?u(SR(o.current,e,h.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=d.current,i=wR(o.current),a=n?i.addEventListener:i.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=o.current;if(r&&(MR(t),!function(e,t){return t&&!xR(e)}(t,d.current)&&r)){if(xR(t)){d.current=!0;var i=t.changedTouches||[];i.length&&(h.current=i[0].identifier)}r.focus(),u(SR(r,t,h.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),c({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]},[c,u]),p=f[0],m=f[1],g=f[2];return s(function(){return g},[g]),t.createElement("div",vR({},a,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:o,onKeyDown:m,tabIndex:0,role:"slider"}))}),TR=function(e){return e.filter(Boolean).join(" ")},CR=function(e){var n=e.color,r=e.left,i=e.top,a=void 0===i?.5:i,o=TR(["react-colorful__pointer",e.className]);return t.createElement("div",{className:o,style:{top:100*a+"%",left:100*r+"%"}},t.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},PR=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},kR=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:PR(e.h),s:PR(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:PR(i/2),a:PR(r,2)}},AR=function(e){var t=kR(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},IR=function(e){var t=kR(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},RR=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),l=r*(1-(1-t+a)*n),u=a%6;return{r:PR(255*[r,s,o,o,l,r][u]),g:PR(255*[l,r,r,s,o,o][u]),b:PR(255*[o,o,l,r,r,s][u]),a:PR(i,2)}},LR=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:PR(60*(s<0?s+6:s)),s:PR(a?o/a*100:0),v:PR(a/255*100),a:i}},OR=t.memo(function(e){var n=e.hue,r=e.onChange,i=TR(["react-colorful__hue",e.className]);return t.createElement("div",{className:i},t.createElement(ER,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:bR(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":PR(n),"aria-valuemax":"360","aria-valuemin":"0"},t.createElement(CR,{className:"react-colorful__hue-pointer",left:n/360,color:AR({h:n,s:100,v:100,a:1})})))}),NR=t.memo(function(e){var n=e.hsva,r=e.onChange,i={backgroundColor:AR({h:n.h,s:100,v:100,a:1})};return t.createElement("div",{className:"react-colorful__saturation",style:i},t.createElement(ER,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:bR(n.s+100*e.left,0,100),v:bR(n.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+PR(n.s)+"%, Brightness "+PR(n.v)+"%"},t.createElement(CR,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:AR(n)})))}),DR=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function zR(e,t,n){var r=_R(n),i=p(function(){return e.toHsva(t)}),a=i[0],o=i[1],c=l({color:t,hsva:a});s(function(){if(!e.equal(t,c.current.color)){var n=e.toHsva(t);c.current={hsva:n,color:t},o(n)}},[t,e]),s(function(){var t;DR(a,c.current.hsva)||e.equal(t=e.fromHsva(a),c.current.color)||(c.current={hsva:a,color:t},r(t))},[a,e,r]);var h=u(function(e){o(function(t){return Object.assign({},t,e)})},[]);return[a,h]}var UR="undefined"!=typeof window?o:s,BR=new Map,FR=function(e){UR(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!BR.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',BR.set(t,n);var r="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0;r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},jR=function(e){var n=e.className,r=e.colorModel,i=e.color,a=void 0===i?r.defaultColor:i,o=e.onChange,s=yR(e,["className","colorModel","color","onChange"]),u=l(null);FR(u);var c=zR(r,a,o),h=c[0],d=c[1],f=TR(["react-colorful",n]);return t.createElement("div",vR({},s,{ref:u,className:f}),t.createElement(NR,{hsva:h,onChange:d}),t.createElement(OR,{hue:h.h,onChange:d,className:"react-colorful__last-control"}))},VR=function(e){var n=e.className,r=e.hsva,i=e.onChange,a={backgroundImage:"linear-gradient(90deg, "+IR(Object.assign({},r,{a:0}))+", "+IR(Object.assign({},r,{a:1}))+")"},o=TR(["react-colorful__alpha",n]),s=PR(100*r.a);return t.createElement("div",{className:o},t.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),t.createElement(ER,{onMove:function(e){i({a:e.left})},onKey:function(e){i({a:bR(r.a+e.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},t.createElement(CR,{className:"react-colorful__alpha-pointer",left:r.a,color:IR(r)})))},HR=function(e){var n=e.className,r=e.colorModel,i=e.color,a=void 0===i?r.defaultColor:i,o=e.onChange,s=yR(e,["className","colorModel","color","onChange"]),u=l(null);FR(u);var c=zR(r,a,o),h=c[0],d=c[1],f=TR(["react-colorful",n]);return t.createElement("div",vR({},s,{ref:u,className:f}),t.createElement(NR,{hsva:h,onChange:d}),t.createElement(OR,{hue:h.h,onChange:d}),t.createElement(VR,{hsva:h,onChange:d,className:"react-colorful__last-control"}))},WR={defaultColor:{r:0,g:0,b:0,a:1},toHsva:LR,fromHsva:RR,equal:DR},GR=function(e){return t.createElement(HR,vR({},e,{colorModel:WR}))},$R={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return LR({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=RR(e)).r,g:t.g,b:t.b};var t},equal:DR},qR=function(e){return t.createElement(jR,vR({},e,{colorModel:$R}))},XR=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function YR(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=XR.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var ZR=[".DS_Store","Thumbs.db"];function KR(e){return"object"==typeof e&&null!==e}function JR(e){return nL(e.target.files).map(function(e){return YR(e)})}function QR(e){return si(this,void 0,void 0,function(){return li(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return YR(e)})]}})})}function eL(e,t){return si(this,void 0,void 0,function(){var n;return li(this,function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=nL(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t?[2,n]:[4,Promise.all(n.map(rL))]):[3,2];case 1:return[2,tL(iL(r.sent()))];case 2:return[2,tL(nL(e.files).map(function(e){return YR(e)}))]}})})}function tL(e){return e.filter(function(e){return-1===ZR.indexOf(e.name)})}function nL(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function rL(e){if("function"!=typeof e.webkitGetAsEntry)return aL(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?sL(t):aL(e)}function iL(e){return e.reduce(function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ui(arguments[t]));return e}(e,Array.isArray(t)?iL(t):[t])},[])}function aL(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=YR(t);return Promise.resolve(n)}function oL(e){return si(this,void 0,void 0,function(){return li(this,function(t){return[2,e.isDirectory?sL(e):lL(e)]})})}function sL(e){var t=e.createReader();return new Promise(function(e,n){var r=[];!function i(){var a=this;t.readEntries(function(t){return si(a,void 0,void 0,function(){var a,o,s;return li(this,function(l){switch(l.label){case 0:if(t.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=l.sent(),e(a),[3,4];case 3:return o=l.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(oL)),r.push(s),i(),l.label=6;case 6:return[2]}})})},function(e){n(e)})}()})}function lL(e){return si(this,void 0,void 0,function(){return li(this,function(t){return[2,new Promise(function(t,n){e.file(function(n){var r=YR(n,e.fullPath);t(r)},function(e){n(e)})})]})})}function uL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uL(Object(n),!0).forEach(function(t){hL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pL=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},mL=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},gL=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},vL={code:"too-many-files",message:"Too many files"};function yL(e,t){var n="application/x-moz-file"===e.type||function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t})}return!0}(e,t);return[n,n?null:pL(t)]}function _L(e,t,n){if(bL(e.size))if(bL(t)&&bL(n)){if(e.size>n)return[!1,mL(n)];if(e.size<t)return[!1,gL(t)]}else{if(bL(t)&&e.size<t)return[!1,gL(t)];if(bL(n)&&e.size>n)return[!1,mL(n)]}return[!0,null]}function bL(e){return null!=e}function xL(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every(function(e){var t=dL(yL(e,n),1)[0],a=dL(_L(e,r,i),1);return t&&a[0]})}function wL(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function SL(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function ML(e){e.preventDefault()}function EL(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function TL(e){return-1!==e.indexOf("Edge/")}function CL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return EL(e)||TL(e)}function PL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some(function(t){return!wL(e)&&t&&t.apply(void 0,[e].concat(r)),wL(e)})}}function kL(){return"showOpenFilePicker"in window}function AL(e){return e="string"==typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter(function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return cL(cL({},e),{},hL({},t,[]))},{}):{}}]}function IL(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function RL(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}var LL=["children"],OL=["open"],NL=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],DL=["refKey","onChange","onClick"];function zL(e){return function(e){if(Array.isArray(e))return FL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||BL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BL(e,t){if(e){if("string"==typeof e)return FL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FL(e,t):void 0}}function FL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(n),!0).forEach(function(t){HL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var GL=/*#__PURE__*/c(function(e,n){var r=e.children,i=XL(WL(e,LL)),a=i.open,o=WL(i,OL);return b(n,function(){return{open:a}},[a]),/*#__PURE__*/t.createElement(x,null,r(VL(VL({},o),{},{open:a})))});GL.displayName="Dropzone";var $L={disabled:!1,getFilesFromEvent:function(e){return si(this,void 0,void 0,function(){return li(this,function(t){return KR(e)&&KR(e.dataTransfer)?[2,eL(e.dataTransfer,e.type)]:KR(n=e)&&KR(n.target)?[2,JR(e)]:Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,QR(e)]:[2,[]];var n})})},maxSize:Infinity,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};GL.defaultProps=$L,GL.propTypes={children:nh.func,accept:nh.oneOfType([nh.string,nh.arrayOf(nh.string)]),multiple:nh.bool,preventDropOnDocument:nh.bool,noClick:nh.bool,noKeyboard:nh.bool,noDrag:nh.bool,noDragEventsBubbling:nh.bool,minSize:nh.number,maxSize:nh.number,maxFiles:nh.number,disabled:nh.bool,getFilesFromEvent:nh.func,onFileDialogCancel:nh.func,onFileDialogOpen:nh.func,useFsAccessApi:nh.bool,onDragEnter:nh.func,onDragLeave:nh.func,onDragOver:nh.func,onDrop:nh.func,onDropAccepted:nh.func,onDropRejected:nh.func,validator:nh.func};var qL={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function XL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=VL(VL({},$L),e),n=t.accept,a=t.disabled,o=t.getFilesFromEvent,c=t.maxSize,h=t.minSize,d=t.multiple,f=t.maxFiles,p=t.onDragEnter,m=t.onDragLeave,g=t.onDragOver,v=t.onDrop,y=t.onDropAccepted,_=t.onDropRejected,b=t.onFileDialogCancel,x=t.onFileDialogOpen,w=t.useFsAccessApi,S=t.preventDropOnDocument,M=t.noClick,E=t.noKeyboard,T=t.noDrag,C=t.noDragEventsBubbling,P=t.validator,k=i(function(){return"function"==typeof x?x:ZL},[x]),A=i(function(){return"function"==typeof b?b:ZL},[b]),I=l(null),R=l(null),L=r(YL,qL),O=UL(L,2),N=O[0],D=O[1],z=N.isFocused,U=N.isFileDialogActive,B=N.draggedFiles,F=l("undefined"!=typeof window&&window.isSecureContext&&w&&kL()),j=function(){!F.current&&U&&setTimeout(function(){R.current&&(R.current.files.length||(D({type:"closeDialog"}),A()))},300)};s(function(){return window.addEventListener("focus",j,!1),function(){window.removeEventListener("focus",j,!1)}},[R,U,A,F]);var V=l([]),H=function(e){I.current&&I.current.contains(e.target)||(e.preventDefault(),V.current=[])};s(function(){return S&&(document.addEventListener("dragover",ML,!1),document.addEventListener("drop",H,!1)),function(){S&&(document.removeEventListener("dragover",ML),document.removeEventListener("drop",H))}},[I,S]);var W=u(function(e){e.preventDefault(),e.persist(),re(e),V.current=[].concat(zL(V.current),[e.target]),SL(e)&&Promise.resolve(o(e)).then(function(t){wL(e)&&!C||(D({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),p&&p(e))})},[o,p,C]),G=u(function(e){e.preventDefault(),e.persist(),re(e);var t=SL(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&g&&g(e),!1},[g,C]),$=u(function(e){e.preventDefault(),e.persist(),re(e);var t=V.current.filter(function(e){return I.current&&I.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),V.current=t,t.length>0||(D({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),SL(e)&&m&&m(e))},[I,m,C]),q=u(function(e,t){var r=[],i=[];e.forEach(function(e){var t=UL(yL(e,n),2),a=t[0],o=t[1],s=UL(_L(e,h,c),2),l=s[0],u=s[1],d=P?P(e):null;if(a&&l&&!d)r.push(e);else{var f=[o,u];d&&(f=f.concat(d)),i.push({file:e,errors:f.filter(function(e){return e})})}}),(!d&&r.length>1||d&&f>=1&&r.length>f)&&(r.forEach(function(e){i.push({file:e,errors:[vL]})}),r.splice(0)),D({acceptedFiles:r,fileRejections:i,type:"setFiles"}),v&&v(r,i,t),i.length>0&&_&&_(i,t),r.length>0&&y&&y(r,t)},[D,d,n,h,c,f,v,y,_,P]),X=u(function(e){e.preventDefault(),e.persist(),re(e),V.current=[],SL(e)&&Promise.resolve(o(e)).then(function(t){wL(e)&&!C||q(t,e)}),D({type:"reset"})},[o,q,C]),Y=u(function(){if(F.current){D({type:"openDialog"}),k();var e={multiple:d,types:AL(n)};window.showOpenFilePicker(e).then(function(e){return o(e)}).then(function(e){q(e,null),D({type:"closeDialog"})}).catch(function(e){IL(e)?(A(e),D({type:"closeDialog"})):RL(e)&&(F.current=!1,R.current&&(R.current.value=null,R.current.click()))})}else R.current&&(D({type:"openDialog"}),k(),R.current.value=null,R.current.click())},[D,k,A,w,q,n,d]),Z=u(function(e){I.current&&I.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),Y()))},[I,Y]),K=u(function(){D({type:"focus"})},[]),J=u(function(){D({type:"blur"})},[]),Q=u(function(){M||(CL()?setTimeout(Y,0):Y())},[M,Y]),ee=function(e){return a?null:e},te=function(e){return E?null:ee(e)},ne=function(e){return T?null:ee(e)},re=function(e){C&&e.stopPropagation()},ie=i(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,i=e.onKeyDown,o=e.onFocus,s=e.onBlur,l=e.onClick,u=e.onDragEnter,c=e.onDragOver,h=e.onDragLeave,d=e.onDrop,f=WL(e,NL);return VL(VL(HL({onKeyDown:te(PL(i,Z)),onFocus:te(PL(o,K)),onBlur:te(PL(s,J)),onClick:ee(PL(l,Q)),onDragEnter:ne(PL(u,W)),onDragOver:ne(PL(c,G)),onDragLeave:ne(PL(h,$)),onDrop:ne(PL(d,X)),role:"string"==typeof r&&""!==r?r:"button"},n,I),a||E?{}:{tabIndex:0}),f)}},[I,Z,K,J,Q,W,G,$,X,E,T,a]),ae=u(function(e){e.stopPropagation()},[]),oe=i(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=WL(e,DL),s=HL({accept:n,multiple:d,type:"file",style:{display:"none"},onChange:ee(PL(i,X)),onClick:ee(PL(a,ae)),tabIndex:-1},r,R);return VL(VL({},s),o)}},[R,n,d,X,a]),se=B.length,le=se>0&&xL({files:B,accept:n,minSize:h,maxSize:c,multiple:d,maxFiles:f}),ue=se>0&&!le;return VL(VL({},N),{},{isDragAccept:le,isDragReject:ue,isFocused:z&&!a,getRootProps:ie,getInputProps:oe,rootRef:I,inputRef:R,open:ee(Y)})}function YL(e,t){switch(t.type){case"focus":return VL(VL({},e),{},{isFocused:!0});case"blur":return VL(VL({},e),{},{isFocused:!1});case"openDialog":return VL(VL({},qL),{},{isFileDialogActive:!0});case"closeDialog":return VL(VL({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return VL(VL({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return VL(VL({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return VL({},qL);default:return e}}function ZL(){}function KL(e){return 1==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var JL=function(e){var t,n;return!1!==KL(e)&&"function"==typeof(t=e.constructor)&&!1!==KL(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")},QL=function(e){return JL(e)||"function"==typeof e||Array.isArray(e)},eO=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break};function tO(e,t){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];rO(i)&&eO(i,nO,e)}return e}function nO(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var n=this[t];rO(e)&&rO(n)?tO(n,e):this[t]=e}}function rO(e){return QL(e)&&!Array.isArray(e)}var iO=tO,aO=function(e,t,n,r,i){if(null===(a=e)||"object"!=typeof a&&"function"!=typeof a||!t)return e;var a;if(t=oO(t),n&&(t+="."+oO(n)),r&&(t+="."+oO(r)),i&&(t+="."+oO(i)),t in e)return e[t];for(var o=t.split("."),s=o.length,l=-1;e&&++l<s;){for(var u=o[l];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+o[++l];e=e[u]}return e};function oO(e){return e?Array.isArray(e)?e.join("."):e:""}var sO=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,a=0;++a<i;)for(var o=Object(arguments[a]),s=Object.getOwnPropertySymbols(o),l=0;l<s.length;l++){var u=s[l];n.call(o,u)&&(r[u]=o[u])}return r},lO=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");dO(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];cO(n)&&(n=hO(n)),dO(n)&&(uO(e,n),sO(e,n))}return e};function uO(e,t){for(var n in t)fO(t,n)&&(e[n]=t[n])}function cO(e){return e&&"string"==typeof e}function hO(e){var t={};for(var n in e)t[n]=e[n];return t}function dO(e){return e&&"object"==typeof e||QL(e)}function fO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pO(e,t,n,r){var i=e.indexOf(t,n);return"\\"===e.charAt(i-1)?pO(e,t,i+1):i}function mO(e,t){return!0===t.keepDoubleQuotes&&'"'===e||!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes}function gO(e,t,n){return"function"==typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}var vO=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)},yO=function(e){vO(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var r=arguments[n];vO(r)&&_O(e,r)}return e};function _O(e,t){for(var n in t)bO(t,n)&&(e[n]=t[n])}function bO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var xO=function(e,t,n){if(!vO(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var r=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(n=t,t=null),"string"==typeof t&&(t={sep:t});var r,i=lO({sep:"."},t),a=i.quotes||['"',"'","`"];!0===i.brackets?r={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(r=i.brackets);var o,s=[],l=[],u=[""],c=i.sep,h=e.length,d=-1;function f(){if(r&&l.length)return r[l[l.length-1]]}for(;++d<h;){var p=e[d],m=e[d+1],g={val:p,idx:d,arr:u,str:e};if(s.push(g),"\\"!==p){if(r&&r[p]){l.push(p);var v=f(),y=d+1;if(-1!==e.indexOf(v,y+1))for(;l.length&&y<h;){var _=e[++y];if("\\"!==_)if(-1===a.indexOf(_)){if(v=f(),l.length&&-1===e.indexOf(v,y+1))break;r[_]?l.push(_):v===_&&l.pop()}else y=pO(e,_,y+1);else _++}if(-1===(o=y)){u[u.length-1]+=p;continue}p=e.slice(d,o+1),g.val=p,g.idx=d=o}if(-1!==a.indexOf(p)){if(-1===(o=pO(e,p,d+1))){u[u.length-1]+=p;continue}p=!0===mO(p,i)?e.slice(d,o+1):e.slice(d+1,o),g.val=p,g.idx=d=o}"function"==typeof n&&(n(g,s),p=g.val,d=g.idx),g.val!==c||!1===g.split?u[u.length-1]+=g.val:u.push("")}else g.val=!0===gO(i,e,d)?p+m:m,g.escaped=!0,"function"==typeof n&&n(g),u[u.length-1]+=g.val,d++}return u}(t,{sep:".",brackets:!0}).filter(wO),i=r.length,a=-1,o=e;++a<i;){var s=r[a];a===i-1?o[s]=JL(o[s])&&JL(n)?yO({},o[s],n):n:(vO(o[s])||(o[s]={}),o=o[s])}return e};function wO(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}const SO=(...e)=>e.filter(Boolean).join(".");function MO(e,t){return i(e,function(e,t){const n=l();return KT(e,n.current)||(n.current=e),n.current}(t))}function EO(e=3){const t=l(null),n=l(null),[r,i]=p(!1),a=u(()=>i(!0),[]),s=u(()=>i(!1),[]);return o(()=>{if(r){const{bottom:r,top:i,left:a}=t.current.getBoundingClientRect(),{height:o}=n.current.getBoundingClientRect(),s=r+o>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=a+"px","down"===s?n.current.style.top=r+e+"px":n.current.style.bottom=window.innerHeight-i+e+"px"}},[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:a,hide:s}}!function(e){e.forEach(function(e){gR.indexOf(e)<0&&(e(pR,lR),gR.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,s=r[this.toHex()];if(s)return s;if(null==t?void 0:t.closest){var l=this.toRgb(),u=1/0,c="black";if(!a.length)for(var h in n)a[h]=new e(n[h]).toRgb();for(var d in n){var f=(i=l,o=a[d],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));f<u&&(u=f,c=d)}return c}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);const TO={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};function CO(e,{format:t,hasAlpha:n,isString:r}){const i=e[TO[t]+(r&&"hex"!==t?"String":"")]();return"object"!=typeof i||n?i:function(e,t){const n=Lk({},e);return["a"].forEach(t=>t in e&&delete n[t]),n}(i)}sC.extend({color:()=>e=>mR(e).isValid()});const PO=(e,t)=>{const n=mR(e);if(!n.isValid())throw Error("Invalid color");return CO(n,t)};var kO=/*#__PURE__*/Object.freeze({__proto__:null,schema:e=>sC().color().test(e),sanitize:PO,format:(e,t)=>CO(mR(e),Lk(Lk({},t),{},{isString:!0,format:"hex"})),normalize:({value:e})=>{const t=function(e){return cR(e)[1]}(e),n={format:"name"===t?"hex":t,hasAlpha:"object"==typeof e?"a"in e:"hex"===t&&8===e.length||/^(rgba)|(hsla)|(hsva)/.test(e),isString:"string"==typeof e};return{value:PO(e,n),settings:n}}});const AO=bA("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),IO=bA("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),RO=bA("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function LO(e,t){return"rgb"!==t?mR(e).toRgb():e}function OO({value:e,displayValue:n,settings:r,onUpdate:i}){const{emitOnEditStart:a,emitOnEditEnd:o}=fA(),{format:u,hasAlpha:c}=r,{popinRef:h,wrapperRef:d,shown:f,show:m,hide:g}=EO(),v=l(0),[y,_]=p(()=>LO(e,u)),b=c?GR:qR,x=()=>{g(),o(),window.clearTimeout(v.current)};return s(()=>()=>window.clearTimeout(v.current),[]),t.createElement(t.Fragment,null,t.createElement(AO,{ref:h,active:f,onClick:()=>(_(LO(e,u)),m(),void a()),style:{color:n}}),f&&t.createElement($A,null,t.createElement(HA,{onPointerUp:x}),t.createElement(RO,{ref:d,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:e=>0===e.buttons&&void(v.current=window.setTimeout(x,500))},t.createElement(b,{color:y,onChange:i}))))}var NO=Lk({component:function(){const{value:e,displayValue:n,label:r,onChange:i,onUpdate:a,settings:o}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,r),t.createElement(IO,null,t.createElement(OO,{value:e,displayValue:n,onChange:i,onUpdate:a,settings:o}),t.createElement(IA,{value:n,onChange:i,onUpdate:a})))}},kO),DO=Lk({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(DI,{value:n,settings:i,onUpdate:r}))}},VI(["x","y","z"]));const zO=bA("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),UO=bA("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function BO({value:e,settings:n,onUpdate:r}){const i=l(),a=l(0),c=l(0),h=l(1),[d,f]=p(!1),[m,g]=p(!1),[v,y]=iI(),_=l(null),b=l(null);o(()=>{if(d){const{top:e,left:t,width:n,height:r}=_.current.getBoundingClientRect();b.current.style.left=t+n/2+"px",b.current.style.top=e+r/2+"px"}},[d]);const{keys:[x,w],joystick:S}=n,M="invertY"===S?1:-1,{[x]:{step:E},[w]:{step:T}}=n,C=MA("sizes","joystickWidth"),P=MA("sizes","joystickHeight"),k=.8*parseFloat(C)/2,A=.8*parseFloat(P)/2,I=u(()=>{i.current||(g(!0),a.current&&y({x:a.current*k}),c.current&&y({y:c.current*-A}),i.current=window.setInterval(()=>{r(e=>{const t=E*a.current*h.current,n=M*T*c.current*h.current;return Array.isArray(e)?{[x]:e[0]+t,[w]:e[1]+n}:{[x]:e[x]+t,[w]:e[w]+n}})},16))},[k,A,r,y,E,T,x,w,M]),R=u(()=>{window.clearTimeout(i.current),i.current=void 0,g(!1)},[]);s(()=>{function e(e){h.current=iA(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[]);const L=rI(({first:t,active:n,delta:[i,o],movement:[s,l]})=>{t&&f(!0);const u=Ok(s,-k,k),d=Ok(l,-A,A);a.current=Math.abs(s)>Math.abs(u)?Math.sign(s-u):0,c.current=Math.abs(l)>Math.abs(d)?Math.sign(d-l):0;let p=e[x],m=e[w];n?(a.current||(p+=i*E*h.current,y({x:u})),c.current||(m-=M*o*T*h.current,y({y:d})),a.current||c.current?I():R(),r({[x]:p,[w]:m})):(f(!1),a.current=0,c.current=0,y({x:0,y:0}),R())});return t.createElement(zO,hA({ref:_},L()),d&&t.createElement($A,null,t.createElement(UO,{ref:b,isOutOfBounds:m},t.createElement("div",null),t.createElement("span",{ref:v}))))}const FO=bA("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),jO=["joystick"],VO=VI(["x","y"]);var HO=Lk(Lk({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=fA();return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(FO,{withJoystick:!!i.joystick},i.joystick&&t.createElement(BO,{value:n,settings:i,onUpdate:r}),t.createElement(DI,{value:n,settings:i,onUpdate:r})))}},VO),{},{normalize:e=>{let{joystick:t=!0}=e,n=gk(e,jO);const{value:r,settings:i}=VO.normalize(n);return{value:r,settings:Lk(Lk({},i),{},{joystick:t})}}}),WO=/*#__PURE__*/Object.freeze({__proto__:null,sanitize:e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(e){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob |File].")}},schema:(e,t)=>"object"==typeof t&&"image"in t,normalize:({image:e})=>({value:e})});const GO=bA("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),$O=bA("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),qO=bA("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),XO=bA("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),YO=bA("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),ZO=bA("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var KO=Lk({component:function(){const{label:e,value:n,onUpdate:r,disabled:i}=fA(),{popinRef:a,wrapperRef:o,shown:s,show:l,hide:c}=EO(),h=u(e=>{e.length&&r(e[0])},[r]),d=u(e=>{e.stopPropagation(),r(void 0)},[r]),{getRootProps:f,getInputProps:p,isDragAccept:m}=XL({maxFiles:1,accept:"image/*",onDrop:h,disabled:i});return t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(GO,null,t.createElement(qO,{ref:a,hasImage:!!n,onPointerDown:()=>!!n&&l(),onPointerUp:c,style:{backgroundImage:n?`url(${n})`:"none"}}),s&&!!n&&t.createElement($A,null,t.createElement(HA,{onPointerUp:c,style:{cursor:"pointer"}}),t.createElement(XO,{ref:o,style:{backgroundImage:`url(${n})`}})),t.createElement($O,f({isDragAccept:m}),t.createElement("input",p()),t.createElement(YO,null,m?"drop image":"click or drop")),t.createElement(ZO,{onClick:d,disabled:!n})))}},WO);const JO=sC().number(),QO=e=>({min:e[0],max:e[1]}),eN=(e,{bounds:[t,n]},r)=>{const i=Array.isArray(e)?QO(e):e,a={min:r[0],max:r[1]},{min:o,max:s}=Lk(Lk({},a),i);return[Ok(Number(o),t,Math.max(t,s)),Ok(Number(s),Math.min(n,o),n)]};var tN=/*#__PURE__*/Object.freeze({__proto__:null,schema:(e,t)=>sC().array().length(2).every.number().test(e)&&sC().schema({min:JO,max:JO}).test(t),format:QO,sanitize:eN,normalize:({value:e,min:t,max:n})=>{const r={min:t,max:n},i=[t,n],a=Lk(Lk({},zI(QO(e),{min:r,max:r})),{},{bounds:i});return{value:eN(QO(e),a,e),settings:a}}});const nN=["value","bounds","onDrag"],rN=["bounds"],iN=bA("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function aN(e){let{value:n,bounds:[r,i],onDrag:a}=e,o=gk(e,nN);const s=l(null),u=l(null),c=l(null),h=l(0),d=MA("sizes","scrubberWidth"),f=rI(({event:e,first:t,xy:[l],movement:[f],memo:p={}})=>{if(t){const{width:t,left:a}=s.current.getBoundingClientRect();h.current=t-parseFloat(d);const o=(null==e?void 0:e.target)===u.current||(null==e?void 0:e.target)===c.current;p.pos=Bk((l-a)/t,r,i);const f=Math.abs(p.pos-n.min)-Math.abs(p.pos-n.max);p.key=f<0||0===f&&p.pos<=n.min?"min":"max",o&&(p.pos=n[p.key])}const m=p.pos+Bk(f/h.current,0,i-r);return a({[p.key]:mI(m,o[p.key])}),p}),p=`calc(${Uk(n.min,r,i)} * (100% - ${d} - 8px) + 4px)`,m=`calc(${1-Uk(n.max,r,i)} * (100% - ${d} - 8px) + 4px)`;return t.createElement(cI,hA({ref:s},f()),t.createElement(lI,null,t.createElement(hI,{style:{left:p,right:m}})),t.createElement(uI,{position:"left",ref:u,style:{left:p}}),t.createElement(uI,{position:"right",ref:c,style:{right:m}}))}var oN=Lk({component:function(){const{label:e,displayValue:n,onUpdate:r,settings:i}=fA(),a=gk(i,rN);return t.createElement(t.Fragment,null,t.createElement(tI,{input:!0},t.createElement(ZA,null,e),t.createElement(iN,null,t.createElement(aN,hA({value:n},i,{onDrag:r})),t.createElement(DI,{value:n,settings:a,onUpdate:r,innerLabelTrim:0}))))}},tN);const sN=["type","value"],lN=["onChange","transient","onEditStart","onEditEnd"],uN=new function(){const e=Gx((e,t,n)=>{const r=n.subscribe;return n.subscribe=(e,t,i)=>{let a=e;if(t){const r=(null==i?void 0:i.equalityFn)||Object.is;let o=e(n.getState());a=n=>{const i=e(n);if(!r(o,i)){const e=o;t(o=i,e)}},(null==i?void 0:i.fireImmediately)&&t(o,o)}return r(a)},{data:{}}}),t=(()=>{const e=new Map;return{on:(t,n)=>{let r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:(t,n)=>{const r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:(t,...n)=>{const r=e.get(t);if(void 0!==r)for(const e of r)e(...n)}}})();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=e;const n={},r=new Set;this.getVisiblePaths=()=>{const e=this.getData(),t=Object.keys(e),i=[];Object.entries(n).forEach(([e,n])=>{n.render&&t.some(t=>0===t.indexOf(e))&&!n.render(this.get)&&i.push(e+".")});const a=[];return r.forEach(t=>{t in e&&e[t].__refCount>0&&i.every(e=>-1===t.indexOf(e))&&(!e[t].render||e[t].render(this.get))&&a.push(t)}),a},this.setOrderedPaths=e=>{e.forEach(e=>r.add(e))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState(e=>{const n=e.data;return t.forEach(e=>{if(e in n){const t=n[e];t.__refCount--,0===t.__refCount&&t.type in Xk&&delete n[e]}}),{data:n}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=e=>n[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState(e=>{const r=e.data;return Object.entries(t).forEach(([e,t])=>{let i=r[e];if(i){const{type:e}=t,r=gk(t,sN);e!==i.type?bk(vk.INPUT_TYPE_OVERRIDE,e):((0===i.__refCount||n)&&Object.assign(i,r),i.__refCount++)}else r[e]=Lk(Lk({},t),{},{__refCount:1})}),{data:r}})},this.setValueAtPath=(t,n,r)=>{e.setState(e=>{const i=e.data;return eA(i[t],n,t,this,r),{data:i}})},this.setSettingsAtPath=(t,n)=>{e.setState(e=>{const r=e.data;return r[t].settings=Lk(Lk({},r[t].settings),n),{data:r}})},this.disableInputAtPath=(t,n)=>{e.setState(e=>{const r=e.data;return r[t].disabled=n,{data:r}})},this.set=(t,n)=>{e.setState(e=>{const r=e.data;return Object.entries(t).forEach(([e,t])=>{try{eA(r[e],t,void 0,void 0,n)}catch(t){"development"===process.env.NODE_ENV&&console.warn(`[This message will only show in development]: \`set\` for path ${e} has failed.`,t)}}),{data:r}})},this.getInput=e=>{try{return this.getData()[e]}catch(t){bk(vk.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{t.emit(`onEditStart:${e}`,this.get(e),e,Lk(Lk({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit(`onEditEnd:${e}`,this.get(e),e,Lk(Lk({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,n)=>{const r=`onEditStart:${e}`;return t.on(r,n),()=>t.off(r,n)},this.subscribeToEditEnd=(e,n)=>{const r=`onEditEnd:${e}`;return t.on(r,n),()=>t.off(r,n)};const i=(e,t,r)=>{const a={};return Object.entries(e).forEach(([e,o])=>{if(""===e)return bk(vk.EMPTY_KEY);let s=SO(t,e);if(o.type===Xk.FOLDER){const e=i(o.schema,s,r);Object.assign(a,e),s in n||(n[s]=o.settings)}else if(e in r)bk(vk.DUPLICATE_KEYS,e,s,r[e].path);else{const t=function(e,t,n,r){const i=Qk(e,t),{type:a,input:o,options:s}=i;if(a)return a in Xk?i:{type:a,input:kk(a,o,n,r),options:s};let l=Ck(o);return l?{type:l,input:kk(l,o,n,r),options:s}:(l=Ck({value:o}),!!l&&{type:l,input:kk(l,{value:o},n,r),options:s})}(o,e,s,a);if(t){const{type:n,options:i,input:o}=t,{onChange:l,transient:u,onEditStart:c,onEditEnd:h}=i,d=gk(i,lN);a[s]=Lk(Lk(Lk({type:n},d),o),{},{fromPanel:!0}),r[e]={path:s,onChange:l,transient:u,onEditStart:c,onEditEnd:h}}else bk(vk.UNKNOWN_INPUT,s,o)}}),a};this.getDataFromSchema=e=>{const t={};return[i(e,"",t),t]}};"development"===process.env.NODE_ENV&&"undefined"!=typeof window&&(window.__STORE=uN);const cN={collapsed:!1};function hN(e,t){return{type:Xk.FOLDER,schema:e,settings:Lk(Lk({},cN),t)}}const dN=e=>"__levaInput"in e,fN=["type","label","path","valueKey","value","settings","setValue","disabled"];function pN(e){let{type:n,label:r,path:i,valueKey:a,value:o,settings:s,setValue:l,disabled:u}=e,c=gk(e,fN);const{displayValue:h,onChange:d,onUpdate:f}=nI({type:n,value:o,settings:s,setValue:l}),p=Tk[n].component;return p?t.createElement(dA.Provider,{value:Lk({key:a,path:i,id:""+i,label:r,displayValue:h,value:o,onChange:d,onUpdate:f,settings:s,setValue:l,disabled:u},c)},t.createElement(VA,{disabled:u},t.createElement(p,null))):(bk(vk.NO_COMPONENT_FOR_TYPE,n,i),null)}const mN=bA("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),gN=bA("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),vN=bA("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),yN=bA("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),_N=c(function({initialValue:e},n){const r=MA("colors","highlight3"),a=MA("colors","elevation2"),o=MA("colors","highlight1"),[c,h]=i(()=>[mR(o).alpha(.4).toRgbString(),mR(o).alpha(.1).toRgbString()],[o]),d=l([e]),f=l(e),p=l(e),m=l(),g=u((e,t)=>{if(!e)return;const{width:n,height:i}=e,o=new Path2D,s=n/100,l=.05*i;for(let e=0;e<d.current.length;e++){const t=Uk(d.current[e],f.current,p.current);o.lineTo(s*e,i-t*(i-2*l)-l)}t.clearRect(0,0,n,i);const u=new Path2D(o);u.lineTo(s*(d.current.length+1),i),u.lineTo(0,i),u.lineTo(0,0);const m=t.createLinearGradient(0,0,0,i);m.addColorStop(0,c),m.addColorStop(1,h),t.fillStyle=m,t.fill(u),t.strokeStyle=a,t.lineJoin="round",t.lineWidth=14,t.stroke(o),t.strokeStyle=r,t.lineWidth=2,t.stroke(o)},[r,a,c,h]),[v,y]=function(e){const t=l(null),n=l(null),r=l(!1);return s(()=>{const i=rA(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[e]),s(()=>{n.current=t.current.getContext("2d")},[]),[t,n]}(g);return b(n,()=>({frame:e=>{(void 0===f.current||e<f.current)&&(f.current=e),(void 0===p.current||e>p.current)&&(p.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(d.current,e),m.current=requestAnimationFrame(()=>g(v.current,y.current))}}),[v,y,g]),s(()=>()=>cancelAnimationFrame(m.current),[]),t.createElement(yN,{ref:v})}),bN=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),xN=c(function({initialValue:e},n){const[r,i]=p(bN(e));return b(n,()=>({frame:e=>i(bN(e))}),[]),t.createElement("div",null,r)});function wN(e){return"function"==typeof e?e():e.current}const SN=["type","label","key"],MN={[Xk.BUTTON]:function({onClick:e,settings:n,label:r}){const i=vA();return t.createElement(tI,null,t.createElement(mN,{disabled:n.disabled,onClick:()=>e(i.get)},r))},[Xk.BUTTON_GROUP]:function(e){const{label:n,opts:r}=(({label:e,opts:t})=>{let n="string"==typeof e&&""===e.trim()?null:e,r=t;return"object"==typeof t.opts&&(void 0!==r.label&&(n=t.label),r=t.opts),{label:n,opts:r}})(e),i=vA();return t.createElement(tI,{input:!!n},n&&t.createElement(ZA,null,n),t.createElement(gN,null,Object.entries(r).map(([e,n])=>t.createElement(vN,{key:e,onClick:()=>n(i.get)},e))))},[Xk.MONITOR]:function({label:e,objectOrFn:n,settings:r}){const i=l(),a=l(wN(n));return s(()=>{const e=window.setInterval(()=>{var e;document.hidden||null===(e=i.current)||void 0===e||e.frame(wN(n))},r.interval);return()=>window.clearInterval(e)},[n,r.interval]),t.createElement(tI,{input:!0},t.createElement(ZA,{align:"top"},e),t.createElement(r.graph?_N:xN,{ref:i,initialValue:a.current}))}},EN=t.memo(({path:e})=>{const[n,{set:r,setSettings:i,disable:a,storeId:o,emitOnEditStart:l,emitOnEditEnd:c}]=function(e){const t=vA(),[n,r]=p(oI(t.getData(),e)),i=u(n=>t.setValueAtPath(e,n,!0),[e,t]),a=u(n=>t.setSettingsAtPath(e,n),[e,t]),o=u(n=>t.disableInputAtPath(e,n),[e,t]),l=u(()=>t.emitOnEditStart(e),[e,t]),c=u(()=>t.emitOnEditEnd(e),[e,t]);return s(()=>{r(oI(t.getData(),e));const n=t.useStore.subscribe(t=>oI(t.data,e),r,{equalityFn:VE});return()=>n()},[t,e]),[n,{set:i,setSettings:a,disable:o,storeId:t.storeId,emitOnEditStart:l,emitOnEditEnd:c}]}(e);if(!n)return null;const{type:h,label:d,key:f}=n,m=gk(n,SN);return h in Xk?t.createElement(MN[h],hA({label:d,path:e},m)):h in Tk?t.createElement(pN,hA({key:o+e,type:h,label:d,storeId:o,path:e,valueKey:f,setValue:r,setSettings:i,disable:a,emitOnEditStart:l,emitOnEditEnd:c},m)):(xk(vk.UNSUPPORTED_INPUT,h,e),null)});function TN({toggle:e,toggled:n,name:r}){return t.createElement(NA,{onClick:()=>e()},t.createElement(QA,{toggled:n}),t.createElement("div",null,r))}const CN=({name:e,path:n,tree:r})=>{const i=vA(),a=SO(n,e),{collapsed:s,color:u}=i.getFolderSettings(a),[c,h]=p(!s),d=l(null),f=MA("colors","folderWidgetColor"),m=MA("colors","folderTextColor");return o(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",u||f),d.current.style.setProperty("--leva-colors-folderTextColor",u||m)},[u,f,m]),t.createElement(LA,{ref:d},t.createElement(TN,{name:e,toggled:c,toggle:()=>h(e=>!e)}),t.createElement(PN,{parent:a,tree:r,toggled:c}))},PN=t.memo(({isRoot:e=!1,fill:n=!1,flat:r=!1,parent:i,tree:a,toggled:u})=>{const{wrapperRef:c,contentRef:h}=function(e){const t=l(null),n=l(null),r=l(!0);return o(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),s(()=>{if(r.current)return void(r.current=!1);let i;const a=t.current,o=()=>{e&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",o,{once:!0});const{height:s}=n.current.getBoundingClientRect();return a.style.height=s+"px",e||(a.style.overflow="hidden",i=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",o),clearTimeout(i)}},[e]),{wrapperRef:t,contentRef:n}}(u),d=vA(),f=([e,t])=>{var n;return(dN(t)?null===(n=d.getInput(t.path))||void 0===n?void 0:n.order:d.getFolderSettings(SO(i,e)).order)||0},p=Object.entries(a).sort((e,t)=>f(e)-f(t));return t.createElement(OA,{ref:c,isRoot:e,fill:n,flat:r},t.createElement(DA,{ref:h,isRoot:e,toggled:u},p.map(([e,n])=>dN(n)?t.createElement(EN,{key:n.path,valueKey:n.valueKey,path:n.path}):t.createElement(CN,{key:e,name:e,path:i,tree:n}))))}),kN=bA("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${UA}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),AN=bA("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),IN=bA("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),RN=bA("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${AN}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),LN=bA("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),ON=bA("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),NN=t.forwardRef(({setFilter:e,toggle:n},r)=>{const[a,o]=p(""),l=i(()=>rA(e,250),[e]);return s(()=>{l(a)},[a,l]),t.createElement(t.Fragment,null,t.createElement(LN,{ref:r,value:a,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:e=>{const t=e.currentTarget.value;n(!0),o(t)}}),t.createElement(AN,{onClick:()=>(e(""),void o("")),style:{visibility:a?"visible":"hidden"}},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function DN({setFilter:e,onDrag:n,onDragStart:r,onDragEnd:i,toggle:a,toggled:o,title:u,drag:c,filterEnabled:h,from:d}){const[f,m]=p(!1),g=l(null);s(()=>{var e,t;f?null===(e=g.current)||void 0===e||e.focus():null===(t=g.current)||void 0===t||t.blur()},[f]);const v=rI(({offset:[e,t],first:a,last:o})=>{n({x:e,y:t}),a&&r({x:e,y:t}),o&&i({x:e,y:t})},{filterTaps:!0,from:({offset:[e,t]})=>[(null==d?void 0:d.x)||e,(null==d?void 0:d.y)||t]});return s(()=>{const e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&m(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),t.createElement(t.Fragment,null,t.createElement(IN,{mode:c?"drag":void 0},t.createElement(AN,{active:!o,onClick:()=>a()},t.createElement(QA,{toggled:o,width:12,height:8})),t.createElement(ON,hA({},c?v():{},{drag:c,filterEnabled:h}),void 0===u&&c?t.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},t.createElement("circle",{cx:"2",cy:"2",r:"2"}),t.createElement("circle",{cx:"14",cy:"2",r:"2"}),t.createElement("circle",{cx:"26",cy:"2",r:"2"}),t.createElement("circle",{cx:"2",cy:"12",r:"2"}),t.createElement("circle",{cx:"14",cy:"12",r:"2"}),t.createElement("circle",{cx:"26",cy:"12",r:"2"})):u),h&&t.createElement(AN,{active:f,onClick:()=>m(e=>!e)},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},t.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),t.createElement(RN,{toggled:f},t.createElement(NN,{ref:g,setFilter:e,toggle:a})))}const zN=["store","hidden","theme","collapsed"];function UN(e){let{store:n,hidden:r=!1,theme:a,collapsed:o=!1}=e,s=gk(e,zN);const l=MO(()=>function(e){const t={colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}};if(!e)return{theme:t,className:""};Object.keys(e).forEach(n=>{Object.assign(t[n],e[n])});const n=xA(t);return{theme:t,className:n.className}}(a),[a]),[u,c]=p(!o),h="object"==typeof o?!o.collapsed:u,d=i(()=>"object"==typeof o?e=>{o.onChange("function"==typeof e?!e(!o.collapsed):!e)}:c,[o]);return!n||r?null:t.createElement(pA.Provider,{value:l},t.createElement(BN,hA({store:n},s,{toggled:h,setToggle:d,rootClass:l.className})))}const BN=t.memo(({store:e,rootClass:n,fill:r=!1,flat:a=!1,neverHide:o=!1,oneLineLabels:l=!1,titleBar:u={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:h,setToggle:d})=>{var f,m;const g=(e=>{const[t,n]=p(e.getVisiblePaths());return s(()=>{n(e.getVisiblePaths());const t=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:VE});return()=>t()},[e]),t})(e),[v,y]=p(""),_=i(()=>((e,t)=>{const n={},r=t?t.toLowerCase():null;return e.forEach(e=>{const[t,i]=function(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!r||t.toLowerCase().indexOf(r)>-1)&&function(e,t,n){if(!QL(e))throw new TypeError("expected an object");if("string"!=typeof t||null==n)return iO.apply(null,arguments);if("string"==typeof n)return xO(e,t,n),e;var r=aO(e,t);QL(n)&&QL(r)&&(n=iO({},r,n)),xO(e,t,n)}(n,i,{[t]:{__levaInput:!0,path:e}})}),n})(g,v),[g,v]),[b,x]=iI(),w=o||g.length>0,S="object"==typeof u&&u.title||void 0,M="object"!=typeof u||null===(f=u.drag)||void 0===f||f,E="object"!=typeof u||null===(m=u.filter)||void 0===m||m,T="object"==typeof u&&u.position||void 0,C="object"==typeof u&&u.onDrag||void 0,P="object"==typeof u&&u.onDragStart||void 0,k="object"==typeof u&&u.onDragEnd||void 0;return t.useEffect(()=>{x({x:null==T?void 0:T.x,y:null==T?void 0:T.y})},[T,x]),SA(),t.createElement(gA.Provider,{value:{hideCopyButton:c}},t.createElement(kN,{ref:b,className:n,fill:r,flat:a,oneLineLabels:l,hideTitleBar:!u,style:{display:w?"block":"none"}},u&&t.createElement(DN,{onDrag:e=>{x(e),null==C||C(e)},onDragStart:e=>null==P?void 0:P(e),onDragEnd:e=>null==k?void 0:k(e),setFilter:y,toggle:e=>d(t=>null!=e?e:!t),toggled:h,title:S,drag:M,filterEnabled:E,from:T}),w&&t.createElement(mA.Provider,{value:e},t.createElement(PN,{isRoot:!0,fill:r,flat:a,tree:_,toggled:h}))))}),FN=["isRoot"];let jN=!1,VN=null;function HN(e){let{isRoot:n=!1}=e,r=gk(e,FN);return s(()=>(jN=!0,!n&&VN&&(VN.remove(),VN=null),()=>{n||(jN=!1)}),[n]),t.createElement(UN,hA({store:uN},r))}function WN(e,n,r,a,o){const{folderName:c,schema:h,folderSettings:d,hookSettings:f,deps:m}=function(e,t,n,r,i){let a,o,s,l,u;return"string"==typeof e?(o=e,a=t,Array.isArray(n)?u=n:n&&("store"in n?(l=n,u=r):(s=n,Array.isArray(r)?u=r:(l=r,u=i)))):(a=e,Array.isArray(t)?u=t:(l=t,u=n)),{schema:a,folderName:o,folderSettings:s,hookSettings:l,deps:u||[]}}(e,n,r,a,o),g="function"==typeof h,v=l(!1),y=l(!0),_=MO(()=>{v.current=!0;const e="function"==typeof h?h():h;return c?{[c]:hN(e,d)}:e},m);var b;s(()=>{b&&!jN&&(VN||(VN=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(VN),function(e,t){const n=console.error;console.error=()=>{},T.render(e,t),console.error=n}(t.createElement(HN,{isRoot:!0}),VN))),jN=!0)},[b=!(null!=f&&f.store)]);const[x]=p(()=>(null==f?void 0:f.store)||uN),[w,S]=i(()=>x.getDataFromSchema(_),[x,_]),[M,E,C,P,k]=i(()=>{const e=[],t=[],n={},r={},i={};return Object.values(S).forEach(({path:a,onChange:o,onEditStart:s,onEditEnd:l,transient:u})=>{e.push(a),o?(n[a]=o,u||t.push(a)):t.push(a),s&&(r[a]=s),l&&(i[a]=l)}),[e,t,n,r,i]},[S]),A=i(()=>x.orderPaths(M),[M,x]),I=function(e,t,n){const r=e.useStore(e=>function(e,t){return Object.entries(function(e,t){return t.reduce((t,n)=>(e&&e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}(e,t)).reduce((e,[,{value:t,disabled:n,key:r}])=>(e[r]=n?void 0:t,e),{})}(Lk(Lk({},n),e.data),t),VE);return r}(x,E,w),R=u(e=>{const t=Object.entries(e).reduce((e,[t,n])=>Object.assign(e,{[S[t].path]:n}),{});x.set(t,!1)},[x,S]),L=u(e=>x.get(S[e].path),[x,S]);return s(()=>(x.addData(w,!y.current&&v.current),y.current=!1,v.current=!1,()=>x.disposePaths(A)),[x,A,w]),s(()=>{const e=[];return Object.entries(C).forEach(([t,n])=>{n(x.get(t),t,Lk({initial:!0,get:x.get},x.getInput(t)));const r=x.useStore.subscribe(e=>{const n=e.data[t];return[n.disabled?void 0:n.value,n]},([e,r])=>n(e,t,Lk({initial:!1,get:x.get},r)),{equalityFn:VE});e.push(r)}),()=>e.forEach(e=>e())},[x,C]),s(()=>{const e=[];return Object.entries(P).forEach(([t,n])=>e.push(x.subscribeToEditStart(t,n))),Object.entries(k).forEach(([t,n])=>e.push(x.subscribeToEditEnd(t,n))),()=>e.forEach(e=>e())},[P,k,x]),g?[I,R,L]:I}Pk(Yk.SELECT,wI),Pk(Yk.IMAGE,KO),Pk(Yk.NUMBER,gI),Pk(Yk.COLOR,NO),Pk(Yk.STRING,CI),Pk(Yk.BOOLEAN,II),Pk(Yk.INTERVAL,oN),Pk(Yk.VECTOR3D,DO),Pk(Yk.VECTOR2D,HO);var GN,$N,qN,XN,YN={Roboto:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff","Noto Sans":"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",Comfortaa:"https://fonts.gstatic.com/s/comfortaa/v12/1Ptsg8LJRfWJmhDAuUs4TYFs.woff",Cookie:"https://fonts.gstatic.com/s/cookie/v8/syky-y18lb0tSbf9kgqU.woff",Philosopher:"https://fonts.gstatic.com/s/philosopher/v9/vEFV2_5QCwIS4_Dhez5jcWBuT0s.woff",Quicksand:"https://fonts.gstatic.com/s/quicksand/v7/6xKtdSZaM9iE8KbpRA_hK1QL.woff",Trirong:"https://fonts.gstatic.com/s/trirong/v3/7r3GqXNgp8wxdOdOn4so3g.woff",Trocchi:"https://fonts.gstatic.com/s/trocchi/v6/qWcqB6WkuIDxDZLcPrxeuw.woff","Advent Pro":"https://fonts.gstatic.com/s/adventpro/v7/V8mAoQfxVT4Dvddr_yOwhTqtLg.woff","Henny Penny":"https://fonts.gstatic.com/s/hennypenny/v5/wXKvE3UZookzsxz_kjGSfPQtvXQ.woff",Orbitron:"/fonts/Orbitron-Black.ttf",Sacramento:"https://fonts.gstatic.com/s/sacramento/v5/buEzpo6gcdjy0EiZMBUG4C0f-w.woff","Snowburst One":"https://fonts.gstatic.com/s/snowburstone/v5/MQpS-WezKdujBsXY3B7I-UT7SZieOA.woff",Syncopate:"https://fonts.gstatic.com/s/syncopate/v9/pe0sMIuPIYBCpEV5eFdCBfe5.woff",Wallpoet:"https://fonts.gstatic.com/s/wallpoet/v9/f0X10em2_8RnXVVdUObp58I.woff","Sirin Stencil":"https://fonts.gstatic.com/s/sirinstencil/v6/mem4YaWwznmLx-lzGfN7MdRyRc9MAQ.woff"},ZN={torus:{vertexShader:C(GN||(GN=O(["\n    varying vec2 vUv;\n    varying vec3 vPos;\n\n    void main() {\n        vUv = uv;\n        vPos = position;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n  "]))),fragmentShader:C($N||($N=O(["\n    varying vec2 vUv;\n    varying vec3 vPos;\n\n    uniform sampler2D uTexture;\n    uniform float uTime;\n\n    void main() {\n      float time = uTime * 0.5;\n      vec2 repeat = -vec2(12., 3.);\n      // To repeat the uvs we need to multiply them by a scalar\n      // and then get the fractional part of it so they from 0 to 1\n      // To move them continuously we have to add time\n      // to the x or y component, to change the direction\n      vec2 uv = fract(vUv * repeat - vec2(time, 0.)); // The sign of time change direction of movement\n\n      // Fake shadow\n      float shadow = clamp(vPos.z / 5., 0., 1.);\n\n      vec3 texture = texture2D(uTexture, uv).rgb;\n      // texture *= vec3(uv.x, uv.y, 1.); // To help visualize the repeated uvs\n\n      gl_FragColor = vec4(texture * shadow, 1.);\n    }"])))},box:{vertexShader:C(qN||(qN=O(["\n    \n      varying vec2 vUv;\n      varying vec3 vPos;\n\n      const float PI = 3.1415926535897932384626433832795;\n\n      mat4 rotation3d(vec3 axis, float angle) {\n        axis = normalize(axis);\n        float s = sin(angle);\n        float c = cos(angle);\n        float oc = 1.0 - c;\n      \n        return mat4(\n          oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n          oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n          oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n          0.0,                                0.0,                                0.0,                                1.0\n        );\n      }\n\n      vec3 rotate(vec3 v, vec3 axis, float angle) {\n        return (rotation3d(axis, angle) * vec4(v, 1.0)).xyz;\n      } \n\n      void main() {\n          vUv = uv;\n          vPos = position;\n          vec3 axis = vec3(1.0, 0.0, 0.0);\n          vec3 pos = rotate(position, axis, position.x * 0.1);\n\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n      }\n    "]))).trim(),fragmentShader:C(XN||(XN=O(["\n      varying vec2 vUv;\n      varying vec3 vPos;\n\n      uniform sampler2D uTexture;\n      uniform float uTime;\n\n      void main() {\n          vec2 offset = vec2(uTime * 0.1, 0.0);\n          vec2 repeats = vec2(3.0, 3.0);\n          vec2 uv = fract((vUv + offset) * repeats);\n          vec3 texture = texture2D(uTexture, uv).rgb;\n\n          gl_FragColor = vec4(texture, 1.);\n      }\n    "]))).trim()}};function KN(e){var t=e.fontRef,n=e.text,r=void 0===n?"Lorem ipsum":n,i=WN({Font:hN({fontSize:{min:1,max:100,value:61,step:1},fontWidth:{min:0,max:10,value:.29,step:.01},fontHeight:{min:0,max:10,value:1,step:.01},fontDepth:{min:0,max:10,value:1,step:.01},font:{options:Object.keys(YN),value:"Orbitron"},color:"#ffffff"})});return h(zT,{ref:t,scale:[i.fontWidth,i.fontHeight,i.fontDepth],color:i.color,font:YN[i.font],fontSize:i.fontSize},r)}var JN=function(e){var t={vertexShader:ZN.torus.vertexShader,fragmentShader:ZN.torus.fragmentShader,uniforms:{uTime:{value:0},uTexture:{value:e.rt.texture}}},n=l(null);return Nw(function(e){n.current&&(n.current.uniforms.uTime.value=e.clock.getElapsedTime())},1),h("mesh",null,h("torusKnotBufferGeometry",{args:[9,3,768,3,4,3]}),h("shaderMaterial",{ref:n,args:[t]}))},QN=function(e){var t={vertexShader:ZN.box.vertexShader,fragmentShader:ZN.box.fragmentShader,uniforms:{uTime:{value:0},uTexture:{value:e.rt.texture}}};console.log(ZN.box.fragmentShader);var n=l(null);return Nw(function(e){n.current&&(n.current.uniforms.uTime.value=e.clock.getElapsedTime())},1),h("mesh",null,h("boxBufferGeometry",{args:[100,10,10,64,64,64]}),h("shaderMaterial",{ref:n,args:[t]}))},eD=function(e){var t=e.variant,n=e.fontBackgroundColor,r=void 0===n?"#fff000":n,a=e.text,o=void 0===a?"Lorem ipsum":a,s=Ow(),u=s.gl,c=s.scene,d=s.camera,f=l(),p=WN({Camera:hN({cameraZ:{min:1,max:100,value:70,step:1}})}).cameraZ,m=i(function(){var e=new rd(window.innerWidth,window.innerHeight),t=new cp(45,1,.1,1e3),n=new tv;return n.background=new Yh(r),[e,n,t]},[r]),g=m[0],v=m[1],y=m[2];return useEffect(function(){v.add(f.current)},[v,f]),Nw(function(){y.position.z=p,u.setRenderTarget(g),u.render(v,y),u.setRenderTarget(null),u.render(c,d)},1),h(Fragment,null,"knot"===t?h(JN,{rt:g}):h(QN,{rt:g}),h(KN,{fontRef:f,text:o}))},tD=function(e){var t=e.variant,n=void 0===t?"box":t,r=e.text,i=WN({Scene:hN({fontBackgroundColor:"#d8345f",text:void 0===r?"FAKE":r})});return h(eD,{variant:n,text:i.text,fontBackgroundColor:i.fontBackgroundColor})};tD.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["box","knot"]),children:M.node};var nD={loader_bar:"_UmOOj",loader_bar__default:"_Bg818"},rD=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"":r,a=e.variant,o=void 0===a?"default":a,s=e.children,l=void 0===s?"":s,u=e.loadingPercentage,c=e.onLoadProgress,d=void 0===c?function(e){}:c,f=e.onLoaderHideCallback,m=void 0===f?function(){}:f,g=e.infinite,v=void 0!==g&&g,y=e.time,_=void 0===y?25:y,b=p(void 0===u?0:u),x=b[0],w=b[1];return Yu(function(){var e;if(e||(e=setTimeout(function(){var e=x+.5;w(e),d(e)},_)),!(v&&x>=100))return x>=100?(m(),void clearTimeout(e)):function(){return clearTimeout(e)};w(0)},[v,x]),h(n,{className:nD.loader_bar+" "+nD["loader_bar__"+o]+" z-infinity "+i},h("div",{className:"flex flex-col items-center loader-modal--container"},h(Yl.div,{className:"h-[8px] w-[200px] overflow-hidden bg-black"},h("div",{className:"h-full bg-gray-600 loading-status-bar",style:{width:x+"%"}})),l))};function iD(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=iD(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function aD(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=iD(e))&&(r&&(r+=" "),r+=t);return r}rD.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var oD={menu:"_uj3BS",menu__default:"_mU4-J"},sD=function(e){var t=e.className,n=e.strokeWidth,r=e.strokeLinecap,i=e.active,a=e.onClick,o=e.width,s=void 0===o?"38px":o;return h("div",{className:void 0===t?"absolute w-[38px] h-[38px]":t,style:{height:s,minHeight:s,width:s,minWidth:s}},h(Yl.button,{layout:!0,key:"closeBtn",className:"transition-color flex h-full w-full items-center justify-center rounded-full border border-transparent bg-[#2A2A2A] text-white duration-500 ease-in-out-expo hover:border-current hover:bg-transparent",initial:"initial",animate:void 0!==i&&i?"animate":"exit",exit:"exit",variants:{initial:{opacity:0,translateX:"0%"},animate:{opacity:1,transition:{duration:.25,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.15,ease:"easeInOut"}}},onClick:void 0===a?function(){return console.log("Clicked close")}:a},h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 42 42",className:"block",style:{height:"calc("+s+" / 2.5)",width:"calc("+s+" / 2.5)"}},h("path",{stroke:"currentColor",strokeLinecap:void 0===r?"round":r,strokeWidth:void 0===n?5:n,d:"m3 3 36.172 36.172m-36 0L39.343 3"}))))},lD=function(e){return h(Yl.button,{className:"",onClick:e.onClick,initial:"initial",animate:"animate",exit:"exit",variants:e.variants},h("span",{className:"z-0 flex h-full w-full transform items-center justify-center whitespace-nowrap border px-5 transition-all duration-1000 ease-in-out-expo "+(e.selected?"translate-x-[-20px] rounded-r-full border-[#65D46E] bg-[#65D46E]/50":"translate-x-0 rounded-full border-white bg-transparent hover:bg-[#20612B]")},e.children))},uD=function(e){var t=e.index,n=e.selected,r=void 0!==n&&n,i=e.children,a=void 0===i?"Lorem":i,o=e.onSelect,s=void 0===o?function(e){return console.log("Clicked item",e)}:o,l=e.onClose,u=void 0===l?function(e){return console.log("Clicked close",e)}:l,c=e.height,d=void 0===c?"38px":c,f=e.subMenu,m=p(!1),g=m[0],v=m[1],y={initial:{opacity:0},animate:{opacity:1,transition:{duration:1,ease:"easeInOut"}},exit:{opacity:0,transitionEnd:{display:"none"},transition:{duration:.25,ease:"easeOut"}}};return h(Yl.li,{layout:"preserve-aspect",className:"relative flex min-w-max",initial:"initial",animate:"animate",exit:"exit",variants:y,style:{height:d}},h("button",{onClick:r?function(){return u(a,t)}:function(){return s(a,t)},className:"transition-color z-10 flex h-full items-center justify-center rounded-full border px-5 font-sans duration-500 ease-in-out-expo "+(r?"border-[#65D46E] bg-[#65D46E]":"border-current bg-transparent")},a),h(Yl.div,{layout:"preserve-aspect",className:"flex w-auto pl-2 space-x-2"},h(ru,null,f&&f.map(function(e,t){var n=e.name;return g&&g===t+1?h(lD,{selected:g,variants:y,key:"submenu-"+t,onClick:function(){return v(!1)}},n):g?null:h(lD,{selected:g,variants:y,key:"submenu-"+t,onClick:function(){return v(t+1)}},n)}))))},cD=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute flex items-start justify-start w-full left-3":r,a=e.variant,o=void 0===a?"light":a,s=e.items,l=void 0===s?[{name:"F",position:"Pizza of Pizza",image:"https://assets.fomolol.com/pizza.png"},{name:"O",position:"Ipsum of Lorem",image:"https://assets.fomolol.com/pizza.png",subMenu:[{name:"Two Data"}]},{name:"M",position:"Ipsum of Lorem",image:"https://assets.fomolol.com/pizza.png",subMenu:[{name:"Three Data"},{name:"More data"}]},{name:"O",position:"Ipsum of Lorem",image:"https://assets.fomolol.com/pizza.png"}]:s,u=p("undefined"),c=u[0],d=u[1],f="text-white";switch(o){case"light":f="text-black";break;case"dark":f="text-white"}var m=function(e,t){d(t)},g=function(){d("undefined")};return h(n,{className:aD(oD.menu,oD["menu__"+o],i)},h(lu,{id:"main-menu"},h(sD,{variant:o,onClick:g,active:"undefined"!==c}),h(Yl.ul,{className:aD(f,"flex w-auto transform space-x-2 duration-1000 ease-in-out-expo will-change-transform "+("undefined"!==c?"translate-x-[44px]":"translate-x-[0px]")),initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0},animate:{opacity:1,transition:{duration:1,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:1,ease:"easeInOut"}}}},l.map(function(e,t){var n=e.name;return"undefined"!==c&&c==t?h(uD,{variant:o,selected:!0,onSelect:m,onClose:g,index:t,key:"item-"+t,subMenu:e.subMenu},n):"undefined"===c?h(uD,{variant:o,onSelect:m,index:t,key:"item-"+t},n):null}))))};cD.propTypes={tagName:M.object,className:M.string,variant:M.oneOf(["light","dark"]),items:M.object};var hD={menu_image_hover:"_ksHU8",menu_image_hover__default:"_NSW1I"},dD=[.445,.05,.55,.95],fD=[.785,.135,.15,.86],pD={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:dD,easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:fD,easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55],easeCustom:[0,.55,.45,1]},mD=function(e){return h(Yl.div,{className:"relative w-full h-full overflow-hidden",initial:"open",animate:"show",exit:"hide",variants:{open:{translateX:"100%",transition:{duration:.5,ease:dD}},hide:{translateX:"-100%",transition:{duration:.5,ease:dD}},show:{translateX:"0%",transition:{duration:.5,ease:dD}}}},e.children)},gD=function(e){return h(Yl.div,{className:"h-full w-full bg-cover bg-center",initial:"open",animate:"show",exit:"hide",variants:{open:{translateX:"-100%",transition:{duration:.5,ease:dD}},hide:{translateX:"100%",transition:{duration:.5,ease:dD}},show:{translateX:"0%",transition:{duration:.5,ease:dD}}},style:{backgroundImage:"url("+e.src+")"}})},vD=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"relative flex items-center justify-center transition duration-500 ease-in-out-expo":r,a=e.variant,o=void 0===a?"default":a,u=e.children,c=void 0===u?"":u,d=e.src,f=void 0===d?"/img/pizza.gif":d,m=l(),g=l(),v=p(!1),y=v[0],_=v[1],b=uu(0),x=((e,t)=>{const{x:n,y:r}=sc(),i=uu(0),a=uu(0),o=uu(0),l=uu(0),u=uu(0),c=uu(0),h=pu(`translate(${i.get()}px, ${o.get()}px) rotate(${u.get()}deg)`),d=`brightness(${c.get()})`;return s(()=>{const a=e.current.getBoundingClientRect(),s=t.current.getBoundingClientRect(),l=Math.abs(n-a.left)-s.width/2,u=Math.abs(r-a.top)-s.height/2;i.set(l),o.set(u)},[n,r]),s(()=>{function e(){const e={x:a.get()-i.get(),y:l.get()-o.get()};a.set(Xu(a.get(),i.getPrevious(),.08)),l.set(Xu(l.get(),o.getPrevious(),.08));const t=(n=Math.abs(e.x))<=0?0:n>=100?100:n;var n;const r=qu(t,0,100,0,e.x<0?33:-33);el(u,r,{duration:.25,ease:"linear"});const s=qu(t,0,100,1,3);c.set(s)}const t=i.onChange(e),n=o.onChange(e);return()=>{t(),n()}},[]),{transform:h,filter:d}})(m,g),w=x.transform,S=x.filter;return s(function(){el(b,y?1:0,{duration:1,ease:fD})},[y]),h(n,{className:aD(hD.menu_image_hover,hD["menu_image_hover__"+o],i,y?"z-20":"z-1"),onMouseOver:function(){return _(!0)},onMouseOut:function(){return _(!1)},ref:g},h(Yl.div,{className:"pointer-events-none absolute z-0 h-[calc(692px/1.5)] w-[calc(563px/1.5)] origin-center overflow-hidden",style:{transform:w,filter:S,opacity:b}},h(ru,null,y&&h(mD,null,h(gD,{src:f})))),h("p",{ref:m,className:"relative z-1"},c))};vD.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var yD={noise_grain:"_gM5wd",noise_grain__default:"_kOWO5"},_D=function(e){var t=e.tagName,n=e.className,r=e.variant,i=void 0===r?"grain":r,a=e.noiseSrc,o=void 0===a?"../assets/noise.png":a,s=e.scratchesSrc,l=void 0===s?"../assets/scratches.webp":s;return h(void 0===t?"div":t,{className:yD.noise_grain+" "+yD["noise_grain__"+i]+" "+(void 0===n?"fixed inset-0 w-full h-full pointer-events-none":n)},("noise"===i||"both"===i)&&h("div",{className:"h-full "+yD["c-noise"]}),("grain"===i||"both"===i)&&h("div",{className:"h-full w-full "+yD["c-old"]+" mix-blend-multiply"}),h("style",{jsx:!0},"\n        .c-noise {\n          /* animation: grain 6s steps(10) infinite; */\n          background-image: url("+o+");\n          background-repeat: repeat;\n          height: 100%;\n          left: -50%;\n          opacity: 0.035;\n          position: absolute;\n          top: -100%;\n          width: 300%;\n          z-index: 100;\n          pointer-events: none;\n        }\n\n        .c-old {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-image: url("+l+");\n          opacity: 0.05;\n          background-repeat: no-repeat;\n          background-size: cover;\n          background-position: center center;\n          z-index: 150;\n          pointer-events: none;\n        }\n      "))};_D.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["grain","noise","both"]),children:M.node};var bD={no_signal:"_3tQKs",no_signal__default:"_mkgB1"},xD=/*#__PURE__*/function(){function e(){}return e.randomColor=function(){return Math.round(16777215*Math.random())},e.randomSaturatedColor=function(){var e=Math.round(255*Math.random());return e<<16|e<<8|e},e.mulColor=function(e,t){var n=(16711680&e)>>16,r=(65280&e)>>8,i=255&e;return(n=Math.min(Math.round(n*t),255))<<16|(r=Math.min(Math.round(r*t),255))<<8|Math.min(Math.round(i*t),255)},e}(),wD=/*#__PURE__*/function(){function e(e){this.canvas=e.canvas,this.context=e,this.pixelSize=4,this.pixels=[],this.onResize(),this.tick=0,this.lines=[{pos:50,height:28,speed:.281},{pos:80,height:16,speed:1.129}]}var t=e.prototype;return t.onResize=function(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.pixels.length=0},t.start=function(){},t.update=function(){for(var e=Math.ceil(this.width/this.pixelSize),t=Math.ceil(this.height/this.pixelSize),n=0,r=0;r<t;r++)for(var i=this.isInLine(r,t),a=0;a<e;a++){var o=a+r*e,s=void 0;n<=0?(n=1+Math.floor(3*Math.random()),s=xD.randomSaturatedColor(),s=xD.mulColor(s,i?.55:.4)):s=xD.mulColor(s=this.pixels[o-1],.8),this.pixels[o]=s,n--}this.updateLines(t),this.linePos%=t,this.renderPixels()},t.updateLines=function(e){this.lines.forEach(function(t){return t.pos=(t.pos+t.speed)%e})},t.isInLine=function(e,t){return this.lines.some(function(n){return e>=n.pos&&e<n.pos+n.height||n.pos+n.height>t&&e<n.pos-t+n.height})},t.renderPixels=function(){for(var e=Math.ceil(this.width/this.pixelSize),t=0;t<this.pixels.length;t++){var n=t%e,r=Math.floor(t/e);this.context.fillStyle="#"+this.pixels[t].toString(16),this.context.fillRect(n*this.pixelSize,r*this.pixelSize,this.pixelSize,this.pixelSize)}},e}(),SD=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute top-0 left-0 z-0 w-screen h-screen":r,a=e.variant,o=void 0===a?"default":a;return Yu(function(){var e=new wD(document.getElementsByTagName("canvas")[0].getContext("2d"));return e.start(),requestAnimationFrame(function t(){e.update(),requestAnimationFrame(t)}),window.addEventListener("resize",e.onResize.bind(e)),function(){return window.removeEventListener("resize",e.onResize.bind(e))}},[]),h(n,{className:bD.no_signal+" "+bD["no_signal__"+o]+" "+i},h("canvas",null))};SD.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};const MD='#define GLSLIFY 1\n#define MAX_FBM_ITERATIONS 30\n#define gln_PI 3.1415926538\nvec4 _permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 _taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}/***@typedef{struct}gln_tFBMOpts Options for fBm generators.*@property{float}seed Seed for PRNG generation.*@property{float}persistance Factor by which successive layers of noise*will decrease in amplitude.*@property{float}lacunarity Factor by which successive layers of noise*will increase in frequency.*@property{float}scale "Zoom level" of generated noise.*@property{float}redistribution Flatness in the generated noise.*@property{int}octaves Number of layers of noise to stack.*@property{boolean}terbulance Enable terbulance*@property{boolean}ridge Convert the fBm to Ridge Noise. Only works*when "terbulance" is set to true.*/struct gln_tFBMOpts{float seed;float persistance;float lacunarity;float scale;float redistribution;int octaves;bool terbulance;bool ridge;};/***Converts a number from one range to another.**@name gln_map*@function*@param{}value Value to map*@param{float}min1 Minimum for current range*@param{float}max1 Maximum for current range*@param{float}min2 Minimum for wanted range*@param{float}max2 Maximum for wanted range*@return{float}Mapped Value**@example*float n=gln_map(-0.2,-1.0,1.0,0.0,1.0);**/float gln_map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}/***Normalized a value from the range[-1,1]to the range[0,1].**@name gln_normalize*@function*@param{float}v Value to normalize*@return{float}Normalized Value**@example*float n=gln_normalize(-0.2);**/float gln_normalize(float v){return gln_map(v,-1.0,1.0,0.0,1.0);}/***Generates a random 2D Vector.**@name gln_rand2*@function*@param{vec2}p Vector to hash to generate the random numbers from.*@return{vec2}Random vector.**@example*vec2 n=gln_rand2(vec2(1.0,-4.2));*/vec2 gln_rand2(vec2 p){return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);}/***Generates a random 3D Vector.**@name gln_rand3*@function*@param{vec3}p Vector to hash to generate the random numbers from.*@return{vec3}Random vector.**@example*vec3 n=gln_rand3(vec3(1.0,-4.2,0.2));*/vec3 gln_rand3(vec3 p){return mod(((p*34.0)+1.0)*p,289.0);}/***Generates a random 4D Vector.**@name gln_rand4*@function*@param{vec4}p Vector to hash to generate the random numbers from.*@return{vec4}Random vector.**@example*vec4 n=gln_rand4(vec4(1.0,-4.2,0.2,2.2));*/vec4 gln_rand4(vec4 p){return mod(((p*34.0)+1.0)*p,289.0);}/***Generates a random number.**@name gln_rand*@function*@param{float}n Value to hash to generate the number from.*@return{float}Random number.**@example*float n=gln_rand(2.5);*/float gln_rand(float n){return fract(sin(n)*1e4);}/***Generates a random number.**@name gln_rand*@function*@param{vec2}p Value to hash to generate the number from.*@return{float}Random number.**@example*float n=gln_rand(vec2(2.5,-1.8));*/float gln_rand(vec2 p){return fract(1e4*sin(17.0*p.x+p.y*0.1)*(0.1+abs(sin(p.y*13.0+p.x))));}',ED=['#define GLSLIFY 1\nvec2 _fade(vec2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}vec3 _fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}/***Generates 2D Perlin Noise.**@name gln_perlin*@function*@param{vec2}p Point to sample Perlin Noise at.*@return{float}Value of Perlin Noise at point "p".**@example*float n=gln_perlin(position.xy);*/float gln_perlin(vec2 P){vec4 Pi=floor(P.xyxy)+vec4(0.0,0.0,1.0,1.0);vec4 Pf=fract(P.xyxy)-vec4(0.0,0.0,1.0,1.0);Pi=mod(Pi,289.0);vec4 ix=Pi.xzxz;vec4 iy=Pi.yyww;vec4 fx=Pf.xzxz;vec4 fy=Pf.yyww;vec4 i=gln_rand4(gln_rand4(ix)+iy);vec4 gx=2.0*fract(i*0.0243902439)-1.0;vec4 gy=abs(gx)-0.5;vec4 tx=floor(gx+0.5);gx=gx-tx;vec2 g00=vec2(gx.x,gy.x);vec2 g10=vec2(gx.y,gy.y);vec2 g01=vec2(gx.z,gy.z);vec2 g11=vec2(gx.w,gy.w);vec4 norm=1.79284291400159-0.85373472095314*vec4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;float n00=dot(g00,vec2(fx.x,fy.x));float n10=dot(g10,vec2(fx.y,fy.y));float n01=dot(g01,vec2(fx.z,fy.z));float n11=dot(g11,vec2(fx.w,fy.w));vec2 fade_xy=_fade(Pf.xy);vec2 n_x=mix(vec2(n00,n01),vec2(n10,n11),fade_xy.x);float n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}/***Generates 3D Perlin Noise.**@name gln_perlin*@function*@param{vec3}p Point to sample Perlin Noise at.*@return{float}Value of Perlin Noise at point "p".**@example*float n=gln_perlin(position.xyz);*/float gln_perlin(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod(Pi0,289.0);Pi1=mod(Pi1,289.0);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=_permute(_permute(ix)+iy);vec4 ixy0=_permute(ixy+iz0);vec4 ixy1=_permute(ixy+iz1);vec4 gx0=ixy0/7.0;vec4 gy0=fract(floor(gx0)/7.0)-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1/7.0;vec4 gy1=fract(floor(gx1)/7.0)-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=_taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=_taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=_fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}/***Generates 2D Fractional Brownian motion(fBm)from Perlin Noise.**@name gln_pfbm*@function*@param{vec2}p Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Perlin Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_pfbm(position.xy,opts);*/float gln_pfbm(vec2 p,gln_tFBMOpts opts){p+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=p*frequency*opts.scale;float noiseVal=gln_perlin(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}/***Generates 3D Fractional Brownian motion(fBm)from Perlin Noise.**@name gln_pfbm*@function*@param{vec3}p Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Perlin Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_pfbm(position.xy,opts);*/float gln_pfbm(vec3 p,gln_tFBMOpts opts){p+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec3 p=p*frequency*opts.scale;float noiseVal=gln_perlin(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}','#define GLSLIFY 1\n/***Generates 2D Simplex Noise.**@name gln_simplex*@function*@param{vec2}v Point to sample Simplex Noise at.*@return{float}Value of Simplex Noise at point "p".**@example*float n=gln_simplex(position.xy);*/float gln_simplex(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1;i1=(x0.x>x0.y)? vec2(1.0,0.0): vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod(i,289.0);vec3 p=gln_rand3(gln_rand3(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}/***Generates 3D Simplex Noise.**@name gln_simplex*@function*@param{vec3}v Point to sample Simplex Noise at.*@return{float}Value of Simplex Noise at point "p".**@example*float n=gln_simplex(position.xyz);*/float gln_simplex(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=_permute(_permute(_permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=_taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}/***Generates 2D Fractional Brownian motion(fBm)from Simplex Noise.**@name gln_sfbm*@function*@param{vec2}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_sfbm(position.xy,opts);*/float gln_sfbm(vec2 v,gln_tFBMOpts opts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=v*frequency*opts.scale;float noiseVal=gln_simplex(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}/***Generates 3D Fractional Brownian motion(fBm)from Simplex Noise.**@name gln_sfbm*@function*@param{vec3}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_sfbm(position.xy,opts);*/float gln_sfbm(vec3 v,gln_tFBMOpts opts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec3 p=v*frequency*opts.scale;float noiseVal=gln_simplex(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}','#define GLSLIFY 1\n/***@typedef{struct}gln_tWorleyOpts Options for Voronoi Noise generators.*@property{float}seed Seed for PRNG generation.*@property{float}distance Size of each generated cell*@property{float}scale "Zoom level" of generated noise.*@property{boolean}invert Invert generated noise.*/struct gln_tWorleyOpts{float seed;float distance;float scale;bool invert;};/***Generates Voronoi Noise.**@name gln_worley*@function*@param{vec2}x                  Point to sample Voronoi Noise at.*@param{gln_tWorleyOpts}opts Options for generating Voronoi Noise.*@return{float}Value of Voronoi Noise at point "p".**@example*gln_tWorleyOpts opts=gln_tWorleyOpts(uSeed,0.0,0.5,false);**float n=gln_worley(position.xy,opts);*/float gln_worley(vec2 point,gln_tWorleyOpts opts){vec2 p=floor(point*opts.scale);vec2 f=fract(point*opts.scale);float res=0.0;for(int j=-1;j<=1;j++){for(int i=-1;i<=1;i++){vec2 b=vec2(i,j);vec2 r=vec2(b)-f+gln_rand(p+b);res+=1./pow(dot(r,r),8.);}}float result=pow(1./res,0.0625);if(opts.invert)result=1.0-result;return result;}/***Generates Fractional Brownian motion(fBm)from Worley Noise.**@name gln_wfbm*@function*@param{vec3}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(1.0,0.3,2.0,0.5,1.0,5,false,false);**gln_tWorleyOpts voronoiOpts=*gln_tWorleyOpts(1.0,1.0,3.0,false);**float n=gln_wfbm(position.xy,voronoiOpts,opts);*/float gln_wfbm(vec2 v,gln_tFBMOpts opts,gln_tWorleyOpts vopts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=v*frequency*opts.scale;float noiseVal=gln_worley(p,vopts);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}',"#define GLSLIFY 1\n#define gln_COPY 1\n#define gln_ADD 2\n#define gln_SUBSTRACT 3\n#define gln_MULTIPLY 4\n#define gln_ADDSUB 5\n#define gln_LIGHTEN 6\n#define gln_DARKEN 7\n#define gln_SWITCH 8\n#define gln_DIVIDE 9\n#define gln_OVERLAY 10\n#define gln_SCREEN 11\n#define gln_SOFTLIGHT 12\nfloat gln_softLight(float f,float b){return(f<0.5)? b-(1.0-2.0*f)*b*(1.0-b):(b<0.25)? b+(2.0*f-1.0)*b*((16.0*b-12.0)*b+3.0): b+(2.0*f-1.0)*(sqrt(b)-b);}vec4 gln_softLight(vec4 f,vec4 b){vec4 result;result.x=gln_softLight(f.x,b.x);result.y=gln_softLight(f.y,b.y);result.z=gln_softLight(f.z,b.z);result.a=gln_softLight(f.a,b.a);return result;}vec4 gln_screen(vec4 f,vec4 b){vec4 result;result=1.0-(1.0-f)*(1.0-b);return result;}float gln_overlay(float f,float b){return(b<0.5)? 2.0*f*b : 1.0-2.0*(1.0-f)*(1.0-b);}vec4 gln_overlay(vec4 f,vec4 b){vec4 result;result.x=gln_overlay(f.x,b.x);result.y=gln_overlay(f.y,b.y);result.z=gln_overlay(f.z,b.z);result.a=gln_overlay(f.a,b.a);return result;}vec4 gln_divide(vec4 f,vec4 b){vec4 result=vec4(0.0);result=b/f;return result;}vec4 gln_switch(vec4 f,vec4 b,float o){vec4 result=vec4(0.0);result=max((f*o),(b*(1.0-o)));return result;}vec4 gln_darken(vec4 f,vec4 b){vec4 result=vec4(0.0);result=min(f,b);return result;}vec4 gln_lighten(vec4 f,vec4 b){vec4 result=vec4(0.0);result=max(f,b);return result;}float gln_addSub(float f,float b){return f>0.5 ? f+b : b-f;}vec4 gln_addSub(vec4 f,vec4 b){vec4 result=vec4(0.0);result.r=gln_addSub(f.r,b.r);result.g=gln_addSub(f.g,b.g);result.b=gln_addSub(f.b,b.b);result.a=gln_addSub(f.a,b.a);return result;}vec4 gln_multiply(vec4 f,vec4 b){vec4 result=vec4(0.0);result=f*b;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_subtract(vec4 f,vec4 b){vec4 result=vec4(0.0);result=b-f;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_add(vec4 f,vec4 b){vec4 result=vec4(0.0);result=f+b;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_copy(vec4 f,vec4 b){vec4 result=vec4(0.0);result.a=f.a+b.a*(1.0-f.a);result.rgb=((f.rgb*f.a)+(b.rgb*b.a)*(1.0-f.a));return result;}/***Enum for gl-Noise Blend Modes.*@name gln_BLENDMODES*@enum{number}*@property{number}gln_COPY The<b>Copy</b>blending mode will just place the*foreground on top of the background.*@property{number}gln_ADD The<b>Add</b>blending mode will add the*foreground input value to each corresponding pixel in the background.*@property{number}gln_SUBSTRACT The<b>Substract</b>blending mode will*substract the foreground input value from each corresponding pixel in the*background.*@property{number}gln_MULTIPLY The<b>Multiply</b>blending mode will*multiply the background input value by each corresponding pixel in the*foreground.*@property{number}gln_ADDSUB The<b>Add Sub</b>blending mode works as*following:<ul><li>Foreground pixels with a value higher than 0.5 are added*to their respective background pixels.</li><li>Foreground pixels with a*value lower than 0.5 are substracted from their respective background pixels.*</li>*</ul>*@property{number}gln_LIGHTEN The<b>Lighten(Max)</b>Blending mode will*pick the higher value between the background and the foreground.*@property{number}gln_DARKEN The<b>Darken(Min)</b>Blending mode will pick*the lower value between the background and the foreground.*@property{number}gln_DIVIDE The<b>Divide</b>blending mode will divide the*background input pixels value by each corresponding pixel in the foreground.*@property{number}gln_OVERLAY The<b>Overlay</b>blending mode combines*Multiply and Screen blend modes:<ul><li>If the value of the lower layer*pixel is below 0.5,then a Multiply type blending is applied.</li><li>If*the value of the lower layer pixel is above 0.5,then a Screen type blending*is applied.</li>*</ul>*@property{number}gln_SCREEN With<b>Screen</b>blend mode the values of the*pixels in the two inputs are inverted,multiplied,and then inverted*again.</br>The result is the opposite effect to multiply and is always equal*or higher(brighter)compared to the original.*@property{number}gln_SOFTLIGHT The<b>Soft Light</b>blend mode creates a*subtle lighter or darker result depending on the brightness of the foreground*color.*</br>Blend colors that are more than 50% brightness will lighten the*background pixels and colors that are less than 50% brightness will darken*the background pixels.*//***Blends a Color with another.**@name gln_blend*@function*@param{vec4}f Foreground*@param{vec4}b Background*@param{gln_BLENDMODES}type Blend mode*@return{vec4}Mapped Value**@example*vec4 logo=texture2D(uLogo,uv);*vec4 rect=texture2D(uRect,uv);**vec4 final=gln_blend(logo,rect,gln_COPY);*/vec4 gln_blend(vec4 f,vec4 b,int type){vec4 n;if(type==gln_COPY){n=gln_copy(f,b);}else if(type==gln_ADD){n=gln_add(f,b);}else if(type==gln_SUBSTRACT){n=gln_subtract(f,b);}else if(type==gln_MULTIPLY){n=gln_multiply(f,b);}else if(type==gln_ADDSUB){n=gln_addSub(f,b);}else if(type==gln_LIGHTEN){n=gln_lighten(f,b);}else if(type==gln_DARKEN){n=gln_darken(f,b);}else if(type==gln_DIVIDE){n=gln_divide(f,b);}else if(type==gln_OVERLAY){n=gln_overlay(f,b);}else if(type==gln_SCREEN){n=gln_screen(f,b);}else if(type==gln_SOFTLIGHT){n=gln_softLight(f,b);}return n;}","#define GLSLIFY 1\n/***@typedef{struct}gln_tGerstnerWaveOpts Options for Gerstner Wave*generators.*@property{vec2}direction Direction of the wave*@property{float}steepness Steepness of the peeks*@property{float}wavelength Wavelength of the waves*/struct gln_tGerstnerWaveOpts{vec2 direction;float steepness;float wavelength;};/***Implimentation of Gerstner Wave*Based on: https:**@name gln_GerstnerWave*@function*@param{vec3}p Point to sample Gerstner Waves at.*@param{gln_tGerstnerWaveOpts}opts*@param{float}dt**@example*float n=gln_perlin(position.xy);*/vec3 gln_GerstnerWave(vec3 p,gln_tGerstnerWaveOpts opts,float dt){float steepness=opts.steepness;float wavelength=opts.wavelength;float k=2.0*gln_PI/wavelength;float c=sqrt(9.8/k);vec2 d=normalize(opts.direction);float f=k*(dot(d,p.xy)-c*dt);float a=steepness/k;return vec3(d.x*(a*cos(f)),a*sin(f),d.y*(a*cos(f)));}",'#define GLSLIFY 1\nvec3 _snois3(vec3 x){float s=gln_simplex(vec3(x));float s1=gln_simplex(vec3(x.y-19.1,x.z+33.4,x.x+47.2));float s2=gln_simplex(vec3(x.z+74.2,x.x-124.5,x.y+99.4));vec3 c=vec3(s,s1,s2);return c;}/***Generates 3D Curl Noise.**@name gln_curl*@function*@param{vec2}p Point to sample Curl Noise at.*@return{float}Value of Curl Noise at point "p".**@example*vec3 n=gln_curl(position);*/vec3 gln_curl(vec3 p){const float e=.1;vec3 dx=vec3(e,0.0,0.0);vec3 dy=vec3(0.0,e,0.0);vec3 dz=vec3(0.0,0.0,e);vec3 p_x0=_snois3(p-dx);vec3 p_x1=_snois3(p+dx);vec3 p_y0=_snois3(p-dy);vec3 p_y1=_snois3(p+dy);vec3 p_z0=_snois3(p-dz);vec3 p_z1=_snois3(p+dz);float x=p_y1.z-p_y0.z-p_z1.y+p_z0.y;float y=p_z1.x-p_z0.x-p_x1.z+p_x0.z;float z=p_x1.y-p_x0.y-p_y1.x+p_y0.x;const float divisor=1.0/(2.0*e);return normalize(vec3(x,y,z)*divisor);}'];function TD(e,t,n){if(!e||e.length<=0)throw new Error("glNoise: 'loadShaders' requires atleast one path.");let r;r=Array.isArray(e)?e:[e],n||(n=new Array(r.length).fill(MD));let i=r;return i=i.map(t?(e,r)=>{let i,a;return i=t[r]?t[r]:ED,function(e){const{names:t,deps:n}=function(e){let t=[],n=[];return e.forEach(e=>{const r=e.match(/#name: (.*)\n/),i=e.match(/#deps: (.*)\n/);t.push(r?r[1]:""),n.push(i?i[1].split(" "):[])}),{names:t,deps:n}}(e);let r,i=[];if(n.forEach((e,n)=>{e.forEach((e,a)=>{t.includes(e)||(i.push({outter:n,inner:a}),r=t[n])})}),0!==i.length){const e=i.map(e=>n[e.outter][e.inner]);throw new Error(`glNoise: Missing dependencies "${e.join(", ")}" for "${r}"`)}}(i),a=n[r]?n[r]:MD,"\n"+a+"\n"+i.join("\n")+"\n"+e}:(e,t)=>{let r;return r=n[t]?n[t]:MD,"\n"+r+"\n"+ED.join("\n")+"\n"+e}),Array.isArray(e)?i:i[0]}"undefined"!=typeof process&&null!=process.versions&&process;var CD=Y(function(e,t){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(!s&&Z)return Z(o);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}s=n[o]={exports:{}},t[o][0].call(s.exports,function(e){return i(t[o][1][e]||e)},s,s.exports,e,t,n,r)}return n[o].exports}for(var a=Z,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(r,i,a,o,s,l,u,c,h){var d=e("crypto");function f(e,t){var n;return void 0===(n="passthrough"!==(t=g(e,t)).algorithm?d.createHash(t.algorithm):new _).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=f).sha1=function(e){return f(e)},n.keys=function(e){return f(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return f(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return f(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var p=d.getHashes?d.getHashes().slice():["sha1","md5"],m=(p.push("passthrough"),["buffer","hex","binary","base64"]);function g(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<p.length;++r)p[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=p[r]);if(-1===p.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+p.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,o=Object.prototype.toString.call(t),s=/\[object (.*)\]/i.exec(o);if(s=(s=s?s[1]:"unknown:["+o+"]").toLowerCase(),0<=(o=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(n.push(t),void 0!==a&&a.isBuffer&&a.isBuffer(t))return r("buffer:"),r(t);if("object"===s||"function"===s||"asyncfunction"===s)return o=Object.keys(t),e.unorderedObjects&&(o=o.sort()),!1===e.respectType||v(t)||o.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(o=o.filter(function(t){return!e.excludeKeys(t)})),r("object:"+o.length+":"),i=this,o.forEach(function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")});if(!this["_"+s]){if(e.ignoreUnknown)return r("["+s+"]");throw new Error('Unknown object type "'+s+'"')}this["_"+s](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var a=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return a.dispatch(e)});var o=[];return i=t.map(function(t){var r=new _,i=n.slice();return y(e,r,i).dispatch(t),o=o.concat(i.slice(n.length)),r.read().toString()}),n=n.concat(o),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function _(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,a,o,s,l,u){!function(e){var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),a="a".charCodeAt(0),o="A".charCodeAt(0),s="-".charCodeAt(0),l="_".charCodeAt(0);function u(e){return(e=e.charCodeAt(0))===n||e===s?62:e===r||e===l?63:e<i?-1:e<i+10?e-i+26+26:e<o+26?e-o:e<a+26?e-a+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i="="===e.charAt((i=e.length)-2)?2:"="===e.charAt(i-1)?1:0,a=new t(3*e.length/4-i),o=0<i?e.length-4:e.length,s=0;function l(e){a[s++]=e}for(n=0;n<o;n+=4,0)l((16711680&(r=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3))))>>16),l((65280&r)>>8),l(255&r);return 2==i?l(255&(r=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4)):1==i&&(l((r=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2)>>8&255),l(255&r)),a},e.fromByteArray=function(e){var t,n,r,i,a=e.length%3,o="";function s(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-a;t<r;t+=3)o+=s((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+s(i>>12&63)+s(i>>6&63)+s(63&i);switch(a){case 1:o=(o+=s((n=e[e.length-1])>>2))+s(n<<4&63)+"==";break;case 2:o=(o=(o+=s((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+s(n>>4&63))+s(n<<2&63)+"="}return o}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,a,o,s,l,u,c){var h=e("base64-js"),d=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,a,o,s,l=typeof e;if("base64"===t&&"string"==l)for(e=(s=e).trim?s.trim():s.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==l)r=C(e);else if("string"==l)r=i.byteLength(e,t);else{if("object"!=l)throw new Error("First argument needs to be a number, array or string.");r=C(e.length)}if(i._useTypedArrays?a=i._augment(new Uint8Array(r)):((a=this).length=r,a._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)a._set(e);else if(P(s=e)||i.isBuffer(s)||s&&"object"==typeof s&&"number"==typeof s.length)for(o=0;o<r;o++)a[o]=i.isBuffer(e)?e.readUInt8(o):e[o];else if("string"==l)a.write(e,0,t);else if("number"==l&&!i._useTypedArrays&&!n)for(o=0;o<r;o++)a[o]=0;return a}function f(e,t,n,r){var i;if(r||(z("boolean"==typeof n,"missing or invalid endian"),z(null!=t,"missing offset"),z(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function p(e,t,n,r){var i;if(r||(z("boolean"==typeof n,"missing or invalid endian"),z(null!=t,"missing offset"),z(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function m(e,t,n,r){if(r||(z("boolean"==typeof n,"missing or invalid endian"),z(null!=t,"missing offset"),z(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=f(e,t,n,!0))?-1*(65535-r+1):r}function g(e,t,n,r){if(r||(z("boolean"==typeof n,"missing or invalid endian"),z(null!=t,"missing offset"),z(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=p(e,t,n,!0))?-1*(4294967295-r+1):r}function v(e,t,n,r){return r||(z("boolean"==typeof n,"missing or invalid endian"),z(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function y(e,t,n,r){return r||(z("boolean"==typeof n,"missing or invalid endian"),z(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function _(e,t,n,r,i){if(i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+1<e.length,"trying to write beyond buffer length"),O(t,65535)),!((i=e.length)<=n))for(var a=0,o=Math.min(i-n,2);a<o;a++)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function b(e,t,n,r,i){if(i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+3<e.length,"trying to write beyond buffer length"),O(t,4294967295)),!((i=e.length)<=n))for(var a=0,o=Math.min(i-n,4);a<o;a++)e[n+a]=t>>>8*(r?a:3-a)&255}function x(e,t,n,r,i){i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+1<e.length,"Trying to write beyond buffer length"),N(t,32767,-32768)),e.length<=n||_(e,0<=t?t:65535+t+1,n,r,i)}function w(e,t,n,r,i){i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+3<e.length,"Trying to write beyond buffer length"),N(t,2147483647,-2147483648)),e.length<=n||b(e,0<=t?t:4294967295+t+1,n,r,i)}function S(e,t,n,r,i){i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+3<e.length,"Trying to write beyond buffer length"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function M(e,t,n,r,i){i||(z(null!=t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(null!=n,"missing offset"),z(n+7<e.length,"Trying to write beyond buffer length"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=A(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=I(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(z(P(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(a=t=0;a<e.length;a++)t+=e[a].length;for(var n=new i(t),r=0,a=0;a<e.length;a++){var o=e[a];o.copy(n,r),r+=o.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(u=r,r=t,t=n,n=u),t=Number(t)||0;var a,o,s,l,u=this.length-t;switch((!n||u<(n=Number(n)))&&(n=u),r=String(r||"utf8").toLowerCase()){case"hex":a=function(e,t,n,r){n=Number(n)||0;var a=e.length-n;(!r||a<(r=Number(r)))&&(r=a),z((a=t.length)%2==0,"Invalid hex string"),a/2<r&&(r=a/2);for(var o=0;o<r;o++){var s=parseInt(t.substr(2*o,2),16);z(!isNaN(s),"Invalid hex string"),e[n+o]=s}return i._charsWritten=2*o,o}(this,e,t,n);break;case"utf8":case"utf-8":o=this,s=t,l=n,a=i._charsWritten=R(A(e),o,s,l);break;case"ascii":case"binary":a=function(e,t,n,r){return i._charsWritten=R(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":o=this,s=t,l=n,a=i._charsWritten=R(I(e),o,s,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=function(e,t,n,r){return i._charsWritten=R(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,r.push(n%=256),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return a},i.prototype.toString=function(e,t,n){var r,i,a,o,s=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):s.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",a=t;a<n;a++)i+=k(e[a]);return i}(s,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var a=t;a<n;a++)e[a]<=127?(r+=L(i)+String.fromCharCode(e[a]),i=""):i+="%"+e[a].toString(16);return r+L(i)}(s,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}(s,t,n);break;case"base64":i=s,o=n,r=0===(a=t)&&o===i.length?h.fromByteArray(i):h.fromByteArray(i.slice(a,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}(s,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){z(n<=r,"sourceEnd < sourceStart"),z(0<=t&&t<e.length,"targetStart out of bounds"),z(0<=n&&n<this.length,"sourceStart out of bounds"),z(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var a=(r=e.length-t<r-n?e.length-t+n:r)-n;if(a<100||!i._useTypedArrays)for(var o=0;o<a;o++)e[o+t]=this[o+n];else e._set(this.subarray(n,n+a),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=T(e,n,0),t=T(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,a=new i(r,void 0,!0),o=0;o<r;o++)a[o]=this[o+e];return a},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(z(null!=e,"missing offset"),z(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return f(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return f(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return p(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return p(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(z(null!=e,"missing offset"),z(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return v(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return v(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return y(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return y(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(z(null!=e,"missing value"),z(null!=t,"missing offset"),z(t<this.length,"trying to write beyond buffer length"),O(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){b(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){b(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(z(null!=e,"missing value"),z(null!=t,"missing offset"),z(t<this.length,"Trying to write beyond buffer length"),N(e,127,-128)),t>=this.length||this.writeUInt8(0<=e?e:255+e+1,t,n)},i.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){M(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){M(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,z("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),z(t<=n,"end < start"),n!==t&&0!==this.length){z(0<=t&&t<this.length,"start out of bounds"),z(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=k(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var E=i.prototype;function T(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function C(e){return(e=~~Math.ceil(+e))<0?0:e}function P(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function A(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,a=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),o=0;o<a.length;o++)t.push(parseInt(a[o],16))}return t}function I(e){return h.toByteArray(e)}function R(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function L(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function O(e,t){z("number"==typeof e,"cannot write a non-number as a number"),z(0<=e,"specified a negative value for writing an unsigned value"),z(e<=t,"value is larger than maximum value for type"),z(Math.floor(e)===e,"value has a fractional component")}function N(e,t,n){z("number"==typeof e,"cannot write a non-number as a number"),z(e<=t,"value larger than maximum allowed value"),z(n<=e,"value smaller than minimum allowed value"),z(Math.floor(e)===e,"value has a fractional component")}function D(e,t,n){z("number"==typeof e,"cannot write a non-number as a number"),z(e<=t,"value larger than maximum allowed value"),z(n<=e,"value smaller than minimum allowed value")}function z(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=E.get,e.set=E.set,e.write=E.write,e.toString=E.toString,e.toLocaleString=E.toString,e.toJSON=E.toJSON,e.copy=E.copy,e.slice=E.slice,e.readUInt8=E.readUInt8,e.readUInt16LE=E.readUInt16LE,e.readUInt16BE=E.readUInt16BE,e.readUInt32LE=E.readUInt32LE,e.readUInt32BE=E.readUInt32BE,e.readInt8=E.readInt8,e.readInt16LE=E.readInt16LE,e.readInt16BE=E.readInt16BE,e.readInt32LE=E.readInt32LE,e.readInt32BE=E.readInt32BE,e.readFloatLE=E.readFloatLE,e.readFloatBE=E.readFloatBE,e.readDoubleLE=E.readDoubleLE,e.readDoubleBE=E.readDoubleBE,e.writeUInt8=E.writeUInt8,e.writeUInt16LE=E.writeUInt16LE,e.writeUInt16BE=E.writeUInt16BE,e.writeUInt32LE=E.writeUInt32LE,e.writeUInt32BE=E.writeUInt32BE,e.writeInt8=E.writeInt8,e.writeInt16LE=E.writeInt16LE,e.writeInt16BE=E.writeInt16BE,e.writeInt32LE=E.writeInt32LE,e.writeInt32BE=E.writeInt32BE,e.writeFloatLE=E.writeFloatLE,e.writeFloatBE=E.writeFloatBE,e.writeDoubleLE=E.writeDoubleLE,e.writeDoubleBE=E.writeDoubleBE,e.fill=E.fill,e.inspect=E.inspect,e.toArrayBuffer=E.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var h=new(i=e("buffer").Buffer)(4);h.fill(0),t.exports={hash:function(e,t,n,r){for(var a=t(function(e,t){e.length%4!=0&&(e=i.concat([e,h],e.length+(4-e.length%4)));for(var n=[],r=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=4)n.push(r.call(e,a));return n}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),o=(t=r,new i(n)),s=t?o.writeInt32BE:o.writeInt32LE,l=0;l<a.length;l++)s.call(o,a[l],4*l,!0);return o}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,a,o,s,l,u,c){i=e("buffer").Buffer;var h=e("./sha"),d=e("./sha256"),f=e("./rng"),p={sha1:h,sha256:d,md5:e("./md5")},m=64,g=new i(m);function v(e,t){var n=p[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),this},digest:function(e){var a=i.concat(r);return a=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>m?t=e(t):t.length<m&&(t=i.concat([t,g],m));for(var r=new i(m),a=new i(m),o=0;o<m;o++)r[o]=54^t[o],a[o]=92^t[o];return n=e(i.concat([r,n])),e(i.concat([a,n]))}(n,t,a):n(a),r=null,e?a.toString(e):a}}}function y(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new i(f(e));try{t.call(this,void 0,new i(f(e)))}catch(e){t(e)}};var _,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],x=function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}};for(_ in b)x(b[_])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var h=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,l=r,u=i,c=a;n=p(n,r,i,a,e[o+0],7,-680876936),a=p(a,n,r,i,e[o+1],12,-389564586),i=p(i,a,n,r,e[o+2],17,606105819),r=p(r,i,a,n,e[o+3],22,-1044525330),n=p(n,r,i,a,e[o+4],7,-176418897),a=p(a,n,r,i,e[o+5],12,1200080426),i=p(i,a,n,r,e[o+6],17,-1473231341),r=p(r,i,a,n,e[o+7],22,-45705983),n=p(n,r,i,a,e[o+8],7,1770035416),a=p(a,n,r,i,e[o+9],12,-1958414417),i=p(i,a,n,r,e[o+10],17,-42063),r=p(r,i,a,n,e[o+11],22,-1990404162),n=p(n,r,i,a,e[o+12],7,1804603682),a=p(a,n,r,i,e[o+13],12,-40341101),i=p(i,a,n,r,e[o+14],17,-1502002290),n=m(n,r=p(r,i,a,n,e[o+15],22,1236535329),i,a,e[o+1],5,-165796510),a=m(a,n,r,i,e[o+6],9,-1069501632),i=m(i,a,n,r,e[o+11],14,643717713),r=m(r,i,a,n,e[o+0],20,-373897302),n=m(n,r,i,a,e[o+5],5,-701558691),a=m(a,n,r,i,e[o+10],9,38016083),i=m(i,a,n,r,e[o+15],14,-660478335),r=m(r,i,a,n,e[o+4],20,-405537848),n=m(n,r,i,a,e[o+9],5,568446438),a=m(a,n,r,i,e[o+14],9,-1019803690),i=m(i,a,n,r,e[o+3],14,-187363961),r=m(r,i,a,n,e[o+8],20,1163531501),n=m(n,r,i,a,e[o+13],5,-1444681467),a=m(a,n,r,i,e[o+2],9,-51403784),i=m(i,a,n,r,e[o+7],14,1735328473),n=g(n,r=m(r,i,a,n,e[o+12],20,-1926607734),i,a,e[o+5],4,-378558),a=g(a,n,r,i,e[o+8],11,-2022574463),i=g(i,a,n,r,e[o+11],16,1839030562),r=g(r,i,a,n,e[o+14],23,-35309556),n=g(n,r,i,a,e[o+1],4,-1530992060),a=g(a,n,r,i,e[o+4],11,1272893353),i=g(i,a,n,r,e[o+7],16,-155497632),r=g(r,i,a,n,e[o+10],23,-1094730640),n=g(n,r,i,a,e[o+13],4,681279174),a=g(a,n,r,i,e[o+0],11,-358537222),i=g(i,a,n,r,e[o+3],16,-722521979),r=g(r,i,a,n,e[o+6],23,76029189),n=g(n,r,i,a,e[o+9],4,-640364487),a=g(a,n,r,i,e[o+12],11,-421815835),i=g(i,a,n,r,e[o+15],16,530742520),n=v(n,r=g(r,i,a,n,e[o+2],23,-995338651),i,a,e[o+0],6,-198630844),a=v(a,n,r,i,e[o+7],10,1126891415),i=v(i,a,n,r,e[o+14],15,-1416354905),r=v(r,i,a,n,e[o+5],21,-57434055),n=v(n,r,i,a,e[o+12],6,1700485571),a=v(a,n,r,i,e[o+3],10,-1894986606),i=v(i,a,n,r,e[o+10],15,-1051523),r=v(r,i,a,n,e[o+1],21,-2054922799),n=v(n,r,i,a,e[o+8],6,1873313359),a=v(a,n,r,i,e[o+15],10,-30611744),i=v(i,a,n,r,e[o+6],15,-1560198380),r=v(r,i,a,n,e[o+13],21,1309151649),n=v(n,r,i,a,e[o+4],6,-145523070),a=v(a,n,r,i,e[o+11],10,-1120210379),i=v(i,a,n,r,e[o+2],15,718787259),r=v(r,i,a,n,e[o+9],21,-343485551),n=y(n,s),r=y(r,l),i=y(i,u),a=y(a,c)}return Array(n,r,i,a)}function f(e,t,n,r,i,a){return y((t=y(y(t,e),y(r,a)))<<i|t>>>32-i,n)}function p(e,t,n,r,i,a,o){return f(t&n|~t&r,e,t,i,a,o)}function m(e,t,n,r,i,a,o){return f(t&r|n&~r,e,t,i,a,o)}function g(e,t,n,r,i,a,o){return f(t^n^r,e,t,i,a,o)}function v(e,t,n,r,i,a,o){return f(n^(t|~r),e,t,i,a,o)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return h.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,a,o,s,l,u){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){var h=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,a=Array(80),o=1732584193,s=-271733879,l=-1732584194,u=271733878,c=-1009589776,h=0;h<e.length;h+=16){for(var d=o,m=s,g=l,v=u,y=c,_=0;_<80;_++){a[_]=_<16?e[h+_]:p(a[_-3]^a[_-8]^a[_-14]^a[_-16],1);var b=f(f(p(o,5),(b=s,r=l,i=u,(n=_)<20?b&r|~b&i:!(n<40)&&n<60?b&r|b&i|r&i:b^r^i)),f(f(c,a[_]),(n=_)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));c=u,u=l,l=p(s,30),s=o,o=b}o=f(o,d),s=f(s,m),l=f(l,g),u=f(u,v),c=f(c,y)}return Array(o,s,l,u,c)}function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e<<t|e>>>32-t}t.exports=function(e){return h.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,a,o,s,l,u,c){function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),a=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var o,s,l=0;l<e.length;l+=16){for(var u=i[0],c=i[1],d=i[2],f=i[3],g=i[4],v=i[5],y=i[6],_=i[7],b=0;b<64;b++)a[b]=b<16?e[b+l]:h(h(h(p(s=a[b-2],17)^p(s,19)^m(s,10),a[b-7]),p(s=a[b-15],7)^p(s,18)^m(s,3)),a[b-16]),n=h(h(h(h(_,p(s=g,6)^p(s,11)^p(s,25)),g&v^~g&y),r[b]),a[b]),o=h(p(o=u,2)^p(o,13)^p(o,22),u&c^u&d^c&d),_=y,y=v,v=g,g=h(f,n),f=d,d=c,c=u,u=h(n,o);i[0]=h(u,i[0]),i[1]=h(c,i[1]),i[2]=h(d,i[2]),i[3]=h(f,i[3]),i[4]=h(g,i[4]),i[5]=h(v,i[5]),i[6]=h(y,i[6]),i[7]=h(_,i[7])}return i}var f=e("./helpers"),p=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t};t.exports=function(e){return f.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,a,o,s,l,u){n.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1;for(i=e[t+h],h+=d,a=i&(1<<-c)-1,i>>=-c,c+=s;0<c;a=256*a+e[t+h],h+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;0<c;o=256*o+e[t+h],h+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(i?-1:1);o+=Math.pow(2,r),a-=u}return(i?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,t,n,r,i,a){var o,s,l=8*a-i-1,u=(1<<l)-1,c=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,f=r?1:-1;for(a=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-o))<1&&(o--,r*=2),2<=(t+=1<=o+c?h/r:h*Math.pow(2,1-c))*r&&(o++,r/=2),u<=o+c?(s=0,o=u):1<=o+c?(s=(t*r-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));8<=i;e[n+d]=255&s,d+=f,s/=256,i-=8);for(o=o<<i|s,l+=i;0<l;e[n+d]=255&o,d+=f,o/=256,l-=8);e[n+d-f]|=128*a}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,a,o,s,l,u){var c,h,d;function f(){}(e=t.exports={}).nextTick=(h="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,h?function(e){return window.setImmediate(e)}:d?(c=[],window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<c.length&&c.shift()())},!0),function(e){c.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)}),PD=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],kD=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],AD=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],ID=PD.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),RD=AD;RD=RD.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)});var LD=RD.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),OD=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"],ND=function(e){for(var t=[],n=0;n<e.length;n++)"eof"!==e[n].type&&t.push(e[n].data);return t.join("")};function DD(e){return function(t){return"operator"===t.type&&(!e||t.data===e)}}function zD(e){return"whitespace"!==e.type}function UD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BD(Object(n),!0).forEach(function(t){UD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VD(e,t){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VD(e,t)}function HD(e){return HD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},HD(e)}function WD(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jD(e)}var GD,$D,qD=(UD(GD={},"".concat("csm_Normal"),{"#include <beginnormal_vertex>":"\n    vec3 objectNormal = ".concat("csm_Normal",";\n    #ifdef USE_TANGENT\n\t    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ")}),UD(GD,"".concat("csm_Position"),{"#include <begin_vertex>":"\n    vec3 transformed = ".concat("csm_Position",";\n  ")}),UD(GD,"".concat("csm_PositionRaw"),{"#include <begin_vertex>":"\n    vec4 csm_positionUnprojected = ".concat("csm_PositionRaw",";\n    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;\n    vec3 transformed = csm_positionUnprojected.xyz;\n  ")}),UD(GD,"".concat("csm_PointSize"),{"gl_PointSize = size;":"\n    gl_PointSize = ".concat("csm_PointSize",";\n    ")}),UD(GD,"".concat("csm_DiffuseColor"),{"#include <color_fragment>":"\n    #include <color_fragment>\n    diffuseColor = ".concat("csm_DiffuseColor",";\n  ")}),UD(GD,"".concat("csm_FragColor"),{"#include <dithering_fragment>":"\n    #include <dithering_fragment>\n    gl_FragColor  = ".concat("csm_FragColor",";\n  ")}),UD(GD,"".concat("csm_Emissive"),{"vec3 totalEmissiveRadiance = emissive;":"\n    vec3 totalEmissiveRadiance = ".concat("csm_Emissive",";\n    ")}),UD(GD,"".concat("csm_Roughness"),{"#include <roughnessmap_fragment>":"\n    #include <roughnessmap_fragment>\n    roughnessFactor = ".concat("csm_Roughness",";\n    ")}),UD(GD,"".concat("csm_Metalness"),{"#include <metalnessmap_fragment>":"\n    #include <metalnessmap_fragment>\n    metalnessFactor = ".concat("csm_Metalness",";\n    ")}),UD(GD,"".concat("csm_AO"),{"#include <aomap_fragment>":"\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - ".concat("csm_AO",";\n    ")}),GD),XD=(UD($D={},"".concat("csm_Position"),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ".concat("csm_Position",", 1.0 );\n  ")}),UD($D,"".concat("csm_PositionRaw"),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = ".concat("csm_Position",";\n  ")}),UD($D,"".concat("csm_DiffuseColor"),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat("csm_DiffuseColor",";\n  ")}),UD($D,"".concat("csm_FragColor"),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat("csm_FragColor",";\n  ")}),$D),YD=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey"];function ZD(e,t){Object.assign(e,t);var n=Object.getPrototypeOf(t);Object.entries(Object.getOwnPropertyDescriptors(n)).filter(function(e){return"function"==typeof e[1].get&&"__proto__"!==e[0]}).forEach(function(t){Object.defineProperty(e,t[0],t[1])})}var KD=/*#__PURE__*/function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VD(e,t)}(o,wf);var t,n,r,i,a=(r=o,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=HD(r);if(i){var n=HD(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return WD(this,e)});function o(e){var t,n,r=e.baseMaterial,i=e.fragmentShader,s=e.vertexShader,l=e.uniforms,u=e.patchMap,c=e.cacheKey,h=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,YD);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e){try{new e}catch(e){if(e.message.indexOf("is not a constructor")>=0)return!1}return!0}(r)?n=new r(h):(n=r,Object.assign(n,h)),"RawShaderMaterial"===n.type)throw new Error("CustomShaderMaterial does not support RawShaderMaterial");(t=a.call(this)).uniforms=l||{},t.__csm={patchMap:u||{},fragmentShader:i||"",vertexShader:s||"",cacheKey:c,baseMaterial:r,instanceID:Ih.generateUUID(),type:n.type},ZD(jD(t),n);var d=t.__csm;return t.generateMaterial(d.fragmentShader,d.vertexShader,t.uniforms),t}return t=o,n=[{key:"update",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.uniforms=t.uniforms||this.uniforms,ZD(this.__csm,t);var n=this.__csm,r=n.fragmentShader,i=n.vertexShader,a=n.instanceID,o=this.uniforms,s=Object.values(o).reduce(function(e,t){return e+JSON.stringify(t.value)},"");this.uuid=(null==t||null===(e=t.cacheKey)||void 0===e?void 0:e.call(t))||CD([r,i,s,a]),this.generateMaterial(r,i,o)}},{key:"clone",value:function(){var e=new this.constructor({baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey});return Object.assign(this,e),e}},{key:"generateMaterial",value:function(e,t,n){var r=this,i=this.parseShader(e),a=this.parseShader(t);this.uniforms=n||{},this.customProgramCacheKey=function(){return r.uuid},this.onBeforeCompile=function(e){if(i){var t=r.patchShader(i,e.fragmentShader);e.fragmentShader=r.getMaterialDefine()+t}if(a){var n=r.patchShader(a,e.vertexShader);e.vertexShader="#define IS_VERTEX;\n"+n,e.vertexShader=r.getMaterialDefine()+e.vertexShader}e.uniforms=FD(FD({},e.uniforms),r.uniforms),r.uniforms=e.uniforms},this.needsUpdate=!0}},{key:"getMaterialDefine",value:function(){return"#define IS_".concat(this.__csm.type.toUpperCase(),";\n")}},{key:"getPatchMapForMaterial",value:function(){return"ShaderMaterial"===this.__csm.type?XD:qD}},{key:"patchShader",value:function(e,t){var n=t,r=FD(FD({},this.getPatchMapForMaterial()),this.__csm.patchMap);return Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(i){var a,o;o=e.main,new RegExp("\\b".concat(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),"\\b")).test(o)&&(a=r[t][i],n=n.split(i).join(a))})}),n=n.replace("void main() {","\n          ".concat(e.header,"\n          void main() {\n            ").concat("\n\n#ifdef IS_VERTEX\n    vec3 csm_Position = position;\n    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    vec3 csm_Normal = normal;\n#else\n    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL\n        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);\n        vec4 csm_FragColor = vec4(1., 0., 1., 1.);\n    #else\n        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n            vec3 csm_Emissive = emissive;\n            float csm_Roughness = roughness;\n            float csm_Metalness = metalness;\n            float csm_AO = 0.;\n        #endif\n        \n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            vec4 csm_DiffuseColor = vec4(diffuse, opacity);\n            vec4 csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n#endif\n","\n            ").concat(e.main,"\n          ")),n=e.defines+n}},{key:"parseShader",value:function(e){if(e){var t=function(e,t){var n=function(e){var t,n,r,i=0,a=0,o=999,s=[],l=[],u=1,c=0,h=0,d=!1,f=!1,p="",m=AD,g=PD;"300 es"===(e=e||{}).version&&(m=LD,g=ID);var v={},y={};for(i=0;i<m.length;i++)v[m[i]]=!0;for(i=0;i<g.length;i++)y[g[i]]=!0;return function(e){return l=[],null!==e?function(e){var n;for(i=0,e.toString&&(e=e.toString()),p+=e.replace(/\r\n/g,"\n"),r=p.length;t=p[i],i<r;){switch(n=i,o){case 0:i=S();break;case 1:case 2:i=w();break;case 3:i=M();break;case 4:i=C();break;case 11:i=T();break;case 5:i=P();break;case 9999:i=k();break;case 9:i=x();break;case 999:i=b()}n!==i&&("\n"===p[n]?(c=0,++u):++c)}return a+=i,p=p.slice(i),l}(e):(s.length&&_(s.join("")),o=10,_("(eof)"),l)};function _(e){e.length&&l.push({type:OD[o],data:e,position:h,line:u,column:c})}function b(){return s=s.length?[]:s,"/"===n&&"*"===t?(h=a+i-1,o=0,n=t,i+1):"/"===n&&"/"===t?(h=a+i-1,o=1,n=t,i+1):"#"===t?(o=2,h=a+i,i):/\s/.test(t)?(o=9,h=a+i,i):(d=/\d/.test(t),f=/[^\w_]/.test(t),h=a+i,o=d?4:f?3:9999,i)}function x(){return/[^\s]/g.test(t)?(_(s.join("")),o=999,i):(s.push(t),n=t,i+1)}function w(){return"\r"!==t&&"\n"!==t||"\\"===n?(s.push(t),n=t,i+1):(_(s.join("")),o=999,i)}function S(){return"/"===t&&"*"===n?(s.push(t),_(s.join("")),o=999,i+1):(s.push(t),n=t,i+1)}function M(){if("."===n&&/\d/.test(t))return o=5,i;if("/"===n&&"*"===t)return o=0,i;if("/"===n&&"/"===t)return o=1,i;if("."===t&&s.length){for(;E(s););return o=5,i}if(";"===t||")"===t||"("===t){if(s.length)for(;E(s););return _(t),o=999,i+1}var e=2===s.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;E(s););return o=999,i}return s.push(t),n=t,i+1}function E(e){for(var t,n,r=0;;){if(t=kD.indexOf(e.slice(0,e.length+r).join("")),n=kD[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return _(n),h+=n.length,(s=s.slice(n.length)).length}}function T(){return/[^a-fA-F0-9]/.test(t)?(_(s.join("")),o=999,i):(s.push(t),n=t,i+1)}function C(){return"."===t||/[eE]/.test(t)?(s.push(t),o=5,n=t,i+1):"x"===t&&1===s.length&&"0"===s[0]?(o=11,s.push(t),n=t,i+1):/[^\d]/.test(t)?(_(s.join("")),o=999,i):(s.push(t),n=t,i+1)}function P(){return"f"===t&&(s.push(t),n=t,i+=1),/[eE]/.test(t)?(s.push(t),n=t,i+1):("-"!==t&&"+"!==t||!/[eE]/.test(n))&&/[^\d]/.test(t)?(_(s.join("")),o=999,i):(s.push(t),n=t,i+1)}function k(){if(/[^\d\w_]/.test(t)){var e=s.join("");return o=y[e]?8:v[e]?7:6,_(s.join("")),o=999,i}return s.push(t),n=t,i+1}}(void 0),r=[];return(r=r.concat(n(e))).concat(n(null))}(e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,"")),n=function(e){var t,n,r,i=null,a=null,o=0,s=0,l=0,u=0,c=0,h=[];for(t=0;t<e.length;t++)if("{"===(r=e[t]).data){if(o&&o++)continue;if((n=f(t,DD(")"),DD()))<0)continue;if(u=n,(n=f(n,DD("("),DD(")")))<0)continue;if(c=n,(n=f(n,zD))<0)continue;if("ident"!==e[n].type)continue;if(a=e[n].data,(n=f(n,zD))<0)continue;o=1,s=t,i=e[n].data,l=n;var d=f(n,zD);switch(e[d]&&e[d].data){case"lowp":case"highp":case"mediump":l=d}}else if(o&&"}"===r.data){if(--o)continue;h.push({name:a,type:i,body:[s+1,t],args:[c,u+1],outer:[l,t+1]})}for(t=0;t<e.length;t++)if(";"===(r=e[t]).data){if((n=f(t,DD(")"),DD()))<0)continue;if(u=n,(n=f(n,DD("("),DD(")")))<0)continue;if(c=n,(n=f(n,zD))<0)continue;if("ident"!==e[n].type)continue;if(a=e[n].data,(n=f(n,zD))<0)continue;if("operator"===e[n].type)continue;if("return"===e[n].data)continue;h.push({name:a,type:i=e[n].data,body:!1,args:[c,u+1],outer:[n,t+1]})}return h.sort(function(e,t){return e.outer[0]-t.outer[0]});function f(t,n,r){for(var i=t-1;i>=0;i--){if(n(e[i]))return i;if(r&&r(e[i]))return-1}return-1}}(t),r=n.map(function(e){return e.name}).indexOf("main");return{defines:"",header:ND(t.slice(0,r>=0?n[r].outer[0]:void 0)),main:r>=0?this.getShaderFromIndex(t,n[r].body):""}}}},{key:"getShaderFromIndex",value:function(e,t){return ND(e.slice(t[0],t[1]))}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(),JD=/*#__PURE__*/e.forwardRef(function(t,n){var r=e.useRef(new KD(t));return e.useEffect(function(){return function(){return r.current.dispose()}},[]),/*#__PURE__*/e.createElement("primitive",{object:r.current,attach:"material",ref:n})}),QD=function(){var e=l(),t=i(function(){return 75},[]);return Nw(function(t){e.current.uniforms.u_time.value=t.clock.elapsedTime}),h("points",null,h("bufferGeometry",null,h(UT,{name:"position",compute:function(){return new kf(new Array(t).fill(0).map(function(){return Math.random()}),3)}})),h(JD,{ref:e,baseMaterial:Qv,size:.1,transparent:!0,uniforms:{u_time:{value:0}},vertexShader:TD("\n          uniform float u_time;\n          varying vec2 vUv;\n\n          void main() {\n            vUv = uv;\n            vec3 n = gln_curl(position + u_time * 0.005);\n            // n.x = 0.;\n            csm_Position = n * 1.5;\n          }\n        "),fragmentShader:"\n          varying vec2 vUv;\n          \n          void main(){\n              vec2 uv = vec2(gl_PointCoord.x, 1. - gl_PointCoord.y);\n              vec2 cUV = 2. * uv - 1.;\n\n              vec4 color = vec4(.08 / length(cUV));\n              color.rgb = min(vec3(1.), color.rgb);\n\n              csm_DiffuseColor = vec4(color.rgb, color.a * 0.5);\n          }\n        ",blending:2}))},ez={radial_rainbows:"_Btr4a",radial_rainbows__default:"_JvjgJ"},tz=function(e){var t=e.tagName,n=void 0===t?"canvas":t,r=e.className,i=void 0===r?"absolute top-0 left-0 w-screen h-screen":r,a=e.variant,o=void 0===a?"default":a,s=e.children,u=void 0===s?"":s,c=l(),d=lc({ref:c});return Yu(function(){if(d){for(var e=d.view,t=Gu.Point,n=Gu.Path,r=e.center,i=[],a=0;a<60;a++)i.push(o={hue:a/60*4*360,saturation:1,brightness:1-a/60*1.5});var o,s=.75*Math.max(e.size.width,e.size.height),l=new n.Rectangle({rectangle:e.bounds,fillColor:{origin:r,destination:new t(r.x+s,0),gradient:{stops:[["white",0],["white",.05],["white",.07]].concat(i.splice(0,5),[["black",.95],["black",.2],["black",1]]),radial:!0}}}),u=(o=l.fillColor).gradient,c=!1,h=e.center,f=!1,p=new t(150,0);e.onMouseDown=function(e){c=!0,h=e.point},e.onMouseDrag=function(e){h=e.point},e.onMouseUp=function(e){p.length=10,c=!1},e.onFrame=function(e){for(var n=0,i=u.stops.length;n<i;n++)u.stops[n].color.hue-=20;f&&p.length>300?f=!1:!f&&p.length<75&&(f=!0),c?(r.x=r.x+(h.x-r.x)/10,r.y=r.y+(h.y-r.y)/10):(p.length+=f?1:-1,p.angle+=5),o.highlight=c?r:new t({x:r.x+p.x,y:r.y+p.y})},e.onResize=function(n){r=e.center,l.bounds=e.bounds;var i=l.fillColor;i.origin=r;var a=.75*Math.max(e.size.width,e.size.height);i.destination=new t(r.x+a,0)}}},[d]),h(n,{className:ez.radial_rainbows+" "+ez["radial_rainbows__"+o]+" "+i,ref:c,"data-paper-resize":"true"},u)};tz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var nz={random_grid:"_TBaOG",random_grid__default:"_6RivE"},rz=function(e){var t=e.left,n=e.top;return h("div",{className:"absolute z-10 text-black",style:{left:(void 0===t?73:t)+"%",top:(void 0===n?45:n)+"%"}},h("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 100 100",stroke:"current",fill:"none",strokeWidth:"8",className:"text-current stroke-current"},h("path",{d:"M0 0 L0 16 M0 0 L16 0",transform:"rotate(0, 50, 50)"}),h("path",{d:"M0 0 L0 16 M0 0 L16 0",transform:"rotate(90, 50, 50)"}),h("path",{d:"M0 0 L0 16 M0 0 L16 0",transform:"rotate(180, 50, 50)"}),h("path",{d:"M0 0 L0 16 M0 0 L16 0",transform:"rotate(270, 50, 50)"})))},iz=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute top-0 left-0 w-full h-full":r,a=e.variant,o=void 0===a?"default":a,l=e.count,u=void 0===l?6:l,c=p(!1),d=c[0],f=c[1];return s(function(){var e;return e=setTimeout(function(){return f(!d)},2e3),function(){return clearTimeout(e)}},[d]),h(n,{className:nz.random_grid+" "+nz["random_grid__"+o]+" "+i},[].concat(Array(u).keys()).map(function(e,t){var n=Math.floor(100*Math.random()),r=Math.floor(100*Math.random());return h(rz,{key:"r-grid-"+t,left:n,top:r})}))};iz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var az={scene_paper_j_s:"_ZkRDe",scene_paper_j_s__default:"_kM3Bq"},oz=function(t){var n=t.tagName,r=void 0===n?"canvas":n,i=t.className,a=void 0===i?"absolute top-0 left-0 w-screen h-screen bg-black opacity-100":i,o=t.variant,s=void 0===o?"default":o,l=e.useRef(),u=lc({ref:l});return Yu(function(){if(u){console.log("project",u);var e=u.view;console.log("view",e),e.onFrame=function(e){console.log("tick",e.count)},e.onResize=function(e){console.log("event",e)}}},[u]),h(r,{className:az.scene_paper_j_s+" "+az["scene_paper_j_s__"+s]+" "+a,ref:l})};oz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"])};var sz={scroller:"_Hu0Hu",scroller__default:"_glBkh"},lz=["tagName","className","variant","children","damping","mass","stiffness","disable","debug","scrollRef"],uz=function(e){var t=e.tagName,n=void 0===t?Yl.div:t,r=e.className,o=void 0===r?"":r,c=e.variant,d=void 0===c?"default":c,f=e.children,m=void 0===f?"":f,g=e.damping,v=void 0===g?15:g,y=e.mass,_=void 0===y?.15:y,b=e.stiffness,x=void 0===b?25:b,S=e.disable,M=void 0!==S&&S,E=e.scrollRef,T=void 0===E?w():E,C=L(e,lz),P=p(),k=P[0],A=P[1],I=uu(-window.pageYOffset||-window.scrollY),O=function(e,t={}){const{isStatic:n}=a(qt),r=l(null),o=uu(Mn(e)?e.get():e);return i(()=>o.attach((e,i)=>n?i(e):(r.current&&r.current.stop(),r.current=ba({from:o.get(),to:e,velocity:o.getVelocity(),...t,onUpdate:i}),o.get())),[JSON.stringify(t)]),function(e,t){Kt(()=>{if(Mn(e))return e.onChange(t)},[t])}(e,e=>o.set(parseFloat(e))),o}(I,{damping:v,mass:_,stiffness:x}),D=u(function(e){for(var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;)A(t.value.contentRect.height)},[]);return Yu(function(){var e=T.current,t=new ResizeObserver(function(e){return D(e)});return t.observe(e),function(){return t.disconnect()}},[D]),s(function(){var e=function(){(window.scrollY||window.pageYOffset<k)&&I.set(-window.pageYOffset||-window.scrollY)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[I]),h(Fragment,null,h(n,R({id:"scroll-container",className:sz.scroller+" "+sz["scroller__"+d]+" "+o+" pointer-events-auto fixed left-0 right-0 z-0 will-change-transform"},C,{style:M?null:{y:O},ref:T}),m),T.current&&k?h("div",{className:"pointer-events-none",style:M?{height:"0px"}:{height:k+"px"}}):null)};uz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var cz={scroll_progress_line:"_O-hV-",scroll_progress_line__default:"_Mx-SX"},hz={visible:{height:"15vh",transition:{duration:2,ease:dD}},hidden:{height:"0vh"}},dz=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"fixed top-0 right-0 z-50 flex w-full h-screen pointer-events-none mix-blend-difference":r,a=e.variant,o=void 0===a?"default":a,s=e.pageRange,l=void 0===s?[.1,.33,.5,1]:s,u=e.lengthRange,c=void 0===u?["15vh","33vh","66vh","100vh"]:u,d=e.forwardRef,f=Qu().height,p=Vu({container:d}),m=p.scrollY,g=du(p.scrollYProgress,l,c)||du(m,function(e){return e-.5*f});return h(n,{className:aD(cz.scroll_progress_line,cz["scroll_progress_line__"+o],i)},h(Yl.div,{className:"absolute top-[5vh] right-4 my-auto max-h-[90vh] rounded-full bg-white mix-blend-exclusion",initial:"hidden",animate:"visible",variants:hz,style:{height:g,width:"13px"}}))};dz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var fz=function(e){var t=e.calcHeight,n=e.scrollY,r=e.scrollYProgress,i=P(),a=i.width,o=i.height;return h("section",{className:"fixed flex items-center justify-center w-full text-center top-4 z-infinity "},h("div",{className:"flex w-auto px-6 py-2 mx-auto space-x-4 font-mono text-sm font-normal rounded-2xl bg-white/50"},h("p",{className:"after:content-['_|']"},h("span",{className:"font-bold"},"height:"),h("span",null,t.get())),h("p",{className:"after:content-['_|']"},h("span",{className:"font-bold"},"y:"),h("span",null,n)),h("p",{className:"after:content-['_|']"},h("span",{className:"font-bold"},"percentage:"),h("span",null,(100*r).toFixed(0),"%")),h("p",null,h("span",{className:"font-bold"},"window "),h("span",{className:"after:content-['_|_']"},"h:",o),h("span",{className:""},"w:",a))))},pz={scroller_snapper:"_sIXy7",scroller_snapper__default:"_c3kvf"},mz=["tagName","className","variant","children","damping","mass","stiffness","disable","debug","scrollRef"],gz=c(function(e,t){var n=R({},e);return h("div",R({ref:t},n,{className:"overflow-touch absolute h-screen w-full snap-y snap-mandatory overflow-scroll"}),n.children,h("style",{jsx:!0},"\n      .overflow-touch {\n        -webkit-overflow-scrolling: touch;\n      }\n    "))}),vz=function(e){var t=e.tagName,n=void 0===t?Yl.div:t,r=e.className,i=void 0===r?"relative z-0 h-screen min-w-full pointer-events-auto":r,a=e.variant,o=void 0===a?"default":a,l=e.children,u=void 0===l?"":l,c=e.disable,d=void 0!==c&&c,f=e.debug,m=void 0===f||f,g=e.scrollRef,v=void 0===g?w():g,y=L(e,mz),_=Qu().height,b=p(0),x=b[0],S=b[1],M=p(0),E=M[0],T=M[1],C=Vu({container:v}),P=C.scrollY,k=C.scrollYProgress,A=du(k,[.1,.25,.5,1],["15vh","25vh","50vh","100vh"]);return s(function(){P.onChange(function(e){return S(e)}),k.onChange(function(e){return T(e)})},[P,k]),h(Fragment,null,m&&h(fz,{calcHeight:A,scrollY:x,scrollYProgress:E}),h(n,R({className:pz.scroller_snapper+" "+pz["scroller_snapper__"+o]+" "+i,id:"scroll-container"},y),h(dz,{width:k.getVelocity(),forwardRef:v}),h(gz,{ref:v},u)),v.current&&_?h("div",{className:"pointer-events-none",style:d?{height:"0px"}:{height:_+"px"}}):null)};vz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};const yz=new Map,_z=new WeakMap;let bz=0;function xz({threshold:t,delay:n,trackVisibility:r,rootMargin:i,root:a,triggerOnce:o,skip:s,initialInView:l,fallbackInView:u,onChange:c}={}){var h;const[d,f]=e.useState(null),p=e.useRef(),[m,g]=e.useState({inView:!!l,entry:void 0});p.current=c,e.useEffect(()=>{if(s||!d)return;let e;return e=function(e,t,n={},r){if(void 0===window.IntersectionObserver&&void 0!==r){const i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:a,elements:o}=function(e){let t=function(e){return Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{return`${t}_${"root"===t?(n=e.root,n?(_z.has(n)||(bz+=1,_z.set(n,bz.toString())),_z.get(n)):"0"):e[t]}`;var n}).toString()}(e),n=yz.get(t);if(!n){const r=new Map;let i;const a=new IntersectionObserver(t=>{t.forEach(t=>{var n;const a=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=r.get(t.target))||n.forEach(e=>{e(a,t)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},yz.set(t,n)}return n}(n);let s=o.get(e)||[];return o.has(e)||o.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(o.delete(e),a.unobserve(e)),0===o.size&&(a.disconnect(),yz.delete(i))}}(d,(t,n)=>{g({inView:t,entry:n}),p.current&&p.current(t,n),n.isIntersecting&&o&&e&&(e(),e=void 0)},{root:a,rootMargin:i,threshold:t,trackVisibility:r,delay:n},u),()=>{e&&e()}},[Array.isArray(t)?t.toString():t,d,a,i,o,s,r,u,n]);const v=null==(h=m.entry)?void 0:h.target;e.useEffect(()=>{d||!v||o||s||g({inView:!!l,entry:void 0})},[d,v,o,s,l]);const y=[f,m.inView,m.entry];return y.ref=y[0],y.inView=y[1],y.entry=y[2],y}function wz(){return wz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wz.apply(this,arguments)}var Sz={scroll_snap_section:"_okl-i",scroll_snap_section__default:"_pV-CY"},Mz={visible:{opacity:1,scale:1,transition:{duration:.5}},hidden:{opacity:0,scale:.8}},Ez={visible:{opacity:1,x:0,transition:{duration:.5}},hidden:{opacity:0,x:-500}},Tz=function(e){var n=e.tagName,r=void 0===n?"section":n,i=e.className,a=void 0===i?"flex flex-col items-center justify-center flex-none w-full z-content":i,o=e.innerClassName,l=void 0===o?"flex justify-center items-center w-full":o,u=e.variant,c=void 0===u?"default":u,d=e.children,f=void 0===d?"":d,p=e.full,m=void 0!==p&&p,g=e.half,v=void 0!==g&&g,y=e.triggerOnce,_=void 0!==y&&y,b=e.content,x=void 0!==b&&b,w=e.variants,S=e.transLeft,M=void 0!==S&&S,E=e.skipAnimation,T=void 0===E||E,C=e.sound,P=function(e,n){void 0===n&&(n={});var r=n.volume,i=void 0===r?1:r,a=n.playbackRate,o=void 0===a?1:a,l=n.soundEnabled,u=void 0===l||l,c=n.interrupt,h=void 0!==c&&c,d=n.onload,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),p=t.useRef(null),m=t.useRef(!1),g=t.useState(null),v=g[0],y=g[1],_=t.useState(null),b=_[0],x=_[1],w=function(){"function"==typeof d&&d.call(this),m.current&&y(1e3*this.duration()),x(this)};s(function(){return Promise.resolve().then(function(){return ih}).then(function(t){var n;m.current||(p.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,m.current=!0,new p.current(wz({src:Array.isArray(e)?e:[e],volume:i,rate:o,onload:w},f)))}),function(){m.current=!1}},[]),t.useEffect(function(){p.current&&b&&x(new p.current(wz({src:Array.isArray(e)?e:[e],volume:i,onload:w},f)))},[JSON.stringify(e)]),t.useEffect(function(){b&&(b.volume(i),b.rate(o))},[i,o]);var S=t.useCallback(function(e){void 0===e&&(e={}),b&&(u||e.forceSoundEnabled)&&(h&&b.stop(),e.playbackRate&&b.rate(e.playbackRate),b.play(e.id))},[b,u,h]),M=t.useCallback(function(e){b&&b.stop(e)},[b]),E=t.useCallback(function(e){b&&b.pause(e)},[b]);return[S,{sound:b,stop:M,pause:E,duration:v}]}(void 0===C?"/sounds/100472__iluppai__piano-chord-explosion.mp3":C),k=P[0],A=P[1].stop,I=xz({threshold:x?.15:.75,triggerOnce:_}),R=I.ref,L=I.inView,O=w||(M?Ez:Mz);return s(function(){L?k():A()},[L]),h(r,{className:Sz.scroll_snap_section+" "+Sz["scroll_snap_section__"+c]+" "+a,ref:R,style:x?{height:"auto",scrollSnapAlign:"start"}:{height:m?"100vh":v?"50vh":120,scrollSnapAlign:"center"}},x?h(Yl.div,{className:"relative w-full h-auto",initial:T?"":"hidden",animate:T?"":L?"visible":"hidden",variants:T?null:O},f):h(Yl.div,{className:l,initial:T?"":"hidden",animate:T?"":L?"visible":"hidden",variants:T?null:O},f))};Tz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var Cz=function(e){var t=e.tagName,n=void 0===t?"h2":t,r=e.className,i=void 0===r?"text-white transition-all duration-1000 ease-out font-stolzl hover:text-purple-400":r,a=e.defaultText,o=e.hoverText,s=e.characters,c=void 0===s?"":s,d=p(a),f=d[0],m=d[1],g=p(a),v=g[0],y=g[1],_=l(c),b=l(0),x=l([]),w=u(function(){for(var e="";e.length<b.current;)e+=_.current.charAt(Math.floor(Math.random()*_.current.length));y(e)},[]),S=u(function(){if(!x.current.length){x.current=[];for(var e=0;e<f.length;e++)x.current.push({countdown:Math.floor(12*Math.random())+1,correctLetter:f.charAt(e)})}for(var t=!1,n="",r=0;r<x.current.length;r++){var i=x.current[r];i.countdown>0?(t=!0,i.countdown--,n+=_.current.charAt(Math.floor(Math.random()*_.current.length))):n+=i.correctLetter}y(n),!0===t?setTimeout(S,50):(b.current=0,x.current=[])},[f]),M=u(function(){b.current<f.length?(b.current+=2,b.current>f.length&&(b.current=f.length),w(),setTimeout(M,20)):setTimeout(S,20)},[S,w,f]);return Yu(function(){M()},[M]),h(n,{className:k(i,{hoverFont:f===o}),onMouseEnter:function(){return m(o)},onMouseLeave:function(){return m(a)}},v)};Cz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var Pz={sine_wave:"_1sPP0",sine_wave__default:"_nfcyv"},kz=function(e){var t=e.tagName,n=e.className,r=e.variant,i=l(),a=i.current;return s(function(){a.getContext("2d")},[]),h(t,{className:Pz.sine_wave+" "+Pz["sine_wave__"+r]+" "+n},h("canvas",{ref:i,style:{width:"100vw",height:"100vh"}}))};kz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node},kz.defaultProps={tagName:"div",className:"",variant:"default",children:""};var Az={speech_panel:"_LfVeR",speech_panel__default:"_xnJkF"},Iz=function(e){return h(Yl.div,{initial:{scale:1},animate:{scale:100},exit:{scale:1},transition:{duration:1,ease:[.4,0,.2,1]},onAnimationComplete:e.onAnimationComplete,className:"fixed origin-center transition-all ease-out h-[84px] w-[84px] right-12 bottom-12 rounded-full"},h("div",{className:"absolute bottom-0 right-0 w-full h-full transition ease-out bg-red-ff dark:bg-blue-500 rounded-full duration-500"}))},Rz=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"fixed top-0 left-0 flex items-center justify-center w-screen h-screen overflow-hidden":r,a=e.variant,o=void 0===a?"default":a,s=e.active,l=void 0!==s&&s,c=e.questions,d=void 0===c?["Ready to mint?","Want to read the FAQ?","Do you like turtles?","What do you think of NFTs?"]:c,f=p(!1),m=f[0],g=f[1],v=u(function(){m?(console.log("Animation End Complete"),g(!1)):(console.log("Animation Start Complete"),g(!0))},[m]),y={hide:{opacity:0},show:{opacity:1},transition:{duration:1,ease:"easeOut"}};return h(ru,{exitBeforeEnter:!0},l&&h(n,{className:Az.speech_panel+" "+Az["speech_panel__"+o]+" "+i,key:"speech-panel"},h(Iz,{onAnimationComplete:v}),h(ru,null,m&&h(Yl.ul,{initial:"hide",animate:"show",exit:"hide",variants:{hide:{opacity:0},show:{opacity:1},transition:{duration:.5,ease:"easeOut",staggerChildren:1.5}},key:"question-panel",layout:!0,className:"relative grid grid-flow-row grid-cols-3 mx-4 text-2xl text-white gap-y-4 gap-x-4"},d.map(function(e,t){return h(Yl.li,{initial:"hide",animate:"show",exit:"hide",variants:y,key:"q-"+t,className:"flex items-center justify-center px-4 py-2 text-center text-black transition-all duration-500 ease-out drop-shadow-md hover:drop-shadow-2xl backdrop-blur-lg bg-white/90 rounded-2xl"},e)})))))};Rz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var Lz,Oz,Nz={spinning_loader:"_-Tv4m",spinning_loader__default:"_Q5GXt"},Dz=1,zz=function(e){var t=e.tagName,n=e.className,r=e.variant,a=e.enterDelay,o=void 0===a?100:a,c=e.leaveDelay,d=void 0===c?100:c,f=l(),p=ic(f,{enterDelay:o,leaveDelay:d});u(function(e){1==e.touches.length&&(0,e.preventDefault)()},[]),u(function(e){1==e.touches.length&&(0,e.preventDefault)()},[]),((e,t,n=window)=>{const r=l();s(()=>{r.current=t},[t]),s(()=>{if(!n||!n.addEventListener)return;const t=e=>r.current(e);return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}},[e,n])})("resize",u(function(){Lz=window.innerWidth,Oz=window.innerHeight,g.current.width=Lz,g.current.height=Oz},[g])),s(function(){Lz=window.innerWidth,Oz=window.innerHeight,g.current.width=Lz,g.current.height=Oz},[]);var m=i(function(){return function(e){for(var t=[],n=ic(),r=n.x,i=n.y,a=0;a<25;a++){var o={size:1,position:{x:r,y:i},offset:{x:0,y:0},shift:{x:r,y:i},speed:.01+.04*Math.random(),targetSize:1,fillColor:"#"+(1697420*Math.random()+16096035|0).toString(16),orbit:35+35*Math.random()};t.push(o)}return t}()},[]),g=((e,t="2d")=>{const n=l(null);return s(()=>{const r=n.current.getContext(t);let i=requestAnimationFrame(function t(){i=requestAnimationFrame(t),e(r)});return()=>cancelAnimationFrame(i)},[e,t]),n})(function(e,t,n){return void 0===n&&(n=!1),function(r){var i=t.x,a=t.y,o=t.clientX,s=t.clientY;o&&s?(i=o-.5*(window.innerWidth-Lz),a=s-.5*(window.innerHeight-Oz)):(i=window.innerWidth-.5*Lz,a=window.innerHeight-.5*Oz),t.isDown?Dz+=.02*(1.5-Dz):Dz-=.02*(Dz-1),Dz=Math.min(Dz,1.5),n||(r.fillStyle="rgba(0,0,0,0.05)",r.fillRect(0,0,r.canvas.width,r.canvas.height));for(var l=0,u=e.length;l<u;l++){var c=e[l],h={x:c.position.x,y:c.position.y};c.offset.x+=c.speed,c.offset.y+=c.speed,c.shift.x+=(i-c.shift.x)*c.speed,c.shift.y+=(a-c.shift.y)*c.speed,c.position.x=c.shift.x+Math.cos(l+c.offset.x)*(c.orbit*Dz),c.position.y=c.shift.y+Math.sin(l+c.offset.y)*(c.orbit*Dz),c.position.x=Math.max(Math.min(c.position.x,Lz),0),c.position.y=Math.max(Math.min(c.position.y,Oz),0),c.size+=.05*(c.targetSize-c.size),Math.round(c.size)==Math.round(c.targetSize)&&(c.targetSize=1+7*Math.random()),r.beginPath(),r.fillStyle=c.fillColor,r.strokeStyle=c.fillColor,r.lineWidth=c.size,r.moveTo(h.x,h.y),r.lineTo(c.position.x,c.position.y),r.stroke(),r.arc(c.position.x,c.position.y,c.size/2,0,2*Math.PI,!0),r.fill()}}}(m,p));return h(t,{className:Nz.spinning_loader+" "+Nz["spinning_loader__"+r]+" "+n,ref:f},h("canvas",{style:{backgroundColor:"transparent",width:"100vw",height:"100vh"},ref:g}))};zz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node},zz.defaultProps={tagName:"div",className:"absolute z-40 top-0 bg-black w-screen h-screen ",variant:"default",children:""};var Uz={static:"_ftu6h",static__default:"_QoNWc"},Bz=/*#__PURE__*/function(){function e(e){this.canvas=e.canvas,this.context=e,this.pixelSize=4,this.pixels=[],this.onResize(),this.tick=0,this.lines=[{pos:50,height:28,speed:.281},{pos:80,height:16,speed:1.129}]}var t=e.prototype;return t.onResize=function(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.pixels.length=0},t.start=function(){},t.update=function(){for(var e=Math.ceil(this.width/this.pixelSize),t=Math.ceil(this.height/this.pixelSize),n=0,r=0;r<t;r++)for(var i=this.isInLine(r,t),a=0;a<e;a++){var o=a+r*e,s=void 0;n<=0?(n=1+Math.floor(3*Math.random()),s=Fz.randomSaturatedColor(),s=Fz.mulColor(s,i?.55:.4)):s=Fz.mulColor(s=this.pixels[o-1],.8),this.pixels[o]=s,n--}this.updateLines(t),this.linePos%=t,this.renderPixels()},t.updateLines=function(e){this.lines.forEach(function(t){return t.pos=(t.pos+t.speed)%e})},t.isInLine=function(e,t){return this.lines.some(function(n){return e>=n.pos&&e<n.pos+n.height||n.pos+n.height>t&&e<n.pos-t+n.height})},t.renderPixels=function(){for(var e=Math.ceil(this.width/this.pixelSize),t=0;t<this.pixels.length;t++){var n=t%e,r=Math.floor(t/e);this.context.fillStyle="#"+this.pixels[t].toString(16),this.context.fillRect(n*this.pixelSize,r*this.pixelSize,this.pixelSize,this.pixelSize)}},e}(),Fz=/*#__PURE__*/function(){function e(){}return e.randomColor=function(){return Math.round(16777215*Math.random())},e.randomSaturatedColor=function(){var e=Math.round(255*Math.random());return e<<16|e<<8|e},e.mulColor=function(e,t){var n=(16711680&e)>>16,r=(65280&e)>>8,i=255&e;return(n=Math.min(Math.round(n*t),255))<<16|(r=Math.min(Math.round(r*t),255))<<8|Math.min(Math.round(i*t),255)},e}(),jz=function(t){var n=t.tagName,r=void 0===n?Yl.canvas:n,i=t.className,a=void 0===i?"absolute inset-0 w-screen h-screen":i,o=t.variant,s=void 0===o?"default":o,l=t.children,u=void 0===l?"":l,c=t.loop,d=void 0===c||c,f=e.useRef();return Yu(function(){!function(){var e=f.current.getContext("2d"),t=new Bz(e);t.start();var n=function n(){e.clearRect(0,0,t.width,t.height),t.update(),d&&requestAnimationFrame(n)};n(),window.addEventListener("resize",n)}()},[]),h(r,{className:Uz.static+" "+Uz["static__"+s]+" "+a,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1,ease:[.6,.05,-.01,.9]},ref:f},u)};jz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var Vz=S(function(e){var t=e.children,n=e.sticky,r=void 0===n||n,i=l(null),a=uc().lockCursorPosition,o=v.map(t,function(e){if(!y(e))return null;var t=e.props,n=t.onMouseEnter,r=t.onMouseLeave;return cloneElement(e,{onMouseEnter:function(e){if(i.current){var t=i.current.getBoundingClientRect();a({x:t.width/2+t.left,y:t.height/2+t.top}),n&&n(e)}},onMouseLeave:function(e){i.current&&(a(null),r&&r(e))},ref:function(t){i.current=t;var n=e.ref;"function"==typeof n?n(t):null!==n&&(n.current=t)}})});return r?o:t}),Hz=["sticky","title"],Wz=S(c(function(t,n){var r=t.sticky,i=void 0===r||r,a=t.title,o=void 0===a?"Lorem Ipsum":a,s=L(t,Hz),l=e.useContext(H).dispatch,c=uc(),d=c.addCursorBorder,f=c.removeCursorBorder,p=u(function(){l({type:"TOGGLE_MENU"})},[l]);return h(Vz,{sticky:i},h("button",R({className:"text-white dark:text-black",onMouseEnter:d,onMouseLeave:f,onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){p(),onClick()}),ref:n},s),h("span",{className:"px-4 py-2 font-mono text-sm tracking-widest transition duration-500 ease-out bg-black hover:bg-accent2 active:bg-accent3 dark:bg-white"},o)))})),Gz={sticky_drawer:"_8J7iZ",sticky_drawer__default:"_8lOP-"},$z=function(e){var t=e.caption,n=e.description,r=e.itemHeight,i=void 0===r?"37.25rem":r,a=e.totalItems,o=void 0===a?6:a,s=e.index,l=e.backgroundColor,u=void 0===l?"#54504b":l,c=e.color,d=void 0===c?"#0a000f":c,f=0,p=0;switch(void 0===s?0:s){case 0:p="calc((100vh - "+i+") * 5 / "+o+")";break;case 1:f="calc((100vh - "+i+") / "+o+")",p="calc((100vh - "+i+") * 4 / "+o+")";break;case 2:f="calc((100vh - "+i+") * 2 / "+o+")",p="calc((100vh - "+i+") / 2)";break;case 3:f="calc((100vh - "+i+") / 2)",p="calc((100vh - "+i+") * 2 / "+o+")";break;case 4:f="calc((100vh - "+i+") * 4 / "+o+")",p="calc((100vh - "+i+") * 1 / "+o+")";break;case 5:f="calc((100vh - "+i+") * 5 / "+o+")"}return h("div",{className:"sticky",style:{top:f,bottom:p,height:"calc((100vh - "+i+") / "+o+")"}},h("div",{className:"absolute top-0 left-0 w-full",style:{height:i}},h("div",{className:"item-block absolute flex w-full flex-col items-center justify-between rounded-[24px] text-center font-light leading-[1.43] before:absolute before:left-0 before:top-[0.875rem] before:right-0 before:font-serif before:text-[2vw] before:font-light before:italic before:text-white before:mix-blend-difference",style:{backgroundColor:u,color:d,height:i}},h("div",{className:"caption mt-[5.875rem] text-center text-[13vw] font-black leading-[1]"},t),h("div",{className:"description mb-12 w-1/2 text-center text-[1.25vw] uppercase leading-[1.14]",dangerouslySetInnerHTML:{__html:n}}))),h("style",{jsx:!0},"\n        .item-block::before {\n          content: '(0' counter(blocks) ')';\n          counter-increment: blocks;\n          /* -webkit-text-stroke: 1px #000; */\n        }\n      "))},qz=function(e){var t=e.totalItems,n=e.itemHeight,r=void 0===n?"37.25rem":n;return h("div",{className:"placeholder",style:{height:"calc("+r+" - (100vh - "+r+") / "+(void 0===t?6:t)+")"}})},Xz=function(e){var t=e.items,n=void 0===t?[]:t,r=e.index;return h(Fragment,null,h($z,{caption:e.caption,description:e.description,backgroundColor:A[0][r],totalItems:n.length,index:r}),h(qz,{totalItems:n.length}))},Yz=function(e){var t=e.tagName,n=void 0===t?Yl.div:t,r=e.className,i=void 0===r?"relative flex flex-col items-center justify-between w-full h-auto -mt-5":r,a=e.variant,o=void 0===a?"default":a,s=e.items,l=void 0===s?[{caption:"Empathize",description:"First, we conduct user research in order to understand your audience",backgroundColor:"#54504b"},{caption:"Define",description:"Next, we&apos;ll review our research and look for flaws to resolve",backgroundColor:"#e2e3dc"},{caption:"Brainstorm",description:"Then we&apos;l think of some creative ideas based around our data",backgroundColor:"#a69897"},{caption:"Prototype",description:"Time to build a tactile representation that we think solves the issues",backgroundColor:"#f46e48"},{caption:"Testing",description:"We&apos;ll do a test run and then collect additional data from the users",backgroundColor:"#adccbf"},{caption:"Implement",description:"Finally, we&apos;ll deliver the finished product and put it into action",backgroundColor:"#c3b59f"}]:s,u=e.itemHeight,c=void 0===u?"37.25rem":u,d=e.triggerOnce,f=xz({threshold:.15,triggerOnce:void 0!==d&&d});return h(n,{ref:f.ref,className:Gz.sticky_drawer+" "+Gz["sticky_drawer__"+o]+" "+i},h("div",{className:"relative w-full h-screen"},h("div",{className:"absolute top-0 left-0 w-full h-screen overflow-scroll overflow-touch snap-y snap-proximity"},h("div",{className:"before:border-t-none item-list block before:relative before:block before:rounded-2xl before:content-[''] after:relative after:block after:w-full after:content-['']",style:{counterReset:"blocks",margin:"calc((100vh - "+c+") * -1) 0"}},l.map(function(e,t){return h(Xz,{key:"item-"+t,items:l,index:t,caption:e.caption,description:e.description,backgroundColor:e.backgroundColor})})))),h("style",{jsx:!0},"\n        .block::before {\n          height: calc(100vh - "+c+");\n          width: calc(100% + 10px);\n          left: -5px;\n        }\n        .block::after {\n          height: calc(100vh - "+c+");\n        }\n        .overflow-touch {\n          -webkit-overflow-scrolling: touch;\n        }\n      "))};Yz.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var Zz,Kz,Jz,Qz,eU,tU={sticky_image_explode:"_3mioI",sticky_image_explode__default:"_IdCYl"},nU=function(){return h("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none",style:{height:"calc(100% - 100vh)"}})},rU=function(e){var t=e.className,n=e.borderRadius,r=e.transform,i=e.children;return h(Yl.div,{className:"sticky left-[5px] top-[5px] bg-cover bg-center bg-no-repeat duration-200 ease-[cubic-bezier(0,1,0,1)] will-change-transform "+(void 0===t?'bg-[#4E6868] bg-[url("/img/fpo-bg1.jpeg")]':t),style:{borderRadius:void 0===n?"20vw":n,transform:void 0===r?"translate(0px, 244.543px) scale(0.26, 0.26)":r,transformOrigin:"top center",width:"calc(100% - 10px)",height:"calc(150rem - 10px)"}},void 0===i?"":i)},iU=function(e){var t=e.borderRadius,n=e.transform,r=e.className;return h(Yl.div,{className:"absolute left-0 top-0 h-full w-full origin-center bg-cover bg-center bg-no-repeat duration-200 ease-[cubic-bezier(0,1,0,1)] will-change-transform "+(void 0===r?'bg-[#4E6868] bg-[url("/img/fpo-bg1.jpeg")]':r),style:{borderRadius:void 0===t?"20vw":t,transform:void 0===n?"rotate(25deg) scale(0.63, 0.63)":n}})},aU=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute flex flex-col items-center justify-center w-full h-screen overflow-hidden":r,a=e.variant,o=void 0===a?"default":a,s=l(),u=Vu({container:s}).scrollYProgress,c=du(u,[0,.35],[20,2]),d=pu(Zz||(Zz=O(["","vw"])),c),f=du(u,[0,.35],[.26,1]),p=du(u,[0,.35],[244.543,0]),m=du(u,[0,.35,.55],[.63,1,.85]),g=du(u,[0,.35,.55],[.37,1,.75]),v=du(u,[0,.35,.55],[0,1,.65]),y=du(u,[0,.5],["25deg","0deg"]),_=du(u,[0,.5],["50deg","0deg"]),b=du(u,[0,.5],["75deg","0deg"]),x=pu(Kz||(Kz=O(["translate(0px, ","px) scale(",", ",")"])),p,f,f),w=pu(Jz||(Jz=O(["translate3d(0px, 0px, 0px) rotate(",") scale(",", ",")"])),y,m,m),S=pu(Qz||(Qz=O(["translate3d(0px, 0px, 0px) rotate(",") scale(",", ",")"])),_,g,g),M=pu(eU||(eU=O(["translate3d(0px, 0px, 0px) rotate(",") scale(",", ",")"])),b,v,v);return h(n,{className:tU.sticky_image_explode+" "+tU["sticky_image_explode__"+o]+" "+i},h("div",{className:"relative w-full h-full"},h("div",{className:"absolute top-0 left-0 w-full h-screen overflow-scroll overflow-touch snap-y snap-proximity",ref:s},h(nU,null),h(rU,{borderRadius:d,transform:x},h(iU,{borderRadius:d,transform:w}),h(iU,{borderRadius:d,transform:S}),h(iU,{borderRadius:d,transform:M})))),h("style",{jsx:!0},"\n        .overflow-touch {\n          -webkit-overflow-scrolling: touch;\n        }\n      "))};aU.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var oU=function(e){var t=e.id;return h(QS,{id:"tag-manager",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n          })(window,document,'script','dataLayer','"+(void 0===t?"GTM-XXXXXX":t)+"');\n      "},Script:!0})};oU.propTypes={id:M.string};var sU={text:"_78lq0",text__default:"_Fgl5w"},lU=function(t){var n=t.children,r=t.letterWrapperClassname,i=void 0===r?"cursor-pointer relative white-space-pre":r,a=t.hiddenLetterClassname,o=void 0===a?"opacity-0 invisible":a,s=t.roundLetterClassname,l=void 0===s?"inline-block h-full left-0 absolute top-0 origin-right w-full":s,u=t.spaceLetterClassname,c=void 0===u?"inline-block font-stolzl h-full left-0 absolute top-0 origin-left w-full":u,d=e.useState(!1),f=d[0],p=d[1],m={initial:{opacity:0,transform:"translateY(0%)"},animate:{opacity:f?0:1,transform:f?"translateY(-50%)":"translateY(0%)"},exit:{opacity:0,transform:"translateY(0%)"},transition:{ease:"easeOut",duration:1}},g={initial:{opacity:0,transform:"translateY(50%)"},animate:{opacity:f?1:0,transform:f?"translateY(0%)":"translateY(50%)"},exit:{opacity:0,transform:"translateY(50%)"},transition:{ease:"easeOut",duration:.8}};return h("span",{className:i},h("span",{className:o},n),h(Yl.span,{className:l,initial:"initial",animate:"animate",exit:"exit",variants:m,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},n),h(Yl.span,{className:c,initial:"initial",animate:"animate",exit:"exit",variants:g,onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},n))},uU=function(t){var n=t.children,r=t.roundLetterClassname,i=void 0===r?"inline-block h-full left-0 absolute top-0 origin-right w-full":r,a=t.spaceLetterClassname,o=void 0===a?"inline-block font-stolzl h-full left-0 absolute top-0 origin-left w-full":a,s=t.letterWrapperClassname,l=void 0===s?"cursor-pointer relative white-space-pre":s,u=t.hiddenLetterClassname,c=void 0===u?"opacity-0 invisible":u,d=e.useState(!1),f=d[0],p=d[1],m={initial:{transform:"translateY(0%) rotate(0deg)"},animate:{transform:f?"translateY(-180%) rotate(-8deg)":"translateY(0%) rotate(0deg)"},exit:{transform:"translateY(0%) rotate(0deg)"},transition:{ease:"easeOut",duration:1}},g={initial:{transform:"translateY(100%) rotate(15deg)"},animate:{transform:f?"translateY(0%) rotate(0deg)":"translateY(100%) rotate(15deg)"},exit:{transform:"translateY(100%) rotate(15deg)"},transition:{ease:"easeOut",duration:.8}};return h("span",{className:l},h("span",{className:c},n),h("span",{className:i+" overflow-hidden w-full h-full",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},h(Yl.span,{className:i,initial:"initial",animate:"animate",exit:"exit",variants:m,transition:{ease:"easeOut",duration:1}},n),h(Yl.span,{className:o,initial:"initial",animate:"animate",exit:"exit",variants:g,transition:{ease:"easeOut",duration:.8},onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},n)))},cU=function(t){var n=t.tagName,r=void 0===n?"h2":n,i=t.className,a=void 0===i?"":i,o=t.variant,s=void 0===o?"default":o,l=t.children,u=void 0===l?"":l,c=t.type,d=e.useRef(),f=e.useState(null),p=f[0],m=f[1],g=e.useRef(!1),v=e.useRef();Yu(function(){var e;d.current&&(v.current=null==(e=d.current)?void 0:e.innerHTML.replaceAll("<br>"," _ "))},[d]),Yu(function(){if(v.current&&!p&&d.current&&!g.current)if("fade-letter"===c){var e=v.current.split("");m(e)}else if("fade-word"===c){var t=v.current.split(" ");m(t)}else if("fade-block"===c)m("hide children");else if("overflow-word"===c){var n=v.current.split(" ");m(n)}},[d,v,c]);var y=e.useMemo(function(){return p&&"fade-letter"===c?null==p?void 0:p.map(function(t,n){return h(e.Fragment,{key:"fade-letter-"+n},"_"===t?h("br",null):h(lU,null,t||" "))}):"fade-word"===c?null==p?void 0:p.map(function(t,n){return h(e.Fragment,{key:"fade-word-"+n},"_"===t?h("br",null):h(Fragment,null,h(lU,null,t),h(lU,null," ")))}):"fade-block"===c?h(lU,null,u):"overflow-word"===c?null==p?void 0:p.map(function(t,n){return h(e.Fragment,{key:"overflow-word-"+n},"_"===t?h("br",null):h("span",null,h(uU,null,t),h(uU,null," ")))}):null},[p,c,u]);return h(r,{ref:d,className:sU.text+" "+sU["text__"+s]+" "+a},y||u)};cU.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var hU={unsupported_browser:"_zkK0S",unsupported_browser__default:"_27ve9"},dU=function(e){var t=e.tagName,n=e.className,r=e.variant,i=e.children;return h(void 0===t?"div":t,{className:hU.unsupported_browser+" "+hU["unsupported_browser__"+(void 0===r?"default":r)]+" "+(void 0===n?"flex justify-center items-center bg-black w-screen z-50 h-screen":n)},h("p",{className:"text-center text-white uppercase text-40"},"Your browser is unsupported"),i)};dU.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var fU={unsupported_orientation:"_MdHUJ",unsupported_orientation__default:"_ixmeG"},pU=function(e){var n,r,i,a,o,s=e.tagName,l=void 0===s?"div":s,u=e.className,c=void 0===u?"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center w-screen min-h-screen":u,d=e.variant,f=void 0===d?"default":d,m=Qu(),g=m.height,v=m.width,y=p(!0),_=y[0],b=y[1],x=(r=function(e){if(Array.isArray(e))return e}(n=t.useState(function(){var e=window.innerWidth>window.innerHeight?90:0;return{isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n)||function(e,t){if(e){if("string"==typeof e)return EM(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EM(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],a=r[1],o=t.useCallback(function(){var e=window.innerWidth>window.innerHeight?90:0,t={isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"};i.orientation!==t.orientation&&a(t)},[i.orientation]),t.useEffect(function(){return void 0!==("undefined"==typeof window?"undefined":MM(window))&&RM&&(o(),window.addEventListener("load",o,!1),window.addEventListener("resize",o,!1)),function(){window.removeEventListener("resize",o,!1),window.removeEventListener("load",o,!1)}},[o]),i).isLandscape;return useEffect(function(){var e=!0;"iOS"===VM&&BM&&x&&(e=!1),jM&&x&&(e=!1),e?(document.body.style.overflow="auto",document.body.style.pointerEvents="auto"):(document.body.style.overflow="hidden",document.body.style.pointerEvents="none"),b(e)},[g,v,x]),_||!BM&&!jM?h(Fragment,null):h(l,{className:fU.unsupported_orientation+" "+fU["unsupported_orientation__"+f]+" "+c,style:{height:g+"px",minHeight:g+"px",zIndex:1e4}},h("div",{className:"relative flex flex-col items-center justify-center flex-grow w-screen h-screen text-center bg-black"},h("div",{className:"flex flex-col items-center justify-center w-full h-full leading-none tracking-wide"},h("div",{className:"mb-8 h-[71px] w-[119px] lg:mb-40 lg:h-[71px] lg:w-[119px]"},h("svg",{width:"119",height:"71",viewBox:"0 0 119 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",{opacity:"0.2"},h("rect",{x:"118.5",y:"30.502",width:"39",height:"69",rx:"5.5",transform:"rotate(90 118.5 30.502)",stroke:"white"}),h("ellipse",{cx:"61.25",cy:"50.0018",rx:"3.2",ry:"3.5",transform:"rotate(90 61.25 50.0018)",fill:"white"})),h("rect",{x:"0.5",y:"0.506836",width:"39",height:"69",rx:"5.5",stroke:"white"}),h("ellipse",{cx:"20",cy:"57.7568",rx:"3.2",ry:"3.5",fill:"white"}))),h("p",{className:"text-center font-sora text-[12px] normal-case text-white lg:text-[23px]"},"Site is best viewed in portrait mode"))))};function mU(e,t,n){function r(r){n&&!n(e,t)||r.stopImmediatePropagation()}return e.addEventListener(t,r),r}function gU(e,t,n,r){function i(e){n[t]=e}r&&i(e[t]),Object.defineProperty(e,t,{get:function(){return n[t]},set:i})}function vU(e,t,n){n.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function yU(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}pU.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"]),children:M.node};var _U,bU="object"==typeof document&&"object-fit"in document.head.style&&!matchMedia("(-webkit-video-playable-inline)").matches,xU="bfred-it:iphone-inline-video",wU="bfred-it:iphone-inline-video:event",SU="bfred-it:iphone-inline-video:nativeplay",MU="bfred-it:iphone-inline-video:nativepause",EU=[],TU=0;function CU(e,t,n){(_U||0)+200<Date.now()&&(e[wU]=!0,_U=Date.now()),n||(e.currentTime=t),EU[++TU%3]=100*t|0}function PU(e){return e.driver.currentTime>=e.video.duration}function kU(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&PU(t)&&(t.driver.currentTime=0)),CU(t.video,t.driver.currentTime)):t.video.networkState===t.video.NETWORK_IDLE&&0===t.video.buffered.length&&t.video.load(),t.video.ended&&(delete t.video[wU],t.video.pause(!0))}function AU(){var e=this,t=e[xU];e.webkitDisplayingFullscreen?e[SU]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(CU(e,0,!0),t.driver.src=e.src),e.paused&&(t.paused=!1,0===e.buffered.length&&e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(yU(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&yU(e,"playing"))))}function IU(e){var t=this,n=t[xU];n.driver.pause(),n.updater.stop(),t.webkitDisplayingFullscreen&&t[MU](),n.paused&&!e||(n.paused=!0,n.hasAudio||yU(t,"pause"),t.ended&&!t.webkitDisplayingFullscreen&&(t[wU]=!0,yU(t,"ended")))}function RU(e,t){var n={};e[xU]=n,n.paused=!0,n.hasAudio=t,n.video=e,n.updater=function(e,t,n,r){var i,a;function o(n){i=t(o,void 0),e(n-(a||n)),a=n}return{start:function(){i||o(0)},stop:function(){n(i),i=null,a=0}}}(kU.bind(n),requestAnimationFrame,cancelAnimationFrame),t?n.driver=function(e){var t=new Audio;return vU(e,"play",t),vU(e,"playing",t),vU(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}(e):(e.addEventListener("canplay",function(){e.paused||yU(e,"playing")}),n.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,PU(n)&&CU(e,0)},get ended(){return PU(n)}}),e.addEventListener("emptied",function(){var r=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==e.src&&(CU(e,0,!0),n.driver.src=e.src,r||!t&&e.autoplay?n.driver.play():n.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?t&&0===n.driver.buffered.length&&n.driver.load():(e.pause(),e[SU]())}),t&&(e.addEventListener("webkitendfullscreen",function(){n.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){EU.indexOf(100*e.currentTime|0)<0&&(n.driver.currentTime=e.currentTime)}))}function LU(e){var t=e[wU];return delete e[wU],!e.webkitDisplayingFullscreen&&!t}var OU=function(e){var t=e.className,n=void 0===t?"absolute inset-0 z-0 object-cover w-screen h-screen min-h-screen overflow-hidden min-w-screen mix-blend-normal brightness-125":t,r=e.src,i=void 0===r?{mobile:"/video/2890361953_mobile",tablet:"/video/2890361919_ipad_768x1024_1",desktop:"/video/2890361919_desktop"}:r,a=e.style,o=void 0===a?{}:a,c=e.loop,d=void 0===c||c,f=e.forcePlay,m=void 0!==f&&f,g=l(),v=p(null==i?void 0:i.desktop),y=v[0],_=v[1];s(function(){null!=g&&g.current&&function(e,t){if(void 0===t&&(t={}),!e[xU]){if(!t.everywhere){if(!bU)return;if(!(t.iPad||t.ipad?/iPhone|iPod|iPad/:/iPhone|iPod/).test(navigator.userAgent))return}e.pause();var n=e.autoplay;e.autoplay=!1,RU(e,!e.muted),function(e){var t=e[xU];e[SU]=e.play,e[MU]=e.pause,e.play=AU,e.pause=IU,gU(e,"paused",t.driver),gU(e,"muted",t.driver,!0),gU(e,"playbackRate",t.driver,!0),gU(e,"ended",t.driver),gU(e,"loop",t.driver,!0),mU(e,"seeking",function(e){return!e.webkitDisplayingFullscreen}),mU(e,"seeked",function(e){return!e.webkitDisplayingFullscreen}),mU(e,"timeupdate",LU),mU(e,"ended",LU)}(e),e.classList.add("IIV"),e.muted&&n&&(e.play(),e.addEventListener("playing",function t(){e.autoplay=!0,e.removeEventListener("playing",t)})),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}}(g.current,{iPad:!0})},[y,g]);var b=i.mobile,x=i.tablet,w=i.desktop;x||(x=w),Yu(function(){BM&&_(b),jM&&_(x)},[i,w,b,x]);var S=u(function(){g&&g.current&&d&&g.current.play()},[d]),M=u(function(){g&&g.current&&(d||(g.current.currentTime=g.current.duration-.5,g.current.pause()))},[d]);return s(function(){return m&&(window.addEventListener("focus",S),window.addEventListener("blur",M)),function(){window.removeEventListener("focus",S),window.removeEventListener("blur",M)}},[m,M,S]),h(Fragment,null,h("video",{ref:g,playsInline:!0,autoPlay:!0,muted:!0,loop:d,className:n,style:o,onLoadedData:function(e){}},h("source",{src:y+".mp4",type:"video/mp4"}),h("p",{className:"flex items-center justify-center text-xl text-white max-w-1/2"},"Your browser does not support the video tag.")),h("div",{className:"absolute inset-0 flex items-center justify-center font-sans"},h("p",{className:"flex h-[10vw] w-[50vw] flex-col items-center justify-center bg-black text-center leading-none"},h("span",{className:"text-[7rem] font-black leading-none tracking-widest text-white"},"CENSORED"),h("span",{className:"text-[1.5rem] font-light tracking-normal text-white/50"},"(watermarks)"))))};OU.propTypes={src:M.object,style:M.object,loop:M.bool,className:M.string};var NU={yin_yang:"_SeWUL",yin_yang__default:"_pILPg"},DU=function(e){var t=e.tagName,n=void 0===t?"div":t,r=e.className,i=void 0===r?"absolute pointer-events-none z-1 animate-spin":r,a=e.variant,o=void 0===a?"default":a,s=l(),u=sc(),c=u.x,d=u.y,f=p(),m=f[0],g=f[1];return Yu(function(){!m&&null!=s&&s.current&&g({width:s.current.clientWidth,height:s.current.clientHeight})},[s,m]),h(n,{className:NU.yin_yang+" "+NU["yin_yang__"+o]+" yinyang "+i,ref:s,style:{top:"calc("+d+"px - "+(null!=m&&m.height?m.height/2:0)+"px)",left:"calc("+c+"px - "+(null!=m&&m.width?m.width/2:0)+"px)"}},h("style",{jsx:!0},"\n        .yinyang {\n          width: calc(10rem / 3);\n          height: calc(10rem / 3);\n          background: radial-gradient(\n                #000 calc(0.5em / 3),\n                #fff calc(0.5em / 3),\n                #fff calc(2.5em / 3),\n                transparent calc(2.5em / 3)\n              )\n              center top / 50% 50% no-repeat,\n            radial-gradient(\n                #fff calc(0.5em / 3),\n                #000 calc(0.5em / 3),\n                #000 calc(2.5em / 3),\n                transparent calc(2.5em / 3)\n              )\n              center bottom / 50% 50% no-repeat,\n            linear-gradient(90deg, #fff 50%, #000 50%);\n          border-radius: 50%;\n          box-shadow: 0 0 0 0.1em #000;\n        }\n      "),h("style",{jsx:!0,global:!0},"\n        html,\n        body {\n          cursor: none;\n        }\n\n        html *,\n        body * {\n          cursor: none;\n        }\n      "))};DU.propTypes={tagName:M.string,className:M.string,variant:M.oneOf(["default"])};var zU={createAudio:function(e){try{return"undefined"==typeof window?Promise.resolve(!1):Promise.resolve(fetch(""+e)).then(function(e){return Promise.resolve(e.arrayBuffer()).then(function(e){var t=new(window.AudioContext||window.webkitAudioContext),n=t.createBufferSource();return Promise.resolve(new Promise(function(n){return t.decodeAudioData(e,n)})).then(function(e){n.buffer=e,n.loop=!0,n.start(0),n.autoplay=!0;var r=t.createGain();r.gain.value=.5;var i=t.createAnalyser();i.fftSize=64,n.connect(i),i.connect(r);var a=new Uint8Array(i.frequencyBinCount);return{context:t,source:n,gain:r,data:a,update:function(){return i.getByteFrequencyData(a),a.avg=a.reduce(function(e,t){return e+t/a.length},0)}}})})})}catch(e){return Promise.reject(e)}}};function UU(e,t){document.addEventListener(e,t)}function BU(e,t){document.removeEventListener(e,t)}var FU={on:UU,once:function(e,t){UU(e,function n(r){t(r),BU(e,n)})},off:BU,trigger:function(e,t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}},jU=Y(function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=32,s=128,l=1/0,u=9007199254740991,c=NaN,h=4294967295,d=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",o],["partialRight",64],["rearg",256]],f="[object Arguments]",p="[object Array]",m="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",_="[object GeneratorFunction]",b="[object Map]",x="[object Number]",w="[object Object]",S="[object Promise]",M="[object RegExp]",E="[object Set]",T="[object String]",C="[object Symbol]",P="[object WeakMap]",k="[object ArrayBuffer]",A="[object DataView]",I="[object Float32Array]",R="[object Float64Array]",L="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",D="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",B="[object Uint32Array]",F=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,G=RegExp(H.source),$=RegExp(W.source),q=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),ne=/^\s+/,re=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,pe=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xe="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="["+Se+"]",Ee="["+be+"]",Te="\\d+",Ce="["+xe+"]",Pe="[^\\ud800-\\udfff"+Se+Te+"\\u2700-\\u27bf"+xe+we+"]",ke="\\ud83c[\\udffb-\\udfff]",Ae="[^\\ud800-\\udfff]",Ie="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+we+"]",Oe="(?:"+Ce+"|"+Pe+")",Ne="(?:"+Le+"|"+Pe+")",De="(?:['](?:d|ll|m|re|s|t|ve))?",ze="(?:['](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+Ee+"|"+ke+")?",Be="[\\ufe0e\\ufe0f]?",Fe=Be+Ue+"(?:\\u200d(?:"+[Ae,Ie,Re].join("|")+")"+Be+Ue+")*",je="(?:"+["[\\u2700-\\u27bf]",Ie,Re].join("|")+")"+Fe,Ve="(?:"+[Ae+Ee+"?",Ee,Ie,Re,"[\\ud800-\\udfff]"].join("|")+")",He=RegExp("[']","g"),We=RegExp(Ee,"g"),Ge=RegExp(ke+"(?="+ke+")|"+Ve+Fe,"g"),$e=RegExp([Le+"?"+Ce+"+"+De+"(?="+[Me,Le,"$"].join("|")+")",Ne+"+"+ze+"(?="+[Me,Le+Oe,"$"].join("|")+")",Le+"?"+Oe+"+"+De,Le+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Te,je].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+be+"\\ufe0e\\ufe0f]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,Ke={};Ke[I]=Ke[R]=Ke[L]=Ke[O]=Ke[N]=Ke[D]=Ke[z]=Ke[U]=Ke[B]=!0,Ke[f]=Ke[p]=Ke[k]=Ke[m]=Ke[A]=Ke[g]=Ke[v]=Ke[y]=Ke[b]=Ke[x]=Ke[w]=Ke[M]=Ke[E]=Ke[T]=Ke[P]=!1;var Je={};Je[f]=Je[p]=Je[k]=Je[A]=Je[m]=Je[g]=Je[I]=Je[R]=Je[L]=Je[O]=Je[N]=Je[b]=Je[x]=Je[w]=Je[M]=Je[E]=Je[T]=Je[C]=Je[D]=Je[z]=Je[U]=Je[B]=!0,Je[v]=Je[y]=Je[P]=!1;var Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},et=parseFloat,tt=parseInt,nt="object"==typeof X&&X&&X.Object===Object&&X,rt="object"==typeof self&&self&&self.Object===Object&&self,it=nt||rt||Function("return this")(),at=t&&!t.nodeType&&t,ot=at&&e&&!e.nodeType&&e,st=ot&&ot.exports===at,lt=st&&nt.process,ut=function(){try{return ot&&ot.require&&ot.require("util").types||lt&&lt.binding&&lt.binding("util")}catch(e){}}(),ct=ut&&ut.isArrayBuffer,ht=ut&&ut.isDate,dt=ut&&ut.isMap,ft=ut&&ut.isRegExp,pt=ut&&ut.isSet,mt=ut&&ut.isTypedArray;function gt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function vt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function xt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function wt(e,t){return!(null==e||!e.length)&&Rt(e,t,0)>-1}function St(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Et(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Tt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Ct(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var kt=Dt("length");function At(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function It(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Rt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):It(e,Ot,n)}function Lt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ot(e){return e!=e}function Nt(e,t){var n=null==e?0:e.length;return n?Bt(e,t)/n:c}function Dt(e){return function(t){return null==t?n:t[e]}}function zt(e){return function(t){return null==e?n:e[t]}}function Ut(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Bt(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Ft(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function jt(e){return e?e.slice(0,on(e)+1).replace(ne,""):e}function Vt(e){return function(t){return e(t)}}function Ht(e,t){return Mt(t,function(t){return e[t]})}function Wt(e,t){return e.has(t)}function Gt(e,t){for(var n=-1,r=e.length;++n<r&&Rt(t,e[n],0)>-1;);return n}function $t(e,t){for(var n=e.length;n--&&Rt(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Xt=zt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Yt=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Zt(e){return"\\"+Qe[e]}function Kt(e){return qe.test(e)}function Jt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Qt(e,t){return function(n){return e(t(n))}}function en(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function tn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function nn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function rn(e){return Kt(e)?function(e){for(var t=Ge.lastIndex=0;Ge.test(e);)++t;return t}(e):kt(e)}function an(e){return Kt(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.split("")}(e)}function on(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var sn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ln=function e(t){var X,re=(t=null==t?it:ln.defaults(it.Object(),t,ln.pick(it,Ye))).Array,be=t.Date,xe=t.Error,we=t.Function,Se=t.Math,Me=t.Object,Ee=t.RegExp,Te=t.String,Ce=t.TypeError,Pe=re.prototype,ke=Me.prototype,Ae=t["__core-js_shared__"],Ie=we.prototype.toString,Re=ke.hasOwnProperty,Le=0,Oe=(X=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Ne=ke.toString,De=Ie.call(Me),ze=it._,Ue=Ee("^"+Ie.call(Re).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=st?t.Buffer:n,Fe=t.Symbol,je=t.Uint8Array,Ve=Be?Be.allocUnsafe:n,Ge=Qt(Me.getPrototypeOf,Me),qe=Me.create,Qe=ke.propertyIsEnumerable,nt=Pe.splice,rt=Fe?Fe.isConcatSpreadable:n,at=Fe?Fe.iterator:n,ot=Fe?Fe.toStringTag:n,lt=function(){try{var e=la(Me,"defineProperty");return e({},"",{}),e}catch(e){}}(),ut=t.clearTimeout!==it.clearTimeout&&t.clearTimeout,kt=be&&be.now!==it.Date.now&&be.now,zt=t.setTimeout!==it.setTimeout&&t.setTimeout,un=Se.ceil,cn=Se.floor,hn=Me.getOwnPropertySymbols,dn=Be?Be.isBuffer:n,fn=t.isFinite,pn=Pe.join,mn=Qt(Me.keys,Me),gn=Se.max,vn=Se.min,yn=be.now,_n=t.parseInt,bn=Se.random,xn=Pe.reverse,wn=la(t,"DataView"),Sn=la(t,"Map"),Mn=la(t,"Promise"),En=la(t,"Set"),Tn=la(t,"WeakMap"),Cn=la(Me,"create"),Pn=Tn&&new Tn,kn={},An=za(wn),In=za(Sn),Rn=za(Mn),Ln=za(En),On=za(Tn),Nn=Fe?Fe.prototype:n,Dn=Nn?Nn.valueOf:n,zn=Nn?Nn.toString:n;function Un(e){if(ts(e)&&!Wo(e)&&!(e instanceof Vn)){if(e instanceof jn)return e;if(Re.call(e,"__wrapped__"))return Ua(e)}return new jn(e)}var Bn=function(){function e(){}return function(t){if(!es(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Fn(){}function jn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Xn(e,t){var n=Wo(e),r=!n&&Ho(e),i=!n&&!r&&Xo(e),a=!n&&!r&&!i&&us(e),o=n||r||i||a,s=o?Ft(e.length,Te):[],l=s.length;for(var u in e)!t&&!Re.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ma(u,l))||s.push(u);return s}function Yn(e){var t=e.length;return t?e[Gr(0,t-1)]:n}function Zn(e,t){return Ra(Ti(e),ar(t,0,e.length))}function Kn(e){return Ra(Ti(e))}function Jn(e,t,r){(r!==n&&!Fo(e[t],r)||r===n&&!(t in e))&&rr(e,t,r)}function Qn(e,t,r){var i=e[t];Re.call(e,t)&&Fo(i,r)&&(r!==n||t in e)||rr(e,t,r)}function er(e,t){for(var n=e.length;n--;)if(Fo(e[n][0],t))return n;return-1}function tr(e,t,n,r){return cr(e,function(e,i,a){t(r,e,n(e),a)}),r}function nr(e,t){return e&&Ci(t,Is(t),e)}function rr(e,t,n){"__proto__"==t&&lt?lt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var r=-1,i=t.length,a=re(i),o=null==e;++r<i;)a[r]=o?n:Ts(e,t[r]);return a}function ar(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function or(e,t,r,i,a,o){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=a?r(e,i,a,o):r(e)),s!==n)return s;if(!es(e))return e;var h=Wo(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Re.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ti(e,s)}else{var d=ha(e),p=d==y||d==_;if(Xo(e))return bi(e,l);if(d==w||d==f||p&&!a){if(s=u||p?{}:fa(e),!l)return u?function(e,t){return Ci(e,ca(e),t)}(e,function(e,t){return e&&Ci(t,Rs(t),e)}(s,e)):function(e,t){return Ci(e,ua(e),t)}(e,nr(s,e))}else{if(!Je[d])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case k:return xi(e);case m:case g:return new r(+e);case A:return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case R:case L:case O:case N:case D:case z:case U:case B:return wi(e,n);case b:return new r;case x:case T:return new r(e);case M:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new r;case C:return Dn?Me(Dn.call(e)):{}}}(e,d,l)}}o||(o=new qn);var v=o.get(e);if(v)return v;o.set(e,s),os(e)?e.forEach(function(n){s.add(or(n,t,r,n,e,o))}):ns(e)&&e.forEach(function(n,i){s.set(i,or(n,t,r,i,e,o))});var S=h?n:(c?u?ta:ea:u?Rs:Is)(e);return yt(S||e,function(n,i){S&&(n=e[i=n]),Qn(s,i,or(n,t,r,i,e,o))}),s}function sr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Me(e);i--;){var a=r[i],o=e[a];if(o===n&&!(a in e)||!(0,t[a])(o))return!1}return!0}function lr(e,t,i){if("function"!=typeof e)throw new Ce(r);return Pa(function(){e.apply(n,i)},t)}function ur(e,t,n,r){var i=-1,a=wt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Mt(t,Vt(n))),r?(a=St,o=!1):t.length>=200&&(a=Wt,o=!1,t=new $n(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:q,evaluate:Y,interpolate:Z,variable:"",imports:{_:Un}},(Un.prototype=Fn.prototype).constructor=Un,(jn.prototype=Bn(Fn.prototype)).constructor=jn,(Vn.prototype=Bn(Fn.prototype)).constructor=Vn,Hn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(Cn){var r=t[e];return r===i?n:r}return Re.call(t,e)?t[e]:n},Hn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==n:Re.call(t,e)},Hn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cn&&t===n?i:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():nt.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,r=er(t,e);return r<0?n:t[r][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Wn),string:new Hn}},Gn.prototype.delete=function(e){var t=oa(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return oa(this,e).get(e)},Gn.prototype.has=function(e){return oa(this,e).has(e)},Gn.prototype.set=function(e,t){var n=oa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,i),this},$n.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Wn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var cr=Ai(yr),hr=Ai(_r,!0);function dr(e,t){var n=!0;return cr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function fr(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(l===n?s==s&&!ls(s):r(s,l)))var l=s,u=o}return u}function pr(e,t){var n=[];return cr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function mr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=pa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):Et(i,s):r||(i[i.length]=s)}return i}var gr=Ii(),vr=Ii(!0);function yr(e,t){return e&&gr(e,t,Is)}function _r(e,t){return e&&vr(e,t,Is)}function br(e,t){return xt(t,function(t){return Ko(e[t])})}function xr(e,t){for(var r=0,i=(t=gi(t,e)).length;null!=e&&r<i;)e=e[Da(t[r++])];return r&&r==i?e:n}function wr(e,t,n){var r=t(e);return Wo(e)?r:Et(r,n(e))}function Sr(e){return null==e?e===n?"[object Undefined]":"[object Null]":ot&&ot in Me(e)?function(e){var t=Re.call(e,ot),r=e[ot];try{e[ot]=n;var i=!0}catch(e){}var a=Ne.call(e);return i&&(t?e[ot]=r:delete e[ot]),a}(e):function(e){return Ne.call(e)}(e)}function Mr(e,t){return e>t}function Er(e,t){return null!=e&&Re.call(e,t)}function Tr(e,t){return null!=e&&t in Me(e)}function Cr(e,t,r){for(var i=r?St:wt,a=e[0].length,o=e.length,s=o,l=re(o),u=Infinity,c=[];s--;){var h=e[s];s&&t&&(h=Mt(h,Vt(t))),u=vn(h.length,u),l[s]=!r&&(t||a>=120&&h.length>=120)?new $n(s&&h):n}h=e[0];var d=-1,f=l[0];e:for(;++d<a&&c.length<u;){var p=h[d],m=t?t(p):p;if(p=r||0!==p?p:0,!(f?Wt(f,m):i(c,m,r))){for(s=o;--s;){var g=l[s];if(!(g?Wt(g,m):i(e[s],m,r)))continue e}f&&f.push(m),c.push(p)}}return c}function Pr(e,t,r){var i=null==(e=Ma(e,t=gi(t,e)))?e:e[Da(Ya(t))];return null==i?n:gt(i,e,r)}function kr(e){return ts(e)&&Sr(e)==f}function Ar(e,t,r,i,a){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!=e&&t!=t:function(e,t,r,i,a,o){var s=Wo(e),l=Wo(t),u=s?p:ha(e),c=l?p:ha(t),h=(u=u==f?w:u)==w,d=(c=c==f?w:c)==w,y=u==c;if(y&&Xo(e)){if(!Xo(t))return!1;s=!0,h=!1}if(y&&!h)return o||(o=new qn),s||us(e)?Ji(e,t,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new je(e),new je(t)));case m:case g:case x:return Fo(+e,+t);case v:return e.name==t.name&&e.message==t.message;case M:case T:return e==t+"";case b:var s=Jt;case E:if(s||(s=tn),e.size!=t.size&&!(1&r))return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var u=Ji(s(e),s(t),r,i,a,o);return o.delete(e),u;case C:if(Dn)return Dn.call(e)==Dn.call(t)}return!1}(e,t,u,r,i,a,o);if(!(1&r)){var _=h&&Re.call(e,"__wrapped__"),S=d&&Re.call(t,"__wrapped__");if(_||S){var P=_?e.value():e,I=S?t.value():t;return o||(o=new qn),a(P,I,r,i,o)}}return!!y&&(o||(o=new qn),function(e,t,r,i,a,o){var s=1&r,l=ea(e),u=l.length;if(u!=ea(t).length&&!s)return!1;for(var c=u;c--;){var h=l[c];if(!(s?h in t:Re.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var m=s;++c<u;){var g=e[h=l[c]],v=t[h];if(i)var y=s?i(v,g,h,t,e,o):i(g,v,h,e,t,o);if(!(y===n?g===v||a(g,v,r,i,o):y)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,i,a,o))}(e,t,r,i,Ar,a))}function Ir(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=Me(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=r[a])[0],c=e[u],h=l[1];if(s&&l[2]){if(c===n&&!(u in e))return!1}else{var d=new qn;if(i)var f=i(c,h,u,e,t,d);if(!(f===n?Ar(h,c,3,i,d):f))return!1}}return!0}function Rr(e){return!(!es(e)||(t=e,Oe&&Oe in t))&&(Ko(e)?Ue:pe).test(za(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Wo(e)?Ur(e[0],e[1]):zr(e):dl(e)}function Or(e){if(!ba(e))return mn(e);var t=[];for(var n in Me(e))Re.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Dr(e,t){var n=-1,r=$o(e)?re(e.length):[];return cr(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function zr(e){var t=sa(e);return 1==t.length&&t[0][2]?wa(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Ur(e,t){return va(e)&&xa(t)?wa(Da(e),t):function(r){var i=Ts(r,e);return i===n&&i===t?Cs(r,e):Ar(t,i,3)}}function Br(e,t,r,i,a){e!==t&&gr(t,function(o,s){if(a||(a=new qn),es(o))!function(e,t,r,i,a,o,s){var l=Ta(e,r),u=Ta(t,r),c=s.get(u);if(c)Jn(e,r,c);else{var h=o?o(l,u,r+"",e,t,s):n,d=h===n;if(d){var f=Wo(u),p=!f&&Xo(u),m=!f&&!p&&us(u);h=u,f||p||m?Wo(l)?h=l:qo(l)?h=Ti(l):p?(d=!1,h=bi(u,!0)):m?(d=!1,h=wi(u,!0)):h=[]:is(u)||Ho(u)?(h=l,Ho(l)?h=vs(l):es(l)&&!Ko(l)||(h=fa(u))):d=!1}d&&(s.set(u,h),a(h,u,i,o,s),s.delete(u)),Jn(e,r,h)}}(e,t,s,r,Br,i,a);else{var l=i?i(Ta(e,s),o,s+"",e,t,a):n;l===n&&(l=o),Jn(e,s,l)}},Rs)}function Fr(e,t){var r=e.length;if(r)return ma(t+=t<0?r:0,r)?e[t]:n}function jr(e,t,n){t=t.length?Mt(t,function(e){return Wo(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e}):[rl];var r=-1;t=Mt(t,Vt(aa()));var i=Dr(e,function(e,n,i){var a=Mt(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Si(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=xr(e,o);n(s,o)&&Zr(a,gi(o,e),s)}return a}function Hr(e,t,n,r){var i=r?Lt:Rt,a=-1,o=t.length,s=e;for(e===t&&(t=Ti(t)),n&&(s=Mt(e,Vt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&nt.call(s,l,1),nt.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ma(i)?nt.call(e,i,1):li(e,i)}}return e}function Gr(e,t){return e+cn(bn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>u)return n;do{t%2&&(n+=e),(t=cn(t/2))&&(e+=e)}while(t);return n}function qr(e,t){return ka(Sa(e,t,rl),e+"")}function Xr(e){return Yn(Fs(e))}function Yr(e,t){var n=Fs(e);return Ra(n,ar(t,0,n.length))}function Zr(e,t,r,i){if(!es(e))return e;for(var a=-1,o=(t=gi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=Da(t[a]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var h=l[u];(c=i?i(h,u,l):n)===n&&(c=es(h)?h:ma(t[a+1])?[]:{})}Qn(l,u,c),l=l[u]}return e}var Kr=Pn?function(e,t){return Pn.set(e,t),e}:rl,Jr=lt?function(e,t){return lt(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function Qr(e){return Ra(Fs(e))}function ei(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=re(i);++r<i;)a[r]=e[r+t];return a}function ti(e,t){var n;return cr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!ls(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ri(e,t,rl,n)}function ri(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=r(t))!=t,l=null===t,u=ls(t),c=t===n;a<o;){var h=cn((a+o)/2),d=r(e[h]),f=d!==n,p=null===d,m=d==d,g=ls(d);if(s)var v=i||m;else v=c?m&&(i||f):l?m&&f&&(i||!p):u?m&&f&&!p&&(i||!g):!p&&!g&&(i?d<=t:d<t);v?a=h+1:o=h}return vn(o,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Fo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ai(e){return"number"==typeof e?e:ls(e)?c:+e}function oi(e){if("string"==typeof e)return e;if(Wo(e))return Mt(e,oi)+"";if(ls(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function si(e,t,n){var r=-1,i=wt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=St;else if(a>=200){var u=t?null:$i(e);if(u)return tn(u);o=!1,i=Wt,l=new $n}else l=t?[]:s;e:for(;++r<a;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function li(e,t){return null==(e=Ma(e,t=gi(t,e)))||delete e[Da(Ya(t))]}function ui(e,t,n,r){return Zr(e,t,n(xr(e,t)),r)}function ci(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ei(e,r?0:a,r?a+1:i):ei(e,r?a+1:0,r?i:a)}function hi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Tt(t,function(e,t){return t.func.apply(t.thisArg,Et([e],t.args))},n)}function di(e,t,n){var r=e.length;if(r<2)return r?si(e[0]):[];for(var i=-1,a=re(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=ur(a[i]||o,e[s],t,n));return si(mr(a,1),t,n)}function fi(e,t,r){for(var i=-1,a=e.length,o=t.length,s={};++i<a;)r(s,e[i],i<o?t[i]:n);return s}function pi(e){return qo(e)?e:[]}function mi(e){return"function"==typeof e?e:rl}function gi(e,t){return Wo(e)?e:va(e,t)?[e]:Na(ys(e))}var vi=qr;function yi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ei(e,t,r)}var _i=ut||function(e){return it.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function xi(e){var t=new e.constructor(e.byteLength);return new je(t).set(new je(e)),t}function wi(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var r=e!==n,i=null===e,a=e==e,o=ls(e),s=t!==n,l=null===t,u=t==t,c=ls(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}function Mi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=gn(a-o,0),c=re(l+u),h=!r;++s<l;)c[s]=t[s];for(;++i<o;)(h||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ei(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=gn(a-s,0),h=re(c+u),d=!r;++i<c;)h[i]=e[i];for(var f=i;++l<u;)h[f+l]=t[l];for(;++o<s;)(d||i<a)&&(h[f+n[o]]=e[i++]);return h}function Ti(e,t){var n=-1,r=e.length;for(t||(t=re(r));++n<r;)t[n]=e[n];return t}function Ci(e,t,r,i){var a=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),a?rr(r,l,u):Qn(r,l,u)}return r}function Pi(e,t){return function(n,r){var i=Wo(n)?vt:tr,a=t?t():{};return i(n,e,aa(r,2),a)}}function ki(e){return qr(function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,s=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,s&&ga(r[0],r[1],s)&&(o=a<3?n:o,a=1),t=Me(t);++i<a;){var l=r[i];l&&e(t,l,i,o)}return t})}function Ai(e,t){return function(n,r){if(null==n)return n;if(!$o(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Me(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ii(e){return function(t,n,r){for(var i=-1,a=Me(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Ri(e){return function(t){var r=Kt(t=ys(t))?an(t):n,i=r?r[0]:t.charAt(0),a=r?yi(r,1).join(""):t.slice(1);return i[e]()+a}}function Li(e){return function(t){return Tt(Ks(Hs(t).replace(He,"")),e,"")}}function Oi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Bn(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Ni(e){return function(t,r,i){var a=Me(t);if(!$o(t)){var o=aa(r,3);t=Is(t),r=function(e){return o(a[e],e,a)}}var s=e(t,r,i);return s>-1?a[o?t[s]:s]:n}}function Di(e){return Qi(function(t){var i=t.length,a=i,o=jn.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Ce(r);if(o&&!l&&"wrapper"==ra(s))var l=new jn([],!0)}for(a=l?a:i;++a<i;){var u=ra(s=t[a]),c="wrapper"==u?na(s):n;l=c&&ya(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ra(c[0])].apply(l,c[3]):1==s.length&&ya(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Wo(n))return l.plant(n).value();for(var r=0,a=i?t[r].apply(this,e):n;++r<i;)a=t[r].call(this,a);return a}})}function zi(e,t,r,i,a,o,l,u,c,h){var d=t&s,f=1&t,p=2&t,m=24&t,g=512&t,v=p?n:Oi(e);return function n(){for(var s=arguments.length,y=re(s),_=s;_--;)y[_]=arguments[_];if(m)var b=ia(n),x=qt(y,b);if(i&&(y=Mi(y,i,a,m)),o&&(y=Ei(y,o,l,m)),s-=x,m&&s<h){var w=en(y,b);return Wi(e,t,zi,n.placeholder,r,y,w,u,c,h-s)}var S=f?r:this,M=p?S[e]:e;return s=y.length,u?y=Ea(y,u):g&&s>1&&y.reverse(),d&&c<s&&(y.length=c),this&&this!==it&&this instanceof n&&(M=v||Oi(M)),M.apply(S,y)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return yr(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function Bi(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=oi(r),i=oi(i)):(r=ai(r),i=ai(i)),a=e(r,i)}return a}}function Fi(e){return Qi(function(t){return t=Mt(t,Vt(aa())),qr(function(n){var r=this;return e(t,function(e){return gt(e,r,n)})})})}function ji(e,t){var r=(t=t===n?" ":oi(t)).length;if(r<2)return r?$r(t,e):t;var i=$r(t,un(e/rn(t)));return Kt(t)?yi(an(i),0,e).join(""):i.slice(0,e)}function Vi(e){return function(t,r,i){return i&&"number"!=typeof i&&ga(t,r,i)&&(r=i=n),t=fs(t),r===n?(r=t,t=0):r=fs(r),function(e,t,n,r){for(var i=-1,a=gn(un((t-e)/(n||1)),0),o=re(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:fs(i),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Wi(e,t,r,i,a,s,l,u,c,h){var d=8&t;t|=d?o:64,4&(t&=~(d?64:o))||(t&=-4);var f=[e,t,a,d?s:n,d?l:n,d?n:s,d?n:l,u,c,h],p=r.apply(n,f);return ya(e)&&Ca(p,f),p.placeholder=i,Aa(p,e,t)}function Gi(e){var t=Se[e];return function(e,n){if(e=gs(e),(n=null==n?0:vn(ps(n),292))&&fn(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=En&&1/tn(new En([,-0]))[1]==l?function(e){return new En(e)}:ll;function qi(e){return function(t){var n=ha(t);return n==b?Jt(t):n==E?nn(t):function(e,t){return Mt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xi(e,t,i,l,u,c,h,d){var f=2&t;if(!f&&"function"!=typeof e)throw new Ce(r);var p=l?l.length:0;if(p||(t&=-97,l=u=n),h=h===n?h:gn(ps(h),0),d=d===n?d:ps(d),p-=u?u.length:0,64&t){var m=l,g=u;l=u=n}var v=f?n:na(e),y=[e,t,i,l,u,m,g,c,h,d];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<131||r==s&&8==n||r==s&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n))return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var o=t[3];if(o){var l=e[3];e[3]=l?Mi(l,o,t[4]):o,e[4]=l?en(e[3],a):t[4]}(o=t[5])&&(e[5]=(l=e[5])?Ei(l,o,t[6]):o,e[6]=l?en(e[5],a):t[6]),(o=t[7])&&(e[7]=o),r&s&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,v),e=y[0],t=y[1],i=y[2],l=y[3],u=y[4],!(d=y[9]=y[9]===n?f?0:e.length:gn(y[9]-p,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,r){var i=Oi(e);return function a(){for(var o=arguments.length,s=re(o),l=o,u=ia(a);l--;)s[l]=arguments[l];var c=o<3&&s[0]!==u&&s[o-1]!==u?[]:en(s,u);return(o-=c.length)<r?Wi(e,t,zi,a.placeholder,n,s,c,n,n,r-o):gt(this&&this!==it&&this instanceof a?i:e,this,s)}}(e,t,d):t!=o&&33!=t||u.length?zi.apply(n,y):function(e,t,n,r){var i=1&t,a=Oi(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=re(u+s),h=this&&this!==it&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return gt(h,i?n:this,c)}}(e,t,i,l);else var _=function(e,t,n){var r=1&t,i=Oi(e);return function t(){return(this&&this!==it&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Aa((v?Kr:Ca)(_,y),e,t)}function Yi(e,t,r,i){return e===n||Fo(e,ke[r])&&!Re.call(i,r)?t:e}function Zi(e,t,r,i,a,o){return es(e)&&es(t)&&(o.set(t,e),Br(e,t,n,Zi,o),o.delete(t)),e}function Ki(e){return is(e)?n:e}function Ji(e,t,r,i,a,o){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&r?new $n:n;for(o.set(e,t),o.set(t,e);++d<l;){var m=e[d],g=t[d];if(i)var v=s?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(v!==n){if(v)continue;f=!1;break}if(p){if(!Pt(t,function(e,t){if(!Wt(p,t)&&(m===e||a(m,e,r,i,o)))return p.push(t)})){f=!1;break}}else if(m!==g&&!a(m,g,r,i,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Qi(e){return ka(Sa(e,n,Wa),e+"")}function ea(e){return wr(e,Is,ua)}function ta(e){return wr(e,Rs,ca)}var na=Pn?function(e){return Pn.get(e)}:ll;function ra(e){for(var t=e.name+"",n=kn[t],r=Re.call(kn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ia(e){return(Re.call(Un,"placeholder")?Un:e).placeholder}function aa(){var e=Un.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function sa(e){for(var t=Is(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,xa(i)]}return t}function la(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Rr(r)?r:n}var ua=hn?function(e){return null==e?[]:(e=Me(e),xt(hn(e),function(t){return Qe.call(e,t)}))}:ml,ca=hn?function(e){for(var t=[];e;)Et(t,ua(e)),e=Ge(e);return t}:ml,ha=Sr;function da(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,a=!1;++r<i;){var o=Da(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Qo(i)&&ma(o,i)&&(Wo(e)||Ho(e))}function fa(e){return"function"!=typeof e.constructor||ba(e)?{}:Bn(Ge(e))}function pa(e){return Wo(e)||Ho(e)||!!(rt&&e&&e[rt])}function ma(e,t){var n=typeof e;return!!(t=null==t?u:t)&&("number"==n||"symbol"!=n&&ge.test(e))&&e>-1&&e%1==0&&e<t}function ga(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?$o(n)&&ma(t,n.length):"string"==r&&t in n)&&Fo(n[t],e)}function va(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||J.test(e)||!K.test(e)||null!=t&&e in Me(t)}function ya(e){var t=ra(e),n=Un[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=na(n);return!!r&&e===r[0]}(wn&&ha(new wn(new ArrayBuffer(1)))!=A||Sn&&ha(new Sn)!=b||Mn&&ha(Mn.resolve())!=S||En&&ha(new En)!=E||Tn&&ha(new Tn)!=P)&&(ha=function(e){var t=Sr(e),r=t==w?e.constructor:n,i=r?za(r):"";if(i)switch(i){case An:return A;case In:return b;case Rn:return S;case Ln:return E;case On:return P}return t});var _a=Ae?Ko:gl;function ba(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)}function xa(e){return e==e&&!es(e)}function wa(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in Me(r))}}function Sa(e,t,r){return t=gn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=gn(n.length-t,0),o=re(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=re(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),gt(e,this,s)}}function Ma(e,t){return t.length<2?e:xr(e,ei(t,0,-1))}function Ea(e,t){for(var r=e.length,i=vn(t.length,r),a=Ti(e);i--;){var o=t[i];e[i]=ma(o,r)?a[o]:n}return e}function Ta(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ca=Ia(Kr),Pa=zt||function(e,t){return it.setTimeout(e,t)},ka=Ia(Jr);function Aa(e,t,n){var r=t+"";return ka(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return yt(d,function(n){var r="_."+n[0];t&n[1]&&!wt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(r),n)))}function Ia(e){var t=0,r=0;return function(){var i=yn(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Ra(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Gr(r,a),s=e[o];e[o]=e[r],e[r]=s}return e.length=t,e}var La,Oa,Na=(La=Oo(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Q,function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)}),t},function(e){return 500===Oa.size&&Oa.clear(),e}),Oa=La.cache,La);function Da(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function za(e){if(null!=e){try{return Ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ua(e){if(e instanceof Vn)return e.clone();var t=new jn(e.__wrapped__,e.__chain__);return t.__actions__=Ti(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ba=qr(function(e,t){return qo(e)?ur(e,mr(t,1,qo,!0)):[]}),Fa=qr(function(e,t){var r=Ya(t);return qo(r)&&(r=n),qo(e)?ur(e,mr(t,1,qo,!0),aa(r,2)):[]}),ja=qr(function(e,t){var r=Ya(t);return qo(r)&&(r=n),qo(e)?ur(e,mr(t,1,qo,!0),n,r):[]});function Va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=gn(r+i,0)),It(e,aa(t,3),i)}function Ha(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=ps(r),a=r<0?gn(i+a,0):vn(a,i-1)),It(e,aa(t,3),a,!0)}function Wa(e){return null!=e&&e.length?mr(e,1):[]}function Ga(e){return e&&e.length?e[0]:n}var $a=qr(function(e){var t=Mt(e,pi);return t.length&&t[0]===e[0]?Cr(t):[]}),qa=qr(function(e){var t=Ya(e),r=Mt(e,pi);return t===Ya(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Cr(r,aa(t,2)):[]}),Xa=qr(function(e){var t=Ya(e),r=Mt(e,pi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Cr(r,n,t):[]});function Ya(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Za=qr(Ka);function Ka(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Ja=Qi(function(e,t){var n=null==e?0:e.length,r=ir(e,t);return Wr(e,Mt(t,function(e){return ma(e,n)?+e:e}).sort(Si)),r});function Qa(e){return null==e?e:xn.call(e)}var eo=qr(function(e){return si(mr(e,1,qo,!0))}),to=qr(function(e){var t=Ya(e);return qo(t)&&(t=n),si(mr(e,1,qo,!0),aa(t,2))}),no=qr(function(e){var t=Ya(e);return t="function"==typeof t?t:n,si(mr(e,1,qo,!0),n,t)});function ro(e){if(!e||!e.length)return[];var t=0;return e=xt(e,function(e){if(qo(e))return t=gn(e.length,t),!0}),Ft(t,function(t){return Mt(e,Dt(t))})}function io(e,t){if(!e||!e.length)return[];var r=ro(e);return null==t?r:Mt(r,function(e){return gt(t,n,e)})}var ao=qr(function(e,t){return qo(e)?ur(e,t):[]}),oo=qr(function(e){return di(xt(e,qo))}),so=qr(function(e){var t=Ya(e);return qo(t)&&(t=n),di(xt(e,qo),aa(t,2))}),lo=qr(function(e){var t=Ya(e);return t="function"==typeof t?t:n,di(xt(e,qo),n,t)}),uo=qr(ro),co=qr(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,io(e,r)});function ho(e){var t=Un(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=Qi(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Vn&&ma(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:fo,args:[a],thisArg:n}),new jn(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(a)}),mo=Pi(function(e,t,n){Re.call(e,n)?++e[n]:rr(e,n,1)}),go=Ni(Va),vo=Ni(Ha);function yo(e,t){return(Wo(e)?yt:cr)(e,aa(t,3))}function _o(e,t){return(Wo(e)?_t:hr)(e,aa(t,3))}var bo=Pi(function(e,t,n){Re.call(e,n)?e[n].push(t):rr(e,n,[t])}),xo=qr(function(e,t,n){var r=-1,i="function"==typeof t,a=$o(e)?re(e.length):[];return cr(e,function(e){a[++r]=i?gt(t,e,n):Pr(e,t,n)}),a}),wo=Pi(function(e,t,n){rr(e,n,t)});function So(e,t){return(Wo(e)?Mt:Dr)(e,aa(t,3))}var Mo=Pi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Eo=qr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ga(e,t[0],t[1])?t=[]:n>2&&ga(t[0],t[1],t[2])&&(t=[t[0]]),jr(e,mr(t,1),[])}),To=kt||function(){return it.Date.now()};function Co(e,t,r){return t=r?n:t,Xi(e,s,n,n,n,n,t=e&&null==t?e.length:t)}function Po(e,t){var i;if("function"!=typeof t)throw new Ce(r);return e=ps(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var ko=qr(function(e,t,n){var r=1;if(n.length){var i=en(n,ia(ko));r|=o}return Xi(e,r,t,n,i)}),Ao=qr(function(e,t,n){var r=3;if(n.length){var i=en(n,ia(Ao));r|=o}return Xi(t,r,e,n,i)});function Io(e,t,i){var a,o,s,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ce(r);function m(t){var r=a,i=o;return a=o=n,h=t,l=e.apply(i,r)}function g(e){return h=e,u=Pa(y,t),d?m(e):l}function v(e){var r=e-c;return c===n||r>=t||r<0||f&&e-h>=s}function y(){var e=To();if(v(e))return _(e);u=Pa(y,function(e){var n=t-(e-c);return f?vn(n,s-(e-h)):n}(e))}function _(e){return u=n,p&&a?m(e):(a=o=n,l)}function b(){var e=To(),r=v(e);if(a=arguments,o=this,c=e,r){if(u===n)return g(c);if(f)return _i(u),u=Pa(y,t),m(c)}return u===n&&(u=Pa(y,t)),l}return t=gs(t)||0,es(i)&&(d=!!i.leading,s=(f="maxWait"in i)?gn(gs(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){u!==n&&_i(u),h=0,a=c=o=u=n},b.flush=function(){return u===n?l:_(To())},b}var Ro=qr(function(e,t){return lr(e,1,t)}),Lo=qr(function(e,t,n){return lr(e,gs(t)||0,n)});function Oo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Oo.Cache||Gn),n}function No(e){if("function"!=typeof e)throw new Ce(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oo.Cache=Gn;var Do=vi(function(e,t){var n=(t=1==t.length&&Wo(t[0])?Mt(t[0],Vt(aa())):Mt(mr(t,1),Vt(aa()))).length;return qr(function(r){for(var i=-1,a=vn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return gt(e,this,r)})}),zo=qr(function(e,t){var r=en(t,ia(zo));return Xi(e,o,n,t,r)}),Uo=qr(function(e,t){var r=en(t,ia(Uo));return Xi(e,64,n,t,r)}),Bo=Qi(function(e,t){return Xi(e,256,n,n,n,t)});function Fo(e,t){return e===t||e!=e&&t!=t}var jo=Hi(Mr),Vo=Hi(function(e,t){return e>=t}),Ho=kr(function(){return arguments}())?kr:function(e){return ts(e)&&Re.call(e,"callee")&&!Qe.call(e,"callee")},Wo=re.isArray,Go=ct?Vt(ct):function(e){return ts(e)&&Sr(e)==k};function $o(e){return null!=e&&Qo(e.length)&&!Ko(e)}function qo(e){return ts(e)&&$o(e)}var Xo=dn||gl,Yo=ht?Vt(ht):function(e){return ts(e)&&Sr(e)==g};function Zo(e){if(!ts(e))return!1;var t=Sr(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Ko(e){if(!es(e))return!1;var t=Sr(e);return t==y||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Jo(e){return"number"==typeof e&&e==ps(e)}function Qo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=dt?Vt(dt):function(e){return ts(e)&&ha(e)==b};function rs(e){return"number"==typeof e||ts(e)&&Sr(e)==x}function is(e){if(!ts(e)||Sr(e)!=w)return!1;var t=Ge(e);if(null===t)return!0;var n=Re.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==De}var as=ft?Vt(ft):function(e){return ts(e)&&Sr(e)==M},os=pt?Vt(pt):function(e){return ts(e)&&ha(e)==E};function ss(e){return"string"==typeof e||!Wo(e)&&ts(e)&&Sr(e)==T}function ls(e){return"symbol"==typeof e||ts(e)&&Sr(e)==C}var us=mt?Vt(mt):function(e){return ts(e)&&Qo(e.length)&&!!Ke[Sr(e)]},cs=Hi(Nr),hs=Hi(function(e,t){return e<=t});function ds(e){if(!e)return[];if($o(e))return ss(e)?an(e):Ti(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=ha(e);return(t==b?Jt:t==E?tn:Fs)(e)}function fs(e){return e?(e=gs(e))===l||-Infinity===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ps(e){var t=fs(e),n=t%1;return t==t?n?t-n:t:0}function ms(e){return e?ar(ps(e),0,h):0}function gs(e){if("number"==typeof e)return e;if(ls(e))return c;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jt(e);var n=fe.test(e);return n||me.test(e)?tt(e.slice(2),n?2:8):de.test(e)?c:+e}function vs(e){return Ci(e,Rs(e))}function ys(e){return null==e?"":oi(e)}var _s=ki(function(e,t){if(ba(t)||$o(t))Ci(t,Is(t),e);else for(var n in t)Re.call(t,n)&&Qn(e,n,t[n])}),bs=ki(function(e,t){Ci(t,Rs(t),e)}),xs=ki(function(e,t,n,r){Ci(t,Rs(t),e,r)}),ws=ki(function(e,t,n,r){Ci(t,Is(t),e,r)}),Ss=Qi(ir),Ms=qr(function(e,t){e=Me(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&ga(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],s=Rs(o),l=-1,u=s.length;++l<u;){var c=s[l],h=e[c];(h===n||Fo(h,ke[c])&&!Re.call(e,c))&&(e[c]=o[c])}return e}),Es=qr(function(e){return e.push(n,Zi),gt(Os,n,e)});function Ts(e,t,r){var i=null==e?n:xr(e,t);return i===n?r:i}function Cs(e,t){return null!=e&&da(e,t,Tr)}var Ps=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n},el(rl)),ks=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Re.call(e,t)?e[t].push(n):e[t]=[n]},aa),As=qr(Pr);function Is(e){return $o(e)?Xn(e):Or(e)}function Rs(e){return $o(e)?Xn(e,!0):function(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Me(e))t.push(n);return t}(e);var t=ba(e),n=[];for(var r in e)("constructor"!=r||!t&&Re.call(e,r))&&n.push(r);return n}(e)}var Ls=ki(function(e,t,n){Br(e,t,n)}),Os=ki(function(e,t,n,r){Br(e,t,n,r)}),Ns=Qi(function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,function(t){return t=gi(t,e),r||(r=t.length>1),t}),Ci(e,ta(e),n),r&&(n=or(n,7,Ki));for(var i=t.length;i--;)li(n,t[i]);return n}),Ds=Qi(function(e,t){return null==e?{}:function(e,t){return Vr(e,t,function(t,n){return Cs(e,n)})}(e,t)});function zs(e,t){if(null==e)return{};var n=Mt(ta(e),function(e){return[e]});return t=aa(t),Vr(e,n,function(e,n){return t(e,n[0])})}var Us=qi(Is),Bs=qi(Rs);function Fs(e){return null==e?[]:Ht(e,Is(e))}var js=Li(function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)});function Vs(e){return Zs(ys(e).toLowerCase())}function Hs(e){return(e=ys(e))&&e.replace(ve,Xt).replace(We,"")}var Ws=Li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gs=Li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),$s=Ri("toLowerCase"),qs=Li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=Li(function(e,t,n){return e+(n?" ":"")+Zs(t)}),Ys=Li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zs=Ri("toUpperCase");function Ks(e,t,r){return e=ys(e),(t=r?n:t)===n?function(e){return Xe.test(e)}(e)?function(e){return e.match($e)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Js=qr(function(e,t){try{return gt(e,n,t)}catch(e){return Zo(e)?e:new xe(e)}}),Qs=Qi(function(e,t){return yt(t,function(t){t=Da(t),rr(e,t,ko(e[t],e))}),e});function el(e){return function(){return e}}var tl=Di(),nl=Di(!0);function rl(e){return e}function il(e){return Lr("function"==typeof e?e:or(e,1))}var al=qr(function(e,t){return function(n){return Pr(n,e,t)}}),ol=qr(function(e,t){return function(n){return Pr(e,n,t)}});function sl(e,t,n){var r=Is(t),i=br(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,Is(t)));var a=!(es(n)&&"chain"in n&&!n.chain),o=Ko(e);return yt(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ti(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Et([this.value()],arguments))})}),e}function ll(){}var ul=Fi(Mt),cl=Fi(bt),hl=Fi(Pt);function dl(e){return va(e)?Dt(Da(e)):function(e){return function(t){return xr(t,e)}}(e)}var fl=Vi(),pl=Vi(!0);function ml(){return[]}function gl(){return!1}var vl,yl=Bi(function(e,t){return e+t},0),_l=Gi("ceil"),bl=Bi(function(e,t){return e/t},1),xl=Gi("floor"),wl=Bi(function(e,t){return e*t},1),Sl=Gi("round"),Ml=Bi(function(e,t){return e-t},0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ce(r);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Co,Un.assign=_s,Un.assignIn=bs,Un.assignInWith=xs,Un.assignWith=ws,Un.at=Ss,Un.before=Po,Un.bind=ko,Un.bindAll=Qs,Un.bindKey=Ao,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Un.chain=ho,Un.chunk=function(e,t,r){t=(r?ga(e,t,r):t===n)?1:gn(ps(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=re(un(i/t));a<i;)s[o++]=ei(e,a,a+=t);return s},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=re(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Et(Wo(n)?Ti(n):[n],mr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=aa();return e=t?Mt(e,function(e){if("function"!=typeof e[1])throw new Ce(r);return[n(e[0]),e[1]]}):[],qr(function(n){for(var r=-1;++r<t;){var i=e[r];if(gt(i[0],this,n))return gt(i[1],this,n)}})},Un.conforms=function(e){return function(e){var t=Is(e);return function(n){return sr(n,e,t)}}(or(e,1))},Un.constant=el,Un.countBy=mo,Un.create=function(e,t){var n=Bn(e);return null==t?n:nr(n,t)},Un.curry=function e(t,r,i){var a=Xi(t,8,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,r,i){var a=Xi(t,16,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Un.debounce=Io,Un.defaults=Ms,Un.defaultsDeep=Es,Un.defer=Ro,Un.delay=Lo,Un.difference=Ba,Un.differenceBy=Fa,Un.differenceWith=ja,Un.drop=function(e,t,r){var i=null==e?0:e.length;return i?ei(e,(t=r||t===n?1:ps(t))<0?0:t,i):[]},Un.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ei(e,0,(t=i-(t=r||t===n?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?ci(e,aa(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?ci(e,aa(t,3),!0):[]},Un.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ga(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=ps(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:ps(i))<0&&(i+=a),i=r>i?0:ms(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Un.filter=function(e,t){return(Wo(e)?xt:pr)(e,aa(t,3))},Un.flatMap=function(e,t){return mr(So(e,t),1)},Un.flatMapDeep=function(e,t){return mr(So(e,t),l)},Un.flatMapDepth=function(e,t,r){return r=r===n?1:ps(r),mr(So(e,t),r)},Un.flatten=Wa,Un.flattenDeep=function(e){return null!=e&&e.length?mr(e,l):[]},Un.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===n?1:ps(t)):[]},Un.flip=function(e){return Xi(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:br(e,Is(e))},Un.functionsIn=function(e){return null==e?[]:br(e,Rs(e))},Un.groupBy=bo,Un.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Un.intersection=$a,Un.intersectionBy=qa,Un.intersectionWith=Xa,Un.invert=Ps,Un.invertBy=ks,Un.invokeMap=xo,Un.iteratee=il,Un.keyBy=wo,Un.keys=Is,Un.keysIn=Rs,Un.map=So,Un.mapKeys=function(e,t){var n={};return t=aa(t,3),yr(e,function(e,r,i){rr(n,t(e,r,i),e)}),n},Un.mapValues=function(e,t){var n={};return t=aa(t,3),yr(e,function(e,r,i){rr(n,r,t(e,r,i))}),n},Un.matches=function(e){return zr(or(e,1))},Un.matchesProperty=function(e,t){return Ur(e,or(t,1))},Un.memoize=Oo,Un.merge=Ls,Un.mergeWith=Os,Un.method=al,Un.methodOf=ol,Un.mixin=sl,Un.negate=No,Un.nthArg=function(e){return e=ps(e),qr(function(t){return Fr(t,e)})},Un.omit=Ns,Un.omitBy=function(e,t){return zs(e,No(aa(t)))},Un.once=function(e){return Po(2,e)},Un.orderBy=function(e,t,r,i){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(r=i?n:r)||(r=null==r?[]:[r]),jr(e,t,r))},Un.over=ul,Un.overArgs=Do,Un.overEvery=cl,Un.overSome=hl,Un.partial=zo,Un.partialRight=Uo,Un.partition=Mo,Un.pick=Ds,Un.pickBy=zs,Un.property=dl,Un.propertyOf=function(e){return function(t){return null==e?n:xr(e,t)}},Un.pull=Za,Un.pullAll=Ka,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,aa(n,2)):e},Un.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hr(e,t,n,r):e},Un.pullAt=Ja,Un.range=fl,Un.rangeRight=pl,Un.rearg=Bo,Un.reject=function(e,t){return(Wo(e)?xt:pr)(e,No(aa(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=aa(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Wr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ce(r);return qr(e,t=t===n?t:ps(t))},Un.reverse=Qa,Un.sampleSize=function(e,t,r){return t=(r?ga(e,t,r):t===n)?1:ps(t),(Wo(e)?Zn:Yr)(e,t)},Un.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Un.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Zr(e,t,r,i)},Un.shuffle=function(e){return(Wo(e)?Kn:Qr)(e)},Un.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ga(e,t,r)?(t=0,r=i):(t=null==t?0:ps(t),r=r===n?i:ps(r)),ei(e,t,r)):[]},Un.sortBy=Eo,Un.sortedUniq=function(e){return e&&e.length?ii(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ii(e,aa(t,2)):[]},Un.split=function(e,t,r){return r&&"number"!=typeof r&&ga(e,t,r)&&(t=r=n),(r=r===n?h:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=oi(t))&&Kt(e)?yi(an(e),0,r):e.split(t,r):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ce(r);return t=null==t?0:gn(ps(t),0),qr(function(n){var r=n[t],i=yi(n,0,t);return r&&Et(i,r),gt(e,this,i)})},Un.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Un.take=function(e,t,r){return e&&e.length?ei(e,0,(t=r||t===n?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ei(e,(t=i-(t=r||t===n?1:ps(t)))<0?0:t,i):[]},Un.takeRightWhile=function(e,t){return e&&e.length?ci(e,aa(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?ci(e,aa(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new Ce(r);return es(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Io(e,t,{leading:i,maxWait:t,trailing:a})},Un.thru=fo,Un.toArray=ds,Un.toPairs=Us,Un.toPairsIn=Bs,Un.toPath=function(e){return Wo(e)?Mt(e,Da):ls(e)?[e]:Ti(Na(ys(e)))},Un.toPlainObject=vs,Un.transform=function(e,t,n){var r=Wo(e),i=r||Xo(e)||us(e);if(t=aa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:es(e)&&Ko(a)?Bn(Ge(e)):{}}return(i?yt:yr)(e,function(e,r,i){return t(n,e,r,i)}),n},Un.unary=function(e){return Co(e,1)},Un.union=eo,Un.unionBy=to,Un.unionWith=no,Un.uniq=function(e){return e&&e.length?si(e):[]},Un.uniqBy=function(e,t){return e&&e.length?si(e,aa(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?si(e,n,t):[]},Un.unset=function(e,t){return null==e||li(e,t)},Un.unzip=ro,Un.unzipWith=io,Un.update=function(e,t,n){return null==e?e:ui(e,t,mi(n))},Un.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ui(e,t,mi(r),i)},Un.values=Fs,Un.valuesIn=function(e){return null==e?[]:Ht(e,Rs(e))},Un.without=ao,Un.words=Ks,Un.wrap=function(e,t){return zo(mi(t),e)},Un.xor=oo,Un.xorBy=so,Un.xorWith=lo,Un.zip=uo,Un.zipObject=function(e,t){return fi(e||[],t||[],Qn)},Un.zipObjectDeep=function(e,t){return fi(e||[],t||[],Zr)},Un.zipWith=co,Un.entries=Us,Un.entriesIn=Bs,Un.extend=bs,Un.extendWith=xs,sl(Un,Un),Un.add=yl,Un.attempt=Js,Un.camelCase=js,Un.capitalize=Vs,Un.ceil=_l,Un.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=gs(r))==r?r:0),t!==n&&(t=(t=gs(t))==t?t:0),ar(gs(e),t,r)},Un.clone=function(e){return or(e,4)},Un.cloneDeep=function(e){return or(e,5)},Un.cloneDeepWith=function(e,t){return or(e,5,t="function"==typeof t?t:n)},Un.cloneWith=function(e,t){return or(e,4,t="function"==typeof t?t:n)},Un.conformsTo=function(e,t){return null==t||sr(e,t,Is(t))},Un.deburr=Hs,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=bl,Un.endsWith=function(e,t,r){e=ys(e),t=oi(t);var i=e.length,a=r=r===n?i:ar(ps(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},Un.eq=Fo,Un.escape=function(e){return(e=ys(e))&&$.test(e)?e.replace(W,Yt):e},Un.escapeRegExp=function(e){return(e=ys(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Un.every=function(e,t,r){var i=Wo(e)?bt:dr;return r&&ga(e,t,r)&&(t=n),i(e,aa(t,3))},Un.find=go,Un.findIndex=Va,Un.findKey=function(e,t){return At(e,aa(t,3),yr)},Un.findLast=vo,Un.findLastIndex=Ha,Un.findLastKey=function(e,t){return At(e,aa(t,3),_r)},Un.floor=xl,Un.forEach=yo,Un.forEachRight=_o,Un.forIn=function(e,t){return null==e?e:gr(e,aa(t,3),Rs)},Un.forInRight=function(e,t){return null==e?e:vr(e,aa(t,3),Rs)},Un.forOwn=function(e,t){return e&&yr(e,aa(t,3))},Un.forOwnRight=function(e,t){return e&&_r(e,aa(t,3))},Un.get=Ts,Un.gt=jo,Un.gte=Vo,Un.has=function(e,t){return null!=e&&da(e,t,Er)},Un.hasIn=Cs,Un.head=Ga,Un.identity=rl,Un.includes=function(e,t,n,r){e=$o(e)?e:Fs(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=gn(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Rt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=gn(r+i,0)),Rt(e,t,i)},Un.inRange=function(e,t,r){return t=fs(t),r===n?(r=t,t=0):r=fs(r),function(e,t,n){return e>=vn(t,n)&&e<gn(t,n)}(e=gs(e),t,r)},Un.invoke=As,Un.isArguments=Ho,Un.isArray=Wo,Un.isArrayBuffer=Go,Un.isArrayLike=$o,Un.isArrayLikeObject=qo,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Sr(e)==m},Un.isBuffer=Xo,Un.isDate=Yo,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Un.isEmpty=function(e){if(null==e)return!0;if($o(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Xo(e)||us(e)||Ho(e)))return!e.length;var t=ha(e);if(t==b||t==E)return!e.size;if(ba(e))return!Or(e).length;for(var n in e)if(Re.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Ar(e,t)},Un.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Ar(e,t,n,r):!!i},Un.isError=Zo,Un.isFinite=function(e){return"number"==typeof e&&fn(e)},Un.isFunction=Ko,Un.isInteger=Jo,Un.isLength=Qo,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Ir(e,t,sa(t))},Un.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Ir(e,t,sa(t),r)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(_a(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=is,Un.isRegExp=as,Un.isSafeInteger=function(e){return Jo(e)&&e>=-9007199254740991&&e<=u},Un.isSet=os,Un.isString=ss,Un.isSymbol=ls,Un.isTypedArray=us,Un.isUndefined=function(e){return e===n},Un.isWeakMap=function(e){return ts(e)&&ha(e)==P},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":pn.call(e,t)},Un.kebabCase=Ws,Un.last=Ya,Un.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=(a=ps(r))<0?gn(i+a,0):vn(a,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):It(e,Ot,a,!0)},Un.lowerCase=Gs,Un.lowerFirst=$s,Un.lt=cs,Un.lte=hs,Un.max=function(e){return e&&e.length?fr(e,rl,Mr):n},Un.maxBy=function(e,t){return e&&e.length?fr(e,aa(t,2),Mr):n},Un.mean=function(e){return Nt(e,rl)},Un.meanBy=function(e,t){return Nt(e,aa(t,2))},Un.min=function(e){return e&&e.length?fr(e,rl,Nr):n},Un.minBy=function(e,t){return e&&e.length?fr(e,aa(t,2),Nr):n},Un.stubArray=ml,Un.stubFalse=gl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=wl,Un.nth=function(e,t){return e&&e.length?Fr(e,ps(t)):n},Un.noConflict=function(){return it._===this&&(it._=ze),this},Un.noop=ll,Un.now=To,Un.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?rn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ji(cn(i),n)+e+ji(un(i),n)},Un.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?rn(e):0;return t&&r<t?e+ji(t-r,n):e},Un.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?rn(e):0;return t&&r<t?ji(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ys(e).replace(ne,""),t||0)},Un.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ga(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=fs(e),t===n?(t=e,e=0):t=fs(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=bn();return vn(e+a*(t-e+et("1e-"+((a+"").length-1))),t)}return Gr(e,t)},Un.reduce=function(e,t,n){var r=Wo(e)?Tt:Ut,i=arguments.length<3;return r(e,aa(t,4),n,i,cr)},Un.reduceRight=function(e,t,n){var r=Wo(e)?Ct:Ut,i=arguments.length<3;return r(e,aa(t,4),n,i,hr)},Un.repeat=function(e,t,r){return t=(r?ga(e,t,r):t===n)?1:ps(t),$r(ys(e),t)},Un.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,r){var i=-1,a=(t=gi(t,e)).length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[Da(t[i])];o===n&&(i=a,o=r),e=Ko(o)?o.call(e):o}return e},Un.round=Sl,Un.runInContext=e,Un.sample=function(e){return(Wo(e)?Yn:Xr)(e)},Un.size=function(e){if(null==e)return 0;if($o(e))return ss(e)?rn(e):e.length;var t=ha(e);return t==b||t==E?e.size:Or(e).length},Un.snakeCase=qs,Un.some=function(e,t,r){var i=Wo(e)?Pt:ti;return r&&ga(e,t,r)&&(t=n),i(e,aa(t,3))},Un.sortedIndex=function(e,t){return ni(e,t)},Un.sortedIndexBy=function(e,t,n){return ri(e,t,aa(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Fo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ni(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ri(e,t,aa(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Fo(e[n],t))return n}return-1},Un.startCase=Xs,Un.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:ar(ps(n),0,e.length),t=oi(t),e.slice(n,n+t.length)==t},Un.subtract=Ml,Un.sum=function(e){return e&&e.length?Bt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Bt(e,aa(t,2)):0},Un.template=function(e,t,r){var i=Un.templateSettings;r&&ga(e,t,r)&&(t=n),e=ys(e),t=xs({},t,i,Yi);var a,o,s=xs({},t.imports,i.imports,Yi),l=Is(s),u=Ht(s,l),c=0,h=t.interpolate||ye,d="__p += '",f=Ee((t.escape||ye).source+"|"+h.source+"|"+(h===Z?ce:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";e.replace(f,function(t,n,r,i,s,l){return r||(r=i),d+=e.slice(c,l).replace(_e,Zt),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(le.test(m))throw new xe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(F,""):d).replace(j,"$1").replace(V,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Js(function(){return we(l,p+"return "+d).apply(n,u)});if(g.source=d,Zo(g))throw g;return g},Un.times=function(e,t){if((e=ps(e))<1||e>u)return[];var n=h,r=vn(e,h);t=aa(t),e-=h;for(var i=Ft(r,t);++n<e;)t(n);return i},Un.toFinite=fs,Un.toInteger=ps,Un.toLength=ms,Un.toLower=function(e){return ys(e).toLowerCase()},Un.toNumber=gs,Un.toSafeInteger=function(e){return e?ar(ps(e),-9007199254740991,u):0===e?e:0},Un.toString=ys,Un.toUpper=function(e){return ys(e).toUpperCase()},Un.trim=function(e,t,r){if((e=ys(e))&&(r||t===n))return jt(e);if(!e||!(t=oi(t)))return e;var i=an(e),a=an(t);return yi(i,Gt(i,a),$t(i,a)+1).join("")},Un.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.slice(0,on(e)+1);if(!e||!(t=oi(t)))return e;var i=an(e);return yi(i,0,$t(i,an(t))+1).join("")},Un.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===n))return e.replace(ne,"");if(!e||!(t=oi(t)))return e;var i=an(e);return yi(i,Gt(i,an(t))).join("")},Un.truncate=function(e,t){var r=30,i="...";if(es(t)){var a="separator"in t?t.separator:a;r="length"in t?ps(t.length):r,i="omission"in t?oi(t.omission):i}var o=(e=ys(e)).length;if(Kt(e)){var s=an(e);o=s.length}if(r>=o)return e;var l=r-rn(i);if(l<1)return i;var u=s?yi(s,0,l).join(""):e.slice(0,l);if(a===n)return u+i;if(s&&(l+=u.length-l),as(a)){if(e.slice(l).search(a)){var c,h=u;for(a.global||(a=Ee(a.source,ys(he.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var d=c.index;u=u.slice(0,d===n?l:d)}}else if(e.indexOf(oi(a),l)!=l){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+i},Un.unescape=function(e){return(e=ys(e))&&G.test(e)?e.replace(H,sn):e},Un.uniqueId=function(e){var t=++Le;return ys(e)+t},Un.upperCase=Ys,Un.upperFirst=Zs,Un.each=yo,Un.eachRight=_o,Un.first=Ga,sl(Un,(vl={},yr(Un,function(e,t){Re.call(Un.prototype,t)||(vl[t]=e)}),vl),{chain:!1}),Un.VERSION="4.17.21",yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Un[e].placeholder=Un}),yt(["drop","take"],function(e,t){Vn.prototype[e]=function(r){r=r===n?1:gn(ps(r),0);var i=this.__filtered__&&!t?new Vn(this):this.clone();return i.__filtered__?i.__takeCount__=vn(r,i.__takeCount__):i.__views__.push({size:vn(r,h),type:e+(i.__dir__<0?"Right":"")}),i},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),yt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:aa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),yt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}}),yt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}}),Vn.prototype.compact=function(){return this.filter(rl)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=qr(function(e,t){return"function"==typeof e?new Vn(this):this.map(function(n){return Pr(n,e,t)})}),Vn.prototype.reject=function(e){return this.filter(No(aa(e)))},Vn.prototype.slice=function(e,t){e=ps(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Vn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=ps(t))<0?r.dropRight(-t):r.take(t-e)),r)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(h)},yr(Vn.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Un[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Vn,u=s[0],c=l||Wo(t),h=function(e){var t=a.apply(Un,Et([e],s));return i&&d?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=l&&!f;if(!o&&c){t=m?t:new Vn(this);var g=e.apply(t,s);return g.__actions__.push({func:fo,args:[h],thisArg:n}),new jn(g,d)}return p&&m?e.apply(this,s):(g=this.thru(h),p?i?g.value()[0]:g.value():g)})}),yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n](function(n){return t.apply(Wo(n)?n:[],e)})}}),yr(Vn.prototype,function(e,t){var n=Un[t];if(n){var r=n.name+"";Re.call(kn,r)||(kn[r]=[]),kn[r].push({name:t,func:n})}}),kn[zi(n,2).name]=[{name:"wrapper",func:n}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ti(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ti(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ti(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=vn(t,e+o);break;case"takeRight":e=gn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,h=c.length,d=0,f=vn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return hi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,g=e[u+=t];++m<h;){var v=c[m],y=v.type,_=(0,v.iteratee)(g);if(2==y)g=_;else if(!_){if(1==y)continue e;break e}}p[d++]=g}return p},Un.prototype.at=po,Un.prototype.chain=function(){return ho(this)},Un.prototype.commit=function(){return new jn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===n&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,r=this;r instanceof Fn;){var i=Ua(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Qa],thisArg:n}),new jn(t,this.__chain__)}return this.thru(Qa)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,at&&(Un.prototype[at]=function(){return this}),Un}();ot?((ot.exports=ln)._=ln,at._=ln):it._=ln}).call(X)}),VU={ldebounce:function(e,t){return void 0===t&&(t=500),jU.debounce(e,t,{leading:!0})},scaleValue:function(e,t,n){var r=(n[1]-n[0])/(t[1]-t[0]);return~~((Math.min(t[1],Math.max(t[0],e))-t[0])*r+n[0])},map:function(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r},lerp:function(e,t,n){return(1-n)*e+n*t},clamp:function(e,t,n){return e<=t?t:e>=n?n:e},getMousePos:function(e){return{x:e.clientX,y:e.clientY}}};export{dc as ASCIIGalaxy,fc as ASCIIMorph,q as ArrowScroll,fc as AsciiMorph,gh as AudioToggle,_S as BackgroundCanvas,xS as BlasterImage,$S as BlasterText,XS as ButtonColorHover,YS as ButtonFancy,JS as ButtonSpeak,hM as CalendlyEmbed,mM as CanvasEraser,vM as CookieBanner,WM as Cursor,F as CursorContext,$M as CurtainWipe,XM as DebugScreen,ZM as DotGrid,JM as Eye,eE as Eyeballs,tE as Icons,tD as KineticType,rD as LoaderBar,cD as Menu,G as MenuContext,vD as MenuImageHover,SD as NoSignal,_D as NoiseGrain,QD as Particles,tz as RadialRainbows,iz as RandomGrid,oz as ScenePaperJS,dz as ScrollProgressLine,Tz as ScrollSnapSection,uz as Scroller,vz as ScrollerSnapper,Cz as ShuffleText,kz as SineWave,Rz as SpeechPanel,zz as SpinningLoader,jz as Static,Wz as StickyButton,Vz as StickyCursor,Yz as StickyDrawer,aU as StickyImageExplode,oU as TagManager,cU as Text,dU as UnsupportedBrowser,pU as UnsupportedOrientation,OU as VideoBackground,DU as YinYang,zU as audio,pD as easing,FU as events,VU as utils};
//# sourceMappingURL=dope.mjs.map
