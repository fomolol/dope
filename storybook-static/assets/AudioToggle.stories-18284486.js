import{a as b,b as i}from"./jsx-runtime-4ad9da42.js";import{r as p}from"./index-10e52e8a.js";import{p as d}from"./index-67732e07.js";import{r as $}from"./howler-739324c9.js";import"./_commonjsHelpers-35101cd5.js";var g={},H=void 0;typeof window<"u"&&(H=$());var j=H,y={};Object.defineProperty(y,"__esModule",{value:!0});y.noop=function(){};Object.defineProperty(g,"__esModule",{value:!0});var A=function(){function r(t,o){for(var e=0;e<o.length;e++){var a=o[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,o,e){return o&&r(t.prototype,o),e&&r(t,e),t}}(),E=p.exports,D=O(E),R=d.exports,n=O(R),k=j,l=y;function O(r){return r&&r.__esModule?r:{default:r}}function M(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function U(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:r}function z(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)}var v=function(r){z(t,r);function t(o){M(this,t);var e=U(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return e.initHowler=e.initHowler.bind(e),e}return A(t,[{key:"componentDidMount",value:function(){this.initHowler()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.src)!==JSON.stringify(this.props.src)?this.initHowler(this.props):this.toggleHowler(e)}},{key:"componentWillUnmount",value:function(){this.destroyHowler()}},{key:"initHowler",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;this.destroyHowler(),typeof k.Howl<"u"&&(this.howler=new k.Howl({src:e.src,xhr:e.xhr,format:e.format,mute:e.mute,loop:e.loop,preload:e.preload,volume:e.volume,rate:e.rate,onend:e.onEnd,onplay:e.onPlay,onplayerror:e.onPlayError,onpause:e.onPause,onvolume:e.onVolume,onstop:e.onStop,onload:e.onLoad,onseek:e.onSeek,onloaderror:e.onLoadError,html5:e.html5}),e.playing&&this.play())}},{key:"destroyHowler",value:function(){this.howler&&(this.howler.off(),this.howler.stop(),this.howler.unload(),this.howler=null)}},{key:"toggleHowler",value:function(e){this.props.playing?this.play():this.pause(),this.loop(this.props.loop),e.mute!==this.props.mute&&this.mute(this.props.mute),e.volume!==this.props.volume&&this.volume(this.props.volume),this.props.preload&&this.howlerState()==="unloaded"&&this.load()}},{key:"play",value:function(){var e=this.howler.playing();e||(this.howlerState()==="unloaded"&&this.load(),this.howler.play())}},{key:"pause",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;e?this.howler.pause(e):this.howler.pause()}},{key:"rate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;typeof e=="number"&&(a?this.howler.rate(e,a):this.howler.rate(e))}},{key:"howlerState",value:function(){return this.howler.state()}},{key:"stop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;e?this.howler.stop(e):this.howler.stop()}},{key:"mute",value:function(){var e;(e=this.howler).mute.apply(e,arguments)}},{key:"volume",value:function(){var e;return(e=this.howler).volume.apply(e,arguments)}},{key:"loop",value:function(){var e;return(e=this.howler).loop.apply(e,arguments)}},{key:"seek",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.howler)return 0;if(!e&&e!==0)return this.howler.seek();if(e||e===0)return this.howler.seek(e),e}},{key:"duration",value:function(){return this.howler.duration()}},{key:"load",value:function(){this.howler.load()}},{key:"render",value:function(){return D.default.createElement("div",null)}},{key:"howler",set:function(e){e&&(this._howler=e)},get:function(){return this._howler}}]),t}(E.Component);v.propTypes={src:n.default.oneOfType([n.default.string,n.default.arrayOf(n.default.string)]).isRequired,format:n.default.arrayOf(n.default.string),xhr:n.default.object,playing:n.default.bool,mute:n.default.bool,loop:n.default.bool,preload:n.default.bool,volume:n.default.number,rate:n.default.number,onEnd:n.default.func,onPause:n.default.func,onPlay:n.default.func,onPlayError:n.default.func,onVolume:n.default.func,onStop:n.default.func,onLoad:n.default.func,onSeek:n.default.func,onLoadError:n.default.func,html5:n.default.bool};v.defaultProps={playing:!0,format:[],xhr:{},mute:!1,preload:!0,loop:!1,volume:1,rate:1,onEnd:l.noop,onPause:l.noop,onPlay:l.noop,onPlayError:l.noop,onVolume:l.noop,onStop:l.noop,onLoad:l.noop,onSeek:l.noop,onLoadError:l.noop,html5:!1};g.default=v;var B=g.default;const I="_audio_toggle_aewqn_4",J="_audio_toggle__default_aewqn_8",x={audio_toggle:I,audio_toggle__default:J},w=({tagName:r="div",className:t="relative z-10 inline-flex pointer-events-auto",variant:o="default",muted:e=!0,showLabel:a=!0,src:T="/sounds/TheHoly_Lvcidia.mp3",loop:N=!0,preload:q=!0})=>{const[u,h]=p.exports.useState({wasPlaying:!e,isPlaying:!e}),L=10,c=p.exports.useCallback(()=>{h({wasPlaying:!0,isPlaying:u.wasPlaying})},[u.wasPlaying]),m=p.exports.useCallback(()=>{h({wasPlaying:u.isPlaying,isPlaying:!1})},[u.isPlaying]);useEffect(()=>(window.addEventListener("focus",c),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",c),window.removeEventListener("blur",m)}),[m,c]);const s=!u.isPlaying;return b(r,{className:`${x.audio_toggle} ${x[`audio_toggle__${o}`]} ${t}`,children:[b("button",{className:`inline-flex sound-button pt-[20px] pr-[20px] ${s?"has-sound-muted":null}`,onClick:()=>h(_=>Object.assign({},{isPlaying:!_.isPlaying})),children:[i("span",{className:`transition duration-500 ease-in-out h-[14px] font-pp inline-block items-end leading-none -mt-1 ${s?"group border-dashed border-black dark:border-white border-b hover:border-0":"group hover:border-dashed hover:border-black dark:hover:border-white hover:border-b"}`,children:[...Array(L).keys()].map((_,V)=>i("span",{className:`transition duration-500 ease-in-out ${s?"opacity-0 group-hover:opacity-100":"opacity-100 group-hover:opacity-0"}  mr-[2px] w-[1px] leading-tight inline-block border-l border-dashed border-black dark:border-white sound-button_bar_line`},`bar-${V}`))}),i("span",{className:`${a?"inline-block":"hidden"} sound-button_label ml-[5px] text-black dark:text-white lowercase text-[12px] tracking-wider leading-none`,children:s?"sound off":"sound on"})]}),i(B,{src:T,playing:!s,loop:N,preload:q}),i("style",{jsx:!0,children:`
        .sound-button_bar_line {
          animation: sound 0ms -800ms linear infinite alternate;
        }
        .sound-button_bar_line:nth-child(1) {
          animation-duration: 974ms;
        }
        .sound-button_bar_line:nth-child(2) {
          animation-duration: 933ms;
        }
        .sound-button_bar_line:nth-child(3) {
          animation-duration: 907ms;
        }
        .sound-button_bar_line:nth-child(4) {
          animation-duration: 958ms;
        }
        .sound-button_bar_line:nth-child(5) {
          animation-duration: 900ms;
        }
        .sound-button_bar_line:nth-child(6) {
          animation-duration: 927ms;
        }
        .sound-button_bar_line:nth-child(7) {
          animation-duration: 941ms;
        }
        .sound-button_bar_line:nth-child(8) {
          animation-duration: 919ms;
        }
        .sound-button_bar_line:nth-child(9) {
          animation-duration: 987ms;
        }
        .sound-button_bar_line:nth-child(10) {
          animation-duration: 942ms;
        }
        @keyframes sound {
          0% {
            height: 4px;
          }
          100% {
            height: 100%;
          }
        }
      `})]})};w.propTypes={tagName:d.exports.string,className:d.exports.string,variant:d.exports.oneOf(["default"]),children:d.exports.node};const S=w;w.__docgenInfo={description:"",methods:[],displayName:"AudioToggle",props:{tagName:{defaultValue:{value:"'div'",computed:!1},type:{name:"string"},required:!1,description:""},className:{defaultValue:{value:"'relative z-10 inline-flex pointer-events-auto'",computed:!1},type:{name:"string"},required:!1,description:""},variant:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1}]},required:!1,description:""},muted:{defaultValue:{value:"true",computed:!1},required:!1},showLabel:{defaultValue:{value:"true",computed:!1},required:!1},src:{defaultValue:{value:"'/sounds/TheHoly_Lvcidia.mp3'",computed:!1},required:!1},loop:{defaultValue:{value:"true",computed:!1},required:!1},preload:{defaultValue:{value:"true",computed:!1},required:!1},children:{type:{name:"node"},required:!1,description:""}}};const X={title:"AudioToggle",component:S,parameters:{layout:"centered"}},f=()=>i(S,{});f.storyName="default";var P;f.parameters={...f.parameters,storySource:{source:"() => <AudioToggle />",...(P=f.parameters)==null?void 0:P.storySource}};f.__docgenInfo={description:"",methods:[],displayName:"Default"};const Y=["Default"];export{f as Default,Y as __namedExportsOrder,X as default};
//# sourceMappingURL=AudioToggle.stories-18284486.js.map
