import{b as M,a as D}from"./jsx-runtime-4ad9da42.js";import{r as q}from"./index-10e52e8a.js";import{p as w}from"./index-67732e07.js";import{a as R}from"./_commonjsHelpers-35101cd5.js";import{R as C}from"./ResizeObserver.es-15957e63.js";import{A as H}from"./index-479f32b2.js";import{m as $}from"./motion-64fb725c.js";import"./animate-2454e827.js";const L=R(C);var b,a=q.exports,W=(b=L)&&typeof b=="object"&&"default"in b?b.default:b,K={debug:10,info:20,warn:30,error:40,none:100},G=typeof window<"u"&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,U=function(r){r===void 0&&(r={});var u=r.logLevel;u===void 0&&(u="info");var c=r.maxFontSize;c===void 0&&(c=100);var f=r.minFontSize;f===void 0&&(f=20);var d=r.onFinish,m=r.onStart,i=r.resolution;i===void 0&&(i=5);var S=K[u],p=a.useCallback(function(){return{calcKey:0,fontSize:c,fontSizePrev:f,fontSizeMax:c,fontSizeMin:f}},[c,f]),t=a.useRef(null),g=a.useRef(),n=a.useRef(!1),_=a.useState(p),x=_[0],o=_[1],s=x.calcKey,e=x.fontSize,y=x.fontSizeMax,v=x.fontSizeMin,l=x.fontSizePrev,z=null,E=a.useState(function(){return new W(function(){z=window.requestAnimationFrame(function(){n.current||(m&&m(),n.current=!0,o(Object.assign({},p(),{calcKey:s+1})))})})})[0];a.useEffect(function(){return t.current&&E.observe(t.current),function(){z&&window.cancelAnimationFrame(z),E.disconnect()}},[z,E]);var N=t.current&&t.current.innerHTML;return a.useEffect(function(){s===0||n.current||(N!==g.current&&(m&&m(),o(Object.assign({},p(),{calcKey:s+1}))),g.current=N)},[s,p,N,m]),G(function(){if(s!==0){var A=Math.abs(e-l)<=i,F=!!t.current&&(t.current.scrollHeight>t.current.offsetHeight||t.current.scrollWidth>t.current.offsetWidth),j=e>l;if(A)F&&e===l?(n.current=!1,S<=K.info&&console.info("[use-fit-text] reached `minFontSize = "+f+"` without fitting text")):F?o({fontSize:j?l:v,fontSizeMax:y,fontSizeMin:v,fontSizePrev:l,calcKey:s}):(n.current=!1,d&&d(e));else{var k,T=y,V=v;F?(k=j?l-e:v-e,T=Math.min(y,e)):(k=j?y-e:l-e,V=Math.max(v,e)),o({calcKey:s,fontSize:e+k/2,fontSizeMax:T,fontSizeMin:V,fontSizePrev:e})}}},[s,e,y,v,l,d,t,i]),{fontSize:e+"%",ref:t}};const J="_blaster_text_arkr5_4",Q="_blaster_text__default_arkr5_8",B={blaster_text:J,blaster_text__default:Q},X=r=>new Promise(u=>setTimeout(u,r)),I=({tagName:r="div",className:u="absolute inset-0 flex items-center justify-center w-full h-screen bg-black/50 backdrop-blur-sm h-screen-ios",variant:c="default",children:f="",items:d=["Epic","Unforgettable","Dreamlike","Gritty","Immersive","Incredible","Magical","Emotional"],seconds:m=1.25,start:i=!1,repeat:S=1/0})=>{const{fontSize:p,ref:t}=U({maxFontSize:1500,minFontSize:200,onFinish:()=>console.log("Finished sizing!"),onStart:()=>console.log("Started sizing!")}),g=m*1e3,[n,_]=q.exports.useState(0);return console.log("items",d[n]),q.exports.useEffect(()=>{i&&(async()=>{await X(g);let o=n+1;o>=d.length&&(o=0),(S==1/0||S<n)&&_(o)})()},[i,n]),M(r,{className:`${B.blaster_text} ${B[`blaster_text__${c}`]} ${u}`,children:M(H,{mode:"wait",children:i?M($.div,{className:"flex items-center justify-center w-full h-auto overflow-hidden text-center",children:D($.p,{ref:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.75,ease:"easeInOut"},className:"w-full h-auto text-center text-white font-pixel",style:{fontSize:p},children:['"',d[n],'"']})},`text-${n}`):null})})};I.propTypes={tagName:w.exports.object,className:w.exports.string,variant:w.exports.oneOf(["default"]),children:w.exports.node};const P=I;I.__docgenInfo={description:"",methods:[],displayName:"BlasterText",props:{tagName:{defaultValue:{value:"'div'",computed:!1},type:{name:"object"},required:!1,description:""},className:{defaultValue:{value:"'absolute inset-0 flex items-center justify-center w-full h-screen bg-black/50 backdrop-blur-sm h-screen-ios'",computed:!1},type:{name:"string"},required:!1,description:""},variant:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1}]},required:!1,description:""},children:{defaultValue:{value:"''",computed:!1},type:{name:"node"},required:!1,description:""},items:{defaultValue:{value:`[
  'Epic',
  'Unforgettable',
  'Dreamlike',
  'Gritty',
  'Immersive',
  'Incredible',
  'Magical',
  'Emotional',
  // "We're making the metaverse mean something.",
]`,computed:!1},required:!1},seconds:{defaultValue:{value:"1.25",computed:!1},required:!1},start:{defaultValue:{value:"false",computed:!1},required:!1},repeat:{defaultValue:{value:"Infinity",computed:!0},required:!1}}};const oe={title:"BlasterText",component:P,parameters:{layout:"centered"}},h=()=>M(P,{});h.storyName="default";var O;h.parameters={...h.parameters,storySource:{source:"() => <BlasterText />",...(O=h.parameters)==null?void 0:O.storySource}};h.__docgenInfo={description:"",methods:[],displayName:"Default"};const se=["Default"];export{h as Default,se as __namedExportsOrder,oe as default};
//# sourceMappingURL=BlasterText.stories-76c3bd7e.js.map
