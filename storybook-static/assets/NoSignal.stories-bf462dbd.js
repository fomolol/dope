import{b as p}from"./jsx-runtime-4ad9da42.js";import"./index-10e52e8a.js";import{p as l}from"./index-67732e07.js";import{E as x}from"./index-f8810480.js";import"./_commonjsHelpers-35101cd5.js";import"./client-faf3de5f.js";import"./index-698e69ac.js";import"./use-motion-template-472ea312.js";import"./animate-2454e827.js";const _="_no_signal_diobm_4",v="_no_signal__default_diobm_8",c={no_signal:_,no_signal__default:v};class r{static randomColor(){return Math.round(Math.random()*16777215)}static randomSaturatedColor(){let e=Math.round(Math.random()*255);return e<<16|e<<8|e}static mulColor(e,t){let i=(e&16711680)>>16,s=(e&65280)>>8,a=e&255;return i=Math.min(Math.round(i*t),255),s=Math.min(Math.round(s*t),255),a=Math.min(Math.round(a*t),255),i<<16|s<<8|a}}class S{constructor(e){this.canvas=e.canvas,this.context=e,this.pixelSize=4,this.pixels=[],this.onResize(),this.tick=0,this.lines=[{pos:50,height:28,speed:.281},{pos:80,height:16,speed:1.129}]}onResize(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.pixels.length=0}start(){}update(){let e=Math.ceil(this.width/this.pixelSize),t=Math.ceil(this.height/this.pixelSize),i=0;for(let s=0;s<t;s++){let a=this.isInLine(s,t);for(let d=0;d<e;d++){let m=d+s*e,o;i<=0?(i=1+Math.floor(Math.random()*3),o=r.randomSaturatedColor(),o=a?r.mulColor(o,.55):r.mulColor(o,.4)):(o=this.pixels[m-1],o=r.mulColor(o,.8)),this.pixels[m]=o,i--}}this.updateLines(t),this.linePos%=t,this.renderPixels()}updateLines(e){this.lines.forEach(t=>t.pos=(t.pos+t.speed)%e)}isInLine(e,t){return this.lines.some(i=>e>=i.pos&&e<i.pos+i.height||i.pos+i.height>t&&e<i.pos-t+i.height)}renderPixels(){let e=Math.ceil(this.width/this.pixelSize);for(let t=0;t<this.pixels.length;t++){let i=t%e,s=Math.floor(t/e);this.context.fillStyle="#"+this.pixels[t].toString(16),this.context.fillRect(i*this.pixelSize,s*this.pixelSize,this.pixelSize,this.pixelSize)}}}const u=({tagName:h="div",className:e="absolute top-0 left-0 z-0 w-screen h-screen",variant:t="default",children:i=""})=>(x(()=>{const s=new S(document.getElementsByTagName("canvas")[0].getContext("2d"));s.start();const a=()=>{s.update(),requestAnimationFrame(a)};return requestAnimationFrame(a),window.addEventListener("resize",s.onResize.bind(s)),()=>window.removeEventListener("resize",s.onResize.bind(s))},[]),p(h,{className:`${c.no_signal} ${c[`no_signal__${t}`]} ${e}`,children:p("canvas",{})}));u.propTypes={tagName:l.exports.string,className:l.exports.string,variant:l.exports.oneOf(["default"]),children:l.exports.node};const g=u;u.__docgenInfo={description:"",methods:[],displayName:"NoSignal",props:{tagName:{defaultValue:{value:"'div'",computed:!1},type:{name:"string"},required:!1,description:""},className:{defaultValue:{value:"'absolute top-0 left-0 z-0 w-screen h-screen'",computed:!1},type:{name:"string"},required:!1,description:""},variant:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1}]},required:!1,description:""},children:{defaultValue:{value:"''",computed:!1},type:{name:"node"},required:!1,description:""}}};const E={title:"NoSignal",component:g,parameters:{layout:"centered"}},n=()=>p(g,{});n.storyName="default";var f;n.parameters={...n.parameters,storySource:{source:"() => <NoSignal />",...(f=n.parameters)==null?void 0:f.storySource}};n.__docgenInfo={description:"",methods:[],displayName:"Default"};const R=["Default"];export{n as Default,R as __namedExportsOrder,E as default};
//# sourceMappingURL=NoSignal.stories-bf462dbd.js.map
