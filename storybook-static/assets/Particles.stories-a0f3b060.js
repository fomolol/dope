import{a as We,b as de}from"./jsx-runtime-4ad9da42.js";import{r as re}from"./index-10e52e8a.js";import{A as qe,G as He,H as Ke,z as Xe,t as $e,J as Je,K as Qe}from"./index-6f0019d1.esm-ad9d35eb.js";import{c as fe}from"./_commonjs-dynamic-modules-302442b1.js";import{_ as Ze}from"./extends-98964cd2.js";import"./_commonjsHelpers-35101cd5.js";const et=({compute:m,name:u,...p})=>{const[c]=re.exports.useState(()=>new qe(new Float32Array(0),1)),i=re.exports.useRef(null);return re.exports.useLayoutEffect(()=>{if(i.current){var h;const v=(h=i.current.parent)!==null&&h!==void 0?h:i.current.__r3f.parent,A=m(v);i.current.copy(A)}},[m]),re.exports.createElement("primitive",Ze({ref:i,object:c,attach:`attributes-${u}`},p))};var tt=`#define GLSLIFY 1
vec2 _fade(vec2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}vec3 _fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}/***Generates 2D Perlin Noise.**@name gln_perlin*@function*@param{vec2}p Point to sample Perlin Noise at.*@return{float}Value of Perlin Noise at point "p".**@example*float n=gln_perlin(position.xy);*/float gln_perlin(vec2 P){vec4 Pi=floor(P.xyxy)+vec4(0.0,0.0,1.0,1.0);vec4 Pf=fract(P.xyxy)-vec4(0.0,0.0,1.0,1.0);Pi=mod(Pi,289.0);vec4 ix=Pi.xzxz;vec4 iy=Pi.yyww;vec4 fx=Pf.xzxz;vec4 fy=Pf.yyww;vec4 i=gln_rand4(gln_rand4(ix)+iy);vec4 gx=2.0*fract(i*0.0243902439)-1.0;vec4 gy=abs(gx)-0.5;vec4 tx=floor(gx+0.5);gx=gx-tx;vec2 g00=vec2(gx.x,gy.x);vec2 g10=vec2(gx.y,gy.y);vec2 g01=vec2(gx.z,gy.z);vec2 g11=vec2(gx.w,gy.w);vec4 norm=1.79284291400159-0.85373472095314*vec4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;float n00=dot(g00,vec2(fx.x,fy.x));float n10=dot(g10,vec2(fx.y,fy.y));float n01=dot(g01,vec2(fx.z,fy.z));float n11=dot(g11,vec2(fx.w,fy.w));vec2 fade_xy=_fade(Pf.xy);vec2 n_x=mix(vec2(n00,n01),vec2(n10,n11),fade_xy.x);float n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}/***Generates 3D Perlin Noise.**@name gln_perlin*@function*@param{vec3}p Point to sample Perlin Noise at.*@return{float}Value of Perlin Noise at point "p".**@example*float n=gln_perlin(position.xyz);*/float gln_perlin(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod(Pi0,289.0);Pi1=mod(Pi1,289.0);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=_permute(_permute(ix)+iy);vec4 ixy0=_permute(ixy+iz0);vec4 ixy1=_permute(ixy+iz1);vec4 gx0=ixy0/7.0;vec4 gy0=fract(floor(gx0)/7.0)-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1/7.0;vec4 gy1=fract(floor(gx1)/7.0)-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=_taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=_taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=_fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}/***Generates 2D Fractional Brownian motion(fBm)from Perlin Noise.**@name gln_pfbm*@function*@param{vec2}p Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Perlin Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_pfbm(position.xy,opts);*/float gln_pfbm(vec2 p,gln_tFBMOpts opts){p+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=p*frequency*opts.scale;float noiseVal=gln_perlin(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}/***Generates 3D Fractional Brownian motion(fBm)from Perlin Noise.**@name gln_pfbm*@function*@param{vec3}p Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Perlin Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_pfbm(position.xy,opts);*/float gln_pfbm(vec3 p,gln_tFBMOpts opts){p+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec3 p=p*frequency*opts.scale;float noiseVal=gln_perlin(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}`,rt=`#define GLSLIFY 1
/***Generates 2D Simplex Noise.**@name gln_simplex*@function*@param{vec2}v Point to sample Simplex Noise at.*@return{float}Value of Simplex Noise at point "p".**@example*float n=gln_simplex(position.xy);*/float gln_simplex(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1;i1=(x0.x>x0.y)? vec2(1.0,0.0): vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod(i,289.0);vec3 p=gln_rand3(gln_rand3(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}/***Generates 3D Simplex Noise.**@name gln_simplex*@function*@param{vec3}v Point to sample Simplex Noise at.*@return{float}Value of Simplex Noise at point "p".**@example*float n=gln_simplex(position.xyz);*/float gln_simplex(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=_permute(_permute(_permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=_taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}/***Generates 2D Fractional Brownian motion(fBm)from Simplex Noise.**@name gln_sfbm*@function*@param{vec2}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_sfbm(position.xy,opts);*/float gln_sfbm(vec2 v,gln_tFBMOpts opts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=v*frequency*opts.scale;float noiseVal=gln_simplex(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}/***Generates 3D Fractional Brownian motion(fBm)from Simplex Noise.**@name gln_sfbm*@function*@param{vec3}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(uSeed,0.3,2.0,0.5,1.0,5,false,false);**float n=gln_sfbm(position.xy,opts);*/float gln_sfbm(vec3 v,gln_tFBMOpts opts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec3 p=v*frequency*opts.scale;float noiseVal=gln_simplex(p);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}`,nt=`#define GLSLIFY 1
/***@typedef{struct}gln_tWorleyOpts Options for Voronoi Noise generators.*@property{float}seed Seed for PRNG generation.*@property{float}distance Size of each generated cell*@property{float}scale "Zoom level" of generated noise.*@property{boolean}invert Invert generated noise.*/struct gln_tWorleyOpts{float seed;float distance;float scale;bool invert;};/***Generates Voronoi Noise.**@name gln_worley*@function*@param{vec2}x                  Point to sample Voronoi Noise at.*@param{gln_tWorleyOpts}opts Options for generating Voronoi Noise.*@return{float}Value of Voronoi Noise at point "p".**@example*gln_tWorleyOpts opts=gln_tWorleyOpts(uSeed,0.0,0.5,false);**float n=gln_worley(position.xy,opts);*/float gln_worley(vec2 point,gln_tWorleyOpts opts){vec2 p=floor(point*opts.scale);vec2 f=fract(point*opts.scale);float res=0.0;for(int j=-1;j<=1;j++){for(int i=-1;i<=1;i++){vec2 b=vec2(i,j);vec2 r=vec2(b)-f+gln_rand(p+b);res+=1./pow(dot(r,r),8.);}}float result=pow(1./res,0.0625);if(opts.invert)result=1.0-result;return result;}/***Generates Fractional Brownian motion(fBm)from Worley Noise.**@name gln_wfbm*@function*@param{vec3}v Point to sample fBm at.*@param{gln_tFBMOpts}opts Options for generating Simplex Noise.*@return{float}Value of fBm at point "p".**@example*gln_tFBMOpts opts=*gln_tFBMOpts(1.0,0.3,2.0,0.5,1.0,5,false,false);**gln_tWorleyOpts voronoiOpts=*gln_tWorleyOpts(1.0,1.0,3.0,false);**float n=gln_wfbm(position.xy,voronoiOpts,opts);*/float gln_wfbm(vec2 v,gln_tFBMOpts opts,gln_tWorleyOpts vopts){v+=(opts.seed*100.0);float persistance=opts.persistance;float lacunarity=opts.lacunarity;float redistribution=opts.redistribution;int octaves=opts.octaves;bool terbulance=opts.terbulance;bool ridge=opts.terbulance&&opts.ridge;float result=0.0;float amplitude=1.0;float frequency=1.0;float maximum=amplitude;for(int i=0;i<MAX_FBM_ITERATIONS;i++){if(i>=octaves)break;vec2 p=v*frequency*opts.scale;float noiseVal=gln_worley(p,vopts);if(terbulance)noiseVal=abs(noiseVal);if(ridge)noiseVal=-1.0*noiseVal;result+=noiseVal*amplitude;frequency*=lacunarity;amplitude*=persistance;maximum+=amplitude;}float redistributed=pow(result,redistribution);return redistributed/maximum;}`,ot=`#define GLSLIFY 1
#define gln_COPY 1
#define gln_ADD 2
#define gln_SUBSTRACT 3
#define gln_MULTIPLY 4
#define gln_ADDSUB 5
#define gln_LIGHTEN 6
#define gln_DARKEN 7
#define gln_SWITCH 8
#define gln_DIVIDE 9
#define gln_OVERLAY 10
#define gln_SCREEN 11
#define gln_SOFTLIGHT 12
float gln_softLight(float f,float b){return(f<0.5)? b-(1.0-2.0*f)*b*(1.0-b):(b<0.25)? b+(2.0*f-1.0)*b*((16.0*b-12.0)*b+3.0): b+(2.0*f-1.0)*(sqrt(b)-b);}vec4 gln_softLight(vec4 f,vec4 b){vec4 result;result.x=gln_softLight(f.x,b.x);result.y=gln_softLight(f.y,b.y);result.z=gln_softLight(f.z,b.z);result.a=gln_softLight(f.a,b.a);return result;}vec4 gln_screen(vec4 f,vec4 b){vec4 result;result=1.0-(1.0-f)*(1.0-b);return result;}float gln_overlay(float f,float b){return(b<0.5)? 2.0*f*b : 1.0-2.0*(1.0-f)*(1.0-b);}vec4 gln_overlay(vec4 f,vec4 b){vec4 result;result.x=gln_overlay(f.x,b.x);result.y=gln_overlay(f.y,b.y);result.z=gln_overlay(f.z,b.z);result.a=gln_overlay(f.a,b.a);return result;}vec4 gln_divide(vec4 f,vec4 b){vec4 result=vec4(0.0);result=b/f;return result;}vec4 gln_switch(vec4 f,vec4 b,float o){vec4 result=vec4(0.0);result=max((f*o),(b*(1.0-o)));return result;}vec4 gln_darken(vec4 f,vec4 b){vec4 result=vec4(0.0);result=min(f,b);return result;}vec4 gln_lighten(vec4 f,vec4 b){vec4 result=vec4(0.0);result=max(f,b);return result;}float gln_addSub(float f,float b){return f>0.5 ? f+b : b-f;}vec4 gln_addSub(vec4 f,vec4 b){vec4 result=vec4(0.0);result.r=gln_addSub(f.r,b.r);result.g=gln_addSub(f.g,b.g);result.b=gln_addSub(f.b,b.b);result.a=gln_addSub(f.a,b.a);return result;}vec4 gln_multiply(vec4 f,vec4 b){vec4 result=vec4(0.0);result=f*b;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_subtract(vec4 f,vec4 b){vec4 result=vec4(0.0);result=b-f;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_add(vec4 f,vec4 b){vec4 result=vec4(0.0);result=f+b;result.a=f.a+b.a*(1.0-f.a);return result;}vec4 gln_copy(vec4 f,vec4 b){vec4 result=vec4(0.0);result.a=f.a+b.a*(1.0-f.a);result.rgb=((f.rgb*f.a)+(b.rgb*b.a)*(1.0-f.a));return result;}/***Enum for gl-Noise Blend Modes.*@name gln_BLENDMODES*@enum{number}*@property{number}gln_COPY The<b>Copy</b>blending mode will just place the*foreground on top of the background.*@property{number}gln_ADD The<b>Add</b>blending mode will add the*foreground input value to each corresponding pixel in the background.*@property{number}gln_SUBSTRACT The<b>Substract</b>blending mode will*substract the foreground input value from each corresponding pixel in the*background.*@property{number}gln_MULTIPLY The<b>Multiply</b>blending mode will*multiply the background input value by each corresponding pixel in the*foreground.*@property{number}gln_ADDSUB The<b>Add Sub</b>blending mode works as*following:<ul><li>Foreground pixels with a value higher than 0.5 are added*to their respective background pixels.</li><li>Foreground pixels with a*value lower than 0.5 are substracted from their respective background pixels.*</li>*</ul>*@property{number}gln_LIGHTEN The<b>Lighten(Max)</b>Blending mode will*pick the higher value between the background and the foreground.*@property{number}gln_DARKEN The<b>Darken(Min)</b>Blending mode will pick*the lower value between the background and the foreground.*@property{number}gln_DIVIDE The<b>Divide</b>blending mode will divide the*background input pixels value by each corresponding pixel in the foreground.*@property{number}gln_OVERLAY The<b>Overlay</b>blending mode combines*Multiply and Screen blend modes:<ul><li>If the value of the lower layer*pixel is below 0.5,then a Multiply type blending is applied.</li><li>If*the value of the lower layer pixel is above 0.5,then a Screen type blending*is applied.</li>*</ul>*@property{number}gln_SCREEN With<b>Screen</b>blend mode the values of the*pixels in the two inputs are inverted,multiplied,and then inverted*again.</br>The result is the opposite effect to multiply and is always equal*or higher(brighter)compared to the original.*@property{number}gln_SOFTLIGHT The<b>Soft Light</b>blend mode creates a*subtle lighter or darker result depending on the brightness of the foreground*color.*</br>Blend colors that are more than 50% brightness will lighten the*background pixels and colors that are less than 50% brightness will darken*the background pixels.*//***Blends a Color with another.**@name gln_blend*@function*@param{vec4}f Foreground*@param{vec4}b Background*@param{gln_BLENDMODES}type Blend mode*@return{vec4}Mapped Value**@example*vec4 logo=texture2D(uLogo,uv);*vec4 rect=texture2D(uRect,uv);**vec4 final=gln_blend(logo,rect,gln_COPY);*/vec4 gln_blend(vec4 f,vec4 b,int type){vec4 n;if(type==gln_COPY){n=gln_copy(f,b);}else if(type==gln_ADD){n=gln_add(f,b);}else if(type==gln_SUBSTRACT){n=gln_subtract(f,b);}else if(type==gln_MULTIPLY){n=gln_multiply(f,b);}else if(type==gln_ADDSUB){n=gln_addSub(f,b);}else if(type==gln_LIGHTEN){n=gln_lighten(f,b);}else if(type==gln_DARKEN){n=gln_darken(f,b);}else if(type==gln_DIVIDE){n=gln_divide(f,b);}else if(type==gln_OVERLAY){n=gln_overlay(f,b);}else if(type==gln_SCREEN){n=gln_screen(f,b);}else if(type==gln_SOFTLIGHT){n=gln_softLight(f,b);}return n;}`,at=`#define GLSLIFY 1
#define MAX_FBM_ITERATIONS 30
#define gln_PI 3.1415926538
vec4 _permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 _taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}/***@typedef{struct}gln_tFBMOpts Options for fBm generators.*@property{float}seed Seed for PRNG generation.*@property{float}persistance Factor by which successive layers of noise*will decrease in amplitude.*@property{float}lacunarity Factor by which successive layers of noise*will increase in frequency.*@property{float}scale "Zoom level" of generated noise.*@property{float}redistribution Flatness in the generated noise.*@property{int}octaves Number of layers of noise to stack.*@property{boolean}terbulance Enable terbulance*@property{boolean}ridge Convert the fBm to Ridge Noise. Only works*when "terbulance" is set to true.*/struct gln_tFBMOpts{float seed;float persistance;float lacunarity;float scale;float redistribution;int octaves;bool terbulance;bool ridge;};/***Converts a number from one range to another.**@name gln_map*@function*@param{}value Value to map*@param{float}min1 Minimum for current range*@param{float}max1 Maximum for current range*@param{float}min2 Minimum for wanted range*@param{float}max2 Maximum for wanted range*@return{float}Mapped Value**@example*float n=gln_map(-0.2,-1.0,1.0,0.0,1.0);**/float gln_map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}/***Normalized a value from the range[-1,1]to the range[0,1].**@name gln_normalize*@function*@param{float}v Value to normalize*@return{float}Normalized Value**@example*float n=gln_normalize(-0.2);**/float gln_normalize(float v){return gln_map(v,-1.0,1.0,0.0,1.0);}/***Generates a random 2D Vector.**@name gln_rand2*@function*@param{vec2}p Vector to hash to generate the random numbers from.*@return{vec2}Random vector.**@example*vec2 n=gln_rand2(vec2(1.0,-4.2));*/vec2 gln_rand2(vec2 p){return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);}/***Generates a random 3D Vector.**@name gln_rand3*@function*@param{vec3}p Vector to hash to generate the random numbers from.*@return{vec3}Random vector.**@example*vec3 n=gln_rand3(vec3(1.0,-4.2,0.2));*/vec3 gln_rand3(vec3 p){return mod(((p*34.0)+1.0)*p,289.0);}/***Generates a random 4D Vector.**@name gln_rand4*@function*@param{vec4}p Vector to hash to generate the random numbers from.*@return{vec4}Random vector.**@example*vec4 n=gln_rand4(vec4(1.0,-4.2,0.2,2.2));*/vec4 gln_rand4(vec4 p){return mod(((p*34.0)+1.0)*p,289.0);}/***Generates a random number.**@name gln_rand*@function*@param{float}n Value to hash to generate the number from.*@return{float}Random number.**@example*float n=gln_rand(2.5);*/float gln_rand(float n){return fract(sin(n)*1e4);}/***Generates a random number.**@name gln_rand*@function*@param{vec2}p Value to hash to generate the number from.*@return{float}Random number.**@example*float n=gln_rand(vec2(2.5,-1.8));*/float gln_rand(vec2 p){return fract(1e4*sin(17.0*p.x+p.y*0.1)*(0.1+abs(sin(p.y*13.0+p.x))));}`,it=`#define GLSLIFY 1
/***@typedef{struct}gln_tGerstnerWaveOpts Options for Gerstner Wave*generators.*@property{vec2}direction Direction of the wave*@property{float}steepness Steepness of the peeks*@property{float}wavelength Wavelength of the waves*/struct gln_tGerstnerWaveOpts{vec2 direction;float steepness;float wavelength;};/***Implimentation of Gerstner Wave*Based on: https:**@name gln_GerstnerWave*@function*@param{vec3}p Point to sample Gerstner Waves at.*@param{gln_tGerstnerWaveOpts}opts*@param{float}dt**@example*float n=gln_perlin(position.xy);*/vec3 gln_GerstnerWave(vec3 p,gln_tGerstnerWaveOpts opts,float dt){float steepness=opts.steepness;float wavelength=opts.wavelength;float k=2.0*gln_PI/wavelength;float c=sqrt(9.8/k);vec2 d=normalize(opts.direction);float f=k*(dot(d,p.xy)-c*dt);float a=steepness/k;return vec3(d.x*(a*cos(f)),a*sin(f),d.y*(a*cos(f)));}`,st=`#define GLSLIFY 1
vec3 _snois3(vec3 x){float s=gln_simplex(vec3(x));float s1=gln_simplex(vec3(x.y-19.1,x.z+33.4,x.x+47.2));float s2=gln_simplex(vec3(x.z+74.2,x.x-124.5,x.y+99.4));vec3 c=vec3(s,s1,s2);return c;}/***Generates 3D Curl Noise.**@name gln_curl*@function*@param{vec2}p Point to sample Curl Noise at.*@return{float}Value of Curl Noise at point "p".**@example*vec3 n=gln_curl(position);*/vec3 gln_curl(vec3 p){const float e=.1;vec3 dx=vec3(e,0.0,0.0);vec3 dy=vec3(0.0,e,0.0);vec3 dz=vec3(0.0,0.0,e);vec3 p_x0=_snois3(p-dx);vec3 p_x1=_snois3(p+dx);vec3 p_y0=_snois3(p-dy);vec3 p_y1=_snois3(p+dy);vec3 p_z0=_snois3(p-dz);vec3 p_z1=_snois3(p+dz);float x=p_y1.z-p_y0.z-p_z1.y+p_z0.y;float y=p_z1.x-p_z0.x-p_x1.z+p_x0.z;float z=p_x1.y-p_x0.y-p_y1.x+p_y0.x;const float divisor=1.0/(2.0*e);return normalize(vec3(x,y,z)*divisor);}`;const lt=tt,ut=rt,ct=nt,ft=ot,ve=at,pt=it,dt=st,Pe=[lt,ut,ct,ft,pt,dt];typeof process<"u"&&process.versions!=null&&process.versions.node!=null;function gt(m){let u=[],p=[];return m.forEach(c=>{const i=c.match(/#name: (.*)\n/),h=c.match(/#deps: (.*)\n/);u.push(i?i[1]:""),p.push(h?h[1].split(" "):[])}),{names:u,deps:p}}function mt(m){const{names:u,deps:p}=gt(m);let c=[],i;if(p.forEach((h,v)=>{h.forEach((A,j)=>{u.includes(A)||(c.push({outter:v,inner:j}),i=u[v])})}),c.length!==0){const h=c.map(v=>p[v.outter][v.inner]);throw new Error(`glNoise: Missing dependencies "${h.join(", ")}" for "${i}"`)}}function ht(m,u,p){if(!m||m.length<=0)throw new Error("glNoise: 'loadShaders' requires atleast one path.");let c;Array.isArray(m)?c=m:c=[m],p||(p=new Array(c.length).fill(ve));let i=c;return u?i=i.map((h,v)=>{let A;u[v]?A=u[v]:A=Pe,mt(A);let j;return p[v]?j=p[v]:j=ve,`
`+j+`
`+A.join(`
`)+`
`+h}):i=i.map((h,v)=>{let A;return p[v]?A=p[v]:A=ve,`
`+A+`
`+Pe.join(`
`)+`
`+h}),Array.isArray(m)?i:i[0]}var Ve={exports:{}};(function(m,u){(function(p){m.exports=p()})(function(){return function p(c,i,h){function v(O,M){if(!i[O]){if(!c[O]){var U=typeof fe=="function"&&fe;if(!M&&U)return U(O,!0);if(A)return A(O,!0);throw new Error("Cannot find module '"+O+"'")}M=i[O]={exports:{}},c[O][0].call(M.exports,function(k){var N=c[O][1][k];return v(N||k)},M,M.exports,p,c,i,h)}return i[O].exports}for(var A=typeof fe=="function"&&fe,j=0;j<h.length;j++)v(h[j]);return v}({1:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){var x=p("crypto");function B(s,g){g=P(s,g);var r;return(r=g.algorithm!=="passthrough"?x.createHash(g.algorithm):new C).write===void 0&&(r.write=r.update,r.end=r.update),S(g,r).dispatch(s),r.update||r.end(""),r.digest?r.digest(g.encoding==="buffer"?void 0:g.encoding):(s=r.read(),g.encoding!=="buffer"?s.toString(g.encoding):s)}(i=c.exports=B).sha1=function(s){return B(s)},i.keys=function(s){return B(s,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},i.MD5=function(s){return B(s,{algorithm:"md5",encoding:"hex"})},i.keysMD5=function(s){return B(s,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var d=x.getHashes?x.getHashes().slice():["sha1","md5"],w=(d.push("passthrough"),["buffer","hex","binary","base64"]);function P(s,g){var r={};if(r.algorithm=(g=g||{}).algorithm||"sha1",r.encoding=g.encoding||"hex",r.excludeValues=!!g.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=g.ignoreUnknown===!0,r.respectType=g.respectType!==!1,r.respectFunctionNames=g.respectFunctionNames!==!1,r.respectFunctionProperties=g.respectFunctionProperties!==!1,r.unorderedArrays=g.unorderedArrays===!0,r.unorderedSets=g.unorderedSets!==!1,r.unorderedObjects=g.unorderedObjects!==!1,r.replacer=g.replacer||void 0,r.excludeKeys=g.excludeKeys||void 0,s===void 0)throw new Error("Object argument required.");for(var o=0;o<d.length;++o)d[o].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=d[o]);if(d.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+d.join(", "));if(w.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+w.join(", "));return r}function b(s){if(typeof s=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(s))!=null}function S(s,g,r){r=r||[];function o(t){return g.update?g.update(t,"utf8"):g.write(t,"utf8")}return{dispatch:function(t){return this["_"+((t=s.replacer?s.replacer(t):t)===null?"null":typeof t)](t)},_object:function(t){var l,f=Object.prototype.toString.call(t),L=/\[object (.*)\]/i.exec(f);if(L=(L=L?L[1]:"unknown:["+f+"]").toLowerCase(),0<=(f=r.indexOf(t)))return this.dispatch("[CIRCULAR:"+f+"]");if(r.push(t),A!==void 0&&A.isBuffer&&A.isBuffer(t))return o("buffer:"),o(t);if(L==="object"||L==="function"||L==="asyncfunction")return f=Object.keys(t),s.unorderedObjects&&(f=f.sort()),s.respectType===!1||b(t)||f.splice(0,0,"prototype","__proto__","constructor"),s.excludeKeys&&(f=f.filter(function(z){return!s.excludeKeys(z)})),o("object:"+f.length+":"),l=this,f.forEach(function(z){l.dispatch(z),o(":"),s.excludeValues||l.dispatch(t[z]),o(",")});if(!this["_"+L]){if(s.ignoreUnknown)return o("["+L+"]");throw new Error('Unknown object type "'+L+'"')}this["_"+L](t)},_array:function(t,z){z=z!==void 0?z:s.unorderedArrays!==!1;var f=this;if(o("array:"+t.length+":"),!z||t.length<=1)return t.forEach(function(F){return f.dispatch(F)});var L=[],z=t.map(function(F){var D=new C,T=r.slice();return S(s,D,T).dispatch(F),L=L.concat(T.slice(r.length)),D.read().toString()});return r=r.concat(L),z.sort(),this._array(z,!1)},_date:function(t){return o("date:"+t.toJSON())},_symbol:function(t){return o("symbol:"+t.toString())},_error:function(t){return o("error:"+t.toString())},_boolean:function(t){return o("bool:"+t.toString())},_string:function(t){o("string:"+t.length+":"),o(t.toString())},_function:function(t){o("fn:"),b(t)?this.dispatch("[native]"):this.dispatch(t.toString()),s.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),s.respectFunctionProperties&&this._object(t)},_number:function(t){return o("number:"+t.toString())},_xml:function(t){return o("xml:"+t.toString())},_null:function(){return o("Null")},_undefined:function(){return o("Undefined")},_regexp:function(t){return o("regex:"+t.toString())},_uint8array:function(t){return o("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return o("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return o("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return o("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return o("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return o("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return o("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return o("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return o("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return o("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return o("url:"+t.toString())},_map:function(t){return o("map:"),t=Array.from(t),this._array(t,s.unorderedSets!==!1)},_set:function(t){return o("set:"),t=Array.from(t),this._array(t,s.unorderedSets!==!1)},_file:function(t){return o("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},_blob:function(){if(s.ignoreUnknown)return o("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return o("domwindow")},_bigint:function(t){return o("bigint:"+t.toString())},_process:function(){return o("process")},_timer:function(){return o("timer")},_pipe:function(){return o("pipe")},_tcp:function(){return o("tcp")},_udp:function(){return o("udp")},_tty:function(){return o("tty")},_statwatcher:function(){return o("statwatcher")},_securecontext:function(){return o("securecontext")},_connection:function(){return o("connection")},_zlib:function(){return o("zlib")},_context:function(){return o("context")},_nodescript:function(){return o("nodescript")},_httpparser:function(){return o("httpparser")},_dataview:function(){return o("dataview")},_signal:function(){return o("signal")},_fsevent:function(){return o("fsevent")},_tlswrap:function(){return o("tlswrap")}}}function C(){return{buf:"",write:function(s){this.buf+=s},end:function(s){this.buf+=s},read:function(){return this.buf}}}i.writeToStream=function(s,g,r){return r===void 0&&(r=g,g={}),S(g=P(s,g),r).dispatch(s)}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){(function(x){var B=typeof Uint8Array<"u"?Uint8Array:Array,d="+".charCodeAt(0),w="/".charCodeAt(0),P="0".charCodeAt(0),b="a".charCodeAt(0),S="A".charCodeAt(0),C="-".charCodeAt(0),s="_".charCodeAt(0);function g(r){return r=r.charCodeAt(0),r===d||r===C?62:r===w||r===s?63:r<P?-1:r<P+10?r-P+26+26:r<S+26?r-S:r<b+26?r-b+26:void 0}x.toByteArray=function(r){var o,t;if(0<r.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var l=r.length,l=r.charAt(l-2)==="="?2:r.charAt(l-1)==="="?1:0,f=new B(3*r.length/4-l),L=0<l?r.length-4:r.length,z=0;function F(D){f[z++]=D}for(o=0;o<L;o+=4,0)F((16711680&(t=g(r.charAt(o))<<18|g(r.charAt(o+1))<<12|g(r.charAt(o+2))<<6|g(r.charAt(o+3))))>>16),F((65280&t)>>8),F(255&t);return l==2?F(255&(t=g(r.charAt(o))<<2|g(r.charAt(o+1))>>4)):l==1&&(F((t=g(r.charAt(o))<<10|g(r.charAt(o+1))<<4|g(r.charAt(o+2))>>2)>>8&255),F(255&t)),f},x.fromByteArray=function(r){var o,t,l,f,L=r.length%3,z="";function F(D){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(D)}for(o=0,l=r.length-L;o<l;o+=3)t=(r[o]<<16)+(r[o+1]<<8)+r[o+2],z+=F((f=t)>>18&63)+F(f>>12&63)+F(f>>6&63)+F(63&f);switch(L){case 1:z=(z+=F((t=r[r.length-1])>>2))+F(t<<4&63)+"==";break;case 2:z=(z=(z+=F((t=(r[r.length-2]<<8)+r[r.length-1])>>10))+F(t>>4&63))+F(t<<2&63)+"="}return z}})(i===void 0?this.base64js={}:i)}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(p,c,i){(function(h,v,d,j,O,M,U,k,N){var x=p("base64-js"),B=p("ieee754");function d(e,n,a){if(!(this instanceof d))return new d(e,n,a);var _,y,I,V,q=typeof e;if(n==="base64"&&q=="string")for(e=(V=e).trim?V.trim():V.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if(q=="number")_=W(e);else if(q=="string")_=d.byteLength(e,n);else{if(q!="object")throw new Error("First argument needs to be a number, array or string.");_=W(e.length)}if(d._useTypedArrays?y=d._augment(new Uint8Array(_)):((y=this).length=_,y._isBuffer=!0),d._useTypedArrays&&typeof e.byteLength=="number")y._set(e);else if(Y(V=e)||d.isBuffer(V)||V&&typeof V=="object"&&typeof V.length=="number")for(I=0;I<_;I++)d.isBuffer(e)?y[I]=e.readUInt8(I):y[I]=e[I];else if(q=="string")y.write(e,0,n);else if(q=="number"&&!d._useTypedArrays&&!a)for(I=0;I<_;I++)y[I]=0;return y}function w(e,n,a,_){return d._charsWritten=ce(function(y){for(var I=[],V=0;V<y.length;V++)I.push(255&y.charCodeAt(V));return I}(n),e,a,_)}function P(e,n,a,_){return d._charsWritten=ce(function(y){for(var I,V,q=[],K=0;K<y.length;K++)V=y.charCodeAt(K),I=V>>8,V=V%256,q.push(V),q.push(I);return q}(n),e,a,_)}function b(e,n,a){var _="";a=Math.min(e.length,a);for(var y=n;y<a;y++)_+=String.fromCharCode(e[y]);return _}function S(e,n,a,I){I||(E(typeof a=="boolean","missing or invalid endian"),E(n!=null,"missing offset"),E(n+1<e.length,"Trying to read beyond buffer length"));var y,I=e.length;if(!(I<=n))return a?(y=e[n],n+1<I&&(y|=e[n+1]<<8)):(y=e[n]<<8,n+1<I&&(y|=e[n+1])),y}function C(e,n,a,I){I||(E(typeof a=="boolean","missing or invalid endian"),E(n!=null,"missing offset"),E(n+3<e.length,"Trying to read beyond buffer length"));var y,I=e.length;if(!(I<=n))return a?(n+2<I&&(y=e[n+2]<<16),n+1<I&&(y|=e[n+1]<<8),y|=e[n],n+3<I&&(y+=e[n+3]<<24>>>0)):(n+1<I&&(y=e[n+1]<<16),n+2<I&&(y|=e[n+2]<<8),n+3<I&&(y|=e[n+3]),y+=e[n]<<24>>>0),y}function s(e,n,a,_){if(_||(E(typeof a=="boolean","missing or invalid endian"),E(n!=null,"missing offset"),E(n+1<e.length,"Trying to read beyond buffer length")),!(e.length<=n))return _=S(e,n,a,!0),32768&_?-1*(65535-_+1):_}function g(e,n,a,_){if(_||(E(typeof a=="boolean","missing or invalid endian"),E(n!=null,"missing offset"),E(n+3<e.length,"Trying to read beyond buffer length")),!(e.length<=n))return _=C(e,n,a,!0),2147483648&_?-1*(4294967295-_+1):_}function r(e,n,a,_){return _||(E(typeof a=="boolean","missing or invalid endian"),E(n+3<e.length,"Trying to read beyond buffer length")),B.read(e,n,a,23,4)}function o(e,n,a,_){return _||(E(typeof a=="boolean","missing or invalid endian"),E(n+7<e.length,"Trying to read beyond buffer length")),B.read(e,n,a,52,8)}function t(e,n,a,_,y){if(y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+1<e.length,"trying to write beyond buffer length"),me(n,65535)),y=e.length,!(y<=a))for(var I=0,V=Math.min(y-a,2);I<V;I++)e[a+I]=(n&255<<8*(_?I:1-I))>>>8*(_?I:1-I)}function l(e,n,a,_,y){if(y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+3<e.length,"trying to write beyond buffer length"),me(n,4294967295)),y=e.length,!(y<=a))for(var I=0,V=Math.min(y-a,4);I<V;I++)e[a+I]=n>>>8*(_?I:3-I)&255}function f(e,n,a,_,y){y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+1<e.length,"Trying to write beyond buffer length"),he(n,32767,-32768)),e.length<=a||t(e,0<=n?n:65535+n+1,a,_,y)}function L(e,n,a,_,y){y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+3<e.length,"Trying to write beyond buffer length"),he(n,2147483647,-2147483648)),e.length<=a||l(e,0<=n?n:4294967295+n+1,a,_,y)}function z(e,n,a,_,y){y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+3<e.length,"Trying to write beyond buffer length"),Me(n,34028234663852886e22,-34028234663852886e22)),e.length<=a||B.write(e,n,a,_,23,4)}function F(e,n,a,_,y){y||(E(n!=null,"missing value"),E(typeof _=="boolean","missing or invalid endian"),E(a!=null,"missing offset"),E(a+7<e.length,"Trying to write beyond buffer length"),Me(n,17976931348623157e292,-17976931348623157e292)),e.length<=a||B.write(e,n,a,_,52,8)}i.Buffer=d,i.SlowBuffer=d,i.INSPECT_MAX_BYTES=50,d.poolSize=8192,d._useTypedArrays=function(){try{var e=new ArrayBuffer(0),n=new Uint8Array(e);return n.foo=function(){return 42},n.foo()===42&&typeof n.subarray=="function"}catch{return!1}}(),d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(e){return!(e==null||!e._isBuffer)},d.byteLength=function(e,n){var a;switch(e+="",n||"utf8"){case"hex":a=e.length/2;break;case"utf8":case"utf-8":a=ne(e).length;break;case"ascii":case"binary":case"raw":a=e.length;break;case"base64":a=we(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=2*e.length;break;default:throw new Error("Unknown encoding")}return a},d.concat=function(e,n){if(E(Y(e),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),e.length===0)return new d(0);if(e.length===1)return e[0];if(typeof n!="number")for(y=n=0;y<e.length;y++)n+=e[y].length;for(var a=new d(n),_=0,y=0;y<e.length;y++){var I=e[y];I.copy(a,_),_+=I.length}return a},d.prototype.write=function(e,n,a,_){isFinite(n)?isFinite(a)||(_=a,a=void 0):(K=_,_=n,n=a,a=K),n=Number(n)||0;var y,I,V,q,K=this.length-n;switch((!a||K<(a=Number(a)))&&(a=K),_=String(_||"utf8").toLowerCase()){case"hex":y=function(ee,J,Q,X){Q=Number(Q)||0;var H=ee.length-Q;(!X||H<(X=Number(X)))&&(X=H),E((H=J.length)%2==0,"Invalid hex string"),H/2<X&&(X=H/2);for(var ae=0;ae<X;ae++){var Ee=parseInt(J.substr(2*ae,2),16);E(!isNaN(Ee),"Invalid hex string"),ee[Q+ae]=Ee}return d._charsWritten=2*ae,ae}(this,e,n,a);break;case"utf8":case"utf-8":I=this,V=n,q=a,y=d._charsWritten=ce(ne(e),I,V,q);break;case"ascii":case"binary":y=w(this,e,n,a);break;case"base64":I=this,V=n,q=a,y=d._charsWritten=ce(we(e),I,V,q);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":y=P(this,e,n,a);break;default:throw new Error("Unknown encoding")}return y},d.prototype.toString=function(e,n,a){var _,y,I,V,q=this;if(e=String(e||"utf8").toLowerCase(),n=Number(n)||0,(a=a!==void 0?Number(a):q.length)===n)return"";switch(e){case"hex":_=function(K,ee,J){var Q=K.length;(!ee||ee<0)&&(ee=0),(!J||J<0||Q<J)&&(J=Q);for(var X="",H=ee;H<J;H++)X+=R(K[H]);return X}(q,n,a);break;case"utf8":case"utf-8":_=function(K,ee,J){var Q="",X="";J=Math.min(K.length,J);for(var H=ee;H<J;H++)K[H]<=127?(Q+=Se(X)+String.fromCharCode(K[H]),X=""):X+="%"+K[H].toString(16);return Q+Se(X)}(q,n,a);break;case"ascii":case"binary":_=b(q,n,a);break;case"base64":y=q,V=a,_=(I=n)===0&&V===y.length?x.fromByteArray(y):x.fromByteArray(y.slice(I,V));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":_=function(K,ee,J){for(var Q=K.slice(ee,J),X="",H=0;H<Q.length;H+=2)X+=String.fromCharCode(Q[H]+256*Q[H+1]);return X}(q,n,a);break;default:throw new Error("Unknown encoding")}return _},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.copy=function(e,n,a,_){if(n=n||0,(_=_||_===0?_:this.length)!==(a=a||0)&&e.length!==0&&this.length!==0){E(a<=_,"sourceEnd < sourceStart"),E(0<=n&&n<e.length,"targetStart out of bounds"),E(0<=a&&a<this.length,"sourceStart out of bounds"),E(0<=_&&_<=this.length,"sourceEnd out of bounds"),_>this.length&&(_=this.length);var y=(_=e.length-n<_-a?e.length-n+a:_)-a;if(y<100||!d._useTypedArrays)for(var I=0;I<y;I++)e[I+n]=this[I+a];else e._set(this.subarray(a,a+y),n)}},d.prototype.slice=function(e,n){var a=this.length;if(e=T(e,a,0),n=T(n,a,a),d._useTypedArrays)return d._augment(this.subarray(e,n));for(var _=n-e,y=new d(_,void 0,!0),I=0;I<_;I++)y[I]=this[I+e];return y},d.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},d.prototype.set=function(e,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,n)},d.prototype.readUInt8=function(e,n){if(n||(E(e!=null,"missing offset"),E(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},d.prototype.readUInt16LE=function(e,n){return S(this,e,!0,n)},d.prototype.readUInt16BE=function(e,n){return S(this,e,!1,n)},d.prototype.readUInt32LE=function(e,n){return C(this,e,!0,n)},d.prototype.readUInt32BE=function(e,n){return C(this,e,!1,n)},d.prototype.readInt8=function(e,n){if(n||(E(e!=null,"missing offset"),E(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,n){return s(this,e,!0,n)},d.prototype.readInt16BE=function(e,n){return s(this,e,!1,n)},d.prototype.readInt32LE=function(e,n){return g(this,e,!0,n)},d.prototype.readInt32BE=function(e,n){return g(this,e,!1,n)},d.prototype.readFloatLE=function(e,n){return r(this,e,!0,n)},d.prototype.readFloatBE=function(e,n){return r(this,e,!1,n)},d.prototype.readDoubleLE=function(e,n){return o(this,e,!0,n)},d.prototype.readDoubleBE=function(e,n){return o(this,e,!1,n)},d.prototype.writeUInt8=function(e,n,a){a||(E(e!=null,"missing value"),E(n!=null,"missing offset"),E(n<this.length,"trying to write beyond buffer length"),me(e,255)),n>=this.length||(this[n]=e)},d.prototype.writeUInt16LE=function(e,n,a){t(this,e,n,!0,a)},d.prototype.writeUInt16BE=function(e,n,a){t(this,e,n,!1,a)},d.prototype.writeUInt32LE=function(e,n,a){l(this,e,n,!0,a)},d.prototype.writeUInt32BE=function(e,n,a){l(this,e,n,!1,a)},d.prototype.writeInt8=function(e,n,a){a||(E(e!=null,"missing value"),E(n!=null,"missing offset"),E(n<this.length,"Trying to write beyond buffer length"),he(e,127,-128)),n>=this.length||(0<=e?this.writeUInt8(e,n,a):this.writeUInt8(255+e+1,n,a))},d.prototype.writeInt16LE=function(e,n,a){f(this,e,n,!0,a)},d.prototype.writeInt16BE=function(e,n,a){f(this,e,n,!1,a)},d.prototype.writeInt32LE=function(e,n,a){L(this,e,n,!0,a)},d.prototype.writeInt32BE=function(e,n,a){L(this,e,n,!1,a)},d.prototype.writeFloatLE=function(e,n,a){z(this,e,n,!0,a)},d.prototype.writeFloatBE=function(e,n,a){z(this,e,n,!1,a)},d.prototype.writeDoubleLE=function(e,n,a){F(this,e,n,!0,a)},d.prototype.writeDoubleBE=function(e,n,a){F(this,e,n,!1,a)},d.prototype.fill=function(e,n,a){if(n=n||0,a=a||this.length,E(typeof(e=typeof(e=e||0)=="string"?e.charCodeAt(0):e)=="number"&&!isNaN(e),"value is not a number"),E(n<=a,"end < start"),a!==n&&this.length!==0){E(0<=n&&n<this.length,"start out of bounds"),E(0<=a&&a<=this.length,"end out of bounds");for(var _=n;_<a;_++)this[_]=e}},d.prototype.inspect=function(){for(var e=[],n=this.length,a=0;a<n;a++)if(e[a]=R(this[a]),a===i.INSPECT_MAX_BYTES){e[a+1]="...";break}return"<Buffer "+e.join(" ")+">"},d.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(d._useTypedArrays)return new d(this).buffer;for(var e=new Uint8Array(this.length),n=0,a=e.length;n<a;n+=1)e[n]=this[n];return e.buffer};var D=d.prototype;function T(e,n,a){return typeof e!="number"?a:n<=(e=~~e)?n:0<=e||0<=(e+=n)?e:0}function W(e){return(e=~~Math.ceil(+e))<0?0:e}function Y(e){return(Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"})(e)}function R(e){return e<16?"0"+e.toString(16):e.toString(16)}function ne(e){for(var n=[],a=0;a<e.length;a++){var _=e.charCodeAt(a);if(_<=127)n.push(e.charCodeAt(a));else for(var y=a,I=(55296<=_&&_<=57343&&a++,encodeURIComponent(e.slice(y,a+1)).substr(1).split("%")),V=0;V<I.length;V++)n.push(parseInt(I[V],16))}return n}function we(e){return x.toByteArray(e)}function ce(e,n,a,_){for(var y=0;y<_&&!(y+a>=n.length||y>=e.length);y++)n[y+a]=e[y];return y}function Se(e){try{return decodeURIComponent(e)}catch{return String.fromCharCode(65533)}}function me(e,n){E(typeof e=="number","cannot write a non-number as a number"),E(0<=e,"specified a negative value for writing an unsigned value"),E(e<=n,"value is larger than maximum value for type"),E(Math.floor(e)===e,"value has a fractional component")}function he(e,n,a){E(typeof e=="number","cannot write a non-number as a number"),E(e<=n,"value larger than maximum allowed value"),E(a<=e,"value smaller than minimum allowed value"),E(Math.floor(e)===e,"value has a fractional component")}function Me(e,n,a){E(typeof e=="number","cannot write a non-number as a number"),E(e<=n,"value larger than maximum allowed value"),E(a<=e,"value smaller than minimum allowed value")}function E(e,n){if(!e)throw new Error(n||"Failed assertion")}d._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=D.get,e.set=D.set,e.write=D.write,e.toString=D.toString,e.toLocaleString=D.toString,e.toJSON=D.toJSON,e.copy=D.copy,e.slice=D.slice,e.readUInt8=D.readUInt8,e.readUInt16LE=D.readUInt16LE,e.readUInt16BE=D.readUInt16BE,e.readUInt32LE=D.readUInt32LE,e.readUInt32BE=D.readUInt32BE,e.readInt8=D.readInt8,e.readInt16LE=D.readInt16LE,e.readInt16BE=D.readInt16BE,e.readInt32LE=D.readInt32LE,e.readInt32BE=D.readInt32BE,e.readFloatLE=D.readFloatLE,e.readFloatBE=D.readFloatBE,e.readDoubleLE=D.readDoubleLE,e.readDoubleBE=D.readDoubleBE,e.writeUInt8=D.writeUInt8,e.writeUInt16LE=D.writeUInt16LE,e.writeUInt16BE=D.writeUInt16BE,e.writeUInt32LE=D.writeUInt32LE,e.writeUInt32BE=D.writeUInt32BE,e.writeInt8=D.writeInt8,e.writeInt16LE=D.writeInt16LE,e.writeInt16BE=D.writeInt16BE,e.writeInt32LE=D.writeInt32LE,e.writeInt32BE=D.writeInt32BE,e.writeFloatLE=D.writeFloatLE,e.writeFloatBE=D.writeFloatBE,e.writeDoubleLE=D.writeDoubleLE,e.writeDoubleBE=D.writeDoubleBE,e.fill=D.fill,e.inspect=D.inspect,e.toArrayBuffer=D.toArrayBuffer,e}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(p,c,i){(function(h,v,x,j,O,M,U,k,N){var x=p("buffer").Buffer,B=4,d=new x(B);d.fill(0),c.exports={hash:function(w,P,b,S){for(var C=P(function(t,l){t.length%B!=0&&(f=t.length+(B-t.length%B),t=x.concat([t,d],f));for(var f,L=[],z=l?t.readInt32BE:t.readInt32LE,F=0;F<t.length;F+=B)L.push(z.call(t,F));return L}(w=x.isBuffer(w)?w:new x(w),S),8*w.length),P=S,s=new x(b),g=P?s.writeInt32BE:s.writeInt32LE,r=0;r<C.length;r++)g.call(s,C[r],4*r,!0);return s}}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(p,c,i){(function(h,v,x,j,O,M,U,k,N){var x=p("buffer").Buffer,B=p("./sha"),d=p("./sha256"),w=p("./rng"),P={sha1:B,sha256:d,md5:p("./md5")},b=64,S=new x(b);function C(t,l){var f=P[t=t||"sha1"],L=[];return f||s("algorithm:",t,"is not yet supported"),{update:function(z){return x.isBuffer(z)||(z=new x(z)),L.push(z),z.length,this},digest:function(z){var F=x.concat(L),F=l?function(D,T,W){x.isBuffer(T)||(T=new x(T)),x.isBuffer(W)||(W=new x(W)),T.length>b?T=D(T):T.length<b&&(T=x.concat([T,S],b));for(var Y=new x(b),R=new x(b),ne=0;ne<b;ne++)Y[ne]=54^T[ne],R[ne]=92^T[ne];return W=D(x.concat([Y,W])),D(x.concat([R,W]))}(f,l,F):f(F);return L=null,z?F.toString(z):F}}}function s(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}S.fill(0),i.createHash=function(t){return C(t)},i.createHmac=C,i.randomBytes=function(t,l){if(!l||!l.call)return new x(w(t));try{l.call(this,void 0,new x(w(t)))}catch(f){l(f)}};var g,r=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],o=function(t){i[t]=function(){s("sorry,",t,"is not implemented yet")}};for(g in r)o(r[g])}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){var x=p("./helpers");function B(s,g){s[g>>5]|=128<<g%32,s[14+(g+64>>>9<<4)]=g;for(var r=1732584193,o=-271733879,t=-1732584194,l=271733878,f=0;f<s.length;f+=16){var L=r,z=o,F=t,D=l,r=w(r,o,t,l,s[f+0],7,-680876936),l=w(l,r,o,t,s[f+1],12,-389564586),t=w(t,l,r,o,s[f+2],17,606105819),o=w(o,t,l,r,s[f+3],22,-1044525330);r=w(r,o,t,l,s[f+4],7,-176418897),l=w(l,r,o,t,s[f+5],12,1200080426),t=w(t,l,r,o,s[f+6],17,-1473231341),o=w(o,t,l,r,s[f+7],22,-45705983),r=w(r,o,t,l,s[f+8],7,1770035416),l=w(l,r,o,t,s[f+9],12,-1958414417),t=w(t,l,r,o,s[f+10],17,-42063),o=w(o,t,l,r,s[f+11],22,-1990404162),r=w(r,o,t,l,s[f+12],7,1804603682),l=w(l,r,o,t,s[f+13],12,-40341101),t=w(t,l,r,o,s[f+14],17,-1502002290),r=P(r,o=w(o,t,l,r,s[f+15],22,1236535329),t,l,s[f+1],5,-165796510),l=P(l,r,o,t,s[f+6],9,-1069501632),t=P(t,l,r,o,s[f+11],14,643717713),o=P(o,t,l,r,s[f+0],20,-373897302),r=P(r,o,t,l,s[f+5],5,-701558691),l=P(l,r,o,t,s[f+10],9,38016083),t=P(t,l,r,o,s[f+15],14,-660478335),o=P(o,t,l,r,s[f+4],20,-405537848),r=P(r,o,t,l,s[f+9],5,568446438),l=P(l,r,o,t,s[f+14],9,-1019803690),t=P(t,l,r,o,s[f+3],14,-187363961),o=P(o,t,l,r,s[f+8],20,1163531501),r=P(r,o,t,l,s[f+13],5,-1444681467),l=P(l,r,o,t,s[f+2],9,-51403784),t=P(t,l,r,o,s[f+7],14,1735328473),r=b(r,o=P(o,t,l,r,s[f+12],20,-1926607734),t,l,s[f+5],4,-378558),l=b(l,r,o,t,s[f+8],11,-2022574463),t=b(t,l,r,o,s[f+11],16,1839030562),o=b(o,t,l,r,s[f+14],23,-35309556),r=b(r,o,t,l,s[f+1],4,-1530992060),l=b(l,r,o,t,s[f+4],11,1272893353),t=b(t,l,r,o,s[f+7],16,-155497632),o=b(o,t,l,r,s[f+10],23,-1094730640),r=b(r,o,t,l,s[f+13],4,681279174),l=b(l,r,o,t,s[f+0],11,-358537222),t=b(t,l,r,o,s[f+3],16,-722521979),o=b(o,t,l,r,s[f+6],23,76029189),r=b(r,o,t,l,s[f+9],4,-640364487),l=b(l,r,o,t,s[f+12],11,-421815835),t=b(t,l,r,o,s[f+15],16,530742520),r=S(r,o=b(o,t,l,r,s[f+2],23,-995338651),t,l,s[f+0],6,-198630844),l=S(l,r,o,t,s[f+7],10,1126891415),t=S(t,l,r,o,s[f+14],15,-1416354905),o=S(o,t,l,r,s[f+5],21,-57434055),r=S(r,o,t,l,s[f+12],6,1700485571),l=S(l,r,o,t,s[f+3],10,-1894986606),t=S(t,l,r,o,s[f+10],15,-1051523),o=S(o,t,l,r,s[f+1],21,-2054922799),r=S(r,o,t,l,s[f+8],6,1873313359),l=S(l,r,o,t,s[f+15],10,-30611744),t=S(t,l,r,o,s[f+6],15,-1560198380),o=S(o,t,l,r,s[f+13],21,1309151649),r=S(r,o,t,l,s[f+4],6,-145523070),l=S(l,r,o,t,s[f+11],10,-1120210379),t=S(t,l,r,o,s[f+2],15,718787259),o=S(o,t,l,r,s[f+9],21,-343485551),r=C(r,L),o=C(o,z),t=C(t,F),l=C(l,D)}return Array(r,o,t,l)}function d(s,g,r,o,t,l){return C((g=C(C(g,s),C(o,l)))<<t|g>>>32-t,r)}function w(s,g,r,o,t,l,f){return d(g&r|~g&o,s,g,t,l,f)}function P(s,g,r,o,t,l,f){return d(g&o|r&~o,s,g,t,l,f)}function b(s,g,r,o,t,l,f){return d(g^r^o,s,g,t,l,f)}function S(s,g,r,o,t,l,f){return d(r^(g|~o),s,g,t,l,f)}function C(s,g){var r=(65535&s)+(65535&g);return(s>>16)+(g>>16)+(r>>16)<<16|65535&r}c.exports=function(s){return x.hash(s,B,16)}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){c.exports=function(x){for(var B,d=new Array(x),w=0;w<x;w++)(3&w)==0&&(B=4294967296*Math.random()),d[w]=B>>>((3&w)<<3)&255;return d}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){var x=p("./helpers");function B(P,b){P[b>>5]|=128<<24-b%32,P[15+(b+64>>9<<4)]=b;for(var S,C,s,g=Array(80),r=1732584193,o=-271733879,t=-1732584194,l=271733878,f=-1009589776,L=0;L<P.length;L+=16){for(var z=r,F=o,D=t,T=l,W=f,Y=0;Y<80;Y++){g[Y]=Y<16?P[L+Y]:w(g[Y-3]^g[Y-8]^g[Y-14]^g[Y-16],1);var R=d(d(w(r,5),(R=o,C=t,s=l,(S=Y)<20?R&C|~R&s:!(S<40)&&S<60?R&C|R&s|C&s:R^C^s)),d(d(f,g[Y]),(S=Y)<20?1518500249:S<40?1859775393:S<60?-1894007588:-899497514)),f=l,l=t,t=w(o,30),o=r,r=R}r=d(r,z),o=d(o,F),t=d(t,D),l=d(l,T),f=d(f,W)}return Array(r,o,t,l,f)}function d(P,b){var S=(65535&P)+(65535&b);return(P>>16)+(b>>16)+(S>>16)<<16|65535&S}function w(P,b){return P<<b|P>>>32-b}c.exports=function(P){return x.hash(P,B,20,!0)}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){function x(b,S){var C=(65535&b)+(65535&S);return(b>>16)+(S>>16)+(C>>16)<<16|65535&C}function B(b,S){var C,s=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),g=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),r=new Array(64);b[S>>5]|=128<<24-S%32,b[15+(S+64>>9<<4)]=S;for(var o,t,l=0;l<b.length;l+=16){for(var f=g[0],L=g[1],z=g[2],F=g[3],D=g[4],T=g[5],W=g[6],Y=g[7],R=0;R<64;R++)r[R]=R<16?b[R+l]:x(x(x((t=r[R-2],w(t,17)^w(t,19)^P(t,10)),r[R-7]),(t=r[R-15],w(t,7)^w(t,18)^P(t,3))),r[R-16]),C=x(x(x(x(Y,w(t=D,6)^w(t,11)^w(t,25)),D&T^~D&W),s[R]),r[R]),o=x(w(o=f,2)^w(o,13)^w(o,22),f&L^f&z^L&z),Y=W,W=T,T=D,D=x(F,C),F=z,z=L,L=f,f=x(C,o);g[0]=x(f,g[0]),g[1]=x(L,g[1]),g[2]=x(z,g[2]),g[3]=x(F,g[3]),g[4]=x(D,g[4]),g[5]=x(T,g[5]),g[6]=x(W,g[6]),g[7]=x(Y,g[7])}return g}var d=p("./helpers"),w=function(b,S){return b>>>S|b<<32-S},P=function(b,S){return b>>>S};c.exports=function(b){return d.hash(b,B,32,!0)}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){i.read=function(x,B,d,w,l){var b,S,C=8*l-w-1,s=(1<<C)-1,g=s>>1,r=-7,o=d?l-1:0,t=d?-1:1,l=x[B+o];for(o+=t,b=l&(1<<-r)-1,l>>=-r,r+=C;0<r;b=256*b+x[B+o],o+=t,r-=8);for(S=b&(1<<-r)-1,b>>=-r,r+=w;0<r;S=256*S+x[B+o],o+=t,r-=8);if(b===0)b=1-g;else{if(b===s)return S?NaN:1/0*(l?-1:1);S+=Math.pow(2,w),b-=g}return(l?-1:1)*S*Math.pow(2,b-w)},i.write=function(x,B,d,w,P,f){var S,C,s=8*f-P-1,g=(1<<s)-1,r=g>>1,o=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,t=w?0:f-1,l=w?1:-1,f=B<0||B===0&&1/B<0?1:0;for(B=Math.abs(B),isNaN(B)||B===1/0?(C=isNaN(B)?1:0,S=g):(S=Math.floor(Math.log(B)/Math.LN2),B*(w=Math.pow(2,-S))<1&&(S--,w*=2),2<=(B+=1<=S+r?o/w:o*Math.pow(2,1-r))*w&&(S++,w/=2),g<=S+r?(C=0,S=g):1<=S+r?(C=(B*w-1)*Math.pow(2,P),S+=r):(C=B*Math.pow(2,r-1)*Math.pow(2,P),S=0));8<=P;x[d+t]=255&C,t+=l,C/=256,P-=8);for(S=S<<P|C,s+=P;0<s;x[d+t]=255&S,t+=l,S/=256,s-=8);x[d+t-l]|=128*f}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(p,c,i){(function(h,v,A,j,O,M,U,k,N){var x,B,d;function w(){}(h=c.exports={}).nextTick=(B=typeof window<"u"&&window.setImmediate,d=typeof window<"u"&&window.postMessage&&window.addEventListener,B?function(P){return window.setImmediate(P)}:d?(x=[],window.addEventListener("message",function(P){var b=P.source;b!==window&&b!==null||P.data!=="process-tick"||(P.stopPropagation(),0<x.length&&x.shift()())},!0),function(P){x.push(P),window.postMessage("process-tick","*")}):function(P){setTimeout(P,0)}),h.title="browser",h.browser=!0,h.env={},h.argv=[],h.on=w,h.addListener=w,h.once=w,h.off=w,h.removeListener=w,h.removeAllListeners=w,h.emit=w,h.binding=function(P){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(P){throw new Error("process.chdir is not supported")}}).call(this,p("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},p("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})})(Ve);const vt=Ve.exports;var Ue=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"],yt=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"],ke=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"],_t=Ue,bt=_t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"]),be=ke;be=be.slice().filter(function(m){return!/^(gl\_|texture)/.test(m)});var xt=be.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"]),wt=Ct,St=Ue,Ie=yt,Mt=ke,Et=bt,Pt=xt,te=999,De=9999,ye=0,_e=1,Be=2,Ae=3,Oe=4,se=5,It=6,Dt=7,Bt=8,Ce=9,At=10,ze=11,Ot=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function Ct(m){var u=0,p=0,c=te,i,h,v=[],A=[],j=1,O=0,M=0,U=!1,k=!1,N="",x;m=m||{};var B=Mt,d=St;m.version==="300 es"&&(B=Pt,d=Et);for(var w={},P={},u=0;u<B.length;u++)w[B[u]]=!0;for(var u=0;u<d.length;u++)P[d[u]]=!0;return function(T){return A=[],T!==null?S(T):C()};function b(T){T.length&&A.push({type:Ot[c],data:T,position:M,line:j,column:O})}function S(T){u=0,T.toString&&(T=T.toString()),N+=T.replace(/\r\n/g,`
`),x=N.length;for(var W;i=N[u],u<x;){switch(W=u,c){case ye:u=t();break;case _e:u=o();break;case Be:u=r();break;case Ae:u=l();break;case Oe:u=z();break;case ze:u=L();break;case se:u=F();break;case De:u=D();break;case Ce:u=g();break;case te:u=s();break}if(W!==u)switch(N[W]){case`
`:O=0,++j;break;default:++O;break}}return p+=u,N=N.slice(u),A}function C(T){return v.length&&b(v.join("")),c=At,b("(eof)"),A}function s(){return v=v.length?[]:v,h==="/"&&i==="*"?(M=p+u-1,c=ye,h=i,u+1):h==="/"&&i==="/"?(M=p+u-1,c=_e,h=i,u+1):i==="#"?(c=Be,M=p+u,u):/\s/.test(i)?(c=Ce,M=p+u,u):(U=/\d/.test(i),k=/[^\w_]/.test(i),M=p+u,c=U?Oe:k?Ae:De,u)}function g(){return/[^\s]/g.test(i)?(b(v.join("")),c=te,u):(v.push(i),h=i,u+1)}function r(){return(i==="\r"||i===`
`)&&h!=="\\"?(b(v.join("")),c=te,u):(v.push(i),h=i,u+1)}function o(){return r()}function t(){return i==="/"&&h==="*"?(v.push(i),b(v.join("")),c=te,u+1):(v.push(i),h=i,u+1)}function l(){if(h==="."&&/\d/.test(i))return c=se,u;if(h==="/"&&i==="*")return c=ye,u;if(h==="/"&&i==="/")return c=_e,u;if(i==="."&&v.length){for(;f(v););return c=se,u}if(i===";"||i===")"||i==="("){if(v.length)for(;f(v););return b(i),c=te,u+1}var T=v.length===2&&i!=="=";if(/[\w_\d\s]/.test(i)||T){for(;f(v););return c=te,u}return v.push(i),h=i,u+1}function f(T){var W=0,Y,R;do{if(Y=Ie.indexOf(T.slice(0,T.length+W).join("")),R=Ie[Y],Y===-1){if(W--+T.length>0)continue;R=T.slice(0,1).join("")}return b(R),M+=R.length,v=v.slice(R.length),v.length}while(1)}function L(){return/[^a-fA-F0-9]/.test(i)?(b(v.join("")),c=te,u):(v.push(i),h=i,u+1)}function z(){return i==="."||/[eE]/.test(i)?(v.push(i),c=se,h=i,u+1):i==="x"&&v.length===1&&v[0]==="0"?(c=ze,v.push(i),h=i,u+1):/[^\d]/.test(i)?(b(v.join("")),c=te,u):(v.push(i),h=i,u+1)}function F(){return i==="f"&&(v.push(i),h=i,u+=1),/[eE]/.test(i)||(i==="-"||i==="+")&&/[eE]/.test(h)?(v.push(i),h=i,u+1):/[^\d]/.test(i)?(b(v.join("")),c=te,u):(v.push(i),h=i,u+1)}function D(){if(/[^\d\w_]/.test(i)){var T=v.join("");return P[T]?c=Bt:w[T]?c=Dt:c=It,b(v.join("")),c=te,u}return v.push(i),h=i,u+1}}var zt=wt,Tt=jt;function jt(m,u){var p=zt(u),c=[];return c=c.concat(p(m)),c=c.concat(p(null)),c}var Te=Lt;function Lt(m){for(var u=[],p=0;p<m.length;p++)m[p].type!=="eof"&&u.push(m[p].data);return u.join("")}var Ft=Nt;function Nt(m){var u=null,p=null,c=0,i=0,h=0,v=0,A=0,j=[],O,M,U;for(O=0,M;O<m.length;O++)if(U=m[O],U.data==="{"){if(c&&c++||(M=N(O,oe(")"),oe()),M<0)||(v=M,M=N(M,oe("("),oe(")")),M<0)||(A=M,M=N(M,le),M<0)||m[M].type!=="ident"||(p=m[M].data,M=N(M,le),M<0))continue;c=1,i=O,u=m[M].data,h=M;var k=N(M,le);switch(m[k]&&m[k].data){case"lowp":case"highp":case"mediump":h=k}}else if(c&&U.data==="}"){if(--c)continue;j.push({name:p,type:u,body:[i+1,O],args:[A,v+1],outer:[h,O+1]})}for(O=0;O<m.length;O++)if(U=m[O],U.data===";"){if(M=N(O,oe(")"),oe()),M<0||(v=M,M=N(M,oe("("),oe(")")),M<0)||(A=M,M=N(M,le),M<0)||m[M].type!=="ident"||(p=m[M].data,M=N(M,le),M<0)||m[M].type==="operator"||m[M].data==="return")continue;u=m[M].data,j.push({name:p,type:u,body:!1,args:[A,v+1],outer:[M,O+1]})}return j.sort(function(x,B){return x.outer[0]-B.outer[0]});function N(x,B,d){for(var w=x-1;w>=0;w--){if(B(m[w]))return w;if(d&&d(m[w]))return-1}return-1}}function oe(m){return function(u){return u.type==="operator"&&(!m||u.data===m)}}function le(m){return m.type!=="whitespace"}function $(m,u,p){return u in m?Object.defineProperty(m,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[u]=p,m}function je(m,u){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(m);u&&(c=c.filter(function(i){return Object.getOwnPropertyDescriptor(m,i).enumerable})),p.push.apply(p,c)}return p}function pe(m){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?arguments[u]:{};u%2?je(Object(p),!0).forEach(function(c){$(m,c,p[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):je(Object(p)).forEach(function(c){Object.defineProperty(m,c,Object.getOwnPropertyDescriptor(p,c))})}return m}function Vt(m,u){if(m==null)return{};var p={},c=Object.keys(m),i,h;for(h=0;h<c.length;h++)i=c[h],!(u.indexOf(i)>=0)&&(p[i]=m[i]);return p}function Ut(m,u){if(m==null)return{};var p=Vt(m,u),c,i;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(m);for(i=0;i<h.length;i++)c=h[i],!(u.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(m,c)||(p[c]=m[c]))}return p}function kt(m,u){if(!(m instanceof u))throw new TypeError("Cannot call a class as a function")}function Le(m,u){for(var p=0;p<u.length;p++){var c=u[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(m,c.key,c)}}function Rt(m,u,p){return u&&Le(m.prototype,u),p&&Le(m,p),Object.defineProperty(m,"prototype",{writable:!1}),m}function Re(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function xe(m,u){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,i){return c.__proto__=i,c},xe(m,u)}function Gt(m,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(u&&u.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),u&&xe(m,u)}function ge(m){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},ge(m)}function Yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wt(m,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(m)}function qt(m){var u=Yt();return function(){var c=ge(m),i;if(u){var h=ge(this).constructor;i=Reflect.construct(c,arguments,h)}else i=c.apply(this,arguments);return Wt(this,i)}}var G={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO"},Z,ie,Ht=(Z={},$(Z,"".concat(G.normal),{"#include <beginnormal_vertex>":`
    vec3 objectNormal = `.concat(G.normal,`;
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `)}),$(Z,"".concat(G.position),{"#include <begin_vertex>":`
    vec3 transformed = `.concat(G.position,`;
  `)}),$(Z,"".concat(G.positionRaw),{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = `.concat(G.positionRaw,`;
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `)}),$(Z,"".concat(G.pointSize),{"gl_PointSize = size;":`
    gl_PointSize = `.concat(G.pointSize,`;
    `)}),$(Z,"".concat(G.diffuseColor),{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = `.concat(G.diffuseColor,`;
  `)}),$(Z,"".concat(G.fragColor),{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = `.concat(G.fragColor,`;
  `)}),$(Z,"".concat(G.emissive),{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = `.concat(G.emissive,`;
    `)}),$(Z,"".concat(G.roughness),{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = `.concat(G.roughness,`;
    `)}),$(Z,"".concat(G.metalness),{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = `.concat(G.metalness,`;
    `)}),$(Z,"".concat(G.ao),{"#include <aomap_fragment>":`
    #include <aomap_fragment>
    reflectedLight.indirectDiffuse *= 1. - `.concat(G.ao,`;
    `)}),Z),Kt=(ie={},$(ie,"".concat(G.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( `.concat(G.position,`, 1.0 );
  `)}),$(ie,"".concat(G.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = `.concat(G.position,`;
  `)}),$(ie,"".concat(G.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(G.diffuseColor,`;
  `)}),$(ie,"".concat(G.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = `.concat(G.fragColor,`;
  `)}),ie),Xt=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
            float csm_AO = 0.;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,$t=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey"],Jt=function(u,p,c){return u.split(p).join(c)},Qt=function(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Zt=function(u,p){return new RegExp("\\b".concat(Qt(p),"\\b")).test(u)};function er(m){try{new m}catch(u){if(u.message.indexOf("is not a constructor")>=0)return!1}return!0}function Fe(m,u){Object.assign(m,u);var p=Object.getPrototypeOf(u);Object.entries(Object.getOwnPropertyDescriptors(p)).filter(function(c){return typeof c[1].get=="function"&&c[0]!=="__proto__"}).forEach(function(c){Object.defineProperty(m,c[0],c[1])})}var tr=function(m){Gt(p,m);var u=qt(p);function p(c){var i,h=c.baseMaterial,v=c.fragmentShader,A=c.vertexShader,j=c.uniforms,O=c.patchMap,M=c.cacheKey,U=Ut(c,$t);kt(this,p);var k;if(er(h)?k=new h(U):(k=h,Object.assign(k,U)),k.type==="RawShaderMaterial")throw new Error("CustomShaderMaterial does not support RawShaderMaterial");i=u.call(this),i.uniforms=j||{},i.__csm={patchMap:O||{},fragmentShader:v||"",vertexShader:A||"",cacheKey:M,baseMaterial:h,instanceID:He.generateUUID(),type:k.type},Fe(Re(i),k);{var N=i.__csm,x=N.fragmentShader,B=N.vertexShader;N.instanceID;var d=i.uniforms;i.generateMaterial(x,B,d)}return i}return Rt(p,[{key:"update",value:function(){var i,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.uniforms=h.uniforms||this.uniforms,Fe(this.__csm,h);var v=this.__csm,A=v.fragmentShader,j=v.vertexShader,O=v.instanceID,M=this.uniforms,U=Object.values(M).reduce(function(k,N){var x=N.value;return k+JSON.stringify(x)},"");this.uuid=(h==null||(i=h.cacheKey)===null||i===void 0?void 0:i.call(h))||vt([A,j,U,O]),this.generateMaterial(A,j,M)}},{key:"clone",value:function(){var i={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},h=new this.constructor(i);return Object.assign(this,h),h}},{key:"generateMaterial",value:function(i,h,v){var A=this,j=this.parseShader(i),O=this.parseShader(h);this.uniforms=v||{},this.customProgramCacheKey=function(){return A.uuid},this.onBeforeCompile=function(M){if(j){var U=A.patchShader(j,M.fragmentShader);M.fragmentShader=A.getMaterialDefine()+U}if(O){var k=A.patchShader(O,M.vertexShader);M.vertexShader=`#define IS_VERTEX;
`+k,M.vertexShader=A.getMaterialDefine()+M.vertexShader}M.uniforms=pe(pe({},M.uniforms),A.uniforms),A.uniforms=M.uniforms},this.needsUpdate=!0}},{key:"getMaterialDefine",value:function(){return"#define IS_".concat(this.__csm.type.toUpperCase(),`;
`)}},{key:"getPatchMapForMaterial",value:function(){switch(this.__csm.type){case"ShaderMaterial":return Kt;default:return Ht}}},{key:"patchShader",value:function(i,h){var v=h,A=pe(pe({},this.getPatchMapForMaterial()),this.__csm.patchMap);return Object.keys(A).forEach(function(j){Object.keys(A[j]).forEach(function(O){Zt(i.main,j)&&(v=Jt(v,O,A[j][O]))})}),v=v.replace("void main() {",`
          `.concat(i.header,`
          void main() {
            `).concat(Xt,`
            `).concat(i.main,`
          `)),v=i.defines+v,v}},{key:"parseShader",value:function(i){if(!!i){var h=i.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),v=Tt(h),A=Ft(v),j=A.map(function(U){return U.name}).indexOf("main"),O=Te(v.slice(0,j>=0?A[j].outer[0]:void 0)),M=j>=0?this.getShaderFromIndex(v,A[j].body):"";return{defines:"",header:O,main:M}}}},{key:"getShaderFromIndex",value:function(i,h){return Te(i.slice(h[0],h[1]))}}]),p}(Ke),rr=re.exports.forwardRef(function(m,u){var p=re.exports.useRef(new tr(m));return re.exports.useEffect(function(){return function(){return p.current.dispose()}},[]),re.exports.createElement("primitive",{object:p.current,attach:"material",ref:u})});const Ge=()=>{const m=re.exports.useRef(),u=re.exports.useMemo(()=>75,[]);return Xe(({clock:p})=>{m.current.uniforms.u_time.value=p.elapsedTime}),We("points",{children:[de("bufferGeometry",{children:de(et,{name:"position",compute:()=>new $e(new Array(u).fill(0).map(()=>Math.random()),3)})}),de(rr,{ref:m,baseMaterial:Je,size:.1,transparent:!0,uniforms:{u_time:{value:0}},vertexShader:ht(`
          uniform float u_time;
          varying vec2 vUv;

          void main() {
            vUv = uv;
            vec3 n = gln_curl(position + u_time * 0.005);
            // n.x = 0.;
            csm_Position = n * 1.5;
          }
        `),fragmentShader:`
          varying vec2 vUv;
          
          void main(){
              vec2 uv = vec2(gl_PointCoord.x, 1. - gl_PointCoord.y);
              vec2 cUV = 2. * uv - 1.;

              vec4 color = vec4(.08 / length(cUV));
              color.rgb = min(vec3(1.), color.rgb);

              csm_DiffuseColor = vec4(color.rgb, color.a * 0.5);
          }
        `,blending:Qe})]})},Ye=Ge;Ge.__docgenInfo={description:"",methods:[],displayName:"Particles"};const ur={title:"Particles",component:Ye,parameters:{layout:"centered"}},ue=()=>de(Ye,{});ue.storyName="default";var Ne;ue.parameters={...ue.parameters,storySource:{source:"() => <Particles />",...(Ne=ue.parameters)==null?void 0:Ne.storySource}};ue.__docgenInfo={description:"",methods:[],displayName:"Default"};const cr=["Default"];export{ue as Default,cr as __namedExportsOrder,ur as default};
//# sourceMappingURL=Particles.stories-a0f3b060.js.map
