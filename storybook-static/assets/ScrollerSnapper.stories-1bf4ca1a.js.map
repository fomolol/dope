{
  "version": 3,
  "file": "ScrollerSnapper.stories-1bf4ca1a.js",
  "sources": [
    "../../src/components/ScrollerSnapper/ScrollerSnapper.jsx",
    "../../src/components/ScrollerSnapper/ScrollerSnapper.stories.jsx"
  ],
  "sourcesContent": [
    "/**\n * @file ScrollerSnapper.js\n * This component is used in coordination with the <ScrollSnapSection /> component.\n *\n * WARNING: Beta version, use with caution\n */\n\n/**\n * Example implementation\n *  <ScrollerSnapper>\n *   <ScrollSnapSection>\n *     <div\n *       className=\"flex flex-col w-full h-screen p-12 overflow-x-hidden\"\n *       sound=\"....\"\n *     >\n *       ...\n *     </div>\n *   </ScrollSnapSection>\n *   <ScrollSnapSection>\n *     <div\n *       className=\"flex flex-col w-full h-screen p-12 overflow-x-hidden\"\n *       sound=\"....\"\n *     >\n *       ...\n *     </div>\n *   </ScrollSnapSection>\n *  </ScrollerSnapper>\n */\nimport { useState, createRef, useCallback, forwardRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { useScroll, useTransform, motion } from 'framer-motion'\nimport { useLayoutEffect } from '@fomolol/tacklebox'\n\nimport ScrollProgressLine from '../ScrollProgressLine'\n\n// local\nimport Debugger from './Debugger'\n\nimport s from './ScrollerSnapper.module.css'\n\n/**\n * SnapParent\n */\nconst SnapParent = forwardRef(({ ...props }, ref) => (\n  <div\n    ref={ref}\n    {...props}\n    className={`overflow-touch absolute h-screen w-full snap-y snap-mandatory overflow-scroll`}\n  >\n    {props.children}\n    <style jsx>{`\n      .overflow-touch {\n        -webkit-overflow-scrolling: touch;\n      }\n    `}</style>\n  </div>\n))\n\nconst ScrollerSnapper = ({\n  tagName: Tag = motion.div,\n  className = 'pointer-events-auto',\n  variant = 'default',\n  children = '',\n  damping = 15,\n  mass = 0.15,\n  stiffness = 25,\n  disable = false,\n  debug = true,\n  scrollRef = createRef(),\n  pageRange = [0.1, 0.25, 0.5, 1],\n  lengthRange = ['15vh', '25vh', '50vh', '100vh'],\n  ...rest\n}) => {\n  const [pageHeight, setPageHeight] = useState(0)\n\n  // update scrollable height when browser is resizing\n  const resizePageHeight = useCallback((entries) => {\n    for (let entry of entries) {\n      setPageHeight(entry.contentRect.height)\n    }\n  }, [])\n\n  // observe when browser is resizing\n  useLayoutEffect(() => {\n    const resizeObserver = new ResizeObserver((entries) =>\n      resizePageHeight(entries)\n    )\n    scrollRef && resizeObserver.observe(scrollRef.current)\n    return () => resizeObserver.disconnect()\n  }, [scrollRef, resizePageHeight])\n\n  const { scrollY, scrollYProgress } = useScroll({\n    target: scrollRef.current,\n  }) // measures how many pixels user has scrolled vertically\n\n  useEffect(() => {\n    scrollY.onChange((v) => setScrollYValue(v))\n    scrollYProgress.onChange((v) => setScrollYProgressValue(v))\n  }, [scrollY, scrollYProgress])\n\n  return (\n    <>\n      <Tag\n        className={`${s.scroller_snapper} ${\n          s[`scroller_snapper__${variant}`]\n        } ${className} scroll-container pointer-events-auto fixed left-0 right-0 z-0 will-change-transform`}\n        id=\"scroll-container\"\n        {...rest}\n      >\n        <ScrollProgressLine\n          width={scrollYProgress.getVelocity()}\n          forwardRef={scrollRef}\n        />\n        <SnapParent ref={scrollRef}>{children}</SnapParent>\n      </Tag>\n      {/* blank div that has a dynamic height based on the content's inherent height */}\n      {/* this is neccessary to allow the scroll container to scroll... */}\n      {/* ... using the browser's native scroll bar */}\n      {scrollRef.current && pageHeight ? (\n        <div\n          className=\"pointer-events-none\"\n          style={\n            disable || !scrollerEnabled\n              ? { height: '0px' }\n              : { height: `${pageHeight}px` }\n          }\n        />\n      ) : null}\n    </>\n  )\n}\n\nScrollerSnapper.propTypes = {\n  tagName: PropTypes.string,\n  className: PropTypes.string,\n  variant: PropTypes.oneOf(['default']),\n  children: PropTypes.node,\n}\n\nexport default ScrollerSnapper\n",
    "/**\n * ScrollerSnapper.jsx\n */\nimport React from 'react';\n\n// Component(s)\nimport ScrollerSnapper from './ScrollerSnapper';\nexport default {\n  title: 'ScrollerSnapper',\n  component: ScrollerSnapper,\n  // Sets the layout parameter component wide.\n  parameters: {\n    layout: 'centered'\n  }\n};\nexport const Default = () => <ScrollerSnapper />;\nDefault.storyName = 'default';\nDefault.parameters = {\n  ...Default.parameters,\n  storySource: {\n    source: \"() => <ScrollerSnapper />\",\n    ...Default.parameters?.storySource\n  }\n};"
  ],
  "names": [
    "SnapParent",
    "forwardRef",
    "props",
    "ref",
    "jsxs",
    "jsx",
    "ScrollerSnapper",
    "Tag",
    "motion",
    "className",
    "variant",
    "children",
    "damping",
    "mass",
    "stiffness",
    "disable",
    "debug",
    "scrollRef",
    "createRef",
    "pageRange",
    "lengthRange",
    "rest",
    "pageHeight",
    "setPageHeight",
    "useState",
    "resizePageHeight",
    "useCallback",
    "entries",
    "entry",
    "useLayoutEffect",
    "resizeObserver",
    "scrollY",
    "scrollYProgress",
    "useScroll",
    "useEffect",
    "v",
    "Fragment",
    "s",
    "ScrollProgressLine",
    "PropTypes",
    "ScrollerSnapper$1",
    "ScrollerSnapper_stories",
    "Default",
    "_a"
  ],
  "mappings": "k4CA2CAA,EAAAC,EAAA,QAAA,WAAA,CAAA,IAAAC,GAAAC,IACAC,EAAA,MAAA,CACA,IAAAD,EACA,GAAAD,EACA,UAAA,gFAEA,SAAA,CAAAA,EAAA,SACAG,EAAA,QAAA,CAAA,IAAA,GAAA,SAAA;AAAA;AAAA;AAAA;AAAA,MAIA,CAAA,CAAA,CACA,CACA,EAEAC,EAAA,CAAA,CACA,QAAAC,EAAAC,EAAA,IACA,UAAAC,EAAA,sBACA,QAAAC,EAAA,UACA,SAAAC,EAAA,GACA,QAAAC,EAAA,GACA,KAAAC,EAAA,IACA,UAAAC,EAAA,GACA,QAAAC,EAAA,GACA,MAAAC,EAAA,GACA,UAAAC,EAAAC,EAAAA,QAAAA,UAAA,EACA,UAAAC,EAAA,CAAA,GAAA,IAAA,GAAA,CAAA,EACA,YAAAC,EAAA,CAAA,OAAA,OAAA,OAAA,OAAA,KACAC,CACA,IAAA,CACA,KAAA,CAAAC,EAAAC,CAAA,EAAAC,mBAAA,CAAA,EAGAC,EAAAC,sBAAAC,GAAA,CACA,QAAAC,KAAAD,EACAJ,EAAAK,EAAA,YAAA,MAAA,CAEA,EAAA,CAAA,CAAA,EAGAC,EAAA,IAAA,CACA,MAAAC,EAAA,IAAA,eAAAH,GACAF,EAAAE,CAAA,CAAA,EAEA,OAAAV,GAAAa,EAAA,QAAAb,EAAA,OAAA,EACA,IAAAa,EAAA,YAAA,EACA,CAAAb,EAAAQ,CAAA,CAAA,EAEA,KAAA,CAAA,QAAAM,EAAA,gBAAAC,CAAA,EAAAC,EAAA,CACA,OAAAhB,EAAA,OAAA,CACA,EAEAiB,OAAAA,EAAAA,QAAAA,UAAA,IAAA,CACAH,EAAA,SAAAI,GAAA,gBAAAA,CAAA,CAAA,EACAH,EAAA,SAAAG,GAAA,wBAAAA,CAAA,CAAA,CAAA,EACA,CAAAJ,EAAAC,CAAA,CAAA,EAIA5B,EAAAgC,EAAA,CAAA,SAAA,CAAAhC,EAAAG,EAAA,CACA,UAAA,GAAA8B,EAAA,oBACAA,EAAA,qBAAA3B,QACAD,wFACA,GAAA,mBACA,GAAAY,EAEA,SAAA,CAAAhB,EAAAiC,EAAA,CACA,MAAAN,EAAA,YAAA,EACA,WAAAf,CAAA,CACA,EACAZ,EAAAL,EAAA,CAAA,IAAAiB,EAAA,SAAAN,CAAA,CAAA,CAAA,CAAA,CACA,EAIAM,EAAA,SAAAK,EACAjB,EAAA,MAAA,CACA,UAAA,sBACA,MACAU,GAAA,CAAA,gBACA,CAAA,OAAA,OACA,CAAA,OAAA,GAAAO,KAAA,CAAA,CAAA,EAGA,IACA,CAAA,CAAA,CAEA,EAEAhB,EAAA,UAAA,CACA,QAAAiC,EAAA,QAAA,OACA,UAAAA,EAAA,QAAA,OACA,QAAAA,EAAA,QAAA,MAAA,CAAA,SAAA,CAAA,EACA,SAAAA,EAAA,QAAA,IACA,EAEA,MAAAC,EAAAlC,ikCCpIA,MAAAmC,EAAA,CACA,MAAA,kBACA,UAAAnC,EAEA,WAAA,CACA,OAAA,UACA,CACA,EACAoC,EAAA,IAAArC,EAAAC,EAAA,EAAA,EACAoC,EAAA,UAAA,gBACAA,EAAA,WAAA,CACA,GAAAA,EAAA,WACA,YAAA,CACA,OAAA,4BACA,IAAAC,EAAAD,EAAA,aAAA,YAAAC,EAAA,WACA,CACA,EAAAD,EAAA,aAAA,CAAA,YAAA,GAAA,QAAA,GAAA,YAAA"
}
