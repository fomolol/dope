{"version":3,"file":"StickyCursor-8d1a9578.js","sources":["../../src/components/StickyCursor/StickyCursor.jsx"],"sourcesContent":["/**\n * @file StickyCursor.js\n */\nimport { memo, Children, useRef, isValidElement } from 'react'\nimport { useCursorStyle } from '@fomolol/tacklebox'\n\nexport const StickyCursor = ({ children: childrenProp, sticky = true }) => {\n  const childRef = useRef(null)\n  const { lockCursorPosition } = useCursorStyle()\n\n  const children = Children.map(childrenProp, (child) => {\n    if (!isValidElement(child)) {\n      return null\n    }\n\n    const { onMouseEnter, onMouseLeave } = child.props\n\n    const handleMouseEnter = (event) => {\n      if (!childRef.current) return\n\n      const position = childRef.current.getBoundingClientRect()\n\n      const x = position.width / 2 + position.left\n      const y = position.height / 2 + position.top\n      lockCursorPosition({ x, y })\n\n      if (onMouseEnter) {\n        onMouseEnter(event)\n      }\n    }\n\n    const handleMouseLeave = (event) => {\n      if (!childRef.current) return\n\n      lockCursorPosition(null)\n\n      if (onMouseLeave) {\n        onMouseLeave(event)\n      }\n    }\n\n    const handleRef = (node) => {\n      // Keep your own reference\n      childRef.current = node\n\n      // Call the original ref, if any\n      const { ref } = child\n\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref !== null) {\n        ref.current = node\n      }\n    }\n\n    return cloneElement(child, {\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      ref: handleRef,\n    })\n  })\n\n  return sticky ? children : childrenProp\n}\n\nexport default memo(StickyCursor)\n"],"names":["StickyCursor","childrenProp","sticky","childRef","useRef","lockCursorPosition","useCursorStyle","children","Children","child","isValidElement","onMouseEnter","onMouseLeave","handleMouseEnter","event","position","x","y","handleMouseLeave","handleRef","node","ref","memo"],"mappings":"gFAMO,MAAMA,EAAe,CAAC,CAAE,SAAUC,EAAc,OAAAC,EAAS,MAAW,CACnE,MAAAC,EAAWC,iBAAO,IAAI,EACtB,CAAE,mBAAAC,GAAuBC,IAEzBC,EAAWC,EAAA,QAAA,SAAS,IAAIP,EAAeQ,GAAU,CACjD,GAAA,CAACC,EAAAA,QAAAA,eAAeD,CAAK,EAChB,OAAA,KAGT,KAAM,CAAE,aAAAE,EAAc,aAAAC,GAAiBH,EAAM,MAEvCI,EAAoBC,GAAU,CAClC,GAAI,CAACX,EAAS,QAAS,OAEjB,MAAAY,EAAWZ,EAAS,QAAQ,sBAAsB,EAElDa,EAAID,EAAS,MAAQ,EAAIA,EAAS,KAClCE,EAAIF,EAAS,OAAS,EAAIA,EAAS,IACtBV,EAAA,CAAE,EAAAW,EAAG,EAAAC,CAAA,CAAG,EAEvBN,GACFA,EAAaG,CAAK,CACpB,EAGII,EAAoBJ,GAAU,CAC9B,CAACX,EAAS,UAEdE,EAAmB,IAAI,EAEnBO,GACFA,EAAaE,CAAK,EACpB,EAGIK,EAAaC,GAAS,CAE1BjB,EAAS,QAAUiB,EAGb,KAAA,CAAE,IAAAC,CAAQ,EAAAZ,EAEZ,OAAOY,GAAQ,WACjBA,EAAID,CAAI,EACCC,IAAQ,OACjBA,EAAI,QAAUD,EAChB,EAGF,OAAO,aAAaX,EAAO,CACzB,aAAcI,EACd,aAAcK,EACd,IAAKC,CAAA,CACN,CAAA,CACF,EAED,OAAOjB,EAASK,EAAWN,CAC7B,EAEeqB,EAAAA,EAAAA,QAAAA,KAAKtB,CAAY"}