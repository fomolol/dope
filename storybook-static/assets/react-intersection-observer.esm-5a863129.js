import{r as l}from"./index-10e52e8a.js";var w=new Map,h=new WeakMap,M=0,A=void 0;function C(e){return e?(h.has(e)||(M+=1,h.set(e,M.toString())),h.get(e)):"0"}function E(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?C(e.root):e[t])}).toString()}function $(e){var t=E(e),r=w.get(t);if(!r){var i=new Map,o,u=new IntersectionObserver(function(d){d.forEach(function(n){var s,a=n.isIntersecting&&o.some(function(f){return n.intersectionRatio>=f});e.trackVisibility&&typeof n.isVisible>"u"&&(n.isVisible=a),(s=i.get(n.target))==null||s.forEach(function(f){f(a,n)})})},e);o=u.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:u,elements:i},w.set(t,r)}return r}function B(e,t,r,i){if(r===void 0&&(r={}),i===void 0&&(i=A),typeof window.IntersectionObserver>"u"&&i!==void 0){var o=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var u=$(r),d=u.id,n=u.observer,s=u.elements,a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),n.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),n.unobserve(e)),s.size===0&&(n.disconnect(),w.delete(d))}}function j(e){var t,r=e===void 0?{}:e,i=r.threshold,o=r.delay,u=r.trackVisibility,d=r.rootMargin,n=r.root,s=r.triggerOnce,a=r.skip,f=r.initialInView,R=r.fallbackInView,_=r.onChange,I=l.exports.useState(null),g=I[0],k=I[1],b=l.exports.useRef(),p=l.exports.useState({inView:!!f,entry:void 0}),y=p[0],O=p[1];b.current=_,l.exports.useEffect(function(){if(!(a||!g)){var v;return v=B(g,function(x,V){O({inView:x,entry:V}),b.current&&b.current(x,V),V.isIntersecting&&s&&v&&(v(),v=void 0)},{root:n,rootMargin:d,threshold:i,trackVisibility:u,delay:o},R),function(){v&&v()}}},[Array.isArray(i)?i.toString():i,g,n,d,s,a,u,R,o]);var S=(t=y.entry)==null?void 0:t.target;l.exports.useEffect(function(){!g&&S&&!s&&!a&&O({inView:!!f,entry:void 0})},[g,S,s,a,f]);var c=[k,y.inView,y.entry];return c.ref=c[0],c.inView=c[1],c.entry=c[2],c}export{j as u};
//# sourceMappingURL=react-intersection-observer.esm-5a863129.js.map
