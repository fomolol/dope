var ue=Object.defineProperty;var u=(t,e)=>ue(t,"name",{value:e,configurable:!0});import{r as a}from"./index.6015db55.js";import{p as B}from"./index.3c944792.js";import{e as le,u as ie,c as de,i as fe,E as pe,B as ve,a as me,b as he,T as _e,d as ge}from"./index-6f0019d1.esm.c54a3958.js";import{j as d}from"./jsx-runtime.547177f5.js";import"./iframe.1f35fd3c.js";function j(t,e,r){var n,o,c,f,l;e==null&&(e=100);function s(){var v=Date.now()-f;v<e&&v>=0?n=setTimeout(s,e-v):(n=null,r||(l=t.apply(c,o),c=o=null))}u(s,"later");var p=u(function(){c=this,o=arguments,f=Date.now();var v=r&&!n;return n||(n=setTimeout(s,e)),v&&(l=t.apply(c,o),c=o=null),l},"debounced");return p.clear=function(){n&&(clearTimeout(n),n=null)},p.flush=function(){n&&(l=t.apply(c,o),c=o=null,clearTimeout(n),n=null)},p}u(j,"debounce");j.debounce=j;var A=j;function be(t){let{debounce:e,scroll:r,polyfill:n,offsetSize:o}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const c=n||(typeof window>"u"?u(class{},"ResizeObserver"):window.ResizeObserver);if(!c)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[f,l]=a.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=a.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f}),p=e?typeof e=="number"?e:e.scroll:null,v=e?typeof e=="number"?e:e.resize:null,b=a.exports.useRef(!1);a.exports.useEffect(()=>(b.current=!0,()=>void(b.current=!1)));const[P,O,h]=a.exports.useMemo(()=>{const i=u(()=>{if(!s.current.element)return;const{left:L,top:z,width:S,height:I,bottom:M,right:T,x,y:w}=s.current.element.getBoundingClientRect(),m={left:L,top:z,width:S,height:I,bottom:M,right:T,x,y:w};s.current.element instanceof HTMLElement&&o&&(m.height=s.current.element.offsetHeight,m.width=s.current.element.offsetWidth),Object.freeze(m),b.current&&!Ce(s.current.lastBounds,m)&&l(s.current.lastBounds=m)},"callback");return[i,v?A(i,v):i,p?A(i,p):i]},[l,o,p,v]);function y(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(i=>i.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null)}u(y,"removeListeners");function k(){!s.current.element||(s.current.resizeObserver=new c(h),s.current.resizeObserver.observe(s.current.element),r&&s.current.scrollContainers&&s.current.scrollContainers.forEach(i=>i.addEventListener("scroll",h,{capture:!0,passive:!0})))}u(k,"addListeners");const D=u(i=>{!i||i===s.current.element||(y(),s.current.element=i,s.current.scrollContainers=ee(i),k())},"ref");return xe(h,Boolean(r)),ye(O),a.exports.useEffect(()=>{y(),k()},[r,h,O]),a.exports.useEffect(()=>y,[]),[D,f,P]}u(be,"useMeasure");function ye(t){a.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}u(ye,"useOnWindowResize");function xe(t,e){a.exports.useEffect(()=>{if(e){const r=t;return window.addEventListener("scroll",r,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",r,!0)}},[t,e])}u(xe,"useOnWindowScroll");function ee(t){const e=[];if(!t||t===document.body)return e;const{overflow:r,overflowX:n,overflowY:o}=window.getComputedStyle(t);return[r,n,o].some(c=>c==="auto"||c==="scroll")&&e.push(t),[...e,...ee(t.parentElement)]}u(ee,"findScrollContainers");const we=["x","y","top","bottom","left","right","width","height"],Ce=u((t,e)=>we.every(r=>t[r]===e[r]),"areBoundsEqual");var Ee=Object.defineProperty,Oe=Object.defineProperties,ke=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,J=u((t,e,r)=>e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,"__defNormalProp"),K=u((t,e)=>{for(var r in e||(e={}))ze.call(e,r)&&J(t,r,e[r]);if(G)for(var r of G(e))Re.call(e,r)&&J(t,r,e[r]);return t},"__spreadValues"),Be=u((t,e)=>Oe(t,ke(e)),"__spreadProps");function V(t,e,r){if(!t)return;if(r(t)===!0)return t;let n=e?t.return:t.child;for(;n;){const o=V(n,e,r);if(o)return o;n=e?null:n.sibling}}u(V,"traverseFiber");function te(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}u(te,"wrapContext");const F=te(a.exports.createContext(null));class W extends a.exports.Component{render(){return d(F.Provider,{value:this._reactInternals,children:this.props.children})}}u(W,"FiberProvider");const{ReactCurrentOwner:Ne,ReactCurrentDispatcher:Pe}=a.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function De(){const t=a.exports.useContext(F);if(!t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=a.exports.useId();return a.exports.useMemo(()=>{var n;return(n=Ne.current)!=null?n:V(t,!1,o=>{let c=o.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}})},[t,e])}u(De,"useFiber");const E=[],Q=new WeakMap;function Le(){var t;const e=De();E.splice(0,E.length),V(e,!0,r=>{var n;const o=(n=r.type)==null?void 0:n._context;o&&o!==F&&E.push(te(o))});for(const r of E){const n=(t=Pe.current)==null?void 0:t.readContext(r);Q.set(r,n)}return a.exports.useMemo(()=>E.reduce((r,n)=>o=>a.exports.createElement(r,null,a.exports.createElement(n.Provider,Be(K({},o),{value:Q.get(n)}))),r=>d(W,{...K({},r)})),[])}u(Le,"useContextBridge");const q={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Se(t){const{handlePointer:e}=ge(t);return{priority:1,enabled:!0,compute(r,n,o){n.pointer.set(r.offsetX/n.size.width*2-1,-(r.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(q).reduce((r,n)=>({...r,[n]:e(n)}),{}),connect:r=>{var n;const{set:o,events:c}=t.getState();c.disconnect==null||c.disconnect(),o(f=>({events:{...f.events,connected:r}})),Object.entries((n=c.handlers)!=null?n:[]).forEach(([f,l])=>{const[s,p]=q[f];r.addEventListener(s,l,{passive:p})})},disconnect:()=>{const{set:r,events:n}=t.getState();if(n.connected){var o;Object.entries((o=n.handlers)!=null?o:[]).forEach(([c,f])=>{if(n&&n.connected instanceof HTMLElement){const[l]=q[c];n.connected.removeEventListener(l,f)}}),r(c=>({events:{...c.events,connected:void 0}}))}}}}u(Se,"createPointerEvents");const Ie=a.exports.forwardRef(u(function({children:e,fallback:r,resize:n,style:o,gl:c,events:f=Se,eventSource:l,eventPrefix:s,shadows:p,linear:v,flat:b,legacy:P,orthographic:O,frameloop:h,dpr:y,performance:k,raycaster:D,camera:i,onPointerMissed:L,onCreated:z,...S},I){a.exports.useMemo(()=>le(_e),[]);const M=Le(),[T,x]=be({scroll:!0,debounce:{scroll:50,resize:0},...n}),w=a.exports.useRef(null),m=a.exports.useRef(null),[C,ne]=a.exports.useState(null);a.exports.useImperativeHandle(I,()=>w.current);const $=ie(L),[Y,oe]=a.exports.useState(!1),[U,se]=a.exports.useState(!1);if(Y)throw Y;if(U)throw U;const R=a.exports.useRef(null);return x.width>0&&x.height>0&&C&&(R.current||(R.current=de(C)),R.current.configure({gl:c,events:f,shadows:p,linear:v,flat:b,legacy:P,orthographic:O,frameloop:h,dpr:y,performance:k,raycaster:D,camera:i,size:x,onPointerMissed:(..._)=>$.current==null?void 0:$.current(..._),onCreated:_=>{_.events.connect==null||_.events.connect(l?fe(l)?l.current:l:m.current),s&&_.setEvents({compute:(X,g)=>{const ae=X[s+"X"],ce=X[s+"Y"];g.pointer.set(ae/g.size.width*2-1,-(ce/g.size.height)*2+1),g.raycaster.setFromCamera(g.pointer,g.camera)}}),z==null||z(_)}}),R.current.render(d(M,{children:d(pe,{set:se,children:d(a.exports.Suspense,{fallback:d(ve,{set:oe}),children:e})})}))),me(()=>{ne(w.current)},[]),a.exports.useEffect(()=>{if(C)return()=>he(C)},[C]),d("div",{ref:m,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:l?"none":"auto",...o},...S,children:d("div",{ref:T,style:{width:"100%",height:"100%"},children:d("canvas",{ref:w,style:{display:"block"},children:r})})})},"Canvas")),Me=a.exports.forwardRef(u(function(e,r){return d(W,{children:d(Ie,{...e,ref:r})})},"CanvasWrapper")),Te="_background_canvas_9dqgr_4",qe="_background_canvas__default_9dqgr_8",Z={background_canvas:Te,background_canvas__default:qe},N=u(({tagName:t="div",className:e="pointer-events-none",variant:r="default",children:n,raycaster:o=!1})=>d(t,{className:`${Z.background_canvas} ${Z[`background_canvas__${r}`]} ${e} fixed top-0 left-0 z-0 w-screen h-screen`,children:d(Me,{raycaster:o,style:{width:"100%",height:"100%"},children:n})}),"BackgroundCanvas");N.propTypes={tagName:B.exports.string,className:B.exports.string,variant:B.exports.oneOf(["default"]),children:B.exports.node};const re=N;N.__docgenInfo={description:"",methods:[],displayName:"BackgroundCanvas",props:{tagName:{defaultValue:{value:"'div'",computed:!1},type:{name:"string"},required:!1,description:""},className:{defaultValue:{value:"'pointer-events-none'",computed:!1},type:{name:"string"},required:!1,description:""},variant:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1}]},required:!1,description:""},raycaster:{defaultValue:{value:"false",computed:!1},required:!1},children:{type:{name:"node"},required:!1,description:""}}};N.__docgenInfo={description:"",methods:[],displayName:"BackgroundCanvas",props:{tagName:{defaultValue:{value:"'div'",computed:!1},type:{name:"string"},required:!1,description:""},className:{defaultValue:{value:"'pointer-events-none'",computed:!1},type:{name:"string"},required:!1,description:""},variant:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1}]},required:!1,description:""},raycaster:{defaultValue:{value:"false",computed:!1},required:!1},children:{type:{name:"node"},required:!1,description:""}}};const Xe={title:"BackgroundCanvas",component:re,parameters:{storySource:{source:`/**
 * BackgroundCanvas.jsx
 */
 import * as React from 'react';

 // Component(s)
 import BackgroundCanvas from './BackgroundCanvas';

 export default {
   title: 'BackgroundCanvas',
   component: BackgroundCanvas,
   // Sets the layout parameter component wide.
   parameters: {
     layout: 'centered',
   },
 };

 export const Default = () => <BackgroundCanvas />;

 Default.storyName = 'default';
;Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"};Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"}`,locationsMap:{default:{startLoc:{col:24,line:18},endLoc:{col:50,line:18},startBody:{col:24,line:18},endBody:{col:50,line:18}}}},layout:"centered"}},H=u(()=>d(re,{}),"Default");H.storyName="default";H.__docgenInfo={description:"",methods:[],displayName:"Default"};H.__docgenInfo={description:"",methods:[],displayName:"Default"};const Ae=["Default"];export{H as Default,Ae as __namedExportsOrder,Xe as default};
//# sourceMappingURL=BackgroundCanvas.stories.8fe5fafd.js.map
