var ec=Object.defineProperty;var f=(t,e)=>ec(t,"name",{value:e,configurable:!0});import{R as ke,r as b,a as tc}from"./index.6015db55.js";import{p as Ce}from"./index.3c944792.js";import{U as rc,M as nc,R as oc,f as ic,S as ac,g as sc,D as as,h as lc,V as ro,j as no,F as cc,C as Cn,k as gn,l as uc,L as Di,m as Pi,n as fc,P as mo,I as dc,o as hc,p as pc,q as gc,r as vc,s as mc,t as bc,v as ss,w as yc,W as xc,x as wc,y as Sc,z as Go}from"./index-6f0019d1.esm.c54a3958.js";import{R as Wo}from"./index.9cd4b3d6.js";import{j as R,b as ve,F as Bt}from"./jsx-runtime.547177f5.js";import"./iframe.1f35fd3c.js";function _c(t,e,o=(i,n)=>i===n){if(t===e)return!0;if(!t||!e)return!1;const i=t.length;if(e.length!==i)return!1;for(let n=0;n<i;n++)if(!o(t[n],e[n]))return!1;return!0}f(_c,"shallowEqualArrays");const rn=[];function Tc(t,e,o=!1,i={}){for(const r of rn)if(_c(e,r.keys,r.equal)){if(o)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return r.response;if(!o)throw r.promise}const n={keys:e,equal:i.equal,promise:t(...e).then(r=>n.response=r).then(()=>{i.lifespan&&i.lifespan>0&&setTimeout(()=>{const r=rn.indexOf(n);r!==-1&&rn.splice(r,1)},i.lifespan)}).catch(r=>n.error=r)};if(rn.push(n),!o)throw n.promise}f(Tc,"query");const kc=f((t,e,o)=>Tc(t,e,!1,o),"suspend");function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},Ne.apply(this,arguments)}f(Ne,"_extends");function Ec(t,e,o){return Math.max(e,Math.min(t,o))}f(Ec,"clamp$1");const Ye={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function Ai(t,e,o){return e===0||Math.abs(e)===1/0?Math.pow(t,o*5):t*e*o/(e+o*t)}f(Ai,"rubberband");function Ui(t,e,o,i=.15){return i===0?Ec(t,e,o):t<e?-Ai(e-t,o-e,i)+e:t>o?+Ai(t-o,o-e,i)+o:t}f(Ui,"rubberbandIfOutOfBounds");function Cc(t,[e,o],[i,n]){const[[r,a],[s,l]]=t;return[Ui(e,r,a,i),Ui(o,s,l,n)]}f(Cc,"computeRubberband");function rt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}f(rt,"_defineProperty$3");function Mi(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}f(Mi,"ownKeys$3");function Ie(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Mi(Object(o),!0).forEach(function(i){rt(t,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Mi(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}f(Ie,"_objectSpread2$1");const ls={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function $i(t){return t?t[0].toUpperCase()+t.slice(1):""}f($i,"capitalize");const Oc=["enter","leave"];function Rc(t=!1,e){return t&&!Oc.includes(e)}f(Rc,"hasCapture");function Dc(t,e="",o=!1){const i=ls[t],n=i&&i[e]||e;return"on"+$i(t)+$i(n)+(Rc(o,n)?"Capture":"")}f(Dc,"toHandlerProp");const Pc=["gotpointercapture","lostpointercapture"];function Ac(t){let e=t.substring(2).toLowerCase();const o=!!~e.indexOf("passive");o&&(e=e.replace("passive",""));const i=Pc.includes(e)?"capturecapture":"capture",n=!!~e.indexOf(i);return n&&(e=e.replace("capture","")),{device:e,capture:n,passive:o}}f(Ac,"parseProp");function Uc(t,e=""){const o=ls[t],i=o&&o[e]||e;return t+i}f(Uc,"toDomEventType");function On(t){return"touches"in t}f(On,"isTouch");function cs(t){return On(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}f(cs,"getPointerType");function Mc(t){return Array.from(t.touches).filter(e=>{var o,i;return e.target===t.currentTarget||((o=t.currentTarget)===null||o===void 0||(i=o.contains)===null||i===void 0?void 0:i.call(o,e.target))})}f(Mc,"getCurrentTargetTouchList");function $c(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}f($c,"getTouchList");function us(t){return On(t)?$c(t)[0]:t}f(us,"getValueEvent");function Fc(t){return Mc(t).map(e=>e.identifier)}f(Fc,"touchIds");function oo(t){const e=us(t);return On(t)?e.identifier:e.pointerId}f(oo,"pointerId");function Fi(t){const e=us(t);return[e.clientX,e.clientY]}f(Fi,"pointerValues");function Ic(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:o,altKey:i,metaKey:n,ctrlKey:r}=t;Object.assign(e,{shiftKey:o,altKey:i,metaKey:n,ctrlKey:r})}return e}f(Ic,"getEventDetails");function vn(t,...e){return typeof t=="function"?t(...e):t}f(vn,"call");function Lc(){}f(Lc,"noop$1");function Bc(...t){return t.length===0?Lc:t.length===1?t[0]:function(){let e;for(const o of t)e=o.apply(this,arguments)||e;return e}}f(Bc,"chain");function Ii(t,e){return Object.assign({},e,t||{})}f(Ii,"assignDefault");const jc=32;class fs{constructor(e,o,i){this.ctrl=e,this.args=o,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:o,ingKey:i,args:n}=this;o[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=n,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const o=this.state,i=this.config;o._active||(this.reset(),this.computeInitial(),o._active=!0,o.target=e.target,o.currentTarget=e.currentTarget,o.lastOffset=i.from?vn(i.from,o):o.offset,o.offset=o.lastOffset),o.startTime=o.timeStamp=e.timeStamp}computeValues(e){const o=this.state;o._values=e,o.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:o,config:i,shared:n}=this;o.args=this.args;let r=0;if(e&&(o.event=e,i.preventDefault&&e.cancelable&&o.event.preventDefault(),o.type=e.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,Ic(e)),n.down=n.pressed=n.buttons%2===1||n.touches>0,r=e.timeStamp-o.timeStamp,o.timeStamp=e.timeStamp,o.elapsedTime=o.timeStamp-o.startTime),o._active){const _=o._delta.map(Math.abs);Ye.addTo(o._distance,_)}this.axisIntent&&this.axisIntent(e);const[a,s]=o._movement,[l,c]=i.threshold,{_step:u,values:d}=o;if(i.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(a)>=l&&d[0]),u[1]===!1&&(u[1]=Math.abs(s)>=c&&d[1])):(u[0]===!1&&(u[0]=Math.abs(a)>=l&&Math.sign(a)*l),u[1]===!1&&(u[1]=Math.abs(s)>=c&&Math.sign(s)*c)),o.intentional=u[0]!==!1||u[1]!==!1,!o.intentional)return;const h=[0,0];if(i.hasCustomTransform){const[_,C]=d;h[0]=u[0]!==!1?_-u[0]:0,h[1]=u[1]!==!1?C-u[1]:0}else h[0]=u[0]!==!1?a-u[0]:0,h[1]=u[1]!==!1?s-u[1]:0;this.restrictToAxis&&!o._blocked&&this.restrictToAxis(h);const p=o.offset,y=o._active&&!o._blocked||o.active;y&&(o.first=o._active&&!o.active,o.last=!o._active&&o.active,o.active=n[this.ingKey]=o._active,e&&(o.first&&("bounds"in i&&(o._bounds=vn(i.bounds,o)),this.setup&&this.setup()),o.movement=h,this.computeOffset()));const[m,x]=o.offset,[[v,g],[S,w]]=o._bounds;o.overflow=[m<v?-1:m>g?1:0,x<S?-1:x>w?1:0],o._movementBound[0]=o.overflow[0]?o._movementBound[0]===!1?o._movement[0]:o._movementBound[0]:!1,o._movementBound[1]=o.overflow[1]?o._movementBound[1]===!1?o._movement[1]:o._movementBound[1]:!1;const T=o._active?i.rubberband||[0,0]:[0,0];if(o.offset=Cc(o._bounds,o.offset,T),o.delta=Ye.sub(o.offset,p),this.computeMovement(),y&&(!o.last||r>jc)){o.delta=Ye.sub(o.offset,p);const _=o.delta.map(Math.abs);Ye.addTo(o.distance,_),o.direction=o.delta.map(Math.sign),o._direction=o._delta.map(Math.sign),!o.first&&r>0&&(o.velocity=[_[0]/r,_[1]/r])}}emit(){const e=this.state,o=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const n=this.handler(Ie(Ie(Ie({},o),e),{},{[this.aliasKey]:e.values}));n!==void 0&&(e.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}f(fs,"Engine");function zc([t,e],o){const i=Math.abs(t),n=Math.abs(e);if(i>n&&i>o)return"x";if(n>i&&n>o)return"y"}f(zc,"selectAxis");class ds extends fs{constructor(...e){super(...e),rt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Ye.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Ye.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const o=this.state,i=this.config;if(!o.axis&&e){const n=typeof i.axisThreshold=="object"?i.axisThreshold[cs(e)]:i.axisThreshold;o.axis=zc(o._movement,n)}o._blocked=(i.lockDirection||!!i.axis)&&!o.axis||!!i.axis&&i.axis!==o.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}f(ds,"CoordinatesEngine");const Nc=f(t=>t,"identity"),Li=.15,hs={enabled(t=!0){return t},eventOptions(t,e,o){return Ie(Ie({},o.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[Li,Li];case!1:return[0,0];default:return Ye.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Ye.toVector(t)},transform(t,e,o){const i=t||o.shared.transform;return this.hasCustomTransform=!!i,i||Nc},threshold(t){return Ye.toVector(t,0)}},Gc=0,Ur=Ie(Ie({},hs),{},{axis(t,e,{axis:o}){if(this.lockDirection=o==="lock",!this.lockDirection)return o},axisThreshold(t=Gc){return t},bounds(t={}){if(typeof t=="function")return r=>Ur.bounds(t(r));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:o=1/0,top:i=-1/0,bottom:n=1/0}=t;return[[e,o],[i,n]]}}),nn=10,Bi={ArrowRight:(t=1)=>[nn*t,0],ArrowLeft:(t=1)=>[-nn*t,0],ArrowUp:(t=1)=>[0,-nn*t],ArrowDown:(t=1)=>[0,nn*t]};class ps extends ds{constructor(...e){super(...e),rt(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const o=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),n={left:o.left-i.left+e.offset[0],right:o.right-i.right+e.offset[0],top:o.top-i.top+e.offset[1],bottom:o.bottom-i.bottom+e.offset[1]};e._bounds=Ur.bounds(n)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const o=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(o.pointerButtons)?!o.pointerButtons.includes(e.buttons):o.pointerButtons!==-1&&o.pointerButtons!==e.buttons))return;const n=this.ctrl.setEventIds(e);o.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(n&&n.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=oo(e),i._pointerActive=!0,this.computeValues(Fi(e)),this.computeInitial(),o.preventScrollAxis&&cs(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):o.delay>0?(this.setupDelayTrigger(e),o.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const o=this.state;o._active=!0,o._preventScroll=!0,o._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const o=this.state,i=this.config;if(!o._pointerActive||o.type===e.type&&e.timeStamp===o.timeStamp)return;const n=oo(e);if(o._pointerId!==void 0&&n!==o._pointerId)return;const r=Fi(e);if(document.pointerLockElement===e.target?o._delta=[e.movementX,e.movementY]:(o._delta=Ye.sub(r,o._values),this.computeValues(r)),Ye.addTo(o._movement,o._delta),this.compute(e),o._delayed&&o.intentional){this.timeoutStore.remove("dragDelay"),o.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!o._preventScroll)if(o.axis)if(o.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){o._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const o=this.state,i=this.config;if(!o._active||!o._pointerActive)return;const n=oo(e);if(o._pointerId!==void 0&&n!==o._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[r,a]=o._distance;if(o.tap=r<=i.tapsThreshold&&a<=i.tapsThreshold,o.tap&&i.filterTaps)o._force=!0;else{const[s,l]=o.direction,[c,u]=o.velocity,[d,h]=o.movement,[p,y]=i.swipe.velocity,[m,x]=i.swipe.distance,v=i.swipe.duration;o.elapsedTime<v&&(Math.abs(c)>p&&Math.abs(d)>m&&(o.swipe[0]=s),Math.abs(u)>y&&Math.abs(h)>x&&(o.swipe[1]=l))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const o=this.config,i=o.device;o.pointerLock&&e.currentTarget.requestPointerLock(),o.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Wc(e);const o=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",o),this.eventStore.add(this.sharedConfig.window,"touch","cancel",o),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const o=Bi[e.key];if(o){const i=this.state,n=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=o(n),i._keyboardActive=!0,Ye.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Bi&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const o=this.config.device;e(o,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(o,"change",this.pointerMove.bind(this)),e(o,"end",this.pointerUp.bind(this)),e(o,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}f(ps,"DragEngine");function Wc(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}f(Wc,"persistEvent");const Mr=typeof window<"u"&&window.document&&window.document.createElement;function Vc(){return Mr&&"ontouchstart"in window}f(Vc,"supportsTouchEvents");function ji(){return Vc()||Mr&&window.navigator.maxTouchPoints>1}f(ji,"isTouchScreen");function Hc(){return Mr&&"onpointerdown"in window}f(Hc,"supportsPointerEvents");function Kc(){return Mr&&"exitPointerLock"in window.document}f(Kc,"supportsPointerLock");function Yc(){try{return"constructor"in GestureEvent}catch{return!1}}f(Yc,"supportsGestureEvents");const st={isBrowser:Mr,gesture:Yc(),touch:ji(),touchscreen:ji(),pointer:Hc(),pointerLock:Kc()},Xc=250,qc=180,Jc=.5,Qc=50,Zc=250,zi={mouse:0,touch:0,pen:8},eu=Ie(Ie({},Ur),{},{device(t,e,{pointer:{touch:o=!1,lock:i=!1,mouse:n=!1}={}}){return this.pointerLock=i&&st.pointerLock,st.touch&&o?"touch":this.pointerLock?"mouse":st.pointer&&!n?"pointer":st.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:o}){if(this.preventScrollDelay=typeof o=="number"?o:o||o===void 0&&t?Xc:void 0,!(!st.touchscreen||o===!1))return t||(o!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:o=!0,buttons:i=1,keys:n=!0}={}}){return this.pointerButtons=i,this.keys=n,!this.pointerLock&&this.device==="pointer"&&o},threshold(t,e,{filterTaps:o=!1,tapsThreshold:i=3,axis:n=void 0}){const r=Ye.toVector(t,o?i:n?1:0);return this.filterTaps=o,this.tapsThreshold=i,r},swipe({velocity:t=Jc,distance:e=Qc,duration:o=Zc}={}){return{velocity:this.transform(Ye.toVector(t)),distance:this.transform(Ye.toVector(e)),duration:o}},delay(t=0){switch(t){case!0:return qc;case!1:return 0;default:return t}},axisThreshold(t){return t?Ie(Ie({},zi),t):zi}});Ie(Ie({},hs),{},{device(t,e,{shared:o,pointer:{touch:i=!1}={}}){if(o.target&&!st.touch&&st.gesture)return"gesture";if(st.touch&&i)return"touch";if(st.touchscreen){if(st.pointer)return"pointer";if(st.touch)return"touch"}},bounds(t,e,{scaleBounds:o={},angleBounds:i={}}){const n=f(a=>{const s=Ii(vn(o,a),{min:-1/0,max:1/0});return[s.min,s.max]},"_scaleBounds"),r=f(a=>{const s=Ii(vn(i,a),{min:-1/0,max:1/0});return[s.min,s.max]},"_angleBounds");return typeof o!="function"&&typeof i!="function"?[n(),r()]:a=>[n(a),r(a)]},threshold(t,e,o){return this.lockDirection=o.axis==="lock",Ye.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Ie(Ie({},Ur),{},{mouseOnly:(t=!0)=>t});Ie(Ie({},Ur),{},{mouseOnly:(t=!0)=>t});const gs=new Map,bo=new Map;function tu(t){gs.set(t.key,t.engine),bo.set(t.key,t.resolver)}f(tu,"registerAction");const ru={key:"drag",engine:ps,resolver:eu};function nu(t,e){if(t==null)return{};var o={},i=Object.keys(t),n,r;for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&(o[n]=t[n]);return o}f(nu,"_objectWithoutPropertiesLoose$2");function ou(t,e){if(t==null)return{};var o=nu(t,e),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(o[i]=t[i]))}return o}f(ou,"_objectWithoutProperties$2");const iu={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=st.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},au=["target","eventOptions","window","enabled","transform"];function hn(t={},e){const o={};for(const[i,n]of Object.entries(e))switch(typeof n){case"function":o[i]=n.call(o,t[i],i,t);break;case"object":o[i]=hn(t[i],n);break;case"boolean":n&&(o[i]=t[i]);break}return o}f(hn,"resolveWith");function su(t,e,o={}){const i=t,{target:n,eventOptions:r,window:a,enabled:s,transform:l}=i,c=ou(i,au);if(o.shared=hn({target:n,eventOptions:r,window:a,enabled:s,transform:l},iu),e){const u=bo.get(e);o[e]=hn(Ie({shared:o.shared},c),u)}else for(const u in c){const d=bo.get(u);d&&(o[u]=hn(Ie({shared:o.shared},c[u]),d))}return o}f(su,"parse$1");class Vo{constructor(e,o){rt(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=o}add(e,o,i,n,r){const a=this._listeners,s=Uc(o,i),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Ie(Ie({},l),r);e.addEventListener(s,n,c);const u=f(()=>{e.removeEventListener(s,n,c),a.delete(u)},"remove");return a.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}f(Vo,"EventStore");class vs{constructor(){rt(this,"_timeouts",new Map)}add(e,o,i=140,...n){this.remove(e),this._timeouts.set(e,window.setTimeout(o,i,...n))}remove(e){const o=this._timeouts.get(e);o&&window.clearTimeout(o)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}f(vs,"TimeoutStore");class ms{constructor(e){rt(this,"gestures",new Set),rt(this,"_targetEventStore",new Vo(this)),rt(this,"gestureEventStores",{}),rt(this,"gestureTimeoutStores",{}),rt(this,"handlers",{}),rt(this,"config",{}),rt(this,"pointerIds",new Set),rt(this,"touchIds",new Set),rt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),lu(this,e)}setEventIds(e){if(On(e))return this.touchIds=new Set(Fc(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,o){this.handlers=e,this.nativeHandlers=o}applyConfig(e,o){this.config=su(e,o,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const o=this.config.shared,i={};let n;if(!(o.target&&(n=o.target(),!n))){if(o.enabled){for(const a of this.gestures){const s=this.config[a],l=Ni(i,s.eventOptions,!!n);if(s.enabled){const c=gs.get(a);new c(this,e,a).bind(l)}}const r=Ni(i,o.eventOptions,!!n);for(const a in this.nativeHandlers)r(a,"",s=>this.nativeHandlers[a](Ie(Ie({},this.state.shared),{},{event:s,args:e})),void 0,!0)}for(const r in i)i[r]=Bc(...i[r]);if(!n)return i;for(const r in i){const{device:a,capture:s,passive:l}=Ac(r);this._targetEventStore.add(n,a,"",i[r],{capture:s,passive:l})}}}}f(ms,"Controller");function Vt(t,e){t.gestures.add(e),t.gestureEventStores[e]=new Vo(t,e),t.gestureTimeoutStores[e]=new vs}f(Vt,"setupGesture");function lu(t,e){e.drag&&Vt(t,"drag"),e.wheel&&Vt(t,"wheel"),e.scroll&&Vt(t,"scroll"),e.move&&Vt(t,"move"),e.pinch&&Vt(t,"pinch"),e.hover&&Vt(t,"hover")}f(lu,"resolveGestures");const Ni=f((t,e,o)=>(i,n,r,a={},s=!1)=>{var l,c;const u=(l=a.capture)!==null&&l!==void 0?l:e.capture,d=(c=a.passive)!==null&&c!==void 0?c:e.passive;let h=s?i:Dc(i,n,u);o&&d&&(h+="Passive"),t[h]=t[h]||[],t[h].push(r)},"bindToProps");function cu(t,e={},o,i){const n=ke.useMemo(()=>new ms(t),[]);if(n.applyHandlers(t,i),n.applyConfig(e,o),ke.useEffect(n.effect.bind(n)),ke.useEffect(()=>n.clean.bind(n),[]),e.target===void 0)return n.bind.bind(n)}f(cu,"useRecognizers");function uu(t,e){return tu(ru),cu({drag:t},e||{},"drag")}f(uu,"useDrag$1");const fu=f(t=>(e,o,i)=>{const n=i.subscribe;return i.subscribe=(a,s,l)=>{let c=a;if(s){const u=(l==null?void 0:l.equalityFn)||Object.is;let d=a(i.getState());c=f(h=>{const p=a(h);if(!u(d,p)){const y=d;s(d=p,y)}},"listener"),l!=null&&l.fireImmediately&&s(d,d)}return n(c)},t(e,o,i)},"subscribeWithSelector");function $r(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!1;for(let i=0;i<o.length;i++)if(!Object.prototype.hasOwnProperty.call(e,o[i])||!Object.is(t[o[i]],e[o[i]]))return!1;return!0}f($r,"shallow");function Ho(){var t=0,e=[],o,i=0,n=0;function r(v,g){var S=Ho();function w(){var T=t>0?v:g;if(m(T))try{var _=T(o);_===S&&y();var C=h(_);C?C.call(_,S.resolve,S.reject):S.resolve(_)}catch(O){S.reject(O)}else S[t>0?"resolve":"reject"](o)}return f(w,"handleNext"),e.push(w),t&&c(),S}f(r,"then");var a=p(function(v){n||l(1,v)}),s=p(function(v){n||l(-1,v)});function l(v,g){n++;var S=0;try{g===x&&y();var w=v>0&&h(g);w?w.call(g,p(function(T){S++,l(1,T)}),p(function(T){S++,l(-1,T)})):(t=v,o=g,c())}catch(T){!t&&!S&&l(-1,T)}}f(l,"complete");function c(){i||(setTimeout(u,0),i=1)}f(c,"scheduleQueueFlush");function u(){var v=e;i=0,e=[],v.forEach(d)}f(u,"flushQueue");function d(v){v()}f(d,"callIt");function h(v){var g=v&&(m(v)||typeof v=="object")&&v.then;return m(g)&&g}f(h,"getThenableThen");function p(v){var g=0;return function(){for(var S=[],w=arguments.length;w--;)S[w]=arguments[w];g++||v.apply(this,S)}}f(p,"oneTime");function y(){throw new TypeError("Chaining cycle detected")}f(y,"recursiveError");var m=f(function(v){return typeof v=="function"},"isFn"),x={then:r,resolve:a,reject:s};return x}f(Ho,"BespokeThenable");function bs(){var t,e,o=new Promise(function(i,n){t=i,e=n});return{then:o.then.bind(o),resolve:t,reject:e}}f(bs,"NativePromiseThenable");Ho.all=bs.all=function(t){var e=0,o=[],i=St();return t.length===0?i.resolve([]):t.forEach(function(n,r){var a=St();a.resolve(n),a.then(function(s){e++,o[r]=s,e===t.length&&i.resolve(o)},i.reject)}),i};var St=typeof Promise=="function"?bs:Ho;function du(){var t=Object.create(null);function e(n,r){var a=n.id,s=n.name,l=n.dependencies;l===void 0&&(l=[]);var c=n.init;c===void 0&&(c=f(function(){},"init"));var u=n.getTransferables;if(u===void 0&&(u=null),!t[a])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(p){if(p instanceof Error)throw p}),h=t[h.id].value),h}),c=i("<"+s+">.init",c),u&&(u=i("<"+s+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:d,getTransferables:u},r(d)}catch(h){h&&h.noLog||console.error(h),r(h)}}f(e,"registerModule");function o(n,r){var a,s=n.id,l=n.args;(!t[s]||typeof t[s].value!="function")&&r(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(a=t[s]).value.apply(a,l);c&&typeof c.then=="function"?c.then(u,function(d){return r(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){r(d)}function u(d){try{var h=t[s].getTransferables&&t[s].getTransferables(d);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),r(d,h)}catch(p){console.error(p),r(p)}}f(u,"handleResult")}f(o,"callModule");function i(n,r){var a=void 0;self.troikaDefine=function(l){return a=l};var s=URL.createObjectURL(new Blob(["/** "+n.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,a}f(i,"rehydrate"),self.addEventListener("message",function(n){var r=n.data,a=r.messageId,s=r.action,l=r.data;try{s==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&o(l,function(c,u){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}f(du,"workerBootstrap");function hu(t){var e=f(function(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];return e._getInitResult().then(function(n){if(typeof n=="function")return n.apply(void 0,o);throw new Error("Worker module function was called but `init` did not return a callable function")})},"moduleFunc");return e._getInitResult=function(){var o=t.dependencies,i=t.init;o=Array.isArray(o)?o.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var n=St.all(o).then(function(r){return i.apply(null,r)});return e._getInitResult=function(){return n},n},e}f(hu,"defineMainThreadModule");var ys=f(function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(o){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+o.message+"]")}return ys=f(function(){return t},"supportsWorkers"),t},"supportsWorkers"),pu=0,gu=0,io=!1,Tr=Object.create(null),kr=Object.create(null),yo=Object.create(null);function er(t){if((!t||typeof t.init!="function")&&!io)throw new Error("requires `options.init` function");var e=t.dependencies,o=t.init,i=t.getTransferables,n=t.workerId;if(!ys())return hu(t);n==null&&(n="#default");var r="workerModule"+ ++pu,a=t.name||r,s=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(io=!0,c=er({workerId:n,name:"<"+a+"> function dependency: "+c.name,init:`function(){return (
`+pn(c)+`
)}`}),io=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!s){s=Gi(n,"registerModule",l.workerModuleData);var d=f(function(){s=null,kr[n].delete(d)},"unregister");(kr[n]||(kr[n]=new Set)).add(d)}return s.then(function(h){var p=h.isCallable;if(p)return Gi(n,"callModule",{id:r,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return f(l,"moduleFunc"),l.workerModuleData={isWorkerModule:!0,id:r,name:a,dependencies:e,init:pn(o),getTransferables:i&&pn(i)},l}f(er,"defineWorkerModule");function vu(t){kr[t]&&kr[t].forEach(function(e){e()}),Tr[t]&&(Tr[t].terminate(),delete Tr[t])}f(vu,"terminateWorker");function pn(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}f(pn,"stringifyFunction");function mu(t){var e=Tr[t];if(!e){var o=pn(du);e=Tr[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+o+")()"],{type:"application/javascript"}))),e.onmessage=function(i){var n=i.data,r=n.messageId,a=yo[r];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete yo[r],a(n)}}return e}f(mu,"getWorker");function Gi(t,e,o){var i=St(),n=++gu;return yo[n]=function(r){r.success?i.resolve(r.result):i.reject(new Error("Error in worker "+e+" call: "+r.error))},mu(t).postMessage({messageId:n,action:e,data:o}),i}f(Gi,"callWorker");var bu=er({name:"Thenable",dependencies:[St],init:function(t){return t}});function xs(){var t=function(e){function o(L,K,E,B,X,H,j,Y){var F=1-j;Y.x=F*F*L+2*F*j*E+j*j*X,Y.y=F*F*K+2*F*j*B+j*j*H}f(o,"pointOnQuadraticBezier");function i(L,K,E,B,X,H,j,Y,F,G){var Q=1-F;G.x=Q*Q*Q*L+3*Q*Q*F*E+3*Q*F*F*X+F*F*F*j,G.y=Q*Q*Q*K+3*Q*Q*F*B+3*Q*F*F*H+F*F*F*Y}f(i,"pointOnCubicBezier");function n(L,K){for(var E=/([MLQCZ])([^MLQCZ]*)/g,B,X,H,j,Y;B=E.exec(L);){var F=B[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(G){return parseFloat(G)});switch(B[1]){case"M":j=X=F[0],Y=H=F[1];break;case"L":(F[0]!==j||F[1]!==Y)&&K("L",j,Y,j=F[0],Y=F[1]);break;case"Q":{K("Q",j,Y,j=F[2],Y=F[3],F[0],F[1]);break}case"C":{K("C",j,Y,j=F[4],Y=F[5],F[0],F[1],F[2],F[3]);break}case"Z":(j!==X||Y!==H)&&K("L",j,Y,X,H);break}}}f(n,"forEachPathCommand");function r(L,K,E){E===void 0&&(E=16);var B={x:0,y:0};n(L,function(X,H,j,Y,F,G,Q,ue,ee){switch(X){case"L":K(H,j,Y,F);break;case"Q":{for(var q=H,xe=j,ye=1;ye<E;ye++)o(H,j,G,Q,Y,F,ye/(E-1),B),K(q,xe,B.x,B.y),q=B.x,xe=B.y;break}case"C":{for(var re=H,ae=j,be=1;be<E;be++)i(H,j,G,Q,ue,ee,Y,F,be/(E-1),B),K(re,ae,B.x,B.y),re=B.x,ae=B.y;break}}})}f(r,"pathToLineSegments");var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(L,K){var E=L.getContext?L.getContext("webgl",c):L,B=l.get(E);if(!B){let Q=function(re){var ae=H[re];if(!ae&&(ae=H[re]=E.getExtension(re),!ae))throw new Error(re+" not supported");return ae},ue=function(re,ae){var be=E.createShader(ae);return E.shaderSource(be,re),E.compileShader(be),be},ee=function(re,ae,be,W){if(!j[re]){var ce={},ne={},V=E.createProgram();E.attachShader(V,ue(ae,E.VERTEX_SHADER)),E.attachShader(V,ue(be,E.FRAGMENT_SHADER)),E.linkProgram(V),j[re]={program:V,transaction:f(function(A){E.useProgram(V),A({setUniform:f(function(J,he){for(var me=[],Z=arguments.length-2;Z-- >0;)me[Z]=arguments[Z+2];var fe=ne[he]||(ne[he]=E.getUniformLocation(V,he));E["uniform"+J].apply(E,[fe].concat(me))},"setUniform"),setAttribute:f(function(J,he,me,Z,fe){var Se=ce[J];Se||(Se=ce[J]={buf:E.createBuffer(),loc:E.getAttribLocation(V,J),data:null}),E.bindBuffer(E.ARRAY_BUFFER,Se.buf),E.vertexAttribPointer(Se.loc,he,E.FLOAT,!1,0,0),E.enableVertexAttribArray(Se.loc),X?E.vertexAttribDivisor(Se.loc,Z):Q("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Se.loc,Z),fe!==Se.data&&(E.bufferData(E.ARRAY_BUFFER,fe,me),Se.data=fe)},"setAttribute")})},"transaction")}}j[re].transaction(W)},q=function(re,ae){F++;try{E.activeTexture(E.TEXTURE0+F);var be=Y[re];be||(be=Y[re]=E.createTexture(),E.bindTexture(E.TEXTURE_2D,be),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST)),E.bindTexture(E.TEXTURE_2D,be),ae(be,F)}finally{F--}},xe=function(re,ae,be){var W=E.createFramebuffer();G.push(W),E.bindFramebuffer(E.FRAMEBUFFER,W),E.activeTexture(E.TEXTURE0+ae),E.bindTexture(E.TEXTURE_2D,re),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,re,0);try{be(W)}finally{E.deleteFramebuffer(W),E.bindFramebuffer(E.FRAMEBUFFER,G[--G.length-1]||null)}},ye=function(){H={},j={},Y={},F=-1,G.length=0};f(Q,"getExtension"),f(ue,"compileShader"),f(ee,"withProgram"),f(q,"withTexture"),f(xe,"withTextureFramebuffer"),f(ye,"handleContextLoss");var X=typeof WebGL2RenderingContext<"u"&&E instanceof WebGL2RenderingContext,H={},j={},Y={},F=-1,G=[];E.canvas.addEventListener("webglcontextlost",function(re){ye(),re.preventDefault()},!1),l.set(E,B={gl:E,isWebGL2:X,getExtension:Q,withProgram:ee,withTexture:q,withTextureFramebuffer:xe,handleContextLoss:ye})}K(B)}f(u,"withWebGLContext");function d(L,K,E,B,X,H,j,Y){j===void 0&&(j=15),Y===void 0&&(Y=null),u(L,function(F){var G=F.gl,Q=F.withProgram,ue=F.withTexture;ue("copy",function(ee,q){G.texImage2D(G.TEXTURE_2D,0,G.RGBA,X,H,0,G.RGBA,G.UNSIGNED_BYTE,K),Q("copy",a,s,function(xe){var ye=xe.setUniform,re=xe.setAttribute;re("aUV",2,G.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ye("1i","image",q),G.bindFramebuffer(G.FRAMEBUFFER,Y||null),G.disable(G.BLEND),G.colorMask(j&8,j&4,j&2,j&1),G.viewport(E,B,X,H),G.scissor(E,B,X,H),G.drawArrays(G.TRIANGLES,0,3)})})})}f(d,"renderImageData");function h(L,K,E){var B=L.width,X=L.height;u(L,function(H){var j=H.gl,Y=new Uint8Array(B*X*4);j.readPixels(0,0,B,X,j.RGBA,j.UNSIGNED_BYTE,Y),L.width=K,L.height=E,d(j,Y,0,0,B,X)})}f(h,"resizeWebGLCanvasWithoutClearing");var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:h});function y(L,K,E,B,X,H){H===void 0&&(H=1);var j=new Uint8Array(L*K),Y=B[2]-B[0],F=B[3]-B[1],G=[];r(E,function(re,ae,be,W){G.push({x1:re,y1:ae,x2:be,y2:W,minX:Math.min(re,be),minY:Math.min(ae,W),maxX:Math.max(re,be),maxY:Math.max(ae,W)})}),G.sort(function(re,ae){return re.maxX-ae.maxX});for(var Q=0;Q<L;Q++)for(var ue=0;ue<K;ue++){var ee=xe(B[0]+Y*(Q+.5)/L,B[1]+F*(ue+.5)/K),q=Math.pow(1-Math.abs(ee)/X,H)/2;ee<0&&(q=1-q),q=Math.max(0,Math.min(255,Math.round(q*255))),j[ue*L+Q]=q}return j;function xe(re,ae){for(var be=1/0,W=1/0,ce=G.length;ce--;){var ne=G[ce];if(ne.maxX+W<=re)break;if(re+W>ne.minX&&ae-W<ne.maxY&&ae+W>ne.minY){var V=v(re,ae,ne.x1,ne.y1,ne.x2,ne.y2);V<be&&(be=V,W=Math.sqrt(be))}}return ye(re,ae)&&(W=-W),W}function ye(re,ae){for(var be=0,W=G.length;W--;){var ce=G[W];if(ce.maxX<=re)break;var ne=ce.y1>ae!=ce.y2>ae&&re<(ce.x2-ce.x1)*(ae-ce.y1)/(ce.y2-ce.y1)+ce.x1;ne&&(be+=ce.y1<ce.y2?1:-1)}return be!==0}}f(y,"generate$2");function m(L,K,E,B,X,H,j,Y,F,G){H===void 0&&(H=1),Y===void 0&&(Y=0),F===void 0&&(F=0),G===void 0&&(G=0),x(L,K,E,B,X,H,j,null,Y,F,G)}f(m,"generateIntoCanvas$2");function x(L,K,E,B,X,H,j,Y,F,G,Q){H===void 0&&(H=1),F===void 0&&(F=0),G===void 0&&(G=0),Q===void 0&&(Q=0);for(var ue=y(L,K,E,B,X,H),ee=new Uint8Array(ue.length*4),q=0;q<ue.length;q++)ee[q*4+Q]=ue[q];d(j,ee,F,G,L,K,1<<3-Q,Y)}f(x,"generateIntoFramebuffer$1");function v(L,K,E,B,X,H){var j=X-E,Y=H-B,F=j*j+Y*Y,G=F?Math.max(0,Math.min(1,((L-E)*j+(K-B)*Y)/F)):0,Q=L-(E+G*j),ue=K-(B+G*Y);return Q*Q+ue*ue}f(v,"absSquareDistanceToLineSegment");var g=Object.freeze({__proto__:null,generate:y,generateIntoCanvas:m,generateIntoFramebuffer:x}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",T="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",_=new Float32Array([0,0,2,0,0,2]),C=null,O=!1,$={},U=new WeakMap;function M(L){if(!O&&!N(L))throw new Error("WebGL generation not supported")}f(M,"validateSupport");function k(L,K,E,B,X,H,j){if(H===void 0&&(H=1),j===void 0&&(j=null),!j&&(j=C,!j)){var Y=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Y)throw new Error("OffscreenCanvas or DOM canvas not supported");j=C=Y.getContext("webgl",{depth:!1})}M(j);var F=new Uint8Array(L*K*4);u(j,function(ee){var q=ee.gl,xe=ee.withTexture,ye=ee.withTextureFramebuffer;xe("readable",function(re,ae){q.texImage2D(q.TEXTURE_2D,0,q.RGBA,L,K,0,q.RGBA,q.UNSIGNED_BYTE,null),ye(re,ae,function(be){P(L,K,E,B,X,H,q,be,0,0,0),q.readPixels(0,0,L,K,q.RGBA,q.UNSIGNED_BYTE,F)})})});for(var G=new Uint8Array(L*K),Q=0,ue=0;Q<F.length;Q+=4)G[ue++]=F[Q];return G}f(k,"generate$1");function D(L,K,E,B,X,H,j,Y,F,G){H===void 0&&(H=1),Y===void 0&&(Y=0),F===void 0&&(F=0),G===void 0&&(G=0),P(L,K,E,B,X,H,j,null,Y,F,G)}f(D,"generateIntoCanvas$1");function P(L,K,E,B,X,H,j,Y,F,G,Q){H===void 0&&(H=1),F===void 0&&(F=0),G===void 0&&(G=0),Q===void 0&&(Q=0),M(j);var ue=[];r(E,function(ee,q,xe,ye){ue.push(ee,q,xe,ye)}),ue=new Float32Array(ue),u(j,function(ee){var q=ee.gl,xe=ee.isWebGL2,ye=ee.getExtension,re=ee.withProgram,ae=ee.withTexture,be=ee.withTextureFramebuffer,W=ee.handleContextLoss;if(ae("rawDistances",function(ce,ne){(L!==ce._lastWidth||K!==ce._lastHeight)&&q.texImage2D(q.TEXTURE_2D,0,q.RGBA,ce._lastWidth=L,ce._lastHeight=K,0,q.RGBA,q.UNSIGNED_BYTE,null),re("main",S,w,function(V){var we=V.setAttribute,A=V.setUniform,z=!xe&&ye("ANGLE_instanced_arrays"),J=!xe&&ye("EXT_blend_minmax");we("aUV",2,q.STATIC_DRAW,0,_),we("aLineSegment",4,q.DYNAMIC_DRAW,1,ue),A.apply(void 0,["4f","uGlyphBounds"].concat(B)),A("1f","uMaxDistance",X),A("1f","uExponent",H),be(ce,ne,function(he){q.enable(q.BLEND),q.colorMask(!0,!0,!0,!0),q.viewport(0,0,L,K),q.scissor(0,0,L,K),q.blendFunc(q.ONE,q.ONE),q.blendEquationSeparate(q.FUNC_ADD,xe?q.MAX:J.MAX_EXT),q.clear(q.COLOR_BUFFER_BIT),xe?q.drawArraysInstanced(q.TRIANGLES,0,3,ue.length/4):z.drawArraysInstancedANGLE(q.TRIANGLES,0,3,ue.length/4)})}),re("post",a,T,function(V){V.setAttribute("aUV",2,q.STATIC_DRAW,0,_),V.setUniform("1i","tex",ne),q.bindFramebuffer(q.FRAMEBUFFER,Y),q.disable(q.BLEND),q.colorMask(Q===0,Q===1,Q===2,Q===3),q.viewport(F,G,L,K),q.scissor(F,G,L,K),q.drawArrays(q.TRIANGLES,0,3)})}),q.isContextLost())throw W(),new Error("webgl context lost")})}f(P,"generateIntoFramebuffer");function N(L){var K=!L||L===C?$:L.canvas||L,E=U.get(K);if(E===void 0){O=!0;var B=null;try{var X=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],H=k(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,L);E=H&&X.length===H.length&&H.every(function(j,Y){return j===X[Y]}),E||(B="bad trial run results",console.info(X,H))}catch(j){E=!1,B=j.message}B&&console.warn("WebGL SDF generation not supported:",B),O=!1,U.set(K,E)}return E}f(N,"isSupported");var I=Object.freeze({__proto__:null,generate:k,generateIntoCanvas:D,generateIntoFramebuffer:P,isSupported:N});function te(L,K,E,B,X,H){X===void 0&&(X=Math.max(B[2]-B[0],B[3]-B[1])/2),H===void 0&&(H=1);try{return k.apply(I,arguments)}catch(j){return console.info("WebGL SDF generation failed, falling back to JS",j),y.apply(g,arguments)}}f(te,"generate");function ie(L,K,E,B,X,H,j,Y,F,G){X===void 0&&(X=Math.max(B[2]-B[0],B[3]-B[1])/2),H===void 0&&(H=1),Y===void 0&&(Y=0),F===void 0&&(F=0),G===void 0&&(G=0);try{return D.apply(I,arguments)}catch(Q){return console.info("WebGL SDF generation failed, falling back to JS",Q),m.apply(g,arguments)}}return f(ie,"generateIntoCanvas"),e.forEachPathCommand=n,e.generate=te,e.generateIntoCanvas=ie,e.javascript=g,e.pathToLineSegments=r,e.webgl=I,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}f(xs,"SDFGenerator");function yu(){var t=function(e){var o={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},i={},n={};i.L=1,n[1]="L",Object.keys(o).forEach(function(W,ce){i[W]=1<<ce+1,n[i[W]]=W}),Object.freeze(i);var r=i.LRI|i.RLI|i.FSI,a=i.L|i.R|i.AL,s=i.B|i.S|i.WS|i.ON|i.FSI|i.LRI|i.RLI|i.PDI,l=i.BN|i.RLE|i.LRE|i.RLO|i.LRO|i.PDF,c=i.S|i.WS|i.B|r|i.PDI|l,u=null;function d(){if(!u){u=new Map;var W=f(function(ne){if(o.hasOwnProperty(ne)){var V=0;o[ne].split(",").forEach(function(we){var A=we.split("+"),z=A[0],J=A[1];z=parseInt(z,36),J=J?parseInt(J,36):0,u.set(V+=z,i[ne]);for(var he=0;he<J;he++)u.set(++V,i[ne])})}},"loop");for(var ce in o)W(ce)}}f(d,"parseData");function h(W){return d(),u.get(W.codePointAt(0))||i.L}f(h,"getBidiCharType");function p(W){return n[h(W)]}f(p,"getBidiCharTypeName");var y={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function m(W,ce){var ne=36,V=0,we=new Map,A=ce&&new Map,z;return W.split(",").forEach(f(function J(he){if(he.indexOf("+")!==-1)for(var me=+he;me--;)J(z);else{z=he;var Z=he.split(">"),fe=Z[0],Se=Z[1];fe=String.fromCodePoint(V+=parseInt(fe,ne)),Se=String.fromCodePoint(V+=parseInt(Se,ne)),we.set(fe,Se),ce&&A.set(Se,fe)}},"visit")),{map:we,reverseMap:A}}f(m,"parseCharacterMap");var x,v,g;function S(){if(!x){var W=m(y.pairs,!0),ce=W.map,ne=W.reverseMap;x=ce,v=ne,g=m(y.canonical,!1).map}}f(S,"parse$1");function w(W){return S(),x.get(W)||null}f(w,"openingToClosingBracket");function T(W){return S(),v.get(W)||null}f(T,"closingToOpeningBracket");function _(W){return S(),g.get(W)||null}f(_,"getCanonicalBracket");var C=i.L,O=i.R,$=i.EN,U=i.ES,M=i.ET,k=i.AN,D=i.CS,P=i.B,N=i.S,I=i.ON,te=i.BN,ie=i.NSM,L=i.AL,K=i.LRO,E=i.RLO,B=i.LRE,X=i.RLE,H=i.PDF,j=i.LRI,Y=i.RLI,F=i.FSI,G=i.PDI;function Q(W,ce){for(var ne=125,V=new Uint32Array(W.length),we=0;we<W.length;we++)V[we]=h(W[we]);var A=new Map;function z(Ke,dt){var tt=V[Ke];V[Ke]=dt,A.set(tt,A.get(tt)-1),tt&s&&A.set(s,A.get(s)-1),A.set(dt,(A.get(dt)||0)+1),dt&s&&A.set(s,(A.get(s)||0)+1)}f(z,"changeCharType");for(var J=new Uint8Array(W.length),he=new Map,me=[],Z=null,fe=0;fe<W.length;fe++)Z||me.push(Z={start:fe,end:W.length-1,level:ce==="rtl"?1:ce==="ltr"?0:Oi(fe,!1)}),V[fe]&P&&(Z.end=fe,Z=null);for(var Se=X|B|E|K|r|G|H|P,Te=f(function(Ke){return Ke+(Ke&1?1:2)},"nextEven"),Pe=f(function(Ke){return Ke+(Ke&1?2:1)},"nextOdd"),Ae=0;Ae<me.length;Ae++){Z=me[Ae];var ge=[{_level:Z.level,_override:0,_isolate:0}],se=void 0,Oe=0,_e=0,qe=0;A.clear();for(var Le=Z.start;Le<=Z.end;Le++){var Be=V[Le];if(se=ge[ge.length-1],A.set(Be,(A.get(Be)||0)+1),Be&s&&A.set(s,(A.get(s)||0)+1),Be&Se)if(Be&(X|B)){J[Le]=se._level;var kt=(Be===X?Pe:Te)(se._level);kt<=ne&&!Oe&&!_e?ge.push({_level:kt,_override:0,_isolate:0}):Oe||_e++}else if(Be&(E|K)){J[Le]=se._level;var ar=(Be===E?Pe:Te)(se._level);ar<=ne&&!Oe&&!_e?ge.push({_level:ar,_override:Be&E?O:C,_isolate:0}):Oe||_e++}else if(Be&r){Be&F&&(Be=Oi(Le+1,!0)===1?Y:j),J[Le]=se._level,se._override&&z(Le,se._override);var Ge=(Be===Y?Pe:Te)(se._level);Ge<=ne&&Oe===0&&_e===0?(qe++,ge.push({_level:Ge,_override:0,_isolate:1,_isolInitIndex:Le})):Oe++}else if(Be&G){if(Oe>0)Oe--;else if(qe>0){for(_e=0;!ge[ge.length-1]._isolate;)ge.pop();var sr=ge[ge.length-1]._isolInitIndex;sr!=null&&(he.set(sr,Le),he.set(Le,sr)),ge.pop(),qe--}se=ge[ge.length-1],J[Le]=se._level,se._override&&z(Le,se._override)}else Be&H?(Oe===0&&(_e>0?_e--:!se._isolate&&ge.length>1&&(ge.pop(),se=ge[ge.length-1])),J[Le]=se._level):Be&P&&(J[Le]=Z.level);else J[Le]=se._level,se._override&&Be!==te&&z(Le,se._override)}for(var Ue=[],Ee=null,We=Z.start;We<=Z.end;We++){var ot=V[We];if(!(ot&l)){var Me=J[We],Je=ot&r,vt=ot===G;Ee&&Me===Ee._level?(Ee._end=We,Ee._endsWithIsolInit=Je):Ue.push(Ee={_start:We,_end:We,_level:Me,_startsWithPDI:vt,_endsWithIsolInit:Je})}}for(var Ve=[],je=0;je<Ue.length;je++){var it=Ue[je];if(!it._startsWithPDI||it._startsWithPDI&&!he.has(it._start)){for(var Et=[Ee=it],ut=void 0;Ee&&Ee._endsWithIsolInit&&(ut=he.get(Ee._end))!=null;)for(var Ct=je+1;Ct<Ue.length;Ct++)if(Ue[Ct]._start===ut){Et.push(Ee=Ue[Ct]);break}for(var jt=[],Fn=0;Fn<Et.length;Fn++)for(var ui=Et[Fn],In=ui._start;In<=ui._end;In++)jt.push(In);for(var Yl=J[jt[0]],fi=Z.level,jr=jt[0]-1;jr>=0;jr--)if(!(V[jr]&l)){fi=J[jr];break}var Ln=jt[jt.length-1],Xl=J[Ln],di=Z.level;if(!(V[Ln]&r)){for(var zr=Ln+1;zr<=Z.end;zr++)if(!(V[zr]&l)){di=J[zr];break}}Ve.push({_seqIndices:jt,_sosType:Math.max(fi,Yl)%2?O:C,_eosType:Math.max(di,Xl)%2?O:C})}}for(var Bn=0;Bn<Ve.length;Bn++){var jn=Ve[Bn],le=jn._seqIndices,lr=jn._sosType,ql=jn._eosType;if(A.get(ie))for(var Nr=0;Nr<le.length;Nr++){var hi=le[Nr];if(V[hi]&ie){for(var zn=lr,Gr=Nr-1;Gr>=0;Gr--)if(!(V[le[Gr]]&l)){zn=V[le[Gr]];break}z(hi,zn&(r|G)?I:zn)}}if(A.get($))for(var Wr=0;Wr<le.length;Wr++){var pi=le[Wr];if(V[pi]&$)for(var Vr=Wr-1;Vr>=-1;Vr--){var gi=Vr===-1?lr:V[le[Vr]];if(gi&a){gi===L&&z(pi,k);break}}}if(A.get(L))for(var Nn=0;Nn<le.length;Nn++){var vi=le[Nn];V[vi]&L&&z(vi,O)}if(A.get(U)||A.get(D))for(var cr=1;cr<le.length-1;cr++){var Gn=le[cr];if(V[Gn]&(U|D)){for(var zt=0,Wn=0,Vn=cr-1;Vn>=0&&(zt=V[le[Vn]],!!(zt&l));Vn--);for(var Hn=cr+1;Hn<le.length&&(Wn=V[le[Hn]],!!(Wn&l));Hn++);zt===Wn&&(V[Gn]===U?zt===$:zt&($|k))&&z(Gn,zt)}}if(A.get($))for(var ur=0;ur<le.length;ur++){var Jl=le[ur];if(V[Jl]&$){for(var Hr=ur-1;Hr>=0&&V[le[Hr]]&(M|l);Hr--)z(le[Hr],$);for(var Kr=ur+1;Kr<le.length&&V[le[Kr]]&(M|l);Kr++)z(le[Kr],$)}}if(A.get(M)||A.get(U)||A.get(D))for(var fr=0;fr<le.length;fr++){var mi=le[fr];if(V[mi]&(M|U|D)){z(mi,I);for(var Yr=fr-1;Yr>=0&&V[le[Yr]]&l;Yr--)z(le[Yr],I);for(var Xr=fr+1;Xr<le.length&&V[le[Xr]]&l;Xr++)z(le[Xr],I)}}if(A.get($))for(var Kn=0,bi=lr;Kn<le.length;Kn++){var yi=le[Kn],Yn=V[yi];Yn&$?bi===C&&z(yi,C):Yn&a&&(bi=Yn)}if(A.get(s)){var dr=O|$|k,xi=dr|C,qr=[];{for(var Nt=[],Gt=0;Gt<le.length;Gt++)if(V[le[Gt]]&s){var hr=W[le[Gt]],wi=void 0;if(w(hr)!==null)if(Nt.length<63)Nt.push({char:hr,seqIndex:Gt});else break;else if((wi=T(hr))!==null)for(var pr=Nt.length-1;pr>=0;pr--){var Xn=Nt[pr].char;if(Xn===wi||Xn===T(_(hr))||w(_(Xn))===hr){qr.push([Nt[pr].seqIndex,Gt]),Nt.length=pr;break}}}qr.sort(function(Ke,dt){return Ke[0]-dt[0]})}for(var qn=0;qn<qr.length;qn++){for(var Si=qr[qn],gr=Si[0],Jr=Si[1],_i=!1,ft=0,Jn=gr+1;Jn<Jr;Jn++){var Qn=le[Jn];if(V[Qn]&xi){_i=!0;var Ti=V[Qn]&dr?O:C;if(Ti===Wt(Qn)){ft=Ti;break}}}if(_i&&!ft){ft=lr;for(var Zn=gr-1;Zn>=0;Zn--){var Qr=le[Zn];if(V[Qr]&xi){var ki=V[Qr]&dr?O:C;ki!==Wt(Qr)?ft=ki:ft=Wt(Qr);break}}}if(ft){if(V[le[gr]]=V[le[Jr]]=ft,ft!==Wt(le[gr])){for(var vr=gr+1;vr<le.length;vr++)if(!(V[le[vr]]&l)){h(W[le[vr]])&ie&&(V[le[vr]]=ft);break}}if(ft!==Wt(le[Jr])){for(var mr=Jr+1;mr<le.length;mr++)if(!(V[le[mr]]&l)){h(W[le[mr]])&ie&&(V[le[mr]]=ft);break}}}}for(var Ot=0;Ot<le.length;Ot++)if(V[le[Ot]]&s){for(var Ei=Ot,eo=Ot,to=lr,br=Ot-1;br>=0;br--)if(V[le[br]]&l)Ei=br;else{to=V[le[br]]&dr?O:C;break}for(var Ci=ql,yr=Ot+1;yr<le.length;yr++)if(V[le[yr]]&(s|l))eo=yr;else{Ci=V[le[yr]]&dr?O:C;break}for(var Zr=Ei;Zr<=eo;Zr++)V[le[Zr]]=to===Ci?to:Wt(le[Zr]);Ot=eo}}}for(var at=Z.start;at<=Z.end;at++){var Ql=J[at],en=V[at];if(Ql&1?en&(C|$|k)&&J[at]++:en&O?J[at]++:en&(k|$)&&(J[at]+=2),en&l&&(J[at]=at===0?Z.level:J[at-1]),at===Z.end||h(W[at])&(N|P))for(var tn=at;tn>=0&&h(W[tn])&c;tn--)J[tn]=Z.level}}return{levels:J,paragraphs:me};function Oi(Ke,dt){for(var tt=Ke;tt<W.length;tt++){var Rt=V[tt];if(Rt&(O|L))return 1;if(Rt&(P|C)||dt&&Rt===G)return 0;if(Rt&r){var Ri=Zl(tt);tt=Ri===-1?W.length:Ri}}return 0}function Zl(Ke){for(var dt=1,tt=Ke+1;tt<W.length;tt++){var Rt=V[tt];if(Rt&P)break;if(Rt&G){if(--dt===0)return tt}else Rt&r&&dt++}return-1}function Wt(Ke){return J[Ke]&1?O:C}}f(Q,"getEmbeddingLevels");var ue="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ee;function q(){if(!ee){var W=m(ue,!0),ce=W.map,ne=W.reverseMap;ne.forEach(function(V,we){ce.set(we,V)}),ee=ce}}f(q,"parse");function xe(W){return q(),ee.get(W)||null}f(xe,"getMirroredCharacter");function ye(W,ce,ne,V){var we=W.length;ne=Math.max(0,ne==null?0:+ne),V=Math.min(we-1,V==null?we-1:+V);for(var A=new Map,z=ne;z<=V;z++)if(ce[z]&1){var J=xe(W[z]);J!==null&&A.set(z,J)}return A}f(ye,"getMirroredCharactersMap");function re(W,ce,ne,V){var we=W.length;ne=Math.max(0,ne==null?0:+ne),V=Math.min(we-1,V==null?we-1:+V);var A=[];return ce.paragraphs.forEach(function(z){var J=Math.max(ne,z.start),he=Math.min(V,z.end);if(J<he){for(var me=ce.levels.slice(J,he+1),Z=he;Z>=J&&h(W[Z])&c;Z--)me[Z]=z.level;for(var fe=z.level,Se=1/0,Te=0;Te<me.length;Te++){var Pe=me[Te];Pe>fe&&(fe=Pe),Pe<Se&&(Se=Pe|1)}for(var Ae=fe;Ae>=Se;Ae--)for(var ge=0;ge<me.length;ge++)if(me[ge]>=Ae){for(var se=ge;ge+1<me.length&&me[ge+1]>=Ae;)ge++;ge>se&&A.push([se+ne,ge+ne])}}}),A}f(re,"getReorderSegments");function ae(W,ce,ne,V){var we=be(W,ce,ne,V),A=[].concat(W);return we.forEach(function(z,J){A[J]=(ce.levels[z]&1?xe(W[z]):null)||W[z]}),A.join("")}f(ae,"getReorderedString");function be(W,ce,ne,V){for(var we=re(W,ce,ne,V),A=[],z=0;z<W.length;z++)A[z]=z;return we.forEach(function(J){for(var he=J[0],me=J[1],Z=A.slice(he,me+1),fe=Z.length;fe--;)A[me-fe]=Z[fe]}),A}return f(be,"getReorderedIndices"),e.closingToOpeningBracket=T,e.getBidiCharType=h,e.getBidiCharTypeName=p,e.getCanonicalBracket=_,e.getEmbeddingLevels=Q,e.getMirroredCharacter=xe,e.getMirroredCharactersMap=ye,e.getReorderSegments=re,e.getReorderedIndices=be,e.getReorderedString=ae,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}f(yu,"bidiFactory");const ws=/\bvoid\s+main\s*\(\s*\)\s*{/g;function xo(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function o(i,n){let r=ac[n];return r?xo(r):i}return f(o,"replace"),t.replace(e,o)}f(xo,"expandShaderIncludes");const He=[];for(let t=0;t<256;t++)He[t]=(t<16?"0":"")+t.toString(16);function xu(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,o=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(He[t&255]+He[t>>8&255]+He[t>>16&255]+He[t>>24&255]+"-"+He[e&255]+He[e>>8&255]+"-"+He[e>>16&15|64]+He[e>>24&255]+"-"+He[o&63|128]+He[o>>8&255]+"-"+He[o>>16&255]+He[o>>24&255]+He[i&255]+He[i>>8&255]+He[i>>16&255]+He[i>>24&255]).toUpperCase()}f(xu,"generateUUID");const At=Object.assign||function(){let t=arguments[0];for(let e=1,o=arguments.length;e<o;e++){let i=arguments[e];if(i)for(let n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t},wu=Date.now(),Wi=new WeakMap,Vi=new Map;let Su=1e10;function wo(t,e){const o=Eu(e);let i=Wi.get(t);if(i||Wi.set(t,i=Object.create(null)),i[o])return new i[o];const n=`_onBeforeCompile${o}`,r=f(function(c){t.onBeforeCompile.call(this,c);const u=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=Vi[u];if(!d){const h=_u(c,e,o);d=Vi[u]=h}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,At(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-wu}}),this[n]&&this[n](c)},"onBeforeCompile"),a=f(function(){return s(e.chained?t:t.clone())},"DerivedMaterial"),s=f(function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:Su++}),u.uuid=xu(),u.uniforms=At({},c.uniforms,e.uniforms),u.defines=At({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${o}`]="",u.extensions=At({},c.extensions,e.extensions),u._listeners=void 0,u},"derive"),l={constructor:{value:a},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+o}},onBeforeCompile:{get(){return r},set(c){this[n]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(At(this.extensions,c.extensions),At(this.defines,c.defines),At(this.uniforms,rc.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=wo(t.isDerivedMaterial?t.getDepthMaterial():new nc({depthPacking:oc}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=wo(t.isDerivedMaterial?t.getDistanceMaterial():new ic,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return i[o]=a,new a}f(wo,"createDerivedMaterial");function _u({vertexShader:t,fragmentShader:e},o,i){let{vertexDefs:n,vertexMainIntro:r,vertexMainOutro:a,vertexTransform:s,fragmentDefs:l,fragmentMainIntro:c,fragmentMainOutro:u,fragmentColorTransform:d,customRewriter:h,timeUniform:p}=o;if(n=n||"",r=r||"",a=a||"",l=l||"",c=c||"",u=u||"",(s||h)&&(t=xo(t)),(d||h)&&(e=e.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),e=xo(e)),h){let y=h({vertexShader:t,fragmentShader:e});t=y.vertexShader,e=y.fragmentShader}if(d){let y=[];e=e.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,m=>(y.push(m),"")),u=`${d}
${y.join(`
`)}
${u}`}if(p){const y=`
uniform float ${p};
`;n=y+n,l=y+l}return s&&(t=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${t}
`,n=`${n}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,r=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${r}
`,t=t.replace(/\b(position|normal|uv)\b/g,(y,m,x,v)=>/\battribute\s+vec[23]\s+$/.test(v.substr(0,x))?m:`troika_${m}_${i}`)),t=Hi(t,i,n,r,a),e=Hi(e,i,l,c,u),{vertexShader:t,fragmentShader:e}}f(_u,"upgradeShaders");function Hi(t,e,o,i,n){return(i||n||o)&&(t=t.replace(ws,`
${o}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${i}
  troikaOrigMain${e}();
  ${n}
}`),t}f(Hi,"injectIntoShaderCode");function Tu(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}f(Tu,"optionsJsonReplacer");let ku=0;const Ki=new Map;function Eu(t){const e=JSON.stringify(t,Tu);let o=Ki.get(e);return o==null&&Ki.set(e,o=++ku),o}f(Eu,"getKeyForOptions");function Cu(t,e,o){const{defaultFontURL:i}=o,n=Object.create(null),r=1/0,a=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(v,g){function S(){const w=f(T=>{console.error(`Failure loading font ${v}${v===i?"":"; trying fallback"}`,T),v!==i&&(v=i,S())},"onError");try{const T=new XMLHttpRequest;T.open("get",v,!0),T.responseType="arraybuffer",T.onload=function(){if(T.status>=400)w(new Error(T.statusText));else if(T.status>0)try{const _=t(T.response);g(_)}catch(_){w(_)}},T.onerror=w,T.send()}catch(T){w(T)}}f(S,"tryLoad"),S()}f(l,"doLoadFont");function c(v,g){v||(v=i);let S=n[v];S?S.pending?S.pending.push(g):g(S):(n[v]={pending:[g]},l(v,w=>{let T=n[v].pending;n[v]=w,T.forEach(_=>_(w))}))}f(c,"loadFont");function u({text:v="",font:g=i,sdfGlyphSize:S=64,fontSize:w=1,letterSpacing:T=0,lineHeight:_="normal",maxWidth:C=r,direction:O,textAlign:$="left",textIndent:U=0,whiteSpace:M="normal",overflowWrap:k="normal",anchorX:D=0,anchorY:P=0,includeCaretPositions:N=!1,chunkedBoundsSize:I=8192,colorRanges:te=null},ie,L=!1){const K=y(),E={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,T=+T,C=+C,_=_||"normal",U=+U,c(g,B=>{const X=isFinite(C);let H=null,j=null,Y=null,F=null,G=null,Q=null,ue=null,ee=0,q=0,xe=M!=="nowrap";const{ascender:ye,descender:re,unitsPerEm:ae}=B;E.fontLoad=y()-K;const be=y(),W=w/ae;_==="normal"&&(_=(ye-re)/ae),_=_*w;const ce=(_-(ye-re)*W)/2,ne=-(ye*W+ce),V=Math.min(_,(ye-re)*W),we=(ye+re)/2*W-V/2;let A=U,z=new m;const J=[z];B.forEachGlyph(v,w,T,(Z,fe,Se)=>{const Te=v.charAt(Se),Pe=Z.advanceWidth*W,Ae=z.count;let ge;if("isEmpty"in Z||(Z.isWhitespace=!!Te&&/\s/.test(Te),Z.canBreakAfter=!!Te&&s.test(Te),Z.isEmpty=Z.xMin===Z.xMax||Z.yMin===Z.yMax||a.test(Te)),!Z.isWhitespace&&!Z.isEmpty&&q++,xe&&X&&!Z.isWhitespace&&fe+Pe+A>C&&Ae){if(z.glyphAt(Ae-1).glyphObj.canBreakAfter)ge=new m,A=-fe;else for(let Oe=Ae;Oe--;)if(Oe===0&&k==="break-word"){ge=new m,A=-fe;break}else if(z.glyphAt(Oe).glyphObj.canBreakAfter){ge=z.splitAt(Oe+1);const _e=ge.glyphAt(0).x;A-=_e;for(let qe=ge.count;qe--;)ge.glyphAt(qe).x-=_e;break}ge&&(z.isSoftWrapped=!0,z=ge,J.push(z),ee=C)}let se=z.glyphAt(z.count);se.glyphObj=Z,se.x=fe+A,se.width=Pe,se.charIndex=Se,Te===`
`&&(z=new m,J.push(z),A=-(fe+Pe+T*w)+U)}),J.forEach(Z=>{for(let fe=Z.count;fe--;){let{glyphObj:Se,x:Te,width:Pe}=Z.glyphAt(fe);if(!Se.isWhitespace){Z.width=Te+Pe,Z.width>ee&&(ee=Z.width);return}}});let he=0,me=0;if(D&&(typeof D=="number"?he=-D:typeof D=="string"&&(he=-ee*(D==="left"?0:D==="center"?.5:D==="right"?1:h(D)))),P){if(typeof P=="number")me=-P;else if(typeof P=="string"){let Z=J.length*_;me=P==="top"?0:P==="top-baseline"?-ne:P==="middle"?Z/2:P==="bottom"?Z:P==="bottom-baseline"?Z-ce+re*W:h(P)*Z}}if(!L){const Z=e.getEmbeddingLevels(v,O);H=new Uint16Array(q),j=new Float32Array(q*2),Y={},Q=[r,r,-r,-r],ue=[];let fe=ne;N&&(G=new Float32Array(v.length*3)),te&&(F=new Uint8Array(q*3));let Se=0,Te=-1,Pe=-1,Ae,ge;if(J.forEach((se,Oe)=>{let{count:_e,width:qe}=se;if(_e>0){let Le=0;for(let Ue=_e;Ue--&&se.glyphAt(Ue).glyphObj.isWhitespace;)Le++;let Be=0,kt=0;if($==="center")Be=(ee-qe)/2;else if($==="right")Be=ee-qe;else if($==="justify"&&se.isSoftWrapped){let Ue=0;for(let Ee=_e-Le;Ee--;)se.glyphAt(Ee).glyphObj.isWhitespace&&Ue++;kt=(ee-qe)/Ue}if(kt||Be){let Ue=0;for(let Ee=0;Ee<_e;Ee++){let We=se.glyphAt(Ee);const ot=We.glyphObj;We.x+=Be+Ue,kt!==0&&ot.isWhitespace&&Ee<_e-Le&&(Ue+=kt,We.width+=kt)}}const ar=e.getReorderSegments(v,Z,se.glyphAt(0).charIndex,se.glyphAt(se.count-1).charIndex);for(let Ue=0;Ue<ar.length;Ue++){const[Ee,We]=ar[Ue];let ot=1/0,Me=-1/0;for(let Je=0;Je<_e;Je++)if(se.glyphAt(Je).charIndex>=Ee){let vt=Je,Ve=Je;for(;Ve<_e;Ve++){let je=se.glyphAt(Ve);if(je.charIndex>We)break;Ve<_e-Le&&(ot=Math.min(ot,je.x),Me=Math.max(Me,je.x+je.width))}for(let je=vt;je<Ve;je++){const it=se.glyphAt(je);it.x=Me-(it.x+it.width-ot)}break}}let Ge;const sr=f(Ue=>Ge=Ue,"setGlyphObj");for(let Ue=0;Ue<_e;Ue++){let Ee=se.glyphAt(Ue);Ge=Ee.glyphObj;const We=Ge.index,ot=Z.levels[Ee.charIndex]&1;if(ot){const Me=e.getMirroredCharacter(v[Ee.charIndex]);Me&&B.forEachGlyph(Me,0,0,sr)}if(N){const{charIndex:Me}=Ee,Je=Ee.x+he,vt=Ee.x+Ee.width+he;G[Me*3]=ot?vt:Je,G[Me*3+1]=ot?Je:vt,G[Me*3+2]=fe+we+me;const Ve=Me-Te;Ve>1&&p(G,Te,Ve),Te=Me}if(te){const{charIndex:Me}=Ee;for(;Me>Pe;)Pe++,te.hasOwnProperty(Pe)&&(ge=te[Pe])}if(!Ge.isWhitespace&&!Ge.isEmpty){const Me=Se++;Y[We]||(Y[We]={path:Ge.path,pathBounds:[Ge.xMin,Ge.yMin,Ge.xMax,Ge.yMax]});const Je=Ee.x+he,vt=fe+me;j[Me*2]=Je,j[Me*2+1]=vt;const Ve=Je+Ge.xMin*W,je=vt+Ge.yMin*W,it=Je+Ge.xMax*W,Et=vt+Ge.yMax*W;Ve<Q[0]&&(Q[0]=Ve),je<Q[1]&&(Q[1]=je),it>Q[2]&&(Q[2]=it),Et>Q[3]&&(Q[3]=Et),Me%I===0&&(Ae={start:Me,end:Me,rect:[r,r,-r,-r]},ue.push(Ae)),Ae.end++;const ut=Ae.rect;if(Ve<ut[0]&&(ut[0]=Ve),je<ut[1]&&(ut[1]=je),it>ut[2]&&(ut[2]=it),Et>ut[3]&&(ut[3]=Et),H[Me]=We,te){const Ct=Me*3;F[Ct]=ge>>16&255,F[Ct+1]=ge>>8&255,F[Ct+2]=ge&255}}}}fe-=_}),G){const se=v.length-Te;se>1&&p(G,Te,se)}}E.typesetting=y()-be,ie({glyphIds:H,glyphPositions:j,glyphData:Y,caretPositions:G,caretHeight:V,glyphColors:F,chunkedBounds:ue,fontSize:w,unitsPerEm:ae,ascender:ye*W,descender:re*W,lineHeight:_,topBaseline:ne,blockBounds:[he,me-J.length*_,he+ee,me],visibleBounds:Q,timings:E})})}f(u,"typeset");function d(v,g){u(v,S=>{const[w,T,_,C]=S.blockBounds;g({width:_-w,height:C-T})},{metricsOnly:!0})}f(d,"measure");function h(v){let g=v.match(/^([\d.]+)%$/),S=g?parseFloat(g[1]):NaN;return isNaN(S)?0:S/100}f(h,"parsePercent");function p(v,g,S){const w=v[g*3],T=v[g*3+1],_=v[g*3+2],C=(T-w)/S;for(let O=0;O<S;O++){const $=(g+O)*3;v[$]=w+C*O,v[$+1]=w+C*(O+1),v[$+2]=_}}f(p,"fillLigatureCaretPositions");function y(){return(self.performance||Date).now()}f(y,"now");function m(){this.data=[]}f(m,"TextLine");const x=["glyphObj","x","width","charIndex"];return m.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(v){let g=m.flyweight;return g.data=this.data,g.index=v,g},splitAt(v){let g=new m;return g.data=this.data.splice(v*x.length),g}},m.flyweight=x.reduce((v,g,S,w)=>(Object.defineProperty(v,g,{get(){return this.data[this.index*x.length+S]},set(T){this.data[this.index*x.length+S]=T}}),v),{data:null,index:0}),{typeset:u,measure:d,loadFont:c}}f(Cu,"createTypesetter");const Mt=f(()=>(self.performance||Date).now(),"now"),Rn=xs();let Yi;function Ou(t,e,o,i,n,r,a,s,l,c,u=!0){return u?Ru(t,e,o,i,n,r,a,s,l,c).then(null,d=>(Yi||(console.warn("WebGL SDF generation failed, falling back to JS",d),Yi=!0),Xi(t,e,o,i,n,r,a,s,l,c))):Xi(t,e,o,i,n,r,a,s,l,c)}f(Ou,"generateSDF");const Ru=function(){const t=[];let o=0;function i(){const n=Mt();for(;t.length&&Mt()-n<5;)t.shift()();o=t.length?setTimeout(i,0):0}return f(i,"nextChunk"),(...n)=>{const r=St();return t.push(()=>{const a=Mt();try{Rn.webgl.generateIntoCanvas(...n),r.resolve({timing:Mt()-a})}catch(s){r.reject(s)}}),o||(o=setTimeout(i,0)),r}}(),Xi=function(){const o={};let i=0;return function(n,r,a,s,l,c,u,d,h,p){const y="TroikaTextSDFGenerator_JS_"+i++%4;let m=o[y];return m||(m=o[y]={workerModule:er({name:y,workerId:y,dependencies:[xs,Mt],init(x,v){const g=x().javascript.generate;return function(...S){const w=v();return{textureData:g(...S),timing:v()-w}}},getTransferables(x){return[x.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(n,r,a,s,l,c).then(({textureData:x,timing:v})=>{const g=Mt(),S=new Uint8Array(x.length*4);for(let w=0;w<x.length;w++)S[w*4+p]=x[w];return Rn.webglUtils.renderImageData(u,S,d,h,n,r,1<<3-p),v+=Mt()-g,--m.requests===0&&(m.idleTimer=setTimeout(()=>{vu(y)},2e3)),{timing:v}})}}();function Du(t){t._warm||(Rn.webgl.isSupported(t),t._warm=!0)}f(Du,"warmUpSDFCanvas");const Pu=Rn.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Au(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(n){var r=e._bin,a=new Uint8Array(n);if(r.readASCII(a,0,4)=="ttcf"){var s=4;r.readUshort(a,s),s+=2,r.readUshort(a,s),s+=2;var l=r.readUint(a,s);s+=4;for(var c=[],u=0;u<l;u++){var d=r.readUint(a,s);s+=4,c.push(e._readFont(a,d))}return c}return[e._readFont(a,0)]},_readFont:function(n,r){var a=e._bin,s=r;a.readFixed(n,r),r+=4;var l=a.readUshort(n,r);r+=2,a.readUshort(n,r),r+=2,a.readUshort(n,r),r+=2,a.readUshort(n,r),r+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:n,_offset:s},d={},h=0;h<l;h++){var p=a.readASCII(n,r,4);r+=4,a.readUint(n,r),r+=4;var y=a.readUint(n,r);r+=4;var m=a.readUint(n,r);r+=4,d[p]={offset:y,length:m}}for(h=0;h<c.length;h++){var x=c[h];d[x]&&(u[x.trim()]=e[x.trim()].parse(n,d[x].offset,d[x].length,u))}return u},_tabOffset:function(n,r,a){for(var s=e._bin,l=s.readUshort(n,a+4),c=a+12,u=0;u<l;u++){var d=s.readASCII(n,c,4);c+=4,s.readUint(n,c),c+=4;var h=s.readUint(n,c);if(c+=4,s.readUint(n,c),c+=4,d==r)return h}return 0}};e._bin={readFixed:function(n,r){return(n[r]<<8|n[r+1])+(n[r+2]<<8|n[r+3])/65540},readF2dot14:function(n,r){return e._bin.readShort(n,r)/16384},readInt:function(n,r){return e._bin._view(n).getInt32(r)},readInt8:function(n,r){return e._bin._view(n).getInt8(r)},readShort:function(n,r){return e._bin._view(n).getInt16(r)},readUshort:function(n,r){return e._bin._view(n).getUint16(r)},readUshorts:function(n,r,a){for(var s=[],l=0;l<a;l++)s.push(e._bin.readUshort(n,r+2*l));return s},readUint:function(n,r){return e._bin._view(n).getUint32(r)},readUint64:function(n,r){return 4294967296*e._bin.readUint(n,r)+e._bin.readUint(n,r+4)},readASCII:function(n,r,a){for(var s="",l=0;l<a;l++)s+=String.fromCharCode(n[r+l]);return s},readUnicode:function(n,r,a){for(var s="",l=0;l<a;l++){var c=n[r++]<<8|n[r++];s+=String.fromCharCode(c)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(n,r,a){var s=e._bin._tdec;return s&&r==0&&a==n.length?s.decode(n):e._bin.readASCII(n,r,a)},readBytes:function(n,r,a){for(var s=[],l=0;l<a;l++)s.push(n[r+l]);return s},readASCIIArray:function(n,r,a){for(var s=[],l=0;l<a;l++)s.push(String.fromCharCode(n[r+l]));return s},_view:function(n){return n._dataView||(n._dataView=n.buffer?new DataView(n.buffer,n.byteOffset,n.byteLength):new DataView(new Uint8Array(n).buffer))}},e._lctf={},e._lctf.parse=function(n,r,a,s,l){var c=e._bin,u={},d=r;c.readFixed(n,r),r+=4;var h=c.readUshort(n,r);r+=2;var p=c.readUshort(n,r);r+=2;var y=c.readUshort(n,r);return r+=2,u.scriptList=e._lctf.readScriptList(n,d+h),u.featureList=e._lctf.readFeatureList(n,d+p),u.lookupList=e._lctf.readLookupList(n,d+y,l),u},e._lctf.readLookupList=function(n,r,a){var s=e._bin,l=r,c=[],u=s.readUshort(n,r);r+=2;for(var d=0;d<u;d++){var h=s.readUshort(n,r);r+=2;var p=e._lctf.readLookupTable(n,l+h,a);c.push(p)}return c},e._lctf.readLookupTable=function(n,r,a){var s=e._bin,l=r,c={tabs:[]};c.ltype=s.readUshort(n,r),r+=2,c.flag=s.readUshort(n,r),r+=2;var u=s.readUshort(n,r);r+=2;for(var d=c.ltype,h=0;h<u;h++){var p=s.readUshort(n,r);r+=2;var y=a(n,d,l+p,c);c.tabs.push(y)}return c},e._lctf.numOfOnes=function(n){for(var r=0,a=0;a<32;a++)(n>>>a&1)!=0&&r++;return r},e._lctf.readClassDef=function(n,r){var a=e._bin,s=[],l=a.readUshort(n,r);if(r+=2,l==1){var c=a.readUshort(n,r);r+=2;var u=a.readUshort(n,r);r+=2;for(var d=0;d<u;d++)s.push(c+d),s.push(c+d),s.push(a.readUshort(n,r)),r+=2}if(l==2){var h=a.readUshort(n,r);for(r+=2,d=0;d<h;d++)s.push(a.readUshort(n,r)),r+=2,s.push(a.readUshort(n,r)),r+=2,s.push(a.readUshort(n,r)),r+=2}return s},e._lctf.getInterval=function(n,r){for(var a=0;a<n.length;a+=3){var s=n[a],l=n[a+1];if(n[a+2],s<=r&&r<=l)return a}return-1},e._lctf.readCoverage=function(n,r){var a=e._bin,s={};s.fmt=a.readUshort(n,r),r+=2;var l=a.readUshort(n,r);return r+=2,s.fmt==1&&(s.tab=a.readUshorts(n,r,l)),s.fmt==2&&(s.tab=a.readUshorts(n,r,3*l)),s},e._lctf.coverageIndex=function(n,r){var a=n.tab;if(n.fmt==1)return a.indexOf(r);if(n.fmt==2){var s=e._lctf.getInterval(a,r);if(s!=-1)return a[s+2]+(r-a[s])}return-1},e._lctf.readFeatureList=function(n,r){var a=e._bin,s=r,l=[],c=a.readUshort(n,r);r+=2;for(var u=0;u<c;u++){var d=a.readASCII(n,r,4);r+=4;var h=a.readUshort(n,r);r+=2;var p=e._lctf.readFeatureTable(n,s+h);p.tag=d.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(n,r){var a=e._bin,s=r,l={},c=a.readUshort(n,r);r+=2,c>0&&(l.featureParams=s+c);var u=a.readUshort(n,r);r+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(a.readUshort(n,r+2*d));return l},e._lctf.readScriptList=function(n,r){var a=e._bin,s=r,l={},c=a.readUshort(n,r);r+=2;for(var u=0;u<c;u++){var d=a.readASCII(n,r,4);r+=4;var h=a.readUshort(n,r);r+=2,l[d.trim()]=e._lctf.readScriptTable(n,s+h)}return l},e._lctf.readScriptTable=function(n,r){var a=e._bin,s=r,l={},c=a.readUshort(n,r);r+=2,l.default=e._lctf.readLangSysTable(n,s+c);var u=a.readUshort(n,r);r+=2;for(var d=0;d<u;d++){var h=a.readASCII(n,r,4);r+=4;var p=a.readUshort(n,r);r+=2,l[h.trim()]=e._lctf.readLangSysTable(n,s+p)}return l},e._lctf.readLangSysTable=function(n,r){var a=e._bin,s={};a.readUshort(n,r),r+=2,s.reqFeature=a.readUshort(n,r),r+=2;var l=a.readUshort(n,r);return r+=2,s.features=a.readUshorts(n,r,l),s},e.CFF={},e.CFF.parse=function(n,r,a){var s=e._bin;(n=new Uint8Array(n.buffer,r,a))[r=0],n[++r],n[++r],n[++r],r++;var l=[];r=e.CFF.readIndex(n,r,l);for(var c=[],u=0;u<l.length-1;u++)c.push(s.readASCII(n,r+l[u],l[u+1]-l[u]));r+=l[l.length-1];var d=[];r=e.CFF.readIndex(n,r,d);var h=[];for(u=0;u<d.length-1;u++)h.push(e.CFF.readDict(n,r+d[u],r+d[u+1]));r+=d[d.length-1];var p=h[0],y=[];r=e.CFF.readIndex(n,r,y);var m=[];for(u=0;u<y.length-1;u++)m.push(s.readASCII(n,r+y[u],y[u+1]-y[u]));if(r+=y[y.length-1],e.CFF.readSubrs(n,r,p),p.CharStrings){r=p.CharStrings,y=[],r=e.CFF.readIndex(n,r,y);var x=[];for(u=0;u<y.length-1;u++)x.push(s.readBytes(n,r+y[u],y[u+1]-y[u]));p.CharStrings=x}if(p.ROS){r=p.FDArray;var v=[];for(r=e.CFF.readIndex(n,r,v),p.FDArray=[],u=0;u<v.length-1;u++){var g=e.CFF.readDict(n,r+v[u],r+v[u+1]);e.CFF._readFDict(n,g,m),p.FDArray.push(g)}r+=v[v.length-1],r=p.FDSelect,p.FDSelect=[];var S=n[r];if(r++,S!=3)throw S;var w=s.readUshort(n,r);for(r+=2,u=0;u<w+1;u++)p.FDSelect.push(s.readUshort(n,r),n[r+2]),r+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(n,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(n,p.charset,p.CharStrings.length)),e.CFF._readFDict(n,p,m),p},e.CFF._readFDict=function(n,r,a){var s;for(var l in r.Private&&(s=r.Private[1],r.Private=e.CFF.readDict(n,s,s+r.Private[0]),r.Private.Subrs&&e.CFF.readSubrs(n,s+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(r[l]=a[r[l]-426+35])},e.CFF.readSubrs=function(n,r,a){var s=e._bin,l=[];r=e.CFF.readIndex(n,r,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var d=0;d<l.length-1;d++)a.Subrs.push(s.readBytes(n,r+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(n,r){for(var a=0;a<n.charset.length;a++)if(n.charset[a]==r)return a;return-1},e.CFF.glyphBySE=function(n,r){return r<0||r>255?-1:e.CFF.glyphByUnicode(n,e.CFF.tableSE[r])},e.CFF.readEncoding=function(n,r,a){e._bin;var s=[".notdef"],l=n[r];if(r++,l!=0)throw"error: unknown encoding format: "+l;var c=n[r];r++;for(var u=0;u<c;u++)s.push(n[r+u]);return s},e.CFF.readCharset=function(n,r,a){var s=e._bin,l=[".notdef"],c=n[r];if(r++,c==0)for(var u=0;u<a;u++){var d=s.readUshort(n,r);r+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){d=s.readUshort(n,r),r+=2;var h=0;for(c==1?(h=n[r],r++):(h=s.readUshort(n,r),r+=2),u=0;u<=h;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(n,r,a){var s=e._bin,l=s.readUshort(n,r)+1,c=n[r+=2];if(r++,c==1)for(var u=0;u<l;u++)a.push(n[r+u]);else if(c==2)for(u=0;u<l;u++)a.push(s.readUshort(n,r+2*u));else if(c==3)for(u=0;u<l;u++)a.push(16777215&s.readUint(n,r+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(r+=l*c)-1},e.CFF.getCharString=function(n,r,a){var s=e._bin,l=n[r],c=n[r+1];n[r+2],n[r+3],n[r+4];var u=1,d=null,h=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(h=s.readShort(n,r+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(h=l-139,u=1),247<=l&&l<=250&&(h=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(h=256*-(l-251)-c-108,u=2),l==255&&(h=s.readInt(n,r+1)/65535,u=5),a.val=h!=null?h:"o"+d,a.size=u},e.CFF.readCharString=function(n,r,a){for(var s=r+a,l=e._bin,c=[];r<s;){var u=n[r],d=n[r+1];n[r+2],n[r+3],n[r+4];var h=1,p=null,y=null;u<=20&&(p=u,h=1),u==12&&(p=100*u+d,h=2),u!=19&&u!=20||(p=u,h=2),21<=u&&u<=27&&(p=u,h=1),u==28&&(y=l.readShort(n,r+1),h=3),29<=u&&u<=31&&(p=u,h=1),32<=u&&u<=246&&(y=u-139,h=1),247<=u&&u<=250&&(y=256*(u-247)+d+108,h=2),251<=u&&u<=254&&(y=256*-(u-251)-d-108,h=2),u==255&&(y=l.readInt(n,r+1)/65535,h=5),c.push(y!=null?y:"o"+p),r+=h}return c},e.CFF.readDict=function(n,r,a){for(var s=e._bin,l={},c=[];r<a;){var u=n[r],d=n[r+1];n[r+2],n[r+3],n[r+4];var h=1,p=null,y=null;if(u==28&&(y=s.readShort(n,r+1),h=3),u==29&&(y=s.readInt(n,r+1),h=5),32<=u&&u<=246&&(y=u-139,h=1),247<=u&&u<=250&&(y=256*(u-247)+d+108,h=2),251<=u&&u<=254&&(y=256*-(u-251)-d-108,h=2),u==255)throw y=s.readInt(n,r+1)/65535,h=5,"unknown number";if(u==30){var m=[];for(h=1;;){var x=n[r+h];h++;var v=x>>4,g=15&x;if(v!=15&&m.push(v),g!=15&&m.push(g),g==15)break}for(var S="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],T=0;T<m.length;T++)S+=w[m[T]];y=parseFloat(S)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],h=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],h=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(y),r+=h}return l},e.cmap={},e.cmap.parse=function(n,r,a){n=new Uint8Array(n.buffer,r,a),r=0;var s=e._bin,l={};s.readUshort(n,r),r+=2;var c=s.readUshort(n,r);r+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var h=s.readUshort(n,r);r+=2;var p=s.readUshort(n,r);r+=2;var y=s.readUint(n,r);r+=4;var m="p"+h+"e"+p,x=u.indexOf(y);if(x==-1){var v;x=l.tables.length,u.push(y);var g=s.readUshort(n,y);g==0?v=e.cmap.parse0(n,y):g==4?v=e.cmap.parse4(n,y):g==6?v=e.cmap.parse6(n,y):g==12?v=e.cmap.parse12(n,y):console.debug("unknown format: "+g,h,p,y),l.tables.push(v)}if(l[m]!=null)throw"multiple tables for one platform+encoding";l[m]=x}return l},e.cmap.parse0=function(n,r){var a=e._bin,s={};s.format=a.readUshort(n,r),r+=2;var l=a.readUshort(n,r);r+=2,a.readUshort(n,r),r+=2,s.map=[];for(var c=0;c<l-6;c++)s.map.push(n[r+c]);return s},e.cmap.parse4=function(n,r){var a=e._bin,s=r,l={};l.format=a.readUshort(n,r),r+=2;var c=a.readUshort(n,r);r+=2,a.readUshort(n,r),r+=2;var u=a.readUshort(n,r);r+=2;var d=u/2;l.searchRange=a.readUshort(n,r),r+=2,l.entrySelector=a.readUshort(n,r),r+=2,l.rangeShift=a.readUshort(n,r),r+=2,l.endCount=a.readUshorts(n,r,d),r+=2*d,r+=2,l.startCount=a.readUshorts(n,r,d),r+=2*d,l.idDelta=[];for(var h=0;h<d;h++)l.idDelta.push(a.readShort(n,r)),r+=2;for(l.idRangeOffset=a.readUshorts(n,r,d),r+=2*d,l.glyphIdArray=[];r<s+c;)l.glyphIdArray.push(a.readUshort(n,r)),r+=2;return l},e.cmap.parse6=function(n,r){var a=e._bin,s={};s.format=a.readUshort(n,r),r+=2,a.readUshort(n,r),r+=2,a.readUshort(n,r),r+=2,s.firstCode=a.readUshort(n,r),r+=2;var l=a.readUshort(n,r);r+=2,s.glyphIdArray=[];for(var c=0;c<l;c++)s.glyphIdArray.push(a.readUshort(n,r)),r+=2;return s},e.cmap.parse12=function(n,r){var a=e._bin,s={};s.format=a.readUshort(n,r),r+=2,r+=2,a.readUint(n,r),r+=4,a.readUint(n,r),r+=4;var l=a.readUint(n,r);r+=4,s.groups=[];for(var c=0;c<l;c++){var u=r+12*c,d=a.readUint(n,u+0),h=a.readUint(n,u+4),p=a.readUint(n,u+8);s.groups.push([d,h,p])}return s},e.glyf={},e.glyf.parse=function(n,r,a,s){for(var l=[],c=0;c<s.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(n,r){var a=e._bin,s=n._data,l=e._tabOffset(s,"glyf",n._offset)+n.loca[r];if(n.loca[r]==n.loca[r+1])return null;var c={};if(c.noc=a.readShort(s,l),l+=2,c.xMin=a.readShort(s,l),l+=2,c.yMin=a.readShort(s,l),l+=2,c.xMax=a.readShort(s,l),l+=2,c.yMax=a.readShort(s,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(a.readUshort(s,l)),l+=2;var d=a.readUshort(s,l);if(l+=2,s.length-l<d)return null;c.instructions=a.readBytes(s,l,d),l+=d;var h=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<h;u++){var p=s[l];if(l++,c.flags.push(p),(8&p)!=0){var y=s[l];l++;for(var m=0;m<y;m++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<h;u++){var x=(2&c.flags[u])!=0,v=(16&c.flags[u])!=0;x?(c.xs.push(v?s[l]:-s[l]),l++):v?c.xs.push(0):(c.xs.push(a.readShort(s,l)),l+=2)}for(c.ys=[],u=0;u<h;u++)x=(4&c.flags[u])!=0,v=(32&c.flags[u])!=0,x?(c.ys.push(v?s[l]:-s[l]),l++):v?c.ys.push(0):(c.ys.push(a.readShort(s,l)),l+=2);var g=0,S=0;for(u=0;u<h;u++)g+=c.xs[u],S+=c.ys[u],c.xs[u]=g,c.ys[u]=S}else{var w;c.parts=[];do{w=a.readUshort(s,l),l+=2;var T={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(T),T.glyphIndex=a.readUshort(s,l),l+=2,1&w){var _=a.readShort(s,l);l+=2;var C=a.readShort(s,l);l+=2}else _=a.readInt8(s,l),l++,C=a.readInt8(s,l),l++;2&w?(T.m.tx=_,T.m.ty=C):(T.p1=_,T.p2=C),8&w?(T.m.a=T.m.d=a.readF2dot14(s,l),l+=2):64&w?(T.m.a=a.readF2dot14(s,l),l+=2,T.m.d=a.readF2dot14(s,l),l+=2):128&w&&(T.m.a=a.readF2dot14(s,l),l+=2,T.m.b=a.readF2dot14(s,l),l+=2,T.m.c=a.readF2dot14(s,l),l+=2,T.m.d=a.readF2dot14(s,l),l+=2)}while(32&w);if(256&w){var O=a.readUshort(s,l);for(l+=2,c.instr=[],u=0;u<O;u++)c.instr.push(s[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(n,r,a,s){return e._lctf.parse(n,r,a,s,e.GPOS.subt)},e.GPOS.subt=function(n,r,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(n,a),a+=2,r==1||r==2||r==3||r==7||r==8&&u.fmt<=2){var d=l.readUshort(n,a);a+=2,u.coverage=e._lctf.readCoverage(n,d+c)}if(r==1&&u.fmt==1){var h=l.readUshort(n,a);a+=2;var p=e._lctf.numOfOnes(h);h!=0&&(u.pos=e.GPOS.readValueRecord(n,a,h))}else if(r==2&&u.fmt>=1&&u.fmt<=2){h=l.readUshort(n,a),a+=2;var y=l.readUshort(n,a);a+=2,p=e._lctf.numOfOnes(h);var m=e._lctf.numOfOnes(y);if(u.fmt==1){u.pairsets=[];var x=l.readUshort(n,a);a+=2;for(var v=0;v<x;v++){var g=c+l.readUshort(n,a);a+=2;var S=l.readUshort(n,g);g+=2;for(var w=[],T=0;T<S;T++){var _=l.readUshort(n,g);g+=2,h!=0&&(k=e.GPOS.readValueRecord(n,g,h),g+=2*p),y!=0&&(D=e.GPOS.readValueRecord(n,g,y),g+=2*m),w.push({gid2:_,val1:k,val2:D})}u.pairsets.push(w)}}if(u.fmt==2){var C=l.readUshort(n,a);a+=2;var O=l.readUshort(n,a);a+=2;var $=l.readUshort(n,a);a+=2;var U=l.readUshort(n,a);for(a+=2,u.classDef1=e._lctf.readClassDef(n,c+C),u.classDef2=e._lctf.readClassDef(n,c+O),u.matrix=[],v=0;v<$;v++){var M=[];for(T=0;T<U;T++){var k=null,D=null;h!=0&&(k=e.GPOS.readValueRecord(n,a,h),a+=2*p),y!=0&&(D=e.GPOS.readValueRecord(n,a,y),a+=2*m),M.push({val1:k,val2:D})}u.matrix.push(M)}}}else{if(r==9&&u.fmt==1){var P=l.readUshort(n,a);a+=2;var N=l.readUint(n,a);if(a+=4,s.ltype==9)s.ltype=P;else if(s.ltype!=P)throw"invalid extension substitution";return e.GPOS.subt(n,s.ltype,c+N)}console.debug("unsupported GPOS table LookupType",r,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(n,r,a){var s=e._bin,l=[];return l.push(1&a?s.readShort(n,r):0),r+=1&a?2:0,l.push(2&a?s.readShort(n,r):0),r+=2&a?2:0,l.push(4&a?s.readShort(n,r):0),r+=4&a?2:0,l.push(8&a?s.readShort(n,r):0),r+=8&a?2:0,l},e.GSUB={},e.GSUB.parse=function(n,r,a,s){return e._lctf.parse(n,r,a,s,e.GSUB.subt)},e.GSUB.subt=function(n,r,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(n,a),a+=2,r!=1&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==4||r==5&&u.fmt<=2||r==6&&u.fmt<=2){var d=l.readUshort(n,a);a+=2,u.coverage=e._lctf.readCoverage(n,c+d)}if(r==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(n,a),a+=2;else if(u.fmt==2){var h=l.readUshort(n,a);a+=2,u.newg=l.readUshorts(n,a,h),a+=2*u.newg.length}}else if(r==4){u.vals=[],h=l.readUshort(n,a),a+=2;for(var p=0;p<h;p++){var y=l.readUshort(n,a);a+=2,u.vals.push(e.GSUB.readLigatureSet(n,c+y))}}else if(r==5&&u.fmt==2){if(u.fmt==2){var m=l.readUshort(n,a);a+=2,u.cDef=e._lctf.readClassDef(n,c+m),u.scset=[];var x=l.readUshort(n,a);for(a+=2,p=0;p<x;p++){var v=l.readUshort(n,a);a+=2,u.scset.push(v==0?null:e.GSUB.readSubClassSet(n,c+v))}}}else if(r==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){h=l.readUshort(n,a),a+=2;for(var g=[],S=0;S<h;S++)g.push(e._lctf.readCoverage(n,c+l.readUshort(n,a+2*S)));a+=2*h,p==0&&(u.backCvg=g),p==1&&(u.inptCvg=g),p==2&&(u.ahedCvg=g)}h=l.readUshort(n,a),a+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(n,a,h)}}else{if(r==7&&u.fmt==1){var w=l.readUshort(n,a);a+=2;var T=l.readUint(n,a);if(a+=4,s.ltype==9)s.ltype=w;else if(s.ltype!=w)throw"invalid extension substitution";return e.GSUB.subt(n,s.ltype,c+T)}console.debug("unsupported GSUB table LookupType",r,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(n,r){var a=e._bin.readUshort,s=r,l=[],c=a(n,r);r+=2;for(var u=0;u<c;u++){var d=a(n,r);r+=2,l.push(e.GSUB.readSubClassRule(n,s+d))}return l},e.GSUB.readSubClassRule=function(n,r){var a=e._bin.readUshort,s={},l=a(n,r),c=a(n,r+=2);r+=2,s.input=[];for(var u=0;u<l-1;u++)s.input.push(a(n,r)),r+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(n,r,c),s},e.GSUB.readSubstLookupRecords=function(n,r,a){for(var s=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(s(n,r),s(n,r+2)),r+=4;return l},e.GSUB.readChainSubClassSet=function(n,r){var a=e._bin,s=r,l=[],c=a.readUshort(n,r);r+=2;for(var u=0;u<c;u++){var d=a.readUshort(n,r);r+=2,l.push(e.GSUB.readChainSubClassRule(n,s+d))}return l},e.GSUB.readChainSubClassRule=function(n,r){for(var a=e._bin,s={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=a.readUshort(n,r);r+=2,c==1&&u--,s[l[c]]=a.readUshorts(n,r,u),r+=2*s[l[c]].length}return u=a.readUshort(n,r),r+=2,s.subst=a.readUshorts(n,r,2*u),r+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(n,r){var a=e._bin,s=r,l=[],c=a.readUshort(n,r);r+=2;for(var u=0;u<c;u++){var d=a.readUshort(n,r);r+=2,l.push(e.GSUB.readLigature(n,s+d))}return l},e.GSUB.readLigature=function(n,r){var a=e._bin,s={chain:[]};s.nglyph=a.readUshort(n,r),r+=2;var l=a.readUshort(n,r);r+=2;for(var c=0;c<l-1;c++)s.chain.push(a.readUshort(n,r)),r+=2;return s},e.head={},e.head.parse=function(n,r,a){var s=e._bin,l={};return s.readFixed(n,r),r+=4,l.fontRevision=s.readFixed(n,r),r+=4,s.readUint(n,r),r+=4,s.readUint(n,r),r+=4,l.flags=s.readUshort(n,r),r+=2,l.unitsPerEm=s.readUshort(n,r),r+=2,l.created=s.readUint64(n,r),r+=8,l.modified=s.readUint64(n,r),r+=8,l.xMin=s.readShort(n,r),r+=2,l.yMin=s.readShort(n,r),r+=2,l.xMax=s.readShort(n,r),r+=2,l.yMax=s.readShort(n,r),r+=2,l.macStyle=s.readUshort(n,r),r+=2,l.lowestRecPPEM=s.readUshort(n,r),r+=2,l.fontDirectionHint=s.readShort(n,r),r+=2,l.indexToLocFormat=s.readShort(n,r),r+=2,l.glyphDataFormat=s.readShort(n,r),r+=2,l},e.hhea={},e.hhea.parse=function(n,r,a){var s=e._bin,l={};return s.readFixed(n,r),r+=4,l.ascender=s.readShort(n,r),r+=2,l.descender=s.readShort(n,r),r+=2,l.lineGap=s.readShort(n,r),r+=2,l.advanceWidthMax=s.readUshort(n,r),r+=2,l.minLeftSideBearing=s.readShort(n,r),r+=2,l.minRightSideBearing=s.readShort(n,r),r+=2,l.xMaxExtent=s.readShort(n,r),r+=2,l.caretSlopeRise=s.readShort(n,r),r+=2,l.caretSlopeRun=s.readShort(n,r),r+=2,l.caretOffset=s.readShort(n,r),r+=2,r+=8,l.metricDataFormat=s.readShort(n,r),r+=2,l.numberOfHMetrics=s.readUshort(n,r),r+=2,l},e.hmtx={},e.hmtx.parse=function(n,r,a,s){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,h=0;h<s.maxp.numGlyphs;h++)h<s.hhea.numberOfHMetrics&&(u=l.readUshort(n,r),r+=2,d=l.readShort(n,r),r+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(n,r,a,s){var l=e._bin,c=l.readUshort(n,r);if(r+=2,c==1)return e.kern.parseV1(n,r-2,a,s);var u=l.readUshort(n,r);r+=2;for(var d={glyph1:[],rval:[]},h=0;h<u;h++){r+=2,a=l.readUshort(n,r),r+=2;var p=l.readUshort(n,r);r+=2;var y=p>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;r=e.kern.readFormat0(n,r,d)}return d},e.kern.parseV1=function(n,r,a,s){var l=e._bin;l.readFixed(n,r),r+=4;var c=l.readUint(n,r);r+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(n,r),r+=4;var h=l.readUshort(n,r);r+=2,l.readUshort(n,r),r+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;r=e.kern.readFormat0(n,r,u)}return u},e.kern.readFormat0=function(n,r,a){var s=e._bin,l=-1,c=s.readUshort(n,r);r+=2,s.readUshort(n,r),r+=2,s.readUshort(n,r),r+=2,s.readUshort(n,r),r+=2;for(var u=0;u<c;u++){var d=s.readUshort(n,r);r+=2;var h=s.readUshort(n,r);r+=2;var p=s.readShort(n,r);r+=2,d!=l&&(a.glyph1.push(d),a.rval.push({glyph2:[],vals:[]}));var y=a.rval[a.rval.length-1];y.glyph2.push(h),y.vals.push(p),l=d}return r},e.loca={},e.loca.parse=function(n,r,a,s){var l=e._bin,c=[],u=s.head.indexToLocFormat,d=s.maxp.numGlyphs+1;if(u==0)for(var h=0;h<d;h++)c.push(l.readUshort(n,r+(h<<1))<<1);if(u==1)for(h=0;h<d;h++)c.push(l.readUint(n,r+(h<<2)));return c},e.maxp={},e.maxp.parse=function(n,r,a){var s=e._bin,l={},c=s.readUint(n,r);return r+=4,l.numGlyphs=s.readUshort(n,r),r+=2,c==65536&&(l.maxPoints=s.readUshort(n,r),r+=2,l.maxContours=s.readUshort(n,r),r+=2,l.maxCompositePoints=s.readUshort(n,r),r+=2,l.maxCompositeContours=s.readUshort(n,r),r+=2,l.maxZones=s.readUshort(n,r),r+=2,l.maxTwilightPoints=s.readUshort(n,r),r+=2,l.maxStorage=s.readUshort(n,r),r+=2,l.maxFunctionDefs=s.readUshort(n,r),r+=2,l.maxInstructionDefs=s.readUshort(n,r),r+=2,l.maxStackElements=s.readUshort(n,r),r+=2,l.maxSizeOfInstructions=s.readUshort(n,r),r+=2,l.maxComponentElements=s.readUshort(n,r),r+=2,l.maxComponentDepth=s.readUshort(n,r),r+=2),l},e.name={},e.name.parse=function(n,r,a){var s=e._bin,l={};s.readUshort(n,r),r+=2;var c=s.readUshort(n,r);r+=2,s.readUshort(n,r);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=r+=2,p=0;p<c;p++){var y=s.readUshort(n,r);r+=2;var m=s.readUshort(n,r);r+=2;var x=s.readUshort(n,r);r+=2;var v=s.readUshort(n,r);r+=2;var g=s.readUshort(n,r);r+=2;var S=s.readUshort(n,r);r+=2;var w,T=d[v],_=h+12*c+S;if(y==0)w=s.readUnicode(n,_,g/2);else if(y==3&&m==0)w=s.readUnicode(n,_,g/2);else if(m==0)w=s.readASCII(n,_,g);else if(m==1)w=s.readUnicode(n,_,g/2);else if(m==3)w=s.readUnicode(n,_,g/2);else{if(y!=1)throw"unknown encoding "+m+", platformID: "+y;w=s.readASCII(n,_,g),console.debug("reading unknown MAC encoding "+m+" as ASCII")}var C="p"+y+","+x.toString(16);l[C]==null&&(l[C]={}),l[C][T!==void 0?T:v]=w,l[C]._lang=x}for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==1033)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==0)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==3084)return l[O];for(var O in l)if(l[O].postScriptName!=null)return l[O];for(var O in l){u=O;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(n,r,a){var s=e._bin.readUshort(n,r);r+=2;var l={};if(s==0)e["OS/2"].version0(n,r,l);else if(s==1)e["OS/2"].version1(n,r,l);else if(s==2||s==3||s==4)e["OS/2"].version2(n,r,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(n,r,l)}return l},e["OS/2"].version0=function(n,r,a){var s=e._bin;return a.xAvgCharWidth=s.readShort(n,r),r+=2,a.usWeightClass=s.readUshort(n,r),r+=2,a.usWidthClass=s.readUshort(n,r),r+=2,a.fsType=s.readUshort(n,r),r+=2,a.ySubscriptXSize=s.readShort(n,r),r+=2,a.ySubscriptYSize=s.readShort(n,r),r+=2,a.ySubscriptXOffset=s.readShort(n,r),r+=2,a.ySubscriptYOffset=s.readShort(n,r),r+=2,a.ySuperscriptXSize=s.readShort(n,r),r+=2,a.ySuperscriptYSize=s.readShort(n,r),r+=2,a.ySuperscriptXOffset=s.readShort(n,r),r+=2,a.ySuperscriptYOffset=s.readShort(n,r),r+=2,a.yStrikeoutSize=s.readShort(n,r),r+=2,a.yStrikeoutPosition=s.readShort(n,r),r+=2,a.sFamilyClass=s.readShort(n,r),r+=2,a.panose=s.readBytes(n,r,10),r+=10,a.ulUnicodeRange1=s.readUint(n,r),r+=4,a.ulUnicodeRange2=s.readUint(n,r),r+=4,a.ulUnicodeRange3=s.readUint(n,r),r+=4,a.ulUnicodeRange4=s.readUint(n,r),r+=4,a.achVendID=[s.readInt8(n,r),s.readInt8(n,r+1),s.readInt8(n,r+2),s.readInt8(n,r+3)],r+=4,a.fsSelection=s.readUshort(n,r),r+=2,a.usFirstCharIndex=s.readUshort(n,r),r+=2,a.usLastCharIndex=s.readUshort(n,r),r+=2,a.sTypoAscender=s.readShort(n,r),r+=2,a.sTypoDescender=s.readShort(n,r),r+=2,a.sTypoLineGap=s.readShort(n,r),r+=2,a.usWinAscent=s.readUshort(n,r),r+=2,a.usWinDescent=s.readUshort(n,r),r+=2},e["OS/2"].version1=function(n,r,a){var s=e._bin;return r=e["OS/2"].version0(n,r,a),a.ulCodePageRange1=s.readUint(n,r),r+=4,a.ulCodePageRange2=s.readUint(n,r),r+=4},e["OS/2"].version2=function(n,r,a){var s=e._bin;return r=e["OS/2"].version1(n,r,a),a.sxHeight=s.readShort(n,r),r+=2,a.sCapHeight=s.readShort(n,r),r+=2,a.usDefault=s.readUshort(n,r),r+=2,a.usBreak=s.readUshort(n,r),r+=2,a.usMaxContext=s.readUshort(n,r),r+=2},e["OS/2"].version5=function(n,r,a){var s=e._bin;return r=e["OS/2"].version2(n,r,a),a.usLowerOpticalPointSize=s.readUshort(n,r),r+=2,a.usUpperOpticalPointSize=s.readUshort(n,r),r+=2},e.post={},e.post.parse=function(n,r,a){var s=e._bin,l={};return l.version=s.readFixed(n,r),r+=4,l.italicAngle=s.readFixed(n,r),r+=4,l.underlinePosition=s.readShort(n,r),r+=2,l.underlineThickness=s.readShort(n,r),r+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(n,r){var a=n.cmap,s=-1;if(a.p0e4!=null?s=a.p0e4:a.p3e1!=null?s=a.p3e1:a.p1e0!=null?s=a.p1e0:a.p0e3!=null&&(s=a.p0e3),s==-1)throw"no familiar platform and encoding!";var l=a.tables[s];if(l.format==0)return r>=l.map.length?0:l.map[r];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(r<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>r?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[r-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:r+l.idDelta[c])}if(l.format==12){if(r>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=r&&r<=d[1])return d[2]+(r-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(n,r){var a={cmds:[],crds:[]};if(n.SVG&&n.SVG.entries[r]){var s=n.SVG.entries[r];return s==null?a:(typeof s=="string"&&(s=e.SVG.toPath(s),n.SVG.entries[r]=s),s)}if(n.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:n.CFF.Private?n.CFF.Private.defaultWidthX:0,open:!1},c=n.CFF,u=n.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=r;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(n.CFF.CharStrings[r],l,c,u,a)}else n.glyf&&e.U._drawGlyf(r,n,a);return a},e.U._drawGlyf=function(n,r,a){var s=r.glyf[n];s==null&&(s=r.glyf[n]=e.glyf._parseGlyf(r,n)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,a):e.U._compoGlyph(s,r,a))},e.U._simpleGlyph=function(n,r){for(var a=0;a<n.noc;a++){for(var s=a==0?0:n.endPts[a-1]+1,l=n.endPts[a],c=s;c<=l;c++){var u=c==s?l:c-1,d=c==l?s:c+1,h=1&n.flags[c],p=1&n.flags[u],y=1&n.flags[d],m=n.xs[c],x=n.ys[c];if(c==s)if(h){if(!p){e.U.P.moveTo(r,m,x);continue}e.U.P.moveTo(r,n.xs[u],n.ys[u])}else p?e.U.P.moveTo(r,n.xs[u],n.ys[u]):e.U.P.moveTo(r,(n.xs[u]+m)/2,(n.ys[u]+x)/2);h?p&&e.U.P.lineTo(r,m,x):y?e.U.P.qcurveTo(r,m,x,n.xs[d],n.ys[d]):e.U.P.qcurveTo(r,m,x,(m+n.xs[d])/2,(x+n.ys[d])/2)}e.U.P.closePath(r)}},e.U._compoGlyph=function(n,r,a){for(var s=0;s<n.parts.length;s++){var l={cmds:[],crds:[]},c=n.parts[s];e.U._drawGlyf(c.glyphIndex,r,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var h=l.crds[d],p=l.crds[d+1];a.crds.push(h*u.a+p*u.b+u.tx),a.crds.push(h*u.c+p*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)a.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(n,r){var a=e._lctf.getInterval(r,n);return a==-1?0:r[a+2]},e.U.getPairAdjustment=function(n,r,a){var s=0,l=!1;if(n.GPOS)for(var c=n.GPOS,u=c.lookupList,d=c.featureList,h=[],p=0;p<d.length;p++){var y=d[p];if(y.tag=="kern"){l=!0;for(var m=0;m<y.tab.length;m++)if(!h[y.tab[m]]){h[y.tab[m]]=!0;for(var x=u[y.tab[m]],v=0;v<x.tabs.length;v++)if(x.tabs[v]!=null){var g,S=x.tabs[v];if((!S.coverage||(g=e._lctf.coverageIndex(S.coverage,r))!=-1)&&x.ltype!=1){if(x.ltype==2){var w;if(S.fmt==1){var T=S.pairsets[g];for(p=0;p<T.length;p++)T[p].gid2==a&&(w=T[p])}else if(S.fmt==2){var _=e.U._getGlyphClass(r,S.classDef1),C=e.U._getGlyphClass(a,S.classDef2);w=S.matrix[_][C]}w&&w.val1&&w.val1[2]&&(s+=w.val1[2]),w&&w.val2&&w.val2[0]&&(s+=w.val2[0])}}}}}}if(n.kern&&!l){var O=n.kern.glyph1.indexOf(r);if(O!=-1){var $=n.kern.rval[O].glyph2.indexOf(a);$!=-1&&(s+=n.kern.rval[O].vals[$])}}return s},e.U._applySubs=function(n,r,a,s){for(var l=n.length-r-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var u,d=a.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,n[r]))!=-1){if(a.ltype==1)n[r],d.fmt==1?n[r]=n[r]+d.delta:n[r]=d.newg[u];else if(a.ltype==4)for(var h=d.vals[u],p=0;p<h.length;p++){var y=h[p],m=y.chain.length;if(!(m>l)){for(var x=!0,v=0,g=0;g<m;g++){for(;n[r+v+(1+g)]==-1;)v++;y.chain[g]!=n[r+v+(1+g)]&&(x=!1)}if(x){for(n[r]=y.nglyph,g=0;g<m+v;g++)n[r+g+1]=-1;break}}}else if(a.ltype==5&&d.fmt==2)for(var S=e._lctf.getInterval(d.cDef,n[r]),w=d.cDef[S+2],T=d.scset[w],_=0;_<T.length;_++){var C=T[_],O=C.input;if(!(O.length>l)){for(x=!0,g=0;g<O.length;g++){var $=e._lctf.getInterval(d.cDef,n[r+1+g]);if(S==-1&&d.cDef[$+2]!=O[g]){x=!1;break}}if(x){var U=C.substLookupRecords;for(p=0;p<U.length;p+=2)U[p],U[p+1]}}}else if(a.ltype==6&&d.fmt==3){if(!e.U._glsCovered(n,d.backCvg,r-d.backCvg.length)||!e.U._glsCovered(n,d.inptCvg,r)||!e.U._glsCovered(n,d.ahedCvg,r+d.inptCvg.length))continue;var M=d.lookupRec;for(_=0;_<M.length;_+=2){S=M[_];var k=s[M[_+1]];e.U._applySubs(n,r+S,k,s)}}}}},e.U._glsCovered=function(n,r,a){for(var s=0;s<r.length;s++)if(e._lctf.coverageIndex(r[s],n[a+s])==-1)return!1;return!0},e.U.glyphsToPath=function(n,r,a){for(var s={cmds:[],crds:[]},l=0,c=0;c<r.length;c++){var u=r[c];if(u!=-1){for(var d=c<r.length-1&&r[c+1]!=-1?r[c+1]:0,h=e.U.glyphToPath(n,u),p=0;p<h.crds.length;p+=2)s.crds.push(h.crds[p]+l),s.crds.push(h.crds[p+1]);for(a&&s.cmds.push(a),p=0;p<h.cmds.length;p++)s.cmds.push(h.cmds[p]);a&&s.cmds.push("X"),l+=n.hmtx.aWidth[u],c<r.length-1&&(l+=e.U.getPairAdjustment(n,u,d))}}return s},e.U.P={},e.U.P.moveTo=function(n,r,a){n.cmds.push("M"),n.crds.push(r,a)},e.U.P.lineTo=function(n,r,a){n.cmds.push("L"),n.crds.push(r,a)},e.U.P.curveTo=function(n,r,a,s,l,c,u){n.cmds.push("C"),n.crds.push(r,a,s,l,c,u)},e.U.P.qcurveTo=function(n,r,a,s,l){n.cmds.push("Q"),n.crds.push(r,a,s,l)},e.U.P.closePath=function(n){n.cmds.push("Z")},e.U._drawCFF=function(n,r,a,s,l){for(var c=r.stack,u=r.nStems,d=r.haveWidth,h=r.width,p=r.open,y=0,m=r.x,x=r.y,v=0,g=0,S=0,w=0,T=0,_=0,C=0,O=0,$=0,U=0,M={val:0,size:0};y<n.length;){e.CFF.getCharString(n,y,M);var k=M.val;if(y+=M.size,k=="o1"||k=="o18")c.length%2!=0&&!d&&(h=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(k=="o3"||k=="o23")c.length%2!=0&&!d&&(h=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(k=="o4")c.length>1&&!d&&(h=c.shift()+s.nominalWidthX,d=!0),p&&e.U.P.closePath(l),x+=c.pop(),e.U.P.moveTo(l,m,x),p=!0;else if(k=="o5")for(;c.length>0;)m+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,m,x);else if(k=="o6"||k=="o7")for(var D=c.length,P=k=="o6",N=0;N<D;N++){var I=c.shift();P?m+=I:x+=I,P=!P,e.U.P.lineTo(l,m,x)}else if(k=="o8"||k=="o24"){D=c.length;for(var te=0;te+6<=D;)v=m+c.shift(),g=x+c.shift(),S=v+c.shift(),w=g+c.shift(),m=S+c.shift(),x=w+c.shift(),e.U.P.curveTo(l,v,g,S,w,m,x),te+=6;k=="o24"&&(m+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,m,x))}else{if(k=="o11")break;if(k=="o1234"||k=="o1235"||k=="o1236"||k=="o1237")k=="o1234"&&(g=x,S=(v=m+c.shift())+c.shift(),U=w=g+c.shift(),_=w,O=x,m=(C=(T=($=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,v,g,S,w,$,U),e.U.P.curveTo(l,T,_,C,O,m,x)),k=="o1235"&&(v=m+c.shift(),g=x+c.shift(),S=v+c.shift(),w=g+c.shift(),$=S+c.shift(),U=w+c.shift(),T=$+c.shift(),_=U+c.shift(),C=T+c.shift(),O=_+c.shift(),m=C+c.shift(),x=O+c.shift(),c.shift(),e.U.P.curveTo(l,v,g,S,w,$,U),e.U.P.curveTo(l,T,_,C,O,m,x)),k=="o1236"&&(v=m+c.shift(),g=x+c.shift(),S=v+c.shift(),U=w=g+c.shift(),_=w,C=(T=($=S+c.shift())+c.shift())+c.shift(),O=_+c.shift(),m=C+c.shift(),e.U.P.curveTo(l,v,g,S,w,$,U),e.U.P.curveTo(l,T,_,C,O,m,x)),k=="o1237"&&(v=m+c.shift(),g=x+c.shift(),S=v+c.shift(),w=g+c.shift(),$=S+c.shift(),U=w+c.shift(),T=$+c.shift(),_=U+c.shift(),C=T+c.shift(),O=_+c.shift(),Math.abs(C-m)>Math.abs(O-x)?m=C+c.shift():x=O+c.shift(),e.U.P.curveTo(l,v,g,S,w,$,U),e.U.P.curveTo(l,T,_,C,O,m,x));else if(k=="o14"){if(c.length>0&&!d&&(h=c.shift()+a.nominalWidthX,d=!0),c.length==4){var ie=c.shift(),L=c.shift(),K=c.shift(),E=c.shift(),B=e.CFF.glyphBySE(a,K),X=e.CFF.glyphBySE(a,E);e.U._drawCFF(a.CharStrings[B],r,a,s,l),r.x=ie,r.y=L,e.U._drawCFF(a.CharStrings[X],r,a,s,l)}p&&(e.U.P.closePath(l),p=!1)}else if(k=="o19"||k=="o20")c.length%2!=0&&!d&&(h=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,y+=u+7>>3;else if(k=="o21")c.length>2&&!d&&(h=c.shift()+s.nominalWidthX,d=!0),x+=c.pop(),m+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,m,x),p=!0;else if(k=="o22")c.length>1&&!d&&(h=c.shift()+s.nominalWidthX,d=!0),m+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,m,x),p=!0;else if(k=="o25"){for(;c.length>6;)m+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,m,x);v=m+c.shift(),g=x+c.shift(),S=v+c.shift(),w=g+c.shift(),m=S+c.shift(),x=w+c.shift(),e.U.P.curveTo(l,v,g,S,w,m,x)}else if(k=="o26")for(c.length%2&&(m+=c.shift());c.length>0;)v=m,g=x+c.shift(),m=S=v+c.shift(),x=(w=g+c.shift())+c.shift(),e.U.P.curveTo(l,v,g,S,w,m,x);else if(k=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)g=x,S=(v=m+c.shift())+c.shift(),w=g+c.shift(),m=S+c.shift(),x=w,e.U.P.curveTo(l,v,g,S,w,m,x);else if(k=="o10"||k=="o29"){var H=k=="o10"?s:a;if(c.length==0)console.debug("error: empty stack");else{var j=c.pop(),Y=H.Subrs[j+H.Bias];r.x=m,r.y=x,r.nStems=u,r.haveWidth=d,r.width=h,r.open=p,e.U._drawCFF(Y,r,a,s,l),m=r.x,x=r.y,u=r.nStems,d=r.haveWidth,h=r.width,p=r.open}}else if(k=="o30"||k=="o31"){var F=c.length,G=(te=0,k=="o31");for(te+=F-(D=-3&F);te<D;)G?(g=x,S=(v=m+c.shift())+c.shift(),x=(w=g+c.shift())+c.shift(),D-te==5?(m=S+c.shift(),te++):m=S,G=!1):(v=m,g=x+c.shift(),S=v+c.shift(),w=g+c.shift(),m=S+c.shift(),D-te==5?(x=w+c.shift(),te++):x=w,G=!0),e.U.P.curveTo(l,v,g,S,w,m,x),te+=4}else{if((k+"").charAt(0)=="o")throw console.debug("Unknown operation: "+k,n),k;c.push(k)}}}r.x=m,r.y=x,r.nStems=u,r.haveWidth=d,r.width=h,r.open=p};var o=e,i={Typr:o};return t.Typr=o,t.default=i,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}f(Au,"typrFactory");/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Uu(){return function(t){var e=Uint8Array,o=Uint16Array,i=Uint32Array,n=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=f(function(k,D){for(var P=new o(31),N=0;N<31;++N)P[N]=D+=1<<k[N-1];var I=new i(P[30]);for(N=1;N<30;++N)for(var te=P[N];te<P[N+1];++te)I[te]=te-P[N]<<5|N;return[P,I]},"f"),l=s(n,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=s(r,0)[0],h=new o(32768),p=0;p<32768;++p){var y=(43690&p)>>>1|(21845&p)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,h[p]=((65280&y)>>>8|(255&y)<<8)>>>1}var m=f(function(k,D,P){for(var N=k.length,I=0,te=new o(D);I<N;++I)++te[k[I]-1];var ie,L=new o(D);for(I=0;I<D;++I)L[I]=L[I-1]+te[I-1]<<1;if(P){ie=new o(1<<D);var K=15-D;for(I=0;I<N;++I)if(k[I])for(var E=I<<4|k[I],B=D-k[I],X=L[k[I]-1]++<<B,H=X|(1<<B)-1;X<=H;++X)ie[h[X]>>>K]=E}else for(ie=new o(N),I=0;I<N;++I)k[I]&&(ie[I]=h[L[k[I]-1]++]>>>15-k[I]);return ie},"w"),x=new e(288);for(p=0;p<144;++p)x[p]=8;for(p=144;p<256;++p)x[p]=9;for(p=256;p<280;++p)x[p]=7;for(p=280;p<288;++p)x[p]=8;var v=new e(32);for(p=0;p<32;++p)v[p]=5;var g=m(x,9,1),S=m(v,5,1),w=f(function(k){for(var D=k[0],P=1;P<k.length;++P)k[P]>D&&(D=k[P]);return D},"y"),T=f(function(k,D,P){var N=D/8|0;return(k[N]|k[N+1]<<8)>>(7&D)&P},"L"),_=f(function(k,D){var P=D/8|0;return(k[P]|k[P+1]<<8|k[P+2]<<16)>>(7&D)},"U"),C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=f(function(k,D,P){var N=new Error(D||C[k]);if(N.code=k,Error.captureStackTrace&&Error.captureStackTrace(N,O),!P)throw N;return N},"T"),$=f(function(k,D,P){var N=k.length;if(!N||P&&!P.l&&N<5)return D||new e(0);var I=!D||P,te=!P||P.i;P||(P={}),D||(D=new e(3*N));var ie,L=f(function(se){var Oe=D.length;if(se>Oe){var _e=new e(Math.max(2*Oe,se));_e.set(D),D=_e}},"d"),K=P.f||0,E=P.p||0,B=P.b||0,X=P.l,H=P.d,j=P.m,Y=P.n,F=8*N;do{if(!X){P.f=K=T(k,E,1);var G=T(k,E+1,3);if(E+=3,!G){var Q=k[(ne=((ie=E)/8|0)+(7&ie&&1)+4)-4]|k[ne-3]<<8,ue=ne+Q;if(ue>N){te&&O(0);break}I&&L(B+Q),D.set(k.subarray(ne,ue),B),P.b=B+=Q,P.p=E=8*ue;continue}if(G==1)X=g,H=S,j=9,Y=5;else if(G==2){var ee=T(k,E,31)+257,q=T(k,E+10,15)+4,xe=ee+T(k,E+5,31)+1;E+=14;for(var ye=new e(xe),re=new e(19),ae=0;ae<q;++ae)re[a[ae]]=T(k,E+3*ae,7);E+=3*q;var be=w(re),W=(1<<be)-1,ce=m(re,be,1);for(ae=0;ae<xe;){var ne,V=ce[T(k,E,W)];if(E+=15&V,(ne=V>>>4)<16)ye[ae++]=ne;else{var we=0,A=0;for(ne==16?(A=3+T(k,E,3),E+=2,we=ye[ae-1]):ne==17?(A=3+T(k,E,7),E+=3):ne==18&&(A=11+T(k,E,127),E+=7);A--;)ye[ae++]=we}}var z=ye.subarray(0,ee),J=ye.subarray(ee);j=w(z),Y=w(J),X=m(z,j,1),H=m(J,Y,1)}else O(1);if(E>F){te&&O(0);break}}I&&L(B+131072);for(var he=(1<<j)-1,me=(1<<Y)-1,Z=E;;Z=E){var fe=(we=X[_(k,E)&he])>>>4;if((E+=15&we)>F){te&&O(0);break}if(we||O(2),fe<256)D[B++]=fe;else{if(fe==256){Z=E,X=null;break}var Se=fe-254;if(fe>264){var Te=n[ae=fe-257];Se=T(k,E,(1<<Te)-1)+c[ae],E+=Te}var Pe=H[_(k,E)&me],Ae=Pe>>>4;if(Pe||O(3),E+=15&Pe,J=d[Ae],Ae>3&&(Te=r[Ae],J+=_(k,E)&(1<<Te)-1,E+=Te),E>F){te&&O(0);break}I&&L(B+131072);for(var ge=B+Se;B<ge;B+=4)D[B]=D[B-J],D[B+1]=D[B+1-J],D[B+2]=D[B+2-J],D[B+3]=D[B+3-J];B=ge}}P.l=X,P.p=Z,P.b=B,X&&(K=1,P.m=j,P.d=H,P.n=Y)}while(!K);return B==D.length?D:function(se,Oe,_e){(Oe==null||Oe<0)&&(Oe=0),(_e==null||_e>se.length)&&(_e=se.length);var qe=new(se instanceof o?o:se instanceof i?i:e)(_e-Oe);return qe.set(se.subarray(Oe,_e)),qe}(D,0,B)},"O"),U=new e(0),M=typeof TextDecoder<"u"&&new TextDecoder;try{M.decode(U,{stream:!0})}catch{}return t.convert_streams=function(k){var D=new DataView(k),P=0;function N(){var ee=D.getUint16(P);return P+=2,ee}f(N,"t");function I(){var ee=D.getUint32(P);return P+=4,ee}f(I,"a");function te(ee){Q.setUint16(ue,ee),ue+=2}f(te,"i");function ie(ee){Q.setUint32(ue,ee),ue+=4}f(ie,"o");for(var L={signature:I(),flavor:I(),length:I(),numTables:N(),reserved:N(),totalSfntSize:I(),majorVersion:N(),minorVersion:N(),metaOffset:I(),metaLength:I(),metaOrigLength:I(),privOffset:I(),privLength:I()},K=0;Math.pow(2,K)<=L.numTables;)K++;K--;for(var E=16*Math.pow(2,K),B=16*L.numTables-E,X=12,H=[],j=0;j<L.numTables;j++)H.push({tag:I(),offset:I(),compLength:I(),origLength:I(),origChecksum:I()}),X+=16;var Y,F=new Uint8Array(12+16*H.length+H.reduce(function(ee,q){return ee+q.origLength+4},0)),G=F.buffer,Q=new DataView(G),ue=0;return ie(L.flavor),te(L.numTables),te(E),te(K),te(B),H.forEach(function(ee){ie(ee.tag),ie(ee.origChecksum),ie(X),ie(ee.origLength),ee.outOffset=X,(X+=ee.origLength)%4!=0&&(X+=4-X%4)}),H.forEach(function(ee){var q,xe=k.slice(ee.offset,ee.offset+ee.compLength);if(ee.compLength!=ee.origLength){var ye=new Uint8Array(ee.origLength);q=new Uint8Array(xe,2),$(q,ye)}else ye=new Uint8Array(xe);F.set(ye,ee.outOffset);var re=0;(X=ee.outOffset+ee.origLength)%4!=0&&(re=4-X%4),F.set(new Uint8Array(re).buffer,ee.outOffset+ee.origLength),Y=X+re}),G.slice(0,Y)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}f(Uu,"woff2otfFactory");function Mu(t,e){const o={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},n=1,r=2,a=4,s=8,l=16,c=32;let u;function d(w){if(!u){const T={R:r,L:n,D:a,C:l,U:c,T:s};u=new Map;for(let _ in i){let C=0;i[_].split(",").forEach(O=>{let[$,U]=O.split("+");$=parseInt($,36),U=U?parseInt(U,36):0,u.set(C+=$,T[_]);for(let M=U;M--;)u.set(++C,T[_])})}}return u.get(w)||c}f(d,"getCharJoiningType");const h=1,p=2,y=3,m=4,x=[null,"isol","init","fina","medi"];function v(w){const T=new Uint8Array(w.length);let _=c,C=h,O=-1;for(let $=0;$<w.length;$++){const U=w.codePointAt($);let M=d(U)|0,k=h;M&s||(_&(n|a|l)?M&(r|a|l)?(k=y,(C===h||C===y)&&T[O]++):M&(n|c)&&(C===p||C===m)&&T[O]--:_&(r|c)&&(C===p||C===m)&&T[O]--,C=T[$]=k,_=M,O=$,U>65535&&$++)}return T}f(v,"detectJoiningForms");function g(w,T){const _=[];for(let O=0;O<T.length;O++){const $=T.codePointAt(O);$>65535&&O++,_.push(t.U.codeToGlyph(w,$))}const C=w.GSUB;if(C){const{lookupList:O,featureList:$}=C;let U;const M=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,k=[];$.forEach(D=>{if(M.test(D.tag))for(let P=0;P<D.tab.length;P++){if(k[D.tab[P]])continue;k[D.tab[P]]=!0;const N=O[D.tab[P]],I=/^(isol|init|fina|medi)$/.test(D.tag);I&&!U&&(U=v(T));for(let te=0;te<_.length;te++)(!U||!I||x[U[te]]===D.tag)&&t.U._applySubs(_,te,N,O)}})}return _}f(g,"stringToGlyphs");function S(w){const T=Object.create(null),_={unitsPerEm:w.head.unitsPerEm,ascender:w.hhea.ascender,descender:w.hhea.descender,forEachGlyph(C,O,$,U){let M=0;const k=1/_.unitsPerEm*O,D=g(w,C);let P=0,N=-1;return D.forEach((I,te)=>{if(I!==-1){let ie=T[I];if(!ie){const{cmds:L,crds:K}=t.U.glyphToPath(w,I);let E="",B=0;for(let F=0,G=L.length;F<G;F++){const Q=o[L[F]];E+=L[F];for(let ue=1;ue<=Q;ue++)E+=(ue>1?",":"")+K[B++]}let X,H,j,Y;if(K.length){X=H=1/0,j=Y=-1/0;for(let F=0,G=K.length;F<G;F+=2){let Q=K[F],ue=K[F+1];Q<X&&(X=Q),ue<H&&(H=ue),Q>j&&(j=Q),ue>Y&&(Y=ue)}}else X=j=H=Y=0;ie=T[I]={index:I,advanceWidth:w.hmtx.aWidth[I],xMin:X,yMin:H,xMax:j,yMax:Y,path:E,pathCommandCount:L.length}}N!==-1&&(M+=t.U.getPairAdjustment(w,N,I)*k),U.call(null,ie,M,P),ie.advanceWidth&&(M+=ie.advanceWidth*k),$&&(M+=$*O),N=I}P+=C.codePointAt(P)>65535?2:1}),M}};return _}return f(S,"wrapFontObj"),f(function(T){const _=new Uint8Array(T,0,4),C=t._bin.readASCII(_,0,4);if(C==="wOFF")T=e(T);else if(C==="wOF2")throw new Error("woff2 fonts not supported");return S(t.parse(T)[0])},"parse")}f(Mu,"parserFactory");const $u=er({name:"Typr Font Parser",dependencies:[Au,Uu,Mu],init(t,e,o){const i=t(),n=e();return o(i,n)}}),qt={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Fu=new Cn;function Ht(){return(self.performance||Date).now()}f(Ht,"now$1");const qi=Object.create(null);function Ss(t,e){t=Bu({},t);const o=Ht();if(t.font=ju(t.font||qt.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||qt.sdfGlyphSize,t.colorRanges!=null){let d={};for(let h in t.colorRanges)if(t.colorRanges.hasOwnProperty(h)){let p=t.colorRanges[h];typeof p!="number"&&(p=Fu.set(p).getHex()),d[h]=p}t.colorRanges=d}Object.freeze(t);const{textureWidth:i,sdfExponent:n}=qt,{sdfGlyphSize:r}=t,a=i/r*4;let s=qi[r];if(!s){const d=document.createElement("canvas");d.width=i,d.height=r*256/a,s=qi[r]={glyphCount:0,sdfGlyphSize:r,sdfCanvas:d,sdfTexture:new uc(d,void 0,void 0,void 0,Di,Di),contextLost:!1,glyphsByFont:new Map},s.sdfTexture.generateMipmaps=!1,Iu(s)}const{sdfTexture:l,sdfCanvas:c}=s;let u=s.glyphsByFont.get(t.font);u||s.glyphsByFont.set(t.font,u=new Map),Nu(t).then(d=>{const{glyphIds:h,glyphPositions:p,fontSize:y,unitsPerEm:m,timings:x}=d,v=[],g=new Float32Array(h.length*4),S=y/m;let w=0,T=0;const _=Ht();h.forEach((M,k)=>{let D=u.get(M);if(!D){const{path:te,pathBounds:ie}=d.glyphData[M],L=Math.max(ie[2]-ie[0],ie[3]-ie[1])/r*(qt.sdfMargin*r+.5),K=s.glyphCount++,E=[ie[0]-L,ie[1]-L,ie[2]+L,ie[3]+L];u.set(M,D={path:te,atlasIndex:K,sdfViewBox:E}),v.push(D)}const{sdfViewBox:P}=D,N=p[T++],I=p[T++];g[w++]=N+P[0]*S,g[w++]=I+P[1]*S,g[w++]=N+P[2]*S,g[w++]=I+P[3]*S,h[k]=D.atlasIndex}),x.quads=(x.quads||0)+(Ht()-_);const C=Ht();x.sdf={};const O=c.height,$=Math.ceil(s.glyphCount/a),U=Math.pow(2,Math.ceil(Math.log2($*r)));U>O&&(console.info(`Increasing SDF texture size ${O}->${U}`),Pu(c,i,U),l.dispose()),St.all(v.map(M=>_s(M,s,t.gpuAccelerateSDF).then(({timing:k})=>{x.sdf[M.atlasIndex]=k}))).then(()=>{v.length&&!s.contextLost&&(Ts(s),l.needsUpdate=!0),x.sdfTotal=Ht()-C,x.total=Ht()-o,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:r,sdfExponent:n,glyphBounds:g,glyphAtlasIndices:h,glyphColors:d.glyphColors,caretPositions:d.caretPositions,caretHeight:d.caretHeight,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),d.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[M,k,D,P]=d.blockBounds;return[D-M,P-k]}}))})}),St.all([]).then(()=>{s.contextLost||Du(c)})}f(Ss,"getTextRenderInfo");function _s({path:t,atlasIndex:e,sdfViewBox:o},{sdfGlyphSize:i,sdfCanvas:n,contextLost:r},a){if(r)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=qt,c=Math.max(o[2]-o[0],o[3]-o[1]),u=Math.floor(e/4),d=u%(s/i)*i,h=Math.floor(u/(s/i))*i,p=e%4;return Ou(i,i,t,o,c,l,n,d,h,p,a)}f(_s,"generateGlyphSDF");function Iu(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",o=>{console.log("Context Lost",o),o.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",o=>{console.log("Context Restored",o),t.contextLost=!1;const i=[];t.glyphsByFont.forEach(n=>{n.forEach(r=>{i.push(_s(r,t,!0))})}),St.all(i).then(()=>{Ts(t),t.sdfTexture.needsUpdate=!0})})}f(Iu,"initContextLossHandling");function Lu({font:t,characters:e,sdfGlyphSize:o},i){let n=Array.isArray(e)?e.join(`
`):""+e;Ss({font:t,sdfGlyphSize:o,text:n},i)}f(Lu,"preloadFont");function Bu(t,e){for(let o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}f(Bu,"assign$2");let on;function ju(t){return on||(on=typeof document>"u"?{}:document.createElement("a")),on.href=t,on.href}f(ju,"toAbsoluteURL");function Ts(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:o}=t,{width:i,height:n}=e,r=t.sdfCanvas.getContext("webgl");let a=o.image.data;(!a||a.length!==i*n*4)&&(a=new Uint8Array(i*n*4),o.image={width:i,height:n,data:a},o.flipY=!1,o.isDataTexture=!0),r.readPixels(0,0,i,n,r.RGBA,r.UNSIGNED_BYTE,a)}}f(Ts,"safariPre15Workaround");const zu=er({name:"Typesetter",dependencies:[qt,$u,Cu,yu],init(t,e,o,i){const{defaultFontURL:n}=t;return o(e,i(),{defaultFontURL:n})}}),Nu=er({name:"Typesetter",dependencies:[zu,bu],init(t,e){return function(o){const i=new e;return t.typeset(o,i.resolve),i}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),Gu=(()=>{const t={};function e(l){let c=t[l];if(!c){const u=new mo(1,1,l,l),d=u.clone(),h=u.attributes,p=d.attributes,y=new mc,m=h.uv.count;for(let x=0;x<m;x++)p.position.array[x*3]*=-1,p.normal.array[x*3+2]*=-1;["position","normal","uv"].forEach(x=>{y.setAttribute(x,new bc([...h[x].array,...p[x].array],h[x].itemSize))}),y.setIndex([...u.index.array,...d.index.array.map(x=>x+m)]),y.translate(.5,.5,0),c=t[l]=y}return c}f(e,"getTemplateGeometry");const o="aTroikaGlyphBounds",i="aTroikaGlyphIndex",n="aTroikaGlyphColor";class r extends dc{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new hc,this.boundingBox=new pc}computeBoundingSphere(){}computeBoundingBox(){}setSide(c){const u=this.getIndex().count;this.setDrawRange(c===gc?u/2:0,c===as?u:u/2)}set detail(c){if(c!==this._detail){this._detail=c,(typeof c!="number"||c<1)&&(c=1);let u=e(c);["position","normal","uv"].forEach(d=>{this.attributes[d]=u.attributes[d].clone()}),this.setIndex(u.getIndex().clone())}}get detail(){return this._detail}set curveRadius(c){c!==this._curveRadius&&(this._curveRadius=c,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(c,u,d,h,p){a(this,o,c,4),a(this,i,u,1),a(this,n,p,3),this._blockBounds=d,this._chunkedBounds=h,s(this,u.length),this._updateBounds()}_updateBounds(){const c=this._blockBounds;if(c){const{curveRadius:u,boundingBox:d}=this;if(u){const{PI:h,floor:p,min:y,max:m,sin:x,cos:v}=Math,g=h/2,S=h*2,w=Math.abs(u),T=c[0]/w,_=c[2]/w,C=p((T+g)/S)!==p((_+g)/S)?-w:y(x(T)*w,x(_)*w),O=p((T-g)/S)!==p((_-g)/S)?w:m(x(T)*w,x(_)*w),$=p((T+h)/S)!==p((_+h)/S)?w*2:m(w-v(T)*w,w-v(_)*w);d.min.set(C,c[1],u<0?-$:0),d.max.set(O,c[3],u<0?0:$)}else d.min.set(c[0],c[1],0),d.max.set(c[2],c[3],0);d.getBoundingSphere(this.boundingSphere)}}applyClipRect(c){let u=this.getAttribute(i).count,d=this._chunkedBounds;if(d)for(let h=d.length;h--;){u=d[h].end;let p=d[h].rect;if(p[1]<c.w&&p[3]>c.y&&p[0]<c.z&&p[2]>c.x)break}s(this,u)}}f(r,"GlyphsGeometry"),r.prototype.setAttribute||(r.prototype.setAttribute=function(l,c){return this.attributes[l]=c,this});function a(l,c,u,d){const h=l.getAttribute(c);u?h&&h.array.length===u.length?(h.array.set(u),h.needsUpdate=!0):(l.setAttribute(c,new vc(u,d)),delete l._maxInstanceCount,l.dispose()):h&&l.deleteAttribute(c)}f(a,"updateBufferAttr");function s(l,c){l[l.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=c}return f(s,"setInstanceCount"),r})(),Wu=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Vu=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Hu=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Ku=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Yu(t){const e=wo(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new gn},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Pi(0,0,0,0)},uTroikaClipRect:{value:new Pi(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new gn},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Cn},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new fc},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Wu,vertexTransform:Vu,fragmentDefs:Hu,fragmentColorTransform:Ku,customRewriter({vertexShader:o,fragmentShader:i}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(i)&&(i=i.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(o)||(o=o.replace(ws,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:o,fragmentShader:i}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}f(Yu,"createTextDerivedMaterial");const Xu=(()=>{const t=new sc({color:16777215,side:as,transparent:!0}),e=8421504,o=new lc,i=new ro,n=new ro,r=[],a=new ro,s="+x+y";function l(v){return Array.isArray(v)?v[0]:v}f(l,"first");let c=f(()=>{const v=new no(new mo(1,1),t);return c=f(()=>v,"getFlatRaycastMesh"),v},"getFlatRaycastMesh"),u=f(()=>{const v=new no(new mo(1,1,32,1),t);return u=f(()=>v,"getCurvedRaycastMesh"),v},"getCurvedRaycastMesh");const d={type:"syncstart"},h={type:"synccomplete"},p=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],y=p.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class m extends no{constructor(){const g=new Gu;super(g,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=e,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=s,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(g){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(g):(this._isSyncing=!0,this.dispatchEvent(d),Ss({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},S=>{this._isSyncing=!1,this._textRenderInfo=S,this.geometry.updateGlyphs(S.glyphBounds,S.glyphAtlasIndices,S.blockBounds,S.chunkedBounds,S.glyphColors);const w=this._queuedSyncs;w&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{w.forEach(T=>T&&T())})),this.dispatchEvent(h),g&&g()})))}onBeforeRender(g,S,w,T,_,C){this.sync(),_.isTroikaTextMaterial&&this._prepareForRender(_),_._hadOwnSide=_.hasOwnProperty("side"),this.geometry.setSide(_._actualSide=_.side),_.side=cc}onAfterRender(g,S,w,T,_,C){_._hadOwnSide?_.side=_._actualSide:delete _.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let g=this._derivedMaterial;const S=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=t.clone());if((!g||g.baseMaterial!==S)&&(g=this._derivedMaterial=Yu(S),S.addEventListener("dispose",f(function w(){S.removeEventListener("dispose",w),g.dispose()},"onDispose"))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let w=g._outlineMtl;return w||(w=g._outlineMtl=Object.create(g,{id:{value:g.id+.1}}),w.isTextOutlineMaterial=!0,w.depthWrite=!1,w.map=null,g.addEventListener("dispose",f(function T(){g.removeEventListener("dispose",T),w.dispose()},"onDispose"))),[w,g]}else return g}set material(g){g&&g.isTroikaTextMaterial?(this._derivedMaterial=g,this._baseMaterial=g.baseMaterial):this._baseMaterial=g}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(g){this.geometry.detail=g}get curveRadius(){return this.geometry.curveRadius}set curveRadius(g){this.geometry.curveRadius=g}get customDepthMaterial(){return l(this.material).getDepthMaterial()}get customDistanceMaterial(){return l(this.material).getDistanceMaterial()}_prepareForRender(g){const S=g.isTextOutlineMaterial,w=g.uniforms,T=this.textRenderInfo;if(T){const{sdfTexture:O,blockBounds:$}=T;w.uTroikaSDFTexture.value=O,w.uTroikaSDFTextureSize.value.set(O.image.width,O.image.height),w.uTroikaSDFGlyphSize.value=T.sdfGlyphSize,w.uTroikaSDFExponent.value=T.sdfExponent,w.uTroikaTotalBounds.value.fromArray($),w.uTroikaUseGlyphColors.value=!S&&!!T.glyphColors;let U=0,M=0,k=0,D,P,N,I=0,te=0;if(S){let{outlineWidth:L,outlineOffsetX:K,outlineOffsetY:E,outlineBlur:B,outlineOpacity:X}=this;U=this._parsePercent(L)||0,M=Math.max(0,this._parsePercent(B)||0),D=X,I=this._parsePercent(K)||0,te=this._parsePercent(E)||0}else k=Math.max(0,this._parsePercent(this.strokeWidth)||0),k&&(N=this.strokeColor,w.uTroikaStrokeColor.value.set(N==null?e:N),P=this.strokeOpacity,P==null&&(P=1)),D=this.fillOpacity;w.uTroikaDistanceOffset.value=U,w.uTroikaPositionOffset.value.set(I,te),w.uTroikaBlurRadius.value=M,w.uTroikaStrokeWidth.value=k,w.uTroikaStrokeOpacity.value=P,w.uTroikaFillOpacity.value=D==null?1:D,w.uTroikaCurveRadius.value=this.curveRadius||0;let ie=this.clipRect;if(ie&&Array.isArray(ie)&&ie.length===4)w.uTroikaClipRect.value.fromArray(ie);else{const L=(this.fontSize||.1)*100;w.uTroikaClipRect.value.set($[0]-L,$[1]-L,$[2]+L,$[3]+L)}this.geometry.applyClipRect(w.uTroikaClipRect.value)}w.uTroikaSDFDebug.value=!!this.debugSDF,g.polygonOffset=!!this.depthOffset,g.polygonOffsetFactor=g.polygonOffsetUnits=this.depthOffset||0;const _=S?this.outlineColor||0:this.color;if(_==null)delete g.color;else{const O=g.hasOwnProperty("color")?g.color:g.color=new Cn;(_!==O._input||typeof _=="object")&&O.set(O._input=_)}let C=this.orientation||s;if(C!==g._orientation){let O=w.uTroikaOrient.value;C=C.replace(/[^-+xyz]/g,"");let $=C!==s&&C.match(/^([-+])([xyz])([-+])([xyz])$/);if($){let[,U,M,k,D]=$;i.set(0,0,0)[M]=U==="-"?1:-1,n.set(0,0,0)[D]=k==="-"?-1:1,o.lookAt(a,i.cross(n),n),O.setFromMatrix4(o)}else O.identity();g._orientation=C}}_parsePercent(g){if(typeof g=="string"){let S=g.match(/^(-?[\d.]+)%$/),w=S?parseFloat(S[1]):NaN;g=(isNaN(w)?0:w/100)*this.fontSize}return g}localPositionToTextCoords(g,S=new gn){S.copy(g);const w=this.curveRadius;return w&&(S.x=Math.atan2(g.x,Math.abs(w)-Math.abs(g.z))*Math.abs(w)),S}worldPositionToTextCoords(g,S=new gn){return i.copy(g),this.localPositionToTextCoords(this.worldToLocal(i),S)}raycast(g,S){const{textRenderInfo:w,curveRadius:T}=this;if(w){const _=w.blockBounds,C=T?u():c(),O=C.geometry,{position:$,uv:U}=O.attributes;for(let M=0;M<U.count;M++){let k=_[0]+U.getX(M)*(_[2]-_[0]);const D=_[1]+U.getY(M)*(_[3]-_[1]);let P=0;T&&(P=T-Math.cos(k/T)*T,k=Math.sin(k/T)*T),$.setXYZ(M,k,D,P)}O.boundingSphere=this.geometry.boundingSphere,O.boundingBox=this.geometry.boundingBox,C.matrixWorld=this.matrixWorld,C.material.side=this.material.side,r.length=0,C.raycast(g,r);for(let M=0;M<r.length;M++)r[M].object=this,S.push(r[M])}}copy(g){const S=this.geometry;return super.copy(g),this.geometry=S,y.forEach(w=>{this[w]=g[w]}),this}clone(){return new this.constructor().copy(this)}}f(m,"Text"),p.forEach(v=>{const g="_private_"+v;Object.defineProperty(m.prototype,v,{get(){return this[g]},set(S){S!==this[g]&&(this[g]=S,this._needsSync=!0)}})});let x=!1;return Object.defineProperty(m.prototype,"anchor",{get(){return this._deprecated_anchor},set(v){this._deprecated_anchor=v,x||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),x=!0),Array.isArray(v)?(this.anchorX=`${(+v[0]||0)*100}%`,this.anchorY=`${(+v[1]||0)*100}%`):this.anchorX=this.anchorY=0}}),m})(),qu=b.exports.forwardRef(({anchorX:t="center",anchorY:e="middle",font:o,children:i,characters:n,onSync:r,...a},s)=>{const l=ss(({invalidate:h})=>h),[c]=b.exports.useState(()=>new Xu),[u,d]=b.exports.useMemo(()=>{const h=[];let p="";return b.exports.Children.forEach(i,y=>{typeof y=="string"||typeof y=="number"?p+=y:h.push(y)}),[h,p]},[i]);return kc(()=>new Promise(h=>Lu({font:o,characters:n},h)),["troika-text",o,n]),b.exports.useLayoutEffect(()=>void c.sync(()=>{l(),r&&r(c)})),b.exports.useEffect(()=>()=>c.dispose(),[c]),R("primitive",{object:c,ref:s,font:o,text:d,anchorX:t,anchorY:e,...a,children:u})});function ks(...t){return e=>t.forEach(o=>function(i,n){typeof i=="function"?i(n):i!=null&&(i.current=n)}(o,e))}f(ks,"composeRefs");function Dn(...t){return b.exports.useCallback(ks(...t),t)}f(Dn,"useComposedRefs");const Ko=b.exports.forwardRef((t,e)=>{const{children:o,...i}=t;return b.exports.Children.toArray(o).some(Ji)?b.exports.createElement(b.exports.Fragment,null,b.exports.Children.map(o,n=>Ji(n)?b.exports.createElement(So,Ne({},i,{ref:e}),n.props.children):n)):b.exports.createElement(So,Ne({},i,{ref:e}),o)});Ko.displayName="Slot";const So=b.exports.forwardRef((t,e)=>{const{children:o,...i}=t;return b.exports.isValidElement(o)?b.exports.cloneElement(o,{...Ju(i,o.props),ref:ks(e,o.ref)}):b.exports.Children.count(o)>1?b.exports.Children.only(null):null});So.displayName="SlotClone";const Es=f(({children:t})=>b.exports.createElement(b.exports.Fragment,null,t),"Slottable");function Ji(t){return b.exports.isValidElement(t)&&t.type===Es}f(Ji,"l$3");function Ju(t,e){const o={...e};for(const i in e){const n=t[i],r=e[i];/^on[A-Z]/.test(i)?o[i]=(...a)=>{r==null||r(...a),n==null||n(...a)}:i==="style"?o[i]={...n,...r}:i==="className"&&(o[i]=[n,r].filter(Boolean).join(" "))}return{...t,...o}}f(Ju,"o$4");const Qu=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:b.exports.forwardRef((o,i)=>{const{asChild:n,...r}=o,a=n?Ko:e;return b.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.exports.createElement(a,Ne({},r,{ref:i}))})}),{}),Dr=Boolean(globalThis==null?void 0:globalThis.document)?b.exports.useLayoutEffect:()=>{},Zu=b.exports.forwardRef((t,e)=>{var o,i;const{containerRef:n,style:r,...a}=t,s=(o=n==null?void 0:n.current)!==null&&o!==void 0?o:globalThis==null||(i=globalThis.document)===null||i===void 0?void 0:i.body,[,l]=b.exports.useState({});return Dr(()=>{l({})},[]),s?Wo.createPortal(b.exports.createElement(Qu.div,Ne({"data-radix-portal":""},a,{ref:e,style:s===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...r}:void 0})),s):null}),ef=Zu;var Qi=Object.prototype.hasOwnProperty;function Pr(t,e){var o,i;if(t===e)return!0;if(t&&e&&(o=t.constructor)===e.constructor){if(o===Date)return t.getTime()===e.getTime();if(o===RegExp)return t.toString()===e.toString();if(o===Array){if((i=t.length)===e.length)for(;i--&&Pr(t[i],e[i]););return i===-1}if(!o||typeof t=="object"){i=0;for(o in t)if(Qi.call(t,o)&&++i&&!Qi.call(e,o)||!(o in e)||!Pr(t[o],e[o]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}f(Pr,"dequal");var Pn=f(function(e,o,i,n){this.name=e,this.fn=o,this.args=i,this.modifiers=n},"Rule");Pn.prototype._test=f(function(e){var o=this.fn;try{Qt(this.modifiers.slice(),o,this)(e)}catch{o=f(function(){return!1},"fn")}try{return Qt(this.modifiers.slice(),o,this)(e)}catch{return!1}},"_test");Pn.prototype._check=f(function(e){try{Qt(this.modifiers.slice(),this.fn,this)(e)}catch{if(Qt(this.modifiers.slice(),function(i){return i},this)(!1))return}if(!Qt(this.modifiers.slice(),this.fn,this)(e))throw null},"_check");Pn.prototype._testAsync=f(function(e){var o=this;return new Promise(function(i,n){Os(o.modifiers.slice(),o.fn,o)(e).then(function(r){r?i(e):n(null)}).catch(function(r){return n(r)})})},"_testAsync");function Cs(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}f(Cs,"pickFn");function Qt(t,e,o){if(t.length){var i=t.shift(),n=Qt(t,e,o);return i.perform(n,o)}else return Cs(e)}f(Qt,"testAux");function Os(t,e,o){if(t.length){var i=t.shift(),n=Os(t,e,o);return i.performAsync(n,o)}else return function(r){return Promise.resolve(Cs(e,"async")(r))}}f(Os,"testAsyncAux");var tf=f(function(e,o,i){this.name=e,this.perform=o,this.performAsync=i},"Modifier"),Yo=function(t){function e(o,i,n,r){for(var a=[],s=arguments.length-4;s-- >0;)a[s]=arguments[s+4];t.call(this,a),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=o,this.value=i,this.cause=n,this.target=r}return f(e,"ValidationError"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),bt=f(function(e,o){e===void 0&&(e=[]),o===void 0&&(o=[]),this.chain=e,this.nextRuleModifiers=o},"Context");bt.prototype._applyRule=f(function(e,o){var i=this;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return i.chain.push(new Pn(o,e.apply(i,n),n,i.nextRuleModifiers)),i.nextRuleModifiers=[],i}},"_applyRule");bt.prototype._applyModifier=f(function(e,o){return this.nextRuleModifiers.push(new tf(o,e.simple,e.async)),this},"_applyModifier");bt.prototype._clone=f(function(){return new bt(this.chain.slice(),this.nextRuleModifiers.slice())},"_clone");bt.prototype.test=f(function(e){return this.chain.every(function(o){return o._test(e)})},"test");bt.prototype.testAll=f(function(e){var o=[];return this.chain.forEach(function(i){try{i._check(e)}catch(n){o.push(new Yo(i,e,n))}}),o},"testAll");bt.prototype.check=f(function(e){this.chain.forEach(function(o){try{o._check(e)}catch(i){throw new Yo(o,e,i)}})},"check");bt.prototype.testAsync=f(function(e){var o=this;return new Promise(function(i,n){Rs(e,o.chain.slice(),i,n)})},"testAsync");function Rs(t,e,o,i){if(e.length){var n=e.shift();n._testAsync(t).then(function(){Rs(t,e,o,i)},function(r){i(new Yo(n,t,r))})}else o(t)}f(Rs,"executeAsyncRules");var Zi=f(function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null},"consideredEmpty");function rf(t,e){return e===void 0&&(e=!1),{simple:function(o){return Zi(o,e)||t.check(o)===void 0},async:function(o){return Zi(o,e)||t.testAsync(o)}}}f(rf,"optional");function nt(){return typeof Proxy<"u"?Ds(new bt):_o(new bt)}f(nt,"v8n");var Ar={};nt.extend=function(t){Object.assign(Ar,t)};nt.clearCustomRules=function(){Ar={}};function Ds(t){return new Proxy(t,{get:f(function(o,i){if(i in o)return o[i];var n=Ds(t._clone());if(i in mn)return n._applyModifier(mn[i],i);if(i in Ar)return n._applyRule(Ar[i],i);if(i in To)return n._applyRule(To[i],i)},"get")})}f(Ds,"proxyContext");function _o(t){var e=f(function(n,r){return Object.keys(n).forEach(function(a){r[a]=function(){for(var s=[],l=arguments.length;l--;)s[l]=arguments[l];var c=_o(r._clone()),u=c._applyRule(n[a],a).apply(void 0,s);return u}}),r},"addRuleSet"),o=e(To,t),i=e(Ar,o);return Object.keys(mn).forEach(function(n){Object.defineProperty(i,n,{get:function(){var r=_o(i._clone());return r._applyModifier(mn[n],n)}})}),i}f(_o,"proxylessContext");var mn={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(o){return!o}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return an(e).some(function(o){try{return t(o)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(an(e).map(function(o){try{return t(o).catch(function(){return!1})}catch{return!1}})).then(function(o){return o.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&an(e).every(t)}},async:function(t){return function(e){return Promise.all(an(e).map(t)).then(function(o){return o.every(Boolean)})}}},strict:{simple:function(t,e){return function(o){return ea(e)&&o&&typeof o=="object"?Object.keys(e.args[0]).length===Object.keys(o).length&&t(o):t(o)}},async:function(t,e){return function(o){return Promise.resolve(t(o)).then(function(i){return ea(e)&&o&&typeof o=="object"?Object.keys(e.args[0]).length===Object.keys(o).length&&i:i}).catch(function(){return!1})}}}};function ea(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}f(ea,"isSchemaRule");function an(t){return typeof t=="string"?t.split(""):t}f(an,"split$1");var To={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||nf;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Kt("string")},boolean:function(){return Kt("boolean")},undefined:function(){return Kt("undefined")},null:function(){return Kt("null")},array:function(){return Kt("array")},object:function(){return Kt("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(o){return o.length>=t&&o.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(o){return o>=t&&o<=e}},range:function(t,e){return function(o){return o>=t&&o<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return of(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(o){return t.some(function(i){return i.test(o)})}},optional:rf};function Kt(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}f(Kt,"testType");function nf(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}f(nf,"isIntegerPolyfill");function of(t){return{simple:function(e){var o=[];if(Object.keys(t).forEach(function(i){var n=t[i];try{n.check((e||{})[i])}catch(r){r.target=i,o.push(r)}}),o.length>0)throw o;return!0},async:function(e){var o=[],i=Object.keys(t).map(function(n){var r=t[n];return r.testAsync((e||{})[n]).catch(function(a){a.target=n,o.push(a)})});return Promise.all(i).then(function(){if(o.length>0)throw o;return!0})}}}f(of,"testSchema");var Re="colors",Qe="sizes",oe="space",af={gap:oe,gridGap:oe,columnGap:oe,gridColumnGap:oe,rowGap:oe,gridRowGap:oe,inset:oe,insetBlock:oe,insetBlockEnd:oe,insetBlockStart:oe,insetInline:oe,insetInlineEnd:oe,insetInlineStart:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,marginBlock:oe,marginBlockEnd:oe,marginBlockStart:oe,marginInline:oe,marginInlineEnd:oe,marginInlineStart:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,paddingBlock:oe,paddingBlockEnd:oe,paddingBlockStart:oe,paddingInline:oe,paddingInlineEnd:oe,paddingInlineStart:oe,top:oe,right:oe,bottom:oe,left:oe,scrollMargin:oe,scrollMarginTop:oe,scrollMarginRight:oe,scrollMarginBottom:oe,scrollMarginLeft:oe,scrollMarginX:oe,scrollMarginY:oe,scrollMarginBlock:oe,scrollMarginBlockEnd:oe,scrollMarginBlockStart:oe,scrollMarginInline:oe,scrollMarginInlineEnd:oe,scrollMarginInlineStart:oe,scrollPadding:oe,scrollPaddingTop:oe,scrollPaddingRight:oe,scrollPaddingBottom:oe,scrollPaddingLeft:oe,scrollPaddingX:oe,scrollPaddingY:oe,scrollPaddingBlock:oe,scrollPaddingBlockEnd:oe,scrollPaddingBlockStart:oe,scrollPaddingInline:oe,scrollPaddingInlineEnd:oe,scrollPaddingInlineStart:oe,fontSize:"fontSizes",background:Re,backgroundColor:Re,backgroundImage:Re,borderImage:Re,border:Re,borderBlock:Re,borderBlockEnd:Re,borderBlockStart:Re,borderBottom:Re,borderBottomColor:Re,borderColor:Re,borderInline:Re,borderInlineEnd:Re,borderInlineStart:Re,borderLeft:Re,borderLeftColor:Re,borderRight:Re,borderRightColor:Re,borderTop:Re,borderTopColor:Re,caretColor:Re,color:Re,columnRuleColor:Re,fill:Re,outline:Re,outlineColor:Re,stroke:Re,textDecorationColor:Re,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:Qe,minBlockSize:Qe,maxBlockSize:Qe,inlineSize:Qe,minInlineSize:Qe,maxInlineSize:Qe,width:Qe,minWidth:Qe,maxWidth:Qe,height:Qe,minHeight:Qe,maxHeight:Qe,flexBasis:Qe,gridTemplateColumns:Qe,gridTemplateRows:Qe,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},sf=f((t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,"i$4"),tr=f(()=>{const t=Object.create(null);return(e,o,...i)=>{const n=(r=>JSON.stringify(r,sf))(e);return n in t?t[n]:t[n]=o(e,...i)}},"o$3"),Ft=Symbol.for("sxs.internal"),Xo=f((t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),"s$3"),ta=f(t=>{for(const e in t)return!0;return!1},"a$2"),{hasOwnProperty:lf}=Object.prototype,ko=f(t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),"d$3"),cf=/\s+(?![^()]*\))/,Yt=f(t=>e=>t(...typeof e=="string"?String(e).split(cf):[e]),"p$3"),ra={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Yt((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Yt((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Yt((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Yt((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Yt((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Yt((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},ao=/([\d.]+)([^]*)/,uf=f((t,e)=>t.length?t.reduce((o,i)=>(o.push(...e.map(n=>n.includes("&")?n.replace(/&/g,/[ +>|~]/.test(i)&&/&.*&/.test(n)?`:is(${i})`:i):i+" "+n)),o),[]):e,"f$3"),ff=f((t,e)=>t in df&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(o,i,n,r)=>i+(n==="stretch"?`-moz-available${r};${ko(t)}:${i}-webkit-fill-available`:`-moz-fit-content${r};${ko(t)}:${i}fit-content`)+r):String(e),"m$3"),df={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},_t=f(t=>t?t+"-":"","S$2"),Ps=f((t,e,o)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(i,n,r,a,s)=>a=="$"==!!r?i:(n||a=="--"?"calc(":"")+"var(--"+(a==="$"?_t(e)+(s.includes("$")?"":_t(o))+s.replace(/\$/g,"-"):s)+")"+(n||a=="--"?"*"+(n||"")+(r||"1")+")":"")),"k$3"),hf=/\s*,\s*(?![^()]*\))/,pf=Object.prototype.toString,Jt=f((t,e,o,i,n)=>{let r,a,s;const l=f((c,u,d)=>{let h,p;const y=f(m=>{for(h in m){const g=h.charCodeAt(0)===64,S=g&&Array.isArray(m[h])?m[h]:[m[h]];for(p of S){const w=/[A-Z]/.test(v=h)?v:v.replace(/-[^]/g,_=>_[1].toUpperCase()),T=typeof p=="object"&&p&&p.toString===pf&&(!i.utils[w]||!u.length);if(w in i.utils&&!T){const _=i.utils[w];if(_!==a){a=_,y(_(p)),a=null;continue}}else if(w in ra){const _=ra[w];if(_!==s){s=_,y(_(p)),s=null;continue}}if(g&&(x=h.slice(1)in i.media?"@media "+i.media[h.slice(1)]:h,h=x.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(_,C,O,$,U,M)=>{const k=ao.test(C),D=.0625*(k?-1:1),[P,N]=k?[$,C]:[C,$];return"("+(O[0]==="="?"":O[0]===">"===k?"max-":"min-")+P+":"+(O[0]!=="="&&O.length===1?N.replace(ao,(I,te,ie)=>Number(te)+D*(O===">"?1:-1)+ie):N)+(U?") and ("+(U[0]===">"?"min-":"max-")+P+":"+(U.length===1?M.replace(ao,(I,te,ie)=>Number(te)+D*(U===">"?-1:1)+ie):M):"")+")"})),T){const _=g?d.concat(h):[...d],C=g?[...u]:uf(u,h.split(hf));r!==void 0&&n(na(...r)),r=void 0,l(p,C,_)}else r===void 0&&(r=[[],u,d]),h=g||h.charCodeAt(0)!==36?h:`--${_t(i.prefix)}${h.slice(1).replace(/\$/g,"-")}`,p=T?p:typeof p=="number"?p&&w in gf?String(p)+"px":String(p):Ps(ff(w,p==null?"":p),i.prefix,i.themeMap[w]),r[0].push(`${g?`${h} `:`${ko(h)}:`}${p}`)}}var x,v},"p");y(c),r!==void 0&&n(na(...r)),r=void 0},"a");l(t,e,o)},"$$2"),na=f((t,e,o)=>`${o.map(i=>`${i}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(o.length?o.length+1:0).join("}")}`,"x$2"),gf={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},oa=f(t=>String.fromCharCode(t+(t>25?39:97)),"R"),It=f(t=>(e=>{let o,i="";for(o=Math.abs(e);o>52;o=o/52|0)i=oa(o%52)+i;return oa(o%52)+i})(((e,o)=>{let i=o.length;for(;i;)e=33*e^o.charCodeAt(--i);return e})(5381,JSON.stringify(t))>>>0),"z"),_r=["themed","global","styled","onevar","resonevar","allvar","inline"],vf=f(t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},"j$1"),mf=f(t=>{let e;const o=f(()=>{const{cssRules:n}=e.sheet;return[].map.call(n,(r,a)=>{const{cssText:s}=r;let l="";if(s.startsWith("--sxs"))return"";if(n[a-1]&&(l=n[a-1].cssText).startsWith("--sxs")){if(!r.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===r)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${s}`;return r.cssRules.length?`${l}${s}`:""}return s}).join("")},"r"),i=f(()=>{if(e){const{rules:s,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in s)delete s[c]}const n=Object(t).styleSheets||[];for(const s of n)if(vf(s)){for(let l=0,c=s.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const d=Object(c[l+1]);if(d.type!==4)continue;++l;const{cssText:h}=u;if(!h.startsWith("--sxs"))continue;const p=h.slice(14,-3).trim().split(/\s+/),y=_r[p[0]];y&&(e||(e={sheet:s,reset:i,rules:{},toString:o}),e.rules[y]={group:d,index:l,cache:new Set(p)})}if(e)break}if(!e){const s=f((l,c)=>({type:c,cssRules:[],insertRule(u,d){this.cssRules.splice(d,0,s(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}}),"i");e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:s("","text/css"),rules:{},reset:i,toString:o}}const{sheet:r,rules:a}=e;for(let s=_r.length-1;s>=0;--s){const l=_r[s];if(!a[l]){const c=_r[s+1],u=a[c]?a[c].index:r.cssRules.length;r.insertRule("@media{}",u),r.insertRule(`--sxs{--sxs:${s}}`,u),a[l]={group:r.cssRules[u+1],index:u,cache:new Set([s])}}bf(a[l])}},"n");return i(),e},"E$1"),bf=f(t=>{const e=t.group;let o=e.cssRules.length;t.apply=i=>{try{e.insertRule(i,o),++o}catch{}}},"v$3"),xr=Symbol(),yf=tr(),ia=f((t,e)=>yf(t,()=>(...o)=>{let i={type:null,composers:new Set};for(const n of o)if(n!=null)if(n[Ft]){i.type==null&&(i.type=n[Ft].type);for(const r of n[Ft].composers)i.composers.add(r)}else n.constructor!==Object||n.$$typeof?i.type==null&&(i.type=n):i.composers.add(xf(n,t));return i.type==null&&(i.type="span"),i.composers.size||i.composers.add(["PJLV",{},[],[],{},[]]),wf(t,i,e)}),"M$1"),xf=f(({variants:t,compoundVariants:e,defaultVariants:o,...i},n)=>{const r=`${_t(n.prefix)}c-${It(i)}`,a=[],s=[],l=Object.create(null),c=[];for(const h in o)l[h]=String(o[h]);if(typeof t=="object"&&t)for(const h in t){u=l,d=h,lf.call(u,d)||(l[h]="undefined");const p=t[h];for(const y in p){const m={[h]:String(y)};String(y)==="undefined"&&c.push(h);const x=p[y],v=[m,x,!ta(x)];a.push(v)}}var u,d;if(typeof e=="object"&&e)for(const h of e){let{css:p,...y}=h;p=typeof p=="object"&&p||{};for(const x in y)y[x]=String(y[x]);const m=[y,p,!ta(p)];s.push(m)}return[r,i,a,s,l,c]},"C"),wf=f((t,e,o)=>{const[i,n,r,a]=Sf(e.composers),s=typeof e.type=="function"||e.type.$$typeof?(d=>{function h(){for(let p=0;p<h[xr].length;p++){const[y,m]=h[xr][p];d.rules[y].apply(m)}return h[xr]=[],null}return f(h,"t"),h[xr]=[],h.rules={},_r.forEach(p=>h.rules[p]={apply:y=>h[xr].push([p,y])}),h})(o):null,l=(s||o).rules,c=`.${i}${n.length>1?`:where(.${n.slice(1).join(".")})`:""}`,u=f(d=>{d=typeof d=="object"&&d||_f;const{css:h,...p}=d,y={};for(const v in r)if(delete p[v],v in d){let g=d[v];typeof g=="object"&&g?y[v]={"@initial":r[v],...g}:(g=String(g),y[v]=g!=="undefined"||a.has(v)?g:r[v])}else y[v]=r[v];const m=new Set([...n]);for(const[v,g,S,w]of e.composers){o.rules.styled.cache.has(v)||(o.rules.styled.cache.add(v),Jt(g,[`.${v}`],[],t,C=>{l.styled.apply(C)}));const T=aa(S,y,t.media),_=aa(w,y,t.media,!0);for(const C of T)if(C!==void 0)for(const[O,$,U]of C){const M=`${v}-${It($)}-${O}`;m.add(M);const k=(U?o.rules.resonevar:o.rules.onevar).cache,D=U?l.resonevar:l.onevar;k.has(M)||(k.add(M),Jt($,[`.${M}`],[],t,P=>{D.apply(P)}))}for(const C of _)if(C!==void 0)for(const[O,$]of C){const U=`${v}-${It($)}-${O}`;m.add(U),o.rules.allvar.cache.has(U)||(o.rules.allvar.cache.add(U),Jt($,[`.${U}`],[],t,M=>{l.allvar.apply(M)}))}}if(typeof h=="object"&&h){const v=`${i}-i${It(h)}-css`;m.add(v),o.rules.inline.cache.has(v)||(o.rules.inline.cache.add(v),Jt(h,[`.${v}`],[],t,g=>{l.inline.apply(g)}))}for(const v of String(d.className||"").trim().split(/\s+/))v&&m.add(v);const x=p.className=[...m].join(" ");return{type:e.type,className:x,selector:c,props:p,toString:()=>x,deferredInjector:s}},"p");return Xo(u,{className:i,selector:c,[Ft]:e,toString:()=>(o.rules.styled.cache.has(i)||u(),i)})},"P"),Sf=f(t=>{let e="";const o=[],i={},n=[];for(const[r,,,,a,s]of t){e===""&&(e=r),o.push(r),n.push(...s);for(const l in a){const c=a[l];(i[l]===void 0||c!=="undefined"||s.includes(c))&&(i[l]=c)}}return[e,o,i,new Set(n)]},"L$1"),aa=f((t,e,o,i)=>{const n=[];e:for(let[r,a,s]of t){if(s)continue;let l,c=0,u=!1;for(l in r){const d=r[l];let h=e[l];if(h!==d){if(typeof h!="object"||!h)continue e;{let p,y,m=0;for(const x in h){if(d===String(h[x])){if(x!=="@initial"){const v=x.slice(1);(y=y||[]).push(v in o?o[v]:x.replace(/^@media ?/,"")),u=!0}c+=m,p=!0}++m}if(y&&y.length&&(a={["@media "+y.join(", ")]:a}),!p)continue e}}}(n[c]=n[c]||[]).push([i?"cv":`${l}-${r[l]}`,a,u])}return n},"O"),_f={},Tf=tr(),kf=f((t,e)=>Tf(t,()=>(...o)=>{const i=f(()=>{for(let n of o){n=typeof n=="object"&&n||{};let r=It(n);if(!e.rules.global.cache.has(r)){if(e.rules.global.cache.add(r),"@import"in n){let a=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let s of[].concat(n["@import"]))s=s.includes('"')||s.includes("'")?s:`"${s}"`,e.sheet.insertRule(`@import ${s};`,a++);delete n["@import"]}Jt(n,[],[],t,a=>{e.rules.global.apply(a)})}}return""},"n");return Xo(i,{toString:i})}),"D"),Ef=tr(),Cf=f((t,e)=>Ef(t,()=>o=>{const i=`${_t(t.prefix)}k-${It(o)}`,n=f(()=>{if(!e.rules.global.cache.has(i)){e.rules.global.cache.add(i);const r=[];Jt(o,[],[],t,s=>r.push(s));const a=`@keyframes ${i}{${r.join("")}}`;e.rules.global.apply(a)}return i},"i");return Xo(n,{get name(){return n()},toString:n})}),"V$1"),Of=f(class{constructor(t,e,o,i){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=o==null?"":String(o),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+_t(this.prefix)+_t(this.scale)+this.token}toString(){return this.computedValue}},"G"),Rf=tr(),Df=f((t,e)=>Rf(t,()=>(o,i)=>{i=typeof o=="object"&&o||Object(i);const n=`.${o=(o=typeof o=="string"?o:"")||`${_t(t.prefix)}t-${It(i)}`}`,r={},a=[];for(const l in i){r[l]={};for(const c in i[l]){const u=`--${_t(t.prefix)}${l}-${c}`,d=Ps(String(i[l][c]),t.prefix,l);r[l][c]=new Of(c,d,l,t.prefix),a.push(`${u}:${d}`)}}const s=f(()=>{if(a.length&&!e.rules.themed.cache.has(o)){e.rules.themed.cache.add(o);const l=`${i===t.theme?":root,":""}.${o}{${a.join(";")}}`;e.rules.themed.apply(l)}return o},"s");return{...r,get className(){return s()},selector:n,toString:s}}),"J$1"),Pf=tr(),Af=tr(),Uf=f(t=>{const e=(o=>{let i=!1;const n=Pf(o,r=>{i=!0;const a="prefix"in(r=typeof r=="object"&&r||{})?String(r.prefix):"",s=typeof r.media=="object"&&r.media||{},l=typeof r.root=="object"?r.root||null:globalThis.document||null,c=typeof r.theme=="object"&&r.theme||{},u={prefix:a,media:s,theme:c,themeMap:typeof r.themeMap=="object"&&r.themeMap||{...af},utils:typeof r.utils=="object"&&r.utils||{}},d=mf(l),h={css:ia(u,d),globalCss:kf(u,d),keyframes:Cf(u,d),createTheme:Df(u,d),reset(){d.reset(),h.theme.toString()},theme:{},sheet:d,config:u,prefix:a,getCssText:d.toString,toString:d.toString};return String(h.theme=h.createTheme(c)),h});return i||n.reset(),n})(t);return e.styled=(({config:o,sheet:i})=>Af(o,()=>{const n=ia(o,i);return(...r)=>{const a=n(...r),s=a[Ft].type,l=ke.forwardRef((c,u)=>{const d=c&&c.as||s,{props:h,deferredInjector:p}=a(c);return delete h.as,h.ref=u,p?ke.createElement(ke.Fragment,null,ke.createElement(d,h),ke.createElement(p,null)):ke.createElement(d,h)});return l.className=a.className,l.displayName=`Styled.${s.displayName||s.name||s}`,l.selector=a.selector,l.toString=()=>a.selector,l[Ft]=a[Ft],l}}))(e),e},"q$1");const Mf=tc["useId".toString()]||(()=>{});let $f=0;function Ff(t){const[e,o]=b.exports.useState(Mf());return Dr(()=>{t||o(i=>i!=null?i:String($f++))},[t]),t||(e?`radix-${e}`:"")}f(Ff,"useId");const rr=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:b.exports.forwardRef((o,i)=>{const{asChild:n,...r}=o,a=n?Ko:e;return b.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),o.as&&console.error(If),b.exports.createElement(a,Ne({},r,{ref:i}))})}),{}),If="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",Lf=b.exports.forwardRef((t,e)=>b.exports.createElement(rr.span,Ne({},t,{ref:e,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),Bf=Lf,jf=b.exports.forwardRef((t,e)=>{var o,i;const{containerRef:n,style:r,...a}=t,s=(o=n==null?void 0:n.current)!==null&&o!==void 0?o:globalThis==null||(i=globalThis.document)===null||i===void 0?void 0:i.body,[,l]=b.exports.useState({});return Dr(()=>{l({})},[]),s?Wo.createPortal(b.exports.createElement(rr.div,Ne({"data-radix-portal":""},a,{ref:e,style:s===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...r}:void 0})),s):null}),zf=b.exports.forwardRef((t,e)=>{const{children:o,width:i=10,height:n=5,...r}=t;return b.exports.createElement(rr.svg,Ne({},r,{ref:e,width:i,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?o:b.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Nf=zf;function sa(t){const[e,o]=b.exports.useState(void 0);return b.exports.useEffect(()=>{if(t){const i=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const r=n[0];let a,s;if("borderBoxSize"in r){const l=r.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else{const l=t.getBoundingClientRect();a=l.width,s=l.height}o({width:a,height:s})});return i.observe(t,{box:"border-box"}),()=>{o(void 0),i.unobserve(t)}}},[t]),e}f(sa,"useSize");function Gf(t,e){const o=Ut.get(t);return o===void 0?(Ut.set(t,{rect:{},callbacks:[e]}),Ut.size===1&&(Eo=requestAnimationFrame(As))):(o.callbacks.push(e),e(t.getBoundingClientRect())),()=>{const i=Ut.get(t);if(i===void 0)return;const n=i.callbacks.indexOf(e);n>-1&&i.callbacks.splice(n,1),i.callbacks.length===0&&(Ut.delete(t),Ut.size===0&&cancelAnimationFrame(Eo))}}f(Gf,"observeElementRect");let Eo;const Ut=new Map;function As(){const t=[];Ut.forEach((e,o)=>{const i=o.getBoundingClientRect();var n,r;n=e.rect,r=i,(n.width!==r.width||n.height!==r.height||n.top!==r.top||n.right!==r.right||n.bottom!==r.bottom||n.left!==r.left)&&(e.rect=i,t.push(e))}),t.forEach(e=>{e.callbacks.forEach(o=>o(e.rect))}),Eo=requestAnimationFrame(As)}f(As,"c$3");function Us(t){const[e,o]=b.exports.useState();return b.exports.useEffect(()=>{if(t){const i=Gf(t,o);return()=>{o(void 0),i()}}},[t]),e}f(Us,"useRect");function Ms(t,e=[]){let o=[];const i=f(()=>{const n=o.map(r=>b.exports.createContext(r));return function(r){const a=(r==null?void 0:r[t])||n;return b.exports.useMemo(()=>({[`__scope${t}`]:{...r,[t]:a}}),[r,a])}},"c");return i.scopeName=t,[function(n,r){const a=b.exports.createContext(r),s=o.length;function l(c){const{scope:u,children:d,...h}=c,p=(u==null?void 0:u[t][s])||a,y=b.exports.useMemo(()=>h,Object.values(h));return b.exports.createElement(p.Provider,{value:y},d)}return f(l,"s"),o=[...o,r],l.displayName=n+"Provider",[l,function(c,u){const d=(u==null?void 0:u[t][s])||a,h=b.exports.useContext(d);if(h)return h;if(r!==void 0)return r;throw new Error(`\`${c}\` must be used within \`${n}\``)}]},Wf(i,...e)]}f(Ms,"createContextScope");function Wf(...t){const e=t[0];if(t.length===1)return e;const o=f(()=>{const i=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(n){const r=i.reduce((a,{useScope:s,scopeName:l})=>({...a,...s(n)[`__scope${l}`]}),{});return b.exports.useMemo(()=>({[`__scope${e.scopeName}`]:r}),[r])}},"o");return o.scopeName=e.scopeName,o}f(Wf,"t$2");function Vf({anchorRect:t,popperSize:e,arrowSize:o,arrowOffset:i=0,side:n,sideOffset:r=0,align:a,alignOffset:s=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:c,collisionTolerance:u=0}){if(!t||!e||!c)return{popperStyles:Hf,arrowStyles:so};const d=function(C,O,$=0,U=0,M){const k=M?M.height:0,D=la(O,C,"x"),P=la(O,C,"y"),N=P.before-$-k,I=P.after+$+k,te=D.before-$-k,ie=D.after+$+k;return{top:{start:{x:D.start+U,y:N},center:{x:D.center,y:N},end:{x:D.end-U,y:N}},right:{start:{x:ie,y:P.start+U},center:{x:ie,y:P.center},end:{x:ie,y:P.end-U}},bottom:{start:{x:D.start+U,y:I},center:{x:D.center,y:I},end:{x:D.end-U,y:I}},left:{start:{x:te,y:P.start+U},center:{x:te,y:P.center},end:{x:te,y:P.end-U}}}}(e,t,r,s,o),h=d[n][a];if(l===!1){const C=ca(h);let O=so;return o&&(O=fa({popperSize:e,arrowSize:o,arrowOffset:i,side:n,align:a})),{popperStyles:{...C,"--radix-popper-transform-origin":ua(e,n,a,i,o)},arrowStyles:O,placedSide:n,placedAlign:a}}const p=DOMRect.fromRect({...e,...h}),y=(m=c,x=u,DOMRect.fromRect({width:m.width-2*x,height:m.height-2*x,x:m.left+x,y:m.top+x}));var m,x;const v=ha(p,y),g=d[da(n)][a],S=function(C,O,$){const U=da(C);return O[C]&&!$[U]?U:C}(n,v,ha(DOMRect.fromRect({...e,...g}),y)),w=function(C,O,$,U,M){const k=$==="top"||$==="bottom",D=k?"left":"top",P=k?"right":"bottom",N=k?"width":"height",I=O[N]>C[N];return(U==="start"||U==="center")&&(M[D]&&I||M[P]&&!I)?"end":(U==="end"||U==="center")&&(M[P]&&I||M[D]&&!I)?"start":U}(e,t,n,a,v),T=ca(d[S][w]);let _=so;return o&&(_=fa({popperSize:e,arrowSize:o,arrowOffset:i,side:S,align:w})),{popperStyles:{...T,"--radix-popper-transform-origin":ua(e,S,w,i,o)},arrowStyles:_,placedSide:S,placedAlign:w}}f(Vf,"getPlacementData");function la(t,e,o){const i=t[o==="x"?"left":"top"],n=o==="x"?"width":"height",r=t[n],a=e[n];return{before:i-a,start:i,center:i+(r-a)/2,end:i+r-a,after:i+r}}f(la,"t$1");function ca(t){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(t.x+window.scrollX)}px, ${Math.round(t.y+window.scrollY)}px, 0)`}}f(ca,"e$1");function ua(t,e,o,i,n){const r=e==="top"||e==="bottom",a=n?n.width:0,s=n?n.height:0,l=a/2+i;let c="",u="";return r?(c={start:`${l}px`,center:"center",end:t.width-l+"px"}[o],u=e==="top"?`${t.height+s}px`:-s+"px"):(c=e==="left"?`${t.width+s}px`:-s+"px",u={start:`${l}px`,center:"center",end:t.height-l+"px"}[o]),`${c} ${u}`}f(ua,"r$2");const Hf={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},so={position:"absolute",opacity:0};function fa({popperSize:t,arrowSize:e,arrowOffset:o,side:i,align:n}){const r=(t.width-e.width)/2,a=(t.height-e.width)/2,s={top:0,right:90,bottom:180,left:-90}[i],l=Math.max(e.width,e.height),c={width:`${l}px`,height:`${l}px`,transform:`rotate(${s}deg)`,willChange:"transform",position:"absolute",[i]:"100%",direction:Kf(i,n)};return i!=="top"&&i!=="bottom"||(n==="start"&&(c.left=`${o}px`),n==="center"&&(c.left=`${r}px`),n==="end"&&(c.right=`${o}px`)),i!=="left"&&i!=="right"||(n==="start"&&(c.top=`${o}px`),n==="center"&&(c.top=`${a}px`),n==="end"&&(c.bottom=`${o}px`)),c}f(fa,"i$2");function Kf(t,e){return(t!=="top"&&t!=="right"||e!=="end")&&(t!=="bottom"&&t!=="left"||e==="end")?"ltr":"rtl"}f(Kf,"p$2");function da(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}f(da,"a$1");function ha(t,e){return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}}f(ha,"s$2");const[$s,Fs]=Ms("Popper"),[Yf,Is]=$s("Popper"),Xf=f(t=>{const{__scopePopper:e,children:o}=t,[i,n]=b.exports.useState(null);return b.exports.createElement(Yf,{scope:e,anchor:i,onAnchorChange:n},o)},"Popper"),qf=b.exports.forwardRef((t,e)=>{const{__scopePopper:o,virtualRef:i,...n}=t,r=Is("PopperAnchor",o),a=b.exports.useRef(null),s=Dn(e,a);return b.exports.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:b.exports.createElement(rr.div,Ne({},n,{ref:s}))}),[Jf,Qf]=$s("PopperContent"),Zf=b.exports.forwardRef((t,e)=>{const{__scopePopper:o,side:i="bottom",sideOffset:n,align:r="center",alignOffset:a,collisionTolerance:s,avoidCollisions:l=!0,...c}=t,u=Is("PopperContent",o),[d,h]=b.exports.useState(),p=Us(u.anchor),[y,m]=b.exports.useState(null),x=sa(y),[v,g]=b.exports.useState(null),S=sa(v),w=Dn(e,k=>m(k)),T=function(){const[k,D]=b.exports.useState(void 0);return b.exports.useEffect(()=>{let P;function N(){D({width:window.innerWidth,height:window.innerHeight})}f(N,"r");function I(){window.clearTimeout(P),P=window.setTimeout(N,100)}return f(I,"t"),N(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),k}(),_=T?DOMRect.fromRect({...T,x:0,y:0}):void 0,{popperStyles:C,arrowStyles:O,placedSide:$,placedAlign:U}=Vf({anchorRect:p,popperSize:x,arrowSize:S,arrowOffset:d,side:i,sideOffset:n,align:r,alignOffset:a,shouldAvoidCollisions:l,collisionBoundariesRect:_,collisionTolerance:s}),M=$!==void 0;return b.exports.createElement("div",{style:C,"data-radix-popper-content-wrapper":""},b.exports.createElement(Jf,{scope:o,arrowStyles:O,onArrowChange:g,onArrowOffsetChange:h},b.exports.createElement(rr.div,Ne({"data-side":$,"data-align":U},c,{style:{...c.style,animation:M?void 0:"none"},ref:w}))))}),ed=b.exports.forwardRef(function(t,e){const{__scopePopper:o,offset:i,...n}=t,r=Qf("PopperArrow",o),{onArrowOffsetChange:a}=r;return b.exports.useEffect(()=>a(i),[a,i]),b.exports.createElement("span",{style:{...r.arrowStyles,pointerEvents:"none"}},b.exports.createElement("span",{ref:r.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},b.exports.createElement(Nf,Ne({},n,{ref:e,style:{...n.style,display:"block"}}))))}),td=Xf,rd=qf,nd=Zf,od=ed,Ls=f(t=>{const{present:e,children:o}=t,i=function(a){const[s,l]=b.exports.useState(),c=b.exports.useRef({}),u=b.exports.useRef(a),d=b.exports.useRef("none"),h=a?"mounted":"unmounted",[p,y]=function(m,x){return b.exports.useReducer((v,g)=>{const S=x[v][g];return S!=null?S:v},m)}(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.exports.useEffect(()=>{const m=sn(c.current);d.current=p==="mounted"?m:"none"},[p]),Dr(()=>{const m=c.current,x=u.current;if(x!==a){const v=d.current,g=sn(m);a?y("MOUNT"):g==="none"||(m==null?void 0:m.display)==="none"?y("UNMOUNT"):y(x&&v!==g?"ANIMATION_OUT":"UNMOUNT"),u.current=a}},[a,y]),Dr(()=>{if(s){const m=f(v=>{const g=sn(c.current).includes(v.animationName);v.target===s&&g&&y("ANIMATION_END")},"e"),x=f(v=>{v.target===s&&(d.current=sn(c.current))},"n");return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}},[s,y]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:b.exports.useCallback(m=>{m&&(c.current=getComputedStyle(m)),l(m)},[])}}(e),n=typeof o=="function"?o({present:i.isPresent}):b.exports.Children.only(o),r=Dn(i.ref,n.ref);return typeof o=="function"||i.isPresent?b.exports.cloneElement(n,{ref:r}):null},"Presence");function sn(t){return(t==null?void 0:t.animationName)||"none"}f(sn,"r$1");Ls.displayName="Presence";function pa(t){const e=b.exports.useRef(t);return b.exports.useEffect(()=>{e.current=t},[t]),e.current}f(pa,"usePrevious");function Co(t){const e=b.exports.useRef(t);return b.exports.useEffect(()=>{e.current=t}),b.exports.useMemo(()=>(...o)=>{var i;return(i=e.current)===null||i===void 0?void 0:i.call(e,...o)},[])}f(Co,"useCallbackRef");function id(t){const e=Co(t);b.exports.useEffect(()=>{const o=f(i=>{i.key==="Escape"&&e(i)},"e");return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e])}f(id,"useEscapeKeydown");function ad({prop:t,defaultProp:e,onChange:o=f(()=>{},"n")}){const[i,n]=function({defaultProp:l,onChange:c}){const u=b.exports.useState(l),[d]=u,h=b.exports.useRef(d),p=Co(c);return b.exports.useEffect(()=>{h.current!==d&&(p(d),h.current=d)},[d,h,p]),u}({defaultProp:e,onChange:o}),r=t!==void 0,a=r?t:i,s=Co(o);return[a,b.exports.useCallback(l=>{if(r){const c=l,u=typeof l=="function"?c(t):l;u!==t&&s(u)}else n(l)},[r,t,n,s])]}f(ad,"useControllableState");function Xt(t,e,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t==null||t(i),o===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}f(Xt,"composeEventHandlers$1");const[Bs,L0]=Ms("Tooltip",[Fs]),An=Fs(),sd=700,[B0,ld]=Bs("TooltipProvider",{isOpenDelayed:!0,delayDuration:sd,onOpen:()=>{},onClose:()=>{}}),[cd,Un]=Bs("Tooltip"),ud=f(t=>{const{__scopeTooltip:e,children:o,open:i,defaultOpen:n=!1,onOpenChange:r,delayDuration:a}=t,s=ld("Tooltip",e),l=An(e),[c,u]=b.exports.useState(null),d=Ff(),h=b.exports.useRef(0),p=a!=null?a:s.delayDuration,y=b.exports.useRef(!1),{onOpen:m,onClose:x}=s,[v=!1,g]=ad({prop:i,defaultProp:n,onChange:_=>{_&&(document.dispatchEvent(new CustomEvent("tooltip.open")),m()),r==null||r(_)}}),S=b.exports.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),w=b.exports.useCallback(()=>{window.clearTimeout(h.current),y.current=!1,g(!0)},[g]),T=b.exports.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,g(!0)},p)},[p,g]);return b.exports.useEffect(()=>()=>window.clearTimeout(h.current),[]),b.exports.createElement(td,l,b.exports.createElement(cd,{scope:e,contentId:d,open:v,stateAttribute:S,trigger:c,onTriggerChange:u,onTriggerEnter:b.exports.useCallback(()=>{s.isOpenDelayed?T():w()},[s.isOpenDelayed,T,w]),onOpen:b.exports.useCallback(w,[w]),onClose:b.exports.useCallback(()=>{window.clearTimeout(h.current),g(!1),x()},[g,x])},o))},"Tooltip"),fd=b.exports.forwardRef((t,e)=>{const{__scopeTooltip:o,...i}=t,n=Un("TooltipTrigger",o),r=An(o),a=Dn(e,n.onTriggerChange),s=b.exports.useRef(!1),l=b.exports.useCallback(()=>s.current=!1,[]);return b.exports.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),b.exports.createElement(rd,Ne({asChild:!0},r),b.exports.createElement(rr.button,Ne({"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute},i,{ref:a,onMouseEnter:Xt(t.onMouseEnter,n.onTriggerEnter),onMouseLeave:Xt(t.onMouseLeave,n.onClose),onMouseDown:Xt(t.onMouseDown,()=>{n.onClose(),s.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Xt(t.onFocus,()=>{s.current||n.onOpen()}),onBlur:Xt(t.onBlur,n.onClose),onClick:Xt(t.onClick,n.onClose)})))}),dd=b.exports.forwardRef((t,e)=>{const{forceMount:o,...i}=t,n=Un("TooltipContent",t.__scopeTooltip);return b.exports.createElement(Ls,{present:o||n.open},b.exports.createElement(hd,Ne({ref:e},i)))}),hd=b.exports.forwardRef((t,e)=>{const{__scopeTooltip:o,children:i,"aria-label":n,portalled:r=!0,...a}=t,s=Un("TooltipContent",o),l=An(o),c=r?jf:b.exports.Fragment,{onClose:u}=s;return id(()=>u()),b.exports.useEffect(()=>(document.addEventListener("tooltip.open",u),()=>document.removeEventListener("tooltip.open",u)),[u]),b.exports.createElement(c,null,b.exports.createElement(gd,{__scopeTooltip:o}),b.exports.createElement(nd,Ne({"data-state":s.stateAttribute},l,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),b.exports.createElement(Es,null,i),b.exports.createElement(Bf,{id:s.contentId,role:"tooltip"},n||i)))}),pd=b.exports.forwardRef((t,e)=>{const{__scopeTooltip:o,...i}=t,n=An(o);return b.exports.createElement(od,Ne({},n,i,{ref:e}))});function gd(t){const{__scopeTooltip:e}=t,o=Un("CheckTriggerMoved",e),i=Us(o.trigger),n=i==null?void 0:i.left,r=pa(n),a=i==null?void 0:i.top,s=pa(a),l=o.onClose;return b.exports.useEffect(()=>{(r!==void 0&&r!==n||s!==void 0&&s!==a)&&l()},[l,r,s,n,a]),null}f(gd,"k$2");const vd=ud,md=fd,bd=dd,yd=pd;function xd(t,e){if(t==null)return{};var o={},i=Object.keys(t),n,r;for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&(o[n]=t[n]);return o}f(xd,"_objectWithoutPropertiesLoose$1");function De(t,e){if(t==null)return{};var o=xd(t,e),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(o[i]=t[i]))}return o}f(De,"_objectWithoutProperties$1");let Fe;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(Fe||(Fe={}));const wd={[Fe.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[Fe.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Fe.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[Fe.DUPLICATE_KEYS]:(t,e,o)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${o}\`. Even nested keys need to be unique. Rename one of the keys.`],[Fe.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[Fe.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[Fe.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[Fe.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[Fe.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[Fe.INPUT_TYPE_OVERRIDE]:(t,e,o)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${o}\`.`],[Fe.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function js(t,e,...o){const[i,...n]=wd[e](...o);console[t]("LEVA: "+i,...n)}f(js,"_log");const xt=js.bind(null,"warn"),Sd=js.bind(null,"log"),_d=["value"],Td=["schema"],kd=["value"],zs=[],Lt={};function ga(t){let{value:e}=t,o=De(t,_d);for(let i of zs){const n=i(e,o);if(n)return n}}f(ga,"getValueType");function Tt(t,e){let{schema:o}=e,i=De(e,Td);if(t in Lt){xt(Fe.ALREADY_REGISTERED_TYPE,t);return}zs.push((n,r)=>o(n,r)&&t),Lt[t]=i}f(Tt,"register");function lo(t,e,o,i){const{normalize:n}=Lt[t];if(n)return n(e,o,i);if(typeof e!="object"||!("value"in e))return{value:e};const{value:r}=e,a=De(e,kd);return{value:r,settings:a}}f(lo,"normalize$3$1");function Ed(t,e,o,i,n,r){const{sanitize:a}=Lt[t];return a?a(e,o,i,n,r):e}f(Ed,"sanitize$4");function va(t,e,o){const{format:i}=Lt[t];return i?i(e,o):e}f(va,"format$2");function Cd(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}f(Cd,"_defineProperty$2");function ma(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}f(ma,"ownKeys$2");function pe(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?ma(Object(o),!0).forEach(function(i){Cd(t,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ma(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}f(pe,"_objectSpread2");const Pt=f((t,e,o)=>t>o?o:t<e?e:t,"clamp"),Od=f(t=>{if(t===""||typeof t=="number")return t;try{const e=Dt(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},"parseNumber"),Rd=Math.log(10);function ba(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const o=Math.floor(Math.log(e)/Rd)+1,i=Math.floor(Math.log10(Math.abs(t))),n=Math.pow(10,i-o);return Math.max(n,.001)}f(ba,"getStep");const bn=f((t,e,o)=>o===e?0:(Pt(t,e,o)-e)/(o-e),"range"),yn=f((t,e,o)=>t*(o-e)+e,"invertedRange"),Dd=f(()=>"_"+Math.random().toString(36).substr(2,9),"getUid"),ya=/\(([0-9+\-*/^ .]+)\)/,xa=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,wa=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Sa=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,_a=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Ta=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Dt(t){if(isNaN(Number(t)))if(ya.test(t)){const e=t.replace(ya,(o,i)=>String(Dt(i)));return Dt(e)}else if(xa.test(t)){const e=t.replace(xa,(o,i,n)=>String(Math.pow(Number(i),Number(n))));return Dt(e)}else if(wa.test(t)){const e=t.replace(wa,(o,i,n)=>String(Number(i)*Number(n)));return Dt(e)}else if(Sa.test(t)){const e=t.replace(Sa,(o,i,n)=>{if(n!=0)return String(Number(i)/Number(n));throw new Error("Division by zero")});return Dt(e)}else if(_a.test(t)){const e=t.replace(_a,(o,i,n)=>String(Number(i)+Number(n)));return Dt(e)}else if(Ta.test(t)){const e=t.replace(Ta,(o,i,n)=>String(Number(i)-Number(n)));return Dt(e)}else return Number(t);return Number(t)}f(Dt,"evaluate");function Pd(t,e){return e.reduce((o,i)=>(!!t&&t.hasOwnProperty(i)&&(o[i]=t[i]),o),{})}f(Pd,"pick");function Ad(t,e){const o=pe({},t);return e.forEach(i=>i in t&&delete o[i]),o}f(Ad,"omit");function Ud(t,e){return t.reduce((o,i,n)=>Object.assign(o,{[e[n]]:i}),{})}f(Ud,"mapArrayToKeys");function Ns(t){return Object.prototype.toString.call(t)==="[object Object]"}f(Ns,"isObject$8");const Md=f(t=>Ns(t)&&Object.keys(t).length===0,"isEmptyObject");let ht;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(ht||(ht={}));let pt;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(pt||(pt={}));const $d=["type","__customInput"],Fd=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Id=["type"];function Gs(t,e,o={},i){var n,r;if(typeof t!="object"||Array.isArray(t))return{type:i,input:t,options:pe({key:e,label:e,optional:!1,disabled:!1,order:0},o)};if("__customInput"in t){const{type:T,__customInput:_}=t,C=De(t,$d);return Gs(_,e,C,T)}const{render:a,label:s,optional:l,order:c=0,disabled:u,hint:d,onChange:h,onEditStart:p,onEditEnd:y,transient:m}=t,x=De(t,Fd),v=pe({render:a,key:e,label:s!=null?s:e,hint:d,transient:m!=null?m:!!h,onEditStart:p,onEditEnd:y,disabled:u,optional:l,order:c},o);let{type:g}=x,S=De(x,Id);if(g=i!=null?i:g,g in ht)return{type:g,input:S,options:v};let w;return i&&Ns(S)&&"value"in S?w=S.value:w=Md(S)?void 0:S,{type:g,input:w,options:pe(pe({},v),{},{onChange:h,optional:(n=v.optional)!==null&&n!==void 0?n:!1,disabled:(r=v.disabled)!==null&&r!==void 0?r:!1})}}f(Gs,"parseOptions");function Ld(t,e,o,i){const n=Gs(t,e),{type:r,input:a,options:s}=n;if(r)return r in ht?n:{type:r,input:lo(r,a,o,i),options:s};let l=ga(a);return l?{type:l,input:lo(l,a,o,i),options:s}:(l=ga({value:a}),l?{type:l,input:lo(l,{value:a},o,i),options:s}:!1)}f(Ld,"normalizeInput");function ka(t,e,o,i,n){const{value:r,type:a,settings:s}=t;t.value=Ws({type:a,value:r,settings:s},e,o,i),t.fromPanel=n}f(ka,"updateInput");const Bd=f(function(e,o,i){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=o,this.error=i},"ValueError");function Ws({type:t,value:e,settings:o},i,n,r){const a=t!=="SELECT"&&typeof i=="function"?i(e):i;let s;try{s=Ed(t,a,o,e,n,r)}catch(l){throw new Bd(`The value \`${i}\` did not result in a correct value.`,e,l)}return Pr(s,e)?e:s}f(Ws,"sanitizeValue");const Vs=f((t,e,o=!1)=>{let i=0;return function(){const n=arguments,r=o&&!i,a=f(()=>t.apply(this,n),"next");window.clearTimeout(i),i=window.setTimeout(a,e),r&&a()}},"debounce"),Hs=f(t=>t.shiftKey?5:t.altKey?1/5:1,"multiplyStep");function jd(t,e){const o=console.error;console.error=()=>{},Wo.render(t,e),console.error=o}f(jd,"render");const zd=["value"],Nd=["min","max"],Gd=f(t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},"schema$3"),Ks=f((t,{min:e=-1/0,max:o=1/0,suffix:i})=>{const n=parseFloat(t);if(t===""||isNaN(n))throw Error("Invalid number");const r=Pt(n,e,o);return i?r+i:r},"sanitize$3"),Wd=f((t,{pad:e=0,suffix:o})=>{const i=parseFloat(t).toFixed(e);return o?i+o:i},"format$1$1"),Ys=f(t=>{let{value:e}=t,o=De(t,zd);const{min:i=-1/0,max:n=1/0}=o,r=De(o,Nd);let a=parseFloat(e);const s=typeof e=="string"?e.substring((""+a).length):void 0;a=Pt(a,i,n);let l=o.step;l||(Number.isFinite(i)?Number.isFinite(n)?l=+(Math.abs(n-i)/100).toPrecision(1):l=+(Math.abs(a-i)/100).toPrecision(1):Number.isFinite(n)&&(l=+(Math.abs(n-a)/100).toPrecision(1)));const c=l?ba(l)*10:ba(a);l=l||c/10;const u=Math.round(Pt(Math.log10(1/c),0,2));return{value:s?a+s:a,settings:pe({initialValue:a,step:l,pad:u,min:i,max:n,suffix:s},r)}},"normalize$2$1"),Xs=f((t,{step:e,initialValue:o})=>{const i=Math.round((t-o)/e);return o+i*e},"sanitizeStep$1");var qs=Object.freeze({__proto__:null,schema:Gd,sanitize:Ks,format:Wd,normalize:Ys,sanitizeStep:Xs});const Js=b.exports.createContext({});function Xe(){return b.exports.useContext(Js)}f(Xe,"useInputContext");const qo=b.exports.createContext(null),Qs=b.exports.createContext(null),Zs=b.exports.createContext(null);function Fr(){return b.exports.useContext(Qs)}f(Fr,"useStoreContext");function Vd(){return b.exports.useContext(Zs)}f(Vd,"usePanelSettingsContext");const el=f(()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}}),"getDefaultTheme");function ln(t,e){const[o,i]=t.split(" "),n={};return o!=="none"&&(n.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${o!=="default"&&o||e.borderColor}`),i&&(n.backgroundColor=i),n}f(ln,"createStateClass");const wr={$inputStyle:()=>t=>ln(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>ln(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>ln(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>ln(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:de,css:j0,createTheme:Hd,globalCss:Kd,keyframes:z0}=Uf({prefix:"leva",theme:el(),utils:pe(pe({},wr),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":wr.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":wr.$focusStyle()(t)}),$hover:t=>({"&:hover":wr.$hoverStyle()(t)}),$active:t=>({"&:active":wr.$activeStyle()(t)})})}),Yd=Kd({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Xd(t){const e=el();if(!t)return{theme:e,className:""};Object.keys(t).forEach(i=>{Object.assign(e[i],t[i])});const o=Hd(e);return{theme:e,className:o.className}}f(Xd,"mergeTheme");function wt(t,e){const{theme:o}=b.exports.useContext(qo);if(!(t in o)||!(e in o[t]))return xt(Fe.THEME_ERROR,t,e),"";let i=e;for(;;){let n=o[t][i];if(typeof n=="string"&&n.charAt(0)==="$")i=n.substr(1);else return n}}f(wt,"useTh");const tl=de("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),rl=de("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${tl}`]:{paddingLeft:0}}),qd=de(rl,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Jd=de("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Qd=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Zd=["onUpdate"];function Jo(t){let{innerLabel:e,value:o,onUpdate:i,onChange:n,onKeyDown:r,type:a,id:s,inputType:l="text",rows:c=0}=t,u=De(t,Qd);const{id:d,emitOnEditStart:h,emitOnEditEnd:p,disabled:y}=Xe(),m=s||d,x=b.exports.useRef(null),v=c>0,g=v?"textarea":"input",S=b.exports.useCallback(_=>C=>{const O=C.currentTarget.value;_(O)},[]);ke.useEffect(()=>{const _=x.current,C=S(O=>{i(O),p()});return _==null||_.addEventListener("blur",C),()=>_==null?void 0:_.removeEventListener("blur",C)},[S,i,p]);const w=b.exports.useCallback(_=>{_.key==="Enter"&&S(i)(_)},[S,i]),T=Object.assign({as:g},v?{rows:c}:{},u);return ve(Jd,{textArea:v,children:[e&&typeof e=="string"?R(rl,{children:e}):e,R(tl,{levaType:a,ref:x,id:m,type:l,autoComplete:"off",spellCheck:"false",value:o,onChange:S(n),onFocus:()=>h(),onKeyPress:w,onKeyDown:r,disabled:y,...T})]})}f(Jo,"ValueInput");function eh(t){let{onUpdate:e}=t,o=De(t,Zd);const i=b.exports.useCallback(r=>e(Od(r)),[e]),n=b.exports.useCallback(r=>{const a=r.key==="ArrowUp"?1:r.key==="ArrowDown"?-1:0;if(a){r.preventDefault();const s=r.altKey?.1:r.shiftKey?10:1;e(l=>parseFloat(l)+a*s)}},[e]);return R(Jo,{...o,onUpdate:i,onKeyDown:n,type:"number"})}f(eh,"NumberInput");const xn=de("div",{}),Oo=de("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),th=de("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${Oo}::after`]:{opacity:.6},[`${xn}:hover > & + ${Oo}::after`]:{opacity:.6},[`${xn}:hover > & > svg`]:{opacity:1}}),nl=de("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${xn}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),ol=de("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${nl} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),il=de(ol,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),rh=de("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),nh=de("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),Ro=de("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),oh=de("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${Ro}`]:{pointerEvents:"auto"}}}}}),al=de("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),ih=de("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ah=de(yd,{fill:"$toolTipBackground"});function Qo({children:t}){const{className:e}=b.exports.useContext(qo);return R(ef,{className:e,children:t})}f(Qo,"Portal");const sh=["align"];function lh(){const{id:t,disable:e,disabled:o}=Xe();return ve(Bt,{children:[R(nh,{id:t+"__disable",type:"checkbox",checked:!o,onChange:()=>e(!o)}),R("label",{htmlFor:t+"__disable"})]})}f(lh,"OptionalToggle");function ch(t){const{id:e,optional:o,hint:i}=Xe(),n=t.htmlFor||(e?{htmlFor:e}:null),r=!i&&typeof t.children=="string"?{title:t.children}:null;return ve(Bt,{children:[o&&R(lh,{}),i!==void 0?ve(vd,{children:[R(md,{asChild:!0,children:R(Ro,{...n,...t})}),R(bd,{side:"top",sideOffset:2,children:ve(ih,{children:[i,R(ah,{})]})})]}):R(Ro,{...n,...r,...t})]})}f(ch,"RawLabel");function gt(t){let{align:e}=t,o=De(t,sh);const{value:i,label:n,key:r,disabled:a}=Xe(),{hideCopyButton:s}=Vd(),l=!s&&r!==void 0,[c,u]=b.exports.useState(!1),d=f(async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[r]:i!=null?i:""})),u(!0)}catch{xt(Fe.CLIPBOARD_ERROR,{[r]:i})}},"handleClick");return ve(rh,{align:e,onPointerLeave:()=>u(!1),children:[R(ch,{...o}),l&&!a&&R("div",{title:`Click to copy ${typeof n=="string"?n:r} value`,children:c?ve("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[R("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),R("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}):ve("svg",{onClick:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[R("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),R("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"})]})})]})}f(gt,"Label");const uh=["toggled"],fh=de("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Zo(t){let{toggled:e}=t,o=De(t,uh);return R(fh,{width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`},...o,children:R("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"})})}f(Zo,"Chevron");const dh=["input"];function ct(t){let{input:e}=t,o=De(t,dh);return e?R(il,{...o}):R(ol,{...o})}f(ct,"Row");function sl({value:t,type:e,settings:o,setValue:i}){const[n,r]=b.exports.useState(va(e,t,o)),a=b.exports.useRef(t),s=b.exports.useRef(o);s.current=o;const l=b.exports.useCallback(u=>r(va(e,u,s.current)),[e]),c=b.exports.useCallback(u=>{try{i(u)}catch(d){const{type:h,previousValue:p}=d;if(h!=="LEVA_ERROR")throw d;l(p)}},[l,i]);return b.exports.useEffect(()=>{Pr(t,a.current)||l(t),a.current=t},[t,l]),{displayValue:n,onChange:r,onUpdate:c}}f(sl,"useInputSetters");function Ir(t,e){const{emitOnEditStart:o,emitOnEditEnd:i}=Xe();return uu(n=>{n.first&&(document.body.classList.add("leva__panel__dragged"),o==null||o());const r=t(n);return n.last&&(document.body.classList.remove("leva__panel__dragged"),i==null||i()),r},e)}f(Ir,"useDrag");function hh(t){const e=b.exports.useRef(null),o=b.exports.useRef(null),i=b.exports.useRef(!1);return b.exports.useEffect(()=>{const n=Vs(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,o.current)},250);return window.addEventListener("resize",n),i.current||(n(),i.current=!0),()=>window.removeEventListener("resize",n)},[t]),b.exports.useEffect(()=>{o.current=e.current.getContext("2d")},[]),[e,o]}f(hh,"useCanvas2d");function ll(){const t=b.exports.useRef(null),e=b.exports.useRef({x:0,y:0}),o=b.exports.useCallback(i=>{Object.assign(e.current,i),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,o]}f(ll,"useTransform");const ph=["__refCount"],co=f((t,e)=>{if(!t[e])return null;const o=t[e];return De(o,ph)},"getInputAtPath");function gh(t){const e=Fr(),[o,i]=b.exports.useState(co(e.getData(),t)),n=b.exports.useCallback(c=>e.setValueAtPath(t,c,!0),[t,e]),r=b.exports.useCallback(c=>e.setSettingsAtPath(t,c),[t,e]),a=b.exports.useCallback(c=>e.disableInputAtPath(t,c),[t,e]),s=b.exports.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=b.exports.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return b.exports.useEffect(()=>{i(co(e.getData(),t));const c=e.useStore.subscribe(u=>co(u.data,t),i,{equalityFn:$r});return()=>c()},[e,t]),[o,{set:n,setSettings:r,disable:a,storeId:e.storeId,emitOnEditStart:s,emitOnEditEnd:l}]}f(gh,"useInput");const vh=de("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),cl=de("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Do=de("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),ul=de("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),fl=de("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function mh({value:t,min:e,max:o,onDrag:i,step:n,initialValue:r}){const a=b.exports.useRef(null),s=b.exports.useRef(null),l=b.exports.useRef(0),c=wt("sizes","scrubberWidth"),u=Ir(({event:h,first:p,xy:[y],movement:[m],memo:x})=>{if(p){const{width:g,left:S}=a.current.getBoundingClientRect();l.current=g-parseFloat(c),x=(h==null?void 0:h.target)===s.current?t:yn((y-S)/g,e,o)}const v=x+yn(m/l.current,0,o-e);return i(Xs(v,{step:n,initialValue:r})),x}),d=bn(t,e,o);return ve(ul,{ref:a,...u(),children:[R(cl,{children:R(fl,{style:{left:0,right:`${(1-d)*100}%`}})}),R(Do,{ref:s,style:{left:`calc(${d} * (100% - ${c}))`}})]})}f(mh,"RangeSlider");const bh=ke.memo(({label:t,onUpdate:e,step:o,innerLabelTrim:i})=>{const[n,r]=b.exports.useState(!1),a=Ir(({active:s,delta:[l],event:c,memo:u=0})=>(r(s),u+=l/2,Math.abs(u)>=1&&(e(d=>parseFloat(d)+Math.floor(u)*o*Hs(c)),u=0),u));return R(qd,{dragging:n,title:t.length>1?t:"",...a(),children:t.slice(0,i)})});function dl({label:t,id:e,displayValue:o,onUpdate:i,onChange:n,settings:r,innerLabelTrim:a=1}){const s=a>0&&R(bh,{label:t,step:r.step,onUpdate:i,innerLabelTrim:a});return R(eh,{id:e,value:String(o),onUpdate:i,onChange:n,innerLabel:s})}f(dl,"Number$1");function yh(){const t=Xe(),{label:e,value:o,onUpdate:i,settings:n,id:r}=t,{min:a,max:s}=n,l=s!==1/0&&a!==-1/0;return ve(ct,{input:!0,children:[R(gt,{children:e}),ve(vh,{hasRange:l,children:[l&&R(mh,{value:parseFloat(o),onDrag:i,...n}),R(dl,{...t,id:r,label:"value",innerLabelTrim:l?0:1})]})]})}f(yh,"NumberComponent");const{sanitizeStep:xh}=qs,wh=De(qs,["sanitizeStep"]);var Sh=pe({component:yh},wh);const _h=f((t,e)=>nt().schema({options:nt().passesAnyOf(nt().object(),nt().array())}).test(e),"schema$2$1"),Th=f((t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},"sanitize$2$1"),kh=f((t,{values:e})=>e.indexOf(t),"format$3"),Eh=f(t=>{let{value:e,options:o}=t,i,n;return Array.isArray(o)?(n=o,i=o.map(r=>String(r))):(n=Object.values(o),i=Object.keys(o)),"value"in t?n.includes(e)||(i.unshift(String(e)),n.unshift(e)):e=n[0],Object.values(o).includes(e)||(o[String(e)]=e),{value:e,settings:{keys:i,values:n}}},"normalize$1$1");var Ch=Object.freeze({__proto__:null,schema:_h,sanitize:Th,format:kh,normalize:Eh});const Oh=de("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),Po=de("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Rh=de("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${Po}:focus + &`]:{$focusStyle:""},[`${Po}:hover + &`]:{$hoverStyle:""}});function Dh({displayValue:t,value:e,onUpdate:o,id:i,settings:n,disabled:r}){const{keys:a,values:s}=n,l=b.exports.useRef();return e===s[t]&&(l.current=a[t]),ve(Oh,{children:[R(Po,{id:i,value:t,onChange:c=>o(s[Number(c.currentTarget.value)]),disabled:r,children:a.map((c,u)=>R("option",{value:u,children:c},c))}),R(Rh,{children:l.current}),R(Zo,{toggled:!0})]})}f(Dh,"Select");function Ph(){const{label:t,value:e,displayValue:o,onUpdate:i,id:n,disabled:r,settings:a}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:t}),R(Dh,{id:n,value:e,displayValue:o,onUpdate:i,settings:a,disabled:r})]})}f(Ph,"SelectComponent");var Ah=pe({component:Ph},Ch);const Uh=f(t=>nt().string().test(t),"schema$1$1"),Mh=f(t=>{if(typeof t!="string")throw Error("Invalid string");return t},"sanitize$1$1"),$h=f(({value:t,editable:e=!0,rows:o=!1})=>({value:t,settings:{editable:e,rows:typeof o=="number"?o:o?5:0}}),"normalize$4");var Fh=Object.freeze({__proto__:null,schema:Uh,sanitize:Mh,normalize:$h});const Ih=["displayValue","onUpdate","onChange","editable"],Lh=de("div",{whiteSpace:"pre-wrap"});function Bh(t){let{displayValue:e,onUpdate:o,onChange:i,editable:n=!0}=t,r=De(t,Ih);return n?R(Jo,{value:e,onUpdate:o,onChange:i,...r}):R(Lh,{children:e})}f(Bh,"String$1");function jh(){const{label:t,settings:e,displayValue:o,onUpdate:i,onChange:n}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:t}),R(Bh,{displayValue:o,onUpdate:i,onChange:n,...e})]})}f(jh,"StringComponent");var zh=pe({component:jh},Fh);const Nh=f(t=>nt().boolean().test(t),"schema$4"),Gh=f(t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t},"sanitize$5");var Wh=Object.freeze({__proto__:null,schema:Nh,sanitize:Gh});const Vh=de("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Hh({value:t,onUpdate:e,id:o,disabled:i}){return ve(Vh,{children:[R("input",{id:o,type:"checkbox",checked:t,onChange:n=>e(n.currentTarget.checked),disabled:i}),R("label",{htmlFor:o,children:R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:R("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})}f(Hh,"Boolean$1");function Kh(){const{label:t,value:e,onUpdate:o,disabled:i,id:n}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:t}),R(Hh,{value:e,onUpdate:o,id:n,disabled:i})]})}f(Kh,"BooleanComponent");var Yh=pe({component:Kh},Wh);const Xh=["locked"];function qh({value:t,id:e,valueKey:o,settings:i,onUpdate:n,innerLabelTrim:r}){const a=b.exports.useRef(t[o]);a.current=t[o];const s=b.exports.useCallback(c=>n({[o]:Ws({type:"NUMBER",value:a.current,settings:i},c)}),[n,i,o]),l=sl({type:"NUMBER",value:t[o],settings:i,setValue:s});return R(dl,{id:e,label:o,value:t[o],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:i,innerLabelTrim:r})}f(qh,"Coordinate");const Jh=de("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Qh(t){let{locked:e}=t,o=De(t,Xh);return R("svg",{width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:e?R("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):R("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}f(Qh,"Lock");function ei({value:t,onUpdate:e,settings:o,innerLabelTrim:i}){const{id:n,setSettings:r}=Xe(),{lock:a,locked:s}=o;return ve(Jh,{withLock:a,children:[a&&R(Qh,{locked:s,onClick:()=>r({locked:!s})}),Object.keys(t).map((l,c)=>R(qh,{id:c===0?n:`${n}.${l}`,valueKey:l,value:t,settings:o[l],onUpdate:e,innerLabelTrim:i},l))]})}f(ei,"Vector");const hl=f((t,e)=>{const o={};let i=0,n=1/0;Object.entries(t).forEach(([r,a])=>{o[r]=Ys(pe({value:a},e[r])).settings,i=Math.max(i,o[r].step),n=Math.min(n,o[r].pad)});for(let r in o){const{step:a,min:s,max:l}=e[r]||{};!isFinite(a)&&(!isFinite(s)||!isFinite(l))&&(o[r].step=i,o[r].pad=n)}return o},"normalizeKeyedNumberSettings"),Zh=["lock"],ep=["value"];function tp(t){const e=nt().array().length(t).every.number(),o=f(i=>{if(!i||typeof i!="object")return!1;const n=Object.values(i);return n.length===t&&n.every(r=>isFinite(r))},"isVectorObject");return i=>e.test(i)||o(i)}f(tp,"getVectorSchema");function rp(t){return Array.isArray(t)?"array":"object"}f(rp,"getVectorType");function Er(t,e,o){return rp(t)===e?t:e==="array"?Object.values(t):Ud(t,o)}f(Er,"convert$1");const np=f((t,e,o)=>{const i=Er(t,"object",e.keys);for(let a in i)i[a]=Ks(i[a],e[a]);const n=Object.keys(i);let r={};if(n.length===e.keys.length)r=i;else{const a=Er(o,"object",e.keys);if(n.length===1&&e.locked){const s=n[0],l=i[s],c=a[s],u=c!==0?l/c:1;for(let d in a)d===s?r[s]=l:r[d]=a[d]*u}else r=pe(pe({},a),i)}return Er(r,e.format,e.keys)},"sanitizeVector"),op=f((t,e)=>Er(t,"object",e.keys),"formatVector"),ip=f(t=>!!t&&("step"in t||"min"in t||"max"in t),"isNumberSettings");function ap(t,e,o=[]){const{lock:i=!1}=e,n=De(e,Zh),r=Array.isArray(t)?"array":"object",a=r==="object"?Object.keys(t):o,s=Er(t,"object",a),l=ip(n)?a.reduce((u,d)=>Object.assign(u,{[d]:n}),{}):n,c=hl(s,l);return{value:r==="array"?t:s,settings:pe(pe({},c),{},{format:r,keys:a,lock:i,locked:!1})}}f(ap,"normalizeVector");function pl(t){return{schema:tp(t.length),normalize:e=>{let{value:o}=e,i=De(e,ep);return ap(o,i,t)},format:(e,o)=>op(e,o),sanitize:(e,o,i)=>np(e,o,i)}}f(pl,"getVectorPlugin");var sp={grad:.9,turn:360,rad:360/(2*Math.PI)},yt=f(function(t){return typeof t=="string"?t.length>0:typeof t=="number"},"t"),ze=f(function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=Math.pow(10,e)),Math.round(o*t)/o+0},"n"),lt=f(function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=1),t>o?o:t>e?t:e},"e"),gl=f(function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},"u$1"),Ea=f(function(t){return{r:lt(t.r,0,255),g:lt(t.g,0,255),b:lt(t.b,0,255),a:lt(t.a)}},"a"),uo=f(function(t){return{r:ze(t.r),g:ze(t.g),b:ze(t.b),a:ze(t.a,3)}},"o"),lp=/^#([0-9a-f]{3,8})$/i,cn=f(function(t){var e=t.toString(16);return e.length<2?"0"+e:e},"s$1"),vl=f(function(t){var e=t.r,o=t.g,i=t.b,n=t.a,r=Math.max(e,o,i),a=r-Math.min(e,o,i),s=a?r===e?(o-i)/a:r===o?2+(i-e)/a:4+(e-o)/a:0;return{h:60*(s<0?s+6:s),s:r?a/r*100:0,v:r/255*100,a:n}},"h$1"),ml=f(function(t){var e=t.h,o=t.s,i=t.v,n=t.a;e=e/360*6,o/=100,i/=100;var r=Math.floor(e),a=i*(1-o),s=i*(1-(e-r)*o),l=i*(1-(1-e+r)*o),c=r%6;return{r:255*[i,s,a,a,l,i][c],g:255*[l,i,i,s,a,a][c],b:255*[a,a,l,i,i,s][c],a:n}},"b$1"),Ca=f(function(t){return{h:gl(t.h),s:lt(t.s,0,100),l:lt(t.l,0,100),a:lt(t.a)}},"g$1"),Oa=f(function(t){return{h:ze(t.h),s:ze(t.s),l:ze(t.l),a:ze(t.a,3)}},"d$1"),Ra=f(function(t){return ml((o=(e=t).s,{h:e.h,s:(o*=((i=e.l)<50?i:100-i)/100)>0?2*o/(i+o)*100:0,v:i+o,a:e.a}));var e,o,i},"f$1"),Cr=f(function(t){return{h:(e=vl(t)).h,s:(n=(200-(o=e.s))*(i=e.v)/100)>0&&n<200?o*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,o,i,n},"c$1"),cp=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,up=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,dp=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ao={string:[[function(t){var e=lp.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ze(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?ze(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=fp.exec(t)||dp.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Ea({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=cp.exec(t)||up.exec(t);if(!e)return null;var o,i,n=Ca({h:(o=e[1],i=e[2],i===void 0&&(i="deg"),Number(o)*(sp[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Ra(n)},"hsl"]],object:[[function(t){var e=t.r,o=t.g,i=t.b,n=t.a,r=n===void 0?1:n;return yt(e)&&yt(o)&&yt(i)?Ea({r:Number(e),g:Number(o),b:Number(i),a:Number(r)}):null},"rgb"],[function(t){var e=t.h,o=t.s,i=t.l,n=t.a,r=n===void 0?1:n;if(!yt(e)||!yt(o)||!yt(i))return null;var a=Ca({h:Number(e),s:Number(o),l:Number(i),a:Number(r)});return Ra(a)},"hsl"],[function(t){var e=t.h,o=t.s,i=t.v,n=t.a,r=n===void 0?1:n;if(!yt(e)||!yt(o)||!yt(i))return null;var a=function(s){return{h:gl(s.h),s:lt(s.s,0,100),v:lt(s.v,0,100),a:lt(s.a)}}({h:Number(e),s:Number(o),v:Number(i),a:Number(r)});return ml(a)},"hsv"]]},Da=f(function(t,e){for(var o=0;o<e.length;o++){var i=e[o][0](t);if(i)return[i,e[o][1]]}return[null,void 0]},"N"),bl=f(function(t){return typeof t=="string"?Da(t.trim(),Ao.string):typeof t=="object"&&t!==null?Da(t,Ao.object):[null,void 0]},"x"),hp=f(function(t){return bl(t)[1]},"I$1"),fo=f(function(t,e){var o=Cr(t);return{h:o.h,s:lt(o.s+100*e,0,100),l:o.l,a:o.a}},"M"),ho=f(function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},"H"),Pa=f(function(t,e){var o=Cr(t);return{h:o.h,s:o.s,l:lt(o.l+100*e,0,100),a:o.a}},"$$1"),Uo=function(){function t(e){this.parsed=bl(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return f(t,"r"),t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return ze(ho(this.rgba),2)},t.prototype.isDark=function(){return ho(this.rgba)<.5},t.prototype.isLight=function(){return ho(this.rgba)>=.5},t.prototype.toHex=function(){return e=uo(this.rgba),o=e.r,i=e.g,n=e.b,a=(r=e.a)<1?cn(ze(255*r)):"","#"+cn(o)+cn(i)+cn(n)+a;var e,o,i,n,r,a},t.prototype.toRgb=function(){return uo(this.rgba)},t.prototype.toRgbString=function(){return e=uo(this.rgba),o=e.r,i=e.g,n=e.b,(r=e.a)<1?"rgba("+o+", "+i+", "+n+", "+r+")":"rgb("+o+", "+i+", "+n+")";var e,o,i,n,r},t.prototype.toHsl=function(){return Oa(Cr(this.rgba))},t.prototype.toHslString=function(){return e=Oa(Cr(this.rgba)),o=e.h,i=e.s,n=e.l,(r=e.a)<1?"hsla("+o+", "+i+"%, "+n+"%, "+r+")":"hsl("+o+", "+i+"%, "+n+"%)";var e,o,i,n,r},t.prototype.toHsv=function(){return e=vl(this.rgba),{h:ze(e.h),s:ze(e.s),v:ze(e.v),a:ze(e.a,3)};var e},t.prototype.invert=function(){return Ze({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ze(fo(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ze(fo(this.rgba,-e))},t.prototype.grayscale=function(){return Ze(fo(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ze(Pa(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ze(Pa(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ze({r:(o=this.rgba).r,g:o.g,b:o.b,a:e}):ze(this.rgba.a,3);var o},t.prototype.hue=function(e){var o=Cr(this.rgba);return typeof e=="number"?Ze({h:e,s:o.s,l:o.l,a:o.a}):ze(o.h)},t.prototype.isEqual=function(e){return this.toHex()===Ze(e).toHex()},t}(),Ze=f(function(t){return t instanceof Uo?t:new Uo(t)},"w"),Aa=[],pp=f(function(t){t.forEach(function(e){Aa.indexOf(e)<0&&(e(Uo,Ao),Aa.push(e))})},"k$1");function gp(t,e){var o={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in o)i[o[n]]=n;var r={};t.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var s,l,c=i[this.toHex()];if(c)return c;if(a!=null&&a.closest){var u=this.toRgb(),d=1/0,h="black";if(!r.length)for(var p in o)r[p]=new t(o[p]).toRgb();for(var y in o){var m=(s=u,l=r[y],Math.pow(s.r-l.r,2)+Math.pow(s.g-l.g,2)+Math.pow(s.b-l.b,2));m<d&&(d=m,h=y)}return h}},e.string.push([function(a){var s=a.toLowerCase(),l=s==="transparent"?"#0000":o[s];return l?new t(l).toRgb():null},"name"])}f(gp,"namesPlugin");function nr(){return(nr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t}).apply(this,arguments)}f(nr,"u");function ti(t,e){if(t==null)return{};var o,i,n={},r=Object.keys(t);for(i=0;i<r.length;i++)e.indexOf(o=r[i])>=0||(n[o]=t[o]);return n}f(ti,"c");function Mo(t){var e=b.exports.useRef(t),o=b.exports.useRef(function(i){e.current&&e.current(i)});return e.current=t,o.current}f(Mo,"i");var Zt=f(function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=1),t>o?o:t<e?e:t},"s"),Or=f(function(t){return"touches"in t},"f"),$o=f(function(t){return t&&t.ownerDocument.defaultView||self},"v"),Ua=f(function(t,e,o){var i=t.getBoundingClientRect(),n=Or(e)?function(r,a){for(var s=0;s<r.length;s++)if(r[s].identifier===a)return r[s];return r[0]}(e.touches,o):e;return{left:Zt((n.pageX-(i.left+$o(t).pageXOffset))/i.width),top:Zt((n.pageY-(i.top+$o(t).pageYOffset))/i.height)}},"d"),Ma=f(function(t){!Or(t)&&t.preventDefault()},"h"),ri=ke.memo(function(t){var e=t.onMove,o=t.onKey,i=ti(t,["onMove","onKey"]),n=b.exports.useRef(null),r=Mo(e),a=Mo(o),s=b.exports.useRef(null),l=b.exports.useRef(!1),c=b.exports.useMemo(function(){var p=f(function(x){Ma(x),(Or(x)?x.touches.length>0:x.buttons>0)&&n.current?r(Ua(n.current,x,s.current)):m(!1)},"e"),y=f(function(){return m(!1)},"r");function m(x){var v=l.current,g=$o(n.current),S=x?g.addEventListener:g.removeEventListener;S(v?"touchmove":"mousemove",p),S(v?"touchend":"mouseup",y)}return f(m,"t"),[function(x){var v=x.nativeEvent,g=n.current;if(g&&(Ma(v),!function(w,T){return T&&!Or(w)}(v,l.current)&&g)){if(Or(v)){l.current=!0;var S=v.changedTouches||[];S.length&&(s.current=S[0].identifier)}g.focus(),r(Ua(g,v,s.current)),m(!0)}},function(x){var v=x.which||x.keyCode;v<37||v>40||(x.preventDefault(),a({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[a,r]),u=c[0],d=c[1],h=c[2];return b.exports.useEffect(function(){return h},[h]),R("div",{...nr({},i,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:n,onKeyDown:d,tabIndex:0,role:"slider"})})}),Lr=f(function(t){return t.filter(Boolean).join(" ")},"g"),ni=f(function(t){var e=t.color,o=t.left,i=t.top,n=i===void 0?.5:i,r=Lr(["react-colorful__pointer",t.className]);return R("div",{className:r,style:{top:100*n+"%",left:100*o+"%"},children:R("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}})})},"p"),et=f(function(t,e,o){return e===void 0&&(e=0),o===void 0&&(o=Math.pow(10,e)),Math.round(o*t)/o},"b"),yl=f(function(t){var e=t.s,o=t.v,i=t.a,n=(200-e)*o/100;return{h:et(t.h),s:et(n>0&&n<200?e*o/100/(n<=100?n:200-n)*100:0),l:et(n/2),a:et(i,2)}},"y"),Fo=f(function(t){var e=yl(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},"q"),po=f(function(t){var e=yl(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},"k"),xl=f(function(t){var e=t.h,o=t.s,i=t.v,n=t.a;e=e/360*6,o/=100,i/=100;var r=Math.floor(e),a=i*(1-o),s=i*(1-(e-r)*o),l=i*(1-(1-e+r)*o),c=r%6;return{r:et(255*[i,s,a,a,l,i][c]),g:et(255*[l,i,i,s,a,a][c]),b:et(255*[a,a,l,i,i,s][c]),a:et(n,2)}},"I"),wl=f(function(t){var e=t.r,o=t.g,i=t.b,n=t.a,r=Math.max(e,o,i),a=r-Math.min(e,o,i),s=a?r===e?(o-i)/a:r===o?2+(i-e)/a:4+(e-o)/a:0;return{h:et(60*(s<0?s+6:s)),s:et(r?a/r*100:0),v:et(r/255*100),a:n}},"L"),Sl=ke.memo(function(t){var e=t.hue,o=t.onChange,i=Lr(["react-colorful__hue",t.className]);return ke.createElement("div",{className:i},ke.createElement(ri,{onMove:function(n){o({h:360*n.left})},onKey:function(n){o({h:Zt(e+360*n.left,0,360)})},"aria-label":"Hue","aria-valuenow":et(e),"aria-valuemax":"360","aria-valuemin":"0"},ke.createElement(ni,{className:"react-colorful__hue-pointer",left:e/360,color:Fo({h:e,s:100,v:100,a:1})})))}),_l=ke.memo(function(t){var e=t.hsva,o=t.onChange,i={backgroundColor:Fo({h:e.h,s:100,v:100,a:1})};return ke.createElement("div",{className:"react-colorful__saturation",style:i},ke.createElement(ri,{onMove:function(n){o({s:100*n.left,v:100-100*n.top})},onKey:function(n){o({s:Zt(e.s+100*n.left,0,100),v:Zt(e.v-100*n.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+et(e.s)+"%, Brightness "+et(e.v)+"%"},ke.createElement(ni,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Fo(e)})))}),oi=f(function(t,e){if(t===e)return!0;for(var o in t)if(t[o]!==e[o])return!1;return!0},"F");function Tl(t,e,o){var i=Mo(o),n=b.exports.useState(function(){return t.toHsva(e)}),r=n[0],a=n[1],s=b.exports.useRef({color:e,hsva:r});b.exports.useEffect(function(){if(!t.equal(e,s.current.color)){var c=t.toHsva(e);s.current={hsva:c,color:e},a(c)}},[e,t]),b.exports.useEffect(function(){var c;oi(r,s.current.hsva)||t.equal(c=t.fromHsva(r),s.current.color)||(s.current={hsva:r,color:c},i(c))},[r,t,i]);var l=b.exports.useCallback(function(c){a(function(u){return Object.assign({},u,c)})},[]);return[r,l]}f(Tl,"Y");var vp=typeof window<"u"?b.exports.useLayoutEffect:b.exports.useEffect,mp=f(function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},"$"),$a=new Map,kl=f(function(t){vp(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!$a.has(e)){var o=e.createElement("style");o.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,$a.set(e,o);var i=mp();i&&o.setAttribute("nonce",i),e.head.appendChild(o)}},[])},"Q"),bp=f(function(t){var e=t.className,o=t.colorModel,i=t.color,n=i===void 0?o.defaultColor:i,r=t.onChange,a=ti(t,["className","colorModel","color","onChange"]),s=b.exports.useRef(null);kl(s);var l=Tl(o,n,r),c=l[0],u=l[1],d=Lr(["react-colorful",e]);return ve("div",{...nr({},a,{ref:s,className:d}),children:[R(_l,{hsva:c,onChange:u}),R(Sl,{hue:c.h,onChange:u,className:"react-colorful__last-control"})]})},"U"),yp=f(function(t){var e=t.className,o=t.hsva,i=t.onChange,n={backgroundImage:"linear-gradient(90deg, "+po(Object.assign({},o,{a:0}))+", "+po(Object.assign({},o,{a:1}))+")"},r=Lr(["react-colorful__alpha",e]),a=et(100*o.a);return ke.createElement("div",{className:r},R("div",{className:"react-colorful__alpha-gradient",style:n}),ke.createElement(ri,{onMove:function(s){i({a:s.left})},onKey:function(s){i({a:Zt(o.a+s.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},ke.createElement(ni,{className:"react-colorful__alpha-pointer",left:o.a,color:po(o)})))},"ee"),xp=f(function(t){var e=t.className,o=t.colorModel,i=t.color,n=i===void 0?o.defaultColor:i,r=t.onChange,a=ti(t,["className","colorModel","color","onChange"]),s=b.exports.useRef(null);kl(s);var l=Tl(o,n,r),c=l[0],u=l[1],d=Lr(["react-colorful",e]);return ke.createElement("div",nr({},a,{ref:s,className:d}),R(_l,{hsva:c,onChange:u}),R(Sl,{hue:c.h,onChange:u}),ke.createElement(yp,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},"re"),wp={defaultColor:{r:0,g:0,b:0,a:1},toHsva:wl,fromHsva:xl,equal:oi},Sp=f(function(t){return ke.createElement(xp,nr({},t,{colorModel:wp}))},"Ce"),_p={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return wl({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=xl(t)).r,g:e.g,b:e.b};var e},equal:oi},Tp=f(function(t){return R(bp,{...nr({},t,{colorModel:_p})})},"Ne");function or(t,e,o,i){function n(r){return r instanceof o?r:new o(function(a){a(r)})}return f(n,"adopt"),new(o||(o=Promise))(function(r,a){function s(u){try{c(i.next(u))}catch(d){a(d)}}f(s,"fulfilled");function l(u){try{c(i.throw(u))}catch(d){a(d)}}f(l,"rejected");function c(u){u.done?r(u.value):n(u.value).then(s,l)}f(c,"step"),c((i=i.apply(t,e||[])).next())})}f(or,"__awaiter");function ir(t,e){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(t,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}f(ir,"__generator");function kp(t,e){var o=typeof Symbol=="function"&&t[Symbol.iterator];if(!o)return t;var i=o.call(t),n,r=[],a;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)r.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(a)throw a.error}}return r}f(kp,"__read");function Ep(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kp(arguments[e]));return t}f(Ep,"__spread");var Cp=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Br(t,e){var o=Op(t);if(typeof o.path!="string"){var i=t.webkitRelativePath;Object.defineProperty(o,"path",{value:typeof e=="string"?e:typeof i=="string"&&i.length>0?i:t.name,writable:!1,configurable:!1,enumerable:!0})}return o}f(Br,"toFileWithPath");function Op(t){var e=t.name,o=e&&e.lastIndexOf(".")!==-1;if(o&&!t.type){var i=e.split(".").pop().toLowerCase(),n=Cp.get(i);n&&Object.defineProperty(t,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return t}f(Op,"withMimeType");var Rp=[".DS_Store","Thumbs.db"];function Dp(t){return or(this,void 0,void 0,function(){return ir(this,function(e){return wn(t)&&Pp(t)?[2,$p(t.dataTransfer,t.type)]:Ap(t)?[2,Up(t)]:Array.isArray(t)&&t.every(function(o){return"getFile"in o&&typeof o.getFile=="function"})?[2,Mp(t)]:[2,[]]})})}f(Dp,"fromEvent");function Pp(t){return wn(t.dataTransfer)}f(Pp,"isDataTransfer");function Ap(t){return wn(t)&&wn(t.target)}f(Ap,"isChangeEvt");function wn(t){return typeof t=="object"&&t!==null}f(wn,"isObject$7");function Up(t){return Io(t.target.files).map(function(e){return Br(e)})}f(Up,"getInputFiles");function Mp(t){return or(this,void 0,void 0,function(){var e;return ir(this,function(o){switch(o.label){case 0:return[4,Promise.all(t.map(function(i){return i.getFile()}))];case 1:return e=o.sent(),[2,e.map(function(i){return Br(i)})]}})})}f(Mp,"getFsHandleFiles");function $p(t,e){return or(this,void 0,void 0,function(){var o,i;return ir(this,function(n){switch(n.label){case 0:return t===null?[2,[]]:t.items?(o=Io(t.items).filter(function(r){return r.kind==="file"}),e!=="drop"?[2,o]:[4,Promise.all(o.map(Fp))]):[3,2];case 1:return i=n.sent(),[2,Fa(El(i))];case 2:return[2,Fa(Io(t.files).map(function(r){return Br(r)}))]}})})}f($p,"getDataTransferFiles");function Fa(t){return t.filter(function(e){return Rp.indexOf(e.name)===-1})}f(Fa,"noIgnoredFiles");function Io(t){if(t===null)return[];for(var e=[],o=0;o<t.length;o++){var i=t[o];e.push(i)}return e}f(Io,"fromList");function Fp(t){if(typeof t.webkitGetAsEntry!="function")return Ia(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Cl(e):Ia(t)}f(Fp,"toFilePromises");function El(t){return t.reduce(function(e,o){return Ep(e,Array.isArray(o)?El(o):[o])},[])}f(El,"flatten");function Ia(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var o=Br(e);return Promise.resolve(o)}f(Ia,"fromDataTransferItem");function Ip(t){return or(this,void 0,void 0,function(){return ir(this,function(e){return[2,t.isDirectory?Cl(t):Lp(t)]})})}f(Ip,"fromEntry");function Cl(t){var e=t.createReader();return new Promise(function(o,i){var n=[];function r(){var a=this;e.readEntries(function(s){return or(a,void 0,void 0,function(){var l,c,u;return ir(this,function(d){switch(d.label){case 0:if(s.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return l=d.sent(),o(l),[3,4];case 3:return c=d.sent(),i(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(s.map(Ip)),n.push(u),r(),d.label=6;case 6:return[2]}})})},function(s){i(s)})}f(r,"readEntries"),r()})}f(Cl,"fromDirEntry");function Lp(t){return or(this,void 0,void 0,function(){return ir(this,function(e){return[2,new Promise(function(o,i){t.file(function(n){var r=Br(n,t.fullPath);o(r)},function(n){i(n)})})]})})}f(Lp,"fromFileEntry");var Bp=f(function(t,e){if(t&&e){var o=Array.isArray(e)?e:e.split(","),i=t.name||"",n=(t.type||"").toLowerCase(),r=n.replace(/\/.*$/,"");return o.some(function(a){var s=a.trim().toLowerCase();return s.charAt(0)==="."?i.toLowerCase().endsWith(s):s.endsWith("/*")?r===s.replace(/\/.*$/,""):n===s})}return!0},"_default");function La(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}f(La,"ownKeys$1");function Ba(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?La(Object(o),!0).forEach(function(i){Ol(t,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):La(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}f(Ba,"_objectSpread$1");function Ol(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}f(Ol,"_defineProperty$1");function ja(t,e){return Gp(t)||Np(t,e)||zp(t,e)||jp()}f(ja,"_slicedToArray$1");function jp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f(jp,"_nonIterableRest$1");function zp(t,e){if(!!t){if(typeof t=="string")return za(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return za(t,e)}}f(zp,"_unsupportedIterableToArray$1");function za(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}f(za,"_arrayLikeToArray$1");function Np(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var i=[],n=!0,r=!1,a,s;try{for(o=o.call(t);!(n=(a=o.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(l){r=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(r)throw s}}return i}}f(Np,"_iterableToArrayLimit$1");function Gp(t){if(Array.isArray(t))return t}f(Gp,"_arrayWithHoles$1");var Wp="file-invalid-type",Vp="file-too-large",Hp="file-too-small",Kp="too-many-files",Yp=f(function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var o=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Wp,message:"File type must be ".concat(o)}},"getInvalidTypeRejectionErr"),Na=f(function(e){return{code:Vp,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},"getTooLargeRejectionErr"),Ga=f(function(e){return{code:Hp,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},"getTooSmallRejectionErr"),Xp={code:Kp,message:"Too many files"};function Rl(t,e){var o=t.type==="application/x-moz-file"||Bp(t,e);return[o,o?null:Yp(e)]}f(Rl,"fileAccepted");function Dl(t,e,o){if(Sr(t.size))if(Sr(e)&&Sr(o)){if(t.size>o)return[!1,Na(o)];if(t.size<e)return[!1,Ga(e)]}else{if(Sr(e)&&t.size<e)return[!1,Ga(e)];if(Sr(o)&&t.size>o)return[!1,Na(o)]}return[!0,null]}f(Dl,"fileMatchSize");function Sr(t){return t!=null}f(Sr,"isDefined");function qp(t){var e=t.files,o=t.accept,i=t.minSize,n=t.maxSize,r=t.multiple,a=t.maxFiles;return!r&&e.length>1||r&&a>=1&&e.length>a?!1:e.every(function(s){var l=Rl(s,o),c=ja(l,1),u=c[0],d=Dl(s,i,n),h=ja(d,1),p=h[0];return u&&p})}f(qp,"allFilesAccepted");function Sn(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}f(Sn,"isPropagationStopped");function un(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}f(un,"isEvtWithFiles");function Wa(t){t.preventDefault()}f(Wa,"onDocumentDragOver");function Jp(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}f(Jp,"isIe");function Qp(t){return t.indexOf("Edge/")!==-1}f(Qp,"isEdge");function Zp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Jp(t)||Qp(t)}f(Zp,"isIeOrEdge");function mt(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return function(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e.some(function(s){return!Sn(i)&&s&&s.apply(void 0,[i].concat(r)),Sn(i)})}}f(mt,"composeEventHandlers");function eg(){return"showOpenFilePicker"in window}f(eg,"canUseFileSystemAccessAPI");function tg(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,o){return Ba(Ba({},e),{},Ol({},o,[]))},{}):{}}]}f(tg,"filePickerOptionsTypes");function rg(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}f(rg,"isAbort");function ng(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}f(ng,"isSecurityError");var og=["children"],ig=["open"],ag=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],sg=["refKey","onChange","onClick"];function lg(t){return fg(t)||ug(t)||Pl(t)||cg()}f(lg,"_toConsumableArray");function cg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f(cg,"_nonIterableSpread");function ug(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}f(ug,"_iterableToArray");function fg(t){if(Array.isArray(t))return Lo(t)}f(fg,"_arrayWithoutHoles");function go(t,e){return pg(t)||hg(t,e)||Pl(t,e)||dg()}f(go,"_slicedToArray");function dg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}f(dg,"_nonIterableRest");function Pl(t,e){if(!!t){if(typeof t=="string")return Lo(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lo(t,e)}}f(Pl,"_unsupportedIterableToArray");function Lo(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}f(Lo,"_arrayLikeToArray");function hg(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var i=[],n=!0,r=!1,a,s;try{for(o=o.call(t);!(n=(a=o.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(l){r=!0,s=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(r)throw s}}return i}}f(hg,"_iterableToArrayLimit");function pg(t){if(Array.isArray(t))return t}f(pg,"_arrayWithHoles");function Va(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,i)}return o}f(Va,"ownKeys");function $e(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Va(Object(o),!0).forEach(function(i){Bo(t,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Va(Object(o)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))})}return t}f($e,"_objectSpread");function Bo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}f(Bo,"_defineProperty");function _n(t,e){if(t==null)return{};var o=gg(t,e),i,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)i=r[n],!(e.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,i)||(o[i]=t[i]))}return o}f(_n,"_objectWithoutProperties");function gg(t,e){if(t==null)return{};var o={},i=Object.keys(t),n,r;for(r=0;r<i.length;r++)n=i[r],!(e.indexOf(n)>=0)&&(o[n]=t[n]);return o}f(gg,"_objectWithoutPropertiesLoose");var ii=b.exports.forwardRef(function(t,e){var o=t.children,i=_n(t,og),n=Ul(i),r=n.open,a=_n(n,ig);return b.exports.useImperativeHandle(e,function(){return{open:r}},[r]),R(b.exports.Fragment,{children:o($e($e({},a),{},{open:r}))})});ii.displayName="Dropzone";var Al={disabled:!1,getFilesFromEvent:Dp,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};ii.defaultProps=Al;ii.propTypes={children:Ce.exports.func,accept:Ce.exports.oneOfType([Ce.exports.string,Ce.exports.arrayOf(Ce.exports.string)]),multiple:Ce.exports.bool,preventDropOnDocument:Ce.exports.bool,noClick:Ce.exports.bool,noKeyboard:Ce.exports.bool,noDrag:Ce.exports.bool,noDragEventsBubbling:Ce.exports.bool,minSize:Ce.exports.number,maxSize:Ce.exports.number,maxFiles:Ce.exports.number,disabled:Ce.exports.bool,getFilesFromEvent:Ce.exports.func,onFileDialogCancel:Ce.exports.func,onFileDialogOpen:Ce.exports.func,useFsAccessApi:Ce.exports.bool,onDragEnter:Ce.exports.func,onDragLeave:Ce.exports.func,onDragOver:Ce.exports.func,onDrop:Ce.exports.func,onDropAccepted:Ce.exports.func,onDropRejected:Ce.exports.func,validator:Ce.exports.func};var jo={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function Ul(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=$e($e({},Al),t),o=e.accept,i=e.disabled,n=e.getFilesFromEvent,r=e.maxSize,a=e.minSize,s=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,d=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,y=e.onDropRejected,m=e.onFileDialogCancel,x=e.onFileDialogOpen,v=e.useFsAccessApi,g=e.preventDropOnDocument,S=e.noClick,w=e.noKeyboard,T=e.noDrag,_=e.noDragEventsBubbling,C=e.validator,O=b.exports.useMemo(function(){return typeof x=="function"?x:Ha},[x]),$=b.exports.useMemo(function(){return typeof m=="function"?m:Ha},[m]),U=b.exports.useRef(null),M=b.exports.useRef(null),k=b.exports.useReducer(vg,jo),D=go(k,2),P=D[0],N=D[1],I=P.isFocused,te=P.isFileDialogActive,ie=P.draggedFiles,L=b.exports.useRef(typeof window<"u"&&window.isSecureContext&&v&&eg()),K=f(function(){!L.current&&te&&setTimeout(function(){if(M.current){var z=M.current.files;z.length||(N({type:"closeDialog"}),$())}},300)},"onWindowFocus");b.exports.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[M,te,$,L]);var E=b.exports.useRef([]),B=f(function(z){U.current&&U.current.contains(z.target)||(z.preventDefault(),E.current=[])},"onDocumentDrop");b.exports.useEffect(function(){return g&&(document.addEventListener("dragover",Wa,!1),document.addEventListener("drop",B,!1)),function(){g&&(document.removeEventListener("dragover",Wa),document.removeEventListener("drop",B))}},[U,g]);var X=b.exports.useCallback(function(A){A.preventDefault(),A.persist(),ae(A),E.current=[].concat(lg(E.current),[A.target]),un(A)&&Promise.resolve(n(A)).then(function(z){Sn(A)&&!_||(N({draggedFiles:z,isDragActive:!0,type:"setDraggedFiles"}),c&&c(A))})},[n,c,_]),H=b.exports.useCallback(function(A){A.preventDefault(),A.persist(),ae(A);var z=un(A);if(z&&A.dataTransfer)try{A.dataTransfer.dropEffect="copy"}catch{}return z&&d&&d(A),!1},[d,_]),j=b.exports.useCallback(function(A){A.preventDefault(),A.persist(),ae(A);var z=E.current.filter(function(he){return U.current&&U.current.contains(he)}),J=z.indexOf(A.target);J!==-1&&z.splice(J,1),E.current=z,!(z.length>0)&&(N({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),un(A)&&u&&u(A))},[U,u,_]),Y=b.exports.useCallback(function(A,z){var J=[],he=[];A.forEach(function(me){var Z=Rl(me,o),fe=go(Z,2),Se=fe[0],Te=fe[1],Pe=Dl(me,a,r),Ae=go(Pe,2),ge=Ae[0],se=Ae[1],Oe=C?C(me):null;if(Se&&ge&&!Oe)J.push(me);else{var _e=[Te,se];Oe&&(_e=_e.concat(Oe)),he.push({file:me,errors:_e.filter(function(qe){return qe})})}}),(!s&&J.length>1||s&&l>=1&&J.length>l)&&(J.forEach(function(me){he.push({file:me,errors:[Xp]})}),J.splice(0)),N({acceptedFiles:J,fileRejections:he,type:"setFiles"}),h&&h(J,he,z),he.length>0&&y&&y(he,z),J.length>0&&p&&p(J,z)},[N,s,o,a,r,l,h,p,y,C]),F=b.exports.useCallback(function(A){A.preventDefault(),A.persist(),ae(A),E.current=[],un(A)&&Promise.resolve(n(A)).then(function(z){Sn(A)&&!_||Y(z,A)}),N({type:"reset"})},[n,Y,_]),G=b.exports.useCallback(function(){if(L.current){N({type:"openDialog"}),O();var A={multiple:s,types:tg(o)};window.showOpenFilePicker(A).then(function(z){return n(z)}).then(function(z){Y(z,null),N({type:"closeDialog"})}).catch(function(z){rg(z)?($(z),N({type:"closeDialog"})):ng(z)&&(L.current=!1,M.current&&(M.current.value=null,M.current.click()))});return}M.current&&(N({type:"openDialog"}),O(),M.current.value=null,M.current.click())},[N,O,$,v,Y,o,s]),Q=b.exports.useCallback(function(A){!U.current||!U.current.isEqualNode(A.target)||(A.key===" "||A.key==="Enter"||A.keyCode===32||A.keyCode===13)&&(A.preventDefault(),G())},[U,G]),ue=b.exports.useCallback(function(){N({type:"focus"})},[]),ee=b.exports.useCallback(function(){N({type:"blur"})},[]),q=b.exports.useCallback(function(){S||(Zp()?setTimeout(G,0):G())},[S,G]),xe=f(function(z){return i?null:z},"composeHandler"),ye=f(function(z){return w?null:xe(z)},"composeKeyboardHandler"),re=f(function(z){return T?null:xe(z)},"composeDragHandler"),ae=f(function(z){_&&z.stopPropagation()},"stopPropagation"),be=b.exports.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=A.refKey,J=z===void 0?"ref":z,he=A.role,me=A.onKeyDown,Z=A.onFocus,fe=A.onBlur,Se=A.onClick,Te=A.onDragEnter,Pe=A.onDragOver,Ae=A.onDragLeave,ge=A.onDrop,se=_n(A,ag);return $e($e(Bo({onKeyDown:ye(mt(me,Q)),onFocus:ye(mt(Z,ue)),onBlur:ye(mt(fe,ee)),onClick:xe(mt(Se,q)),onDragEnter:re(mt(Te,X)),onDragOver:re(mt(Pe,H)),onDragLeave:re(mt(Ae,j)),onDrop:re(mt(ge,F)),role:typeof he=="string"&&he!==""?he:"button"},J,U),!i&&!w?{tabIndex:0}:{}),se)}},[U,Q,ue,ee,q,X,H,j,F,w,T,i]),W=b.exports.useCallback(function(A){A.stopPropagation()},[]),ce=b.exports.useMemo(function(){return function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=A.refKey,J=z===void 0?"ref":z,he=A.onChange,me=A.onClick,Z=_n(A,sg),fe=Bo({accept:o,multiple:s,type:"file",style:{display:"none"},onChange:xe(mt(he,F)),onClick:xe(mt(me,W)),tabIndex:-1},J,M);return $e($e({},fe),Z)}},[M,o,s,F,i]),ne=ie.length,V=ne>0&&qp({files:ie,accept:o,minSize:a,maxSize:r,multiple:s,maxFiles:l}),we=ne>0&&!V;return $e($e({},P),{},{isDragAccept:V,isDragReject:we,isFocused:I&&!i,getRootProps:be,getInputProps:ce,rootRef:U,inputRef:M,open:xe(G)})}f(Ul,"useDropzone");function vg(t,e){switch(e.type){case"focus":return $e($e({},t),{},{isFocused:!0});case"blur":return $e($e({},t),{},{isFocused:!1});case"openDialog":return $e($e({},jo),{},{isFileDialogActive:!0});case"closeDialog":return $e($e({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var o=e.isDragActive,i=e.draggedFiles;return $e($e({},t),{},{draggedFiles:i,isDragActive:o});case"setFiles":return $e($e({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return $e({},jo);default:return t}}f(vg,"reducer");function Ha(){}f(Ha,"noop");/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var mg=f(function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1},"isObject");/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var bg=mg;function Ka(t){return bg(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}f(Ka,"isObjectObject");var Ml=f(function(e){var o,i;return!(Ka(e)===!1||(o=e.constructor,typeof o!="function")||(i=o.prototype,Ka(i)===!1)||i.hasOwnProperty("isPrototypeOf")===!1)},"isPlainObject");/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var yg=Ml,ai=f(function(e){return yg(e)||typeof e=="function"||Array.isArray(e)},"isExtendable");/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var xg=f(function(e,o,i){for(var n in e)if(o.call(i,e[n],n,e)===!1)break},"forIn"),wg=ai,Sg=xg;function $l(t,e){for(var o=arguments.length,i=0;++i<o;){var n=arguments[i];zo(n)&&Sg(n,_g,t)}return t}f($l,"mixinDeep");function _g(t,e){if(!!Tg(e)){var o=this[e];zo(t)&&zo(o)?$l(o,t):this[e]=t}}f(_g,"copy");function zo(t){return wg(t)&&!Array.isArray(t)}f(zo,"isObject$5");function Tg(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}f(Tg,"isValidKey$1");var kg=$l;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Eg=f(function(t,e,o,i,n){if(!Cg(t)||!e)return t;if(e=fn(e),o&&(e+="."+fn(o)),i&&(e+="."+fn(i)),n&&(e+="."+fn(n)),e in t)return t[e];for(var r=e.split("."),a=r.length,s=-1;t&&++s<a;){for(var l=r[s];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+r[++s];t=t[l]}return t},"getValue$1");function Cg(t){return t!==null&&(typeof t=="object"||typeof t=="function")}f(Cg,"isObject$4");function fn(t){return t?Array.isArray(t)?t.join("."):t:""}f(fn,"toString");/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Og=f(function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var o=Object.prototype.propertyIsEnumerable,i=Object(t),n=arguments.length,r=0;++r<n;)for(var a=Object(arguments[r]),s=Object.getOwnPropertySymbols(a),l=0;l<s.length;l++){var c=s[l];o.call(a,c)&&(i[c]=a[c])}return i},"assignSymbols$1"),Rg=ai,Dg=Og,Pg=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");Ya(t)||(t={});for(var e=1;e<arguments.length;e++){var o=arguments[e];Ug(o)&&(o=Mg(o)),Ya(o)&&(Ag(t,o),Dg(t,o))}return t};function Ag(t,e){for(var o in e)$g(e,o)&&(t[o]=e[o])}f(Ag,"assign$1");function Ug(t){return t&&typeof t=="string"}f(Ug,"isString");function Mg(t){var e={};for(var o in t)e[o]=t[o];return e}f(Mg,"toObject");function Ya(t){return t&&typeof t=="object"||Rg(t)}f(Ya,"isObject$3");function $g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}f($g,"hasOwn$1");/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Fg=Pg,Ig=f(function(t,e,o){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(o=e,e=null),typeof e=="string"&&(e={sep:e});var i=Fg({sep:"."},e),n=i.quotes||['"',"'","`"],r;i.brackets===!0?r={"<":">","(":")","[":"]","{":"}"}:i.brackets&&(r=i.brackets);var a=[],s=[],l=[""],c=i.sep,u=t.length,d=-1,h;function p(){if(r&&s.length)return r[s[s.length-1]]}for(f(p,"expected");++d<u;){var y=t[d],m=t[d+1],x={val:y,idx:d,arr:l,str:t};if(a.push(x),y==="\\"){x.val=Bg(i,t,d)===!0?y+m:m,x.escaped=!0,typeof o=="function"&&o(x),l[l.length-1]+=x.val,d++;continue}if(r&&r[y]){s.push(y);var v=p(),g=d+1;if(t.indexOf(v,g+1)!==-1)for(;s.length&&g<u;){var S=t[++g];if(S==="\\"){S++;continue}if(n.indexOf(S)!==-1){g=No(t,S,g+1);continue}if(v=p(),s.length&&t.indexOf(v,g+1)===-1)break;if(r[S]){s.push(S);continue}v===S&&s.pop()}if(h=g,h===-1){l[l.length-1]+=y;continue}y=t.slice(d,h+1),x.val=y,x.idx=d=h}if(n.indexOf(y)!==-1){if(h=No(t,y,d+1),h===-1){l[l.length-1]+=y;continue}Lg(y,i)===!0?y=t.slice(d,h+1):y=t.slice(d+1,h),x.val=y,x.idx=d=h}if(typeof o=="function"&&(o(x,a),y=x.val,d=x.idx),x.val===c&&x.split!==!1){l.push("");continue}l[l.length-1]+=x.val}return l},"splitString");function No(t,e,o,i){var n=t.indexOf(e,o);return t.charAt(n-1)==="\\"?No(t,e,n+1):n}f(No,"getClosingQuote");function Lg(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}f(Lg,"keepQuotes");function Bg(t,e,o){return typeof t.keepEscaping=="function"?t.keepEscaping(e,o):t.keepEscaping===!0||e[o+1]==="\\"}f(Bg,"keepEscaping");/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Fl=f(function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},"isExtendable"),Xa=Fl,jg=f(function(e){Xa(e)||(e={});for(var o=arguments.length,i=1;i<o;i++){var n=arguments[i];Xa(n)&&zg(e,n)}return e},"extend");function zg(t,e){for(var o in e)Ng(e,o)&&(t[o]=e[o])}f(zg,"assign");function Ng(t,e){return Object.prototype.hasOwnProperty.call(t,e)}f(Ng,"hasOwn");/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Gg=Ig,Wg=jg,qa=Ml,Ja=Fl,Vg=f(function(t,e,o){if(!Ja(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var i=Gg(e,{sep:".",brackets:!0}).filter(Hg),n=i.length,r=-1,a=t;++r<n;){var s=i[r];if(r!==n-1){Ja(a[s])||(a[s]={}),a=a[s];continue}qa(a[s])&&qa(o)?a[s]=Wg({},a[s],o):a[s]=o}return t},"setValue");function Hg(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}f(Hg,"isValidKey");var vo=ai,Qa=kg,Kg=Eg,Za=Vg,Yg=f(function(e,o,i){if(!vo(e))throw new TypeError("expected an object");if(typeof o!="string"||i==null)return Qa.apply(null,arguments);if(typeof i=="string")return Za(e,o,i),e;var n=Kg(e,o);return vo(i)&&vo(n)&&(i=Qa({},n,i)),Za(e,o,i),e},"mergeValue");const si=f((...t)=>t.filter(Boolean).join("."),"join");function Xg(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}f(Xg,"getKeyPath");function qg(t,e){return Object.entries(Pd(t,e)).reduce((o,[,{value:i,disabled:n,key:r}])=>(o[r]=n?void 0:i,o),{})}f(qg,"getValuesForPaths");function Jg(t,e){const o=b.exports.useRef();return(e?Pr:$r)(t,o.current)||(o.current=t),o.current}f(Jg,"useCompareMemoize");function Il(t,e){return b.exports.useMemo(t,Jg(e,!0))}f(Il,"useDeepMemo");function Qg(t){const e=b.exports.useRef(null),o=b.exports.useRef(null),i=b.exports.useRef(!0);return b.exports.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),b.exports.useEffect(()=>{if(i.current){i.current=!1;return}let n;const r=e.current,a=f(()=>{t&&(r.style.removeProperty("height"),r.style.removeProperty("overflow"),o.current.scrollIntoView({behavior:"smooth",block:"nearest"}))},"fixHeight");r.addEventListener("transitionend",a,{once:!0});const{height:s}=o.current.getBoundingClientRect();return r.style.height=s+"px",t||(r.style.overflow="hidden",n=window.setTimeout(()=>r.style.height="0px",50)),()=>{r.removeEventListener("transitionend",a),clearTimeout(n)}},[t]),{wrapperRef:e,contentRef:o}}f(Qg,"useToggle");const Zg=f(t=>{const[e,o]=b.exports.useState(t.getVisiblePaths());return b.exports.useEffect(()=>{o(t.getVisiblePaths());const i=t.useStore.subscribe(t.getVisiblePaths,o,{equalityFn:$r});return()=>i()},[t]),e},"useVisiblePaths");function ev(t,e,o){return t.useStore(n=>{const r=pe(pe({},o),n.data);return qg(r,e)},$r)}f(ev,"useValuesForPath");function Ll(t=3){const e=b.exports.useRef(null),o=b.exports.useRef(null),[i,n]=b.exports.useState(!1),r=b.exports.useCallback(()=>n(!0),[]),a=b.exports.useCallback(()=>n(!1),[]);return b.exports.useLayoutEffect(()=>{if(i){const{bottom:s,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=o.current.getBoundingClientRect(),d=s+u>window.innerHeight-40?"up":"down";o.current.style.position="fixed",o.current.style.zIndex="10000",o.current.style.left=c+"px",d==="down"?o.current.style.top=s+t+"px":o.current.style.bottom=window.innerHeight-l+t+"px"}},[t,i]),{popinRef:e,wrapperRef:o,shown:i,show:r,hide:a}}f(Ll,"usePopin");pp([gp]);const tv={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};nt.extend({color:()=>t=>Ze(t).isValid()});const rv=f(t=>nt().color().test(t),"schema$2");function Bl(t,{format:e,hasAlpha:o,isString:i}){const n=tv[e]+(i&&e!=="hex"?"String":""),r=t[n]();return typeof r=="object"&&!o?Ad(r,["a"]):r}f(Bl,"convert");const jl=f((t,e)=>{const o=Ze(t);if(!o.isValid())throw Error("Invalid color");return Bl(o,e)},"sanitize$2"),nv=f((t,e)=>Bl(Ze(t),pe(pe({},e),{},{isString:!0,format:"hex"})),"format$1"),ov=f(({value:t})=>{const e=hp(t),o=e==="name"?"hex":e,i=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),n={format:o,hasAlpha:i,isString:typeof t=="string"};return{value:jl(t,n),settings:n}},"normalize$3");var iv=Object.freeze({__proto__:null,schema:rv,sanitize:jl,format:nv,normalize:ov});const av=de("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),sv=de("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),lv=de("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function es(t,e){return e!=="rgb"?Ze(t).toRgb():t}f(es,"convertToRgb");function cv({value:t,displayValue:e,settings:o,onUpdate:i}){const{emitOnEditStart:n,emitOnEditEnd:r}=Xe(),{format:a,hasAlpha:s}=o,{popinRef:l,wrapperRef:c,shown:u,show:d,hide:h}=Ll(),p=b.exports.useRef(0),[y,m]=b.exports.useState(()=>es(t,a)),x=s?Sp:Tp,v=f(()=>{m(es(t,a)),d(),n()},"showPicker"),g=f(()=>{h(),r(),window.clearTimeout(p.current)},"hidePicker"),S=f(()=>{p.current=window.setTimeout(g,500)},"hideAfterDelay");return b.exports.useEffect(()=>()=>window.clearTimeout(p.current),[]),ve(Bt,{children:[R(av,{ref:l,active:u,onClick:()=>v(),style:{color:e}}),u&&ve(Qo,{children:[R(al,{onPointerUp:g}),R(lv,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:w=>w.buttons===0&&S(),children:R(x,{color:y,onChange:i})})]})]})}f(cv,"Color");function uv(){const{value:t,displayValue:e,label:o,onChange:i,onUpdate:n,settings:r}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:o}),ve(sv,{children:[R(cv,{value:t,displayValue:e,onChange:i,onUpdate:n,settings:r}),R(Jo,{value:e,onChange:i,onUpdate:n})]})]})}f(uv,"ColorComponent");var fv=pe({component:uv},iv);function dv(){const{label:t,displayValue:e,onUpdate:o,settings:i}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:t}),R(ei,{value:e,settings:i,onUpdate:o})]})}f(dv,"Vector3dComponent");var hv=pe({component:dv},pl(["x","y","z"]));const pv=de("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),gv=de("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function vv({value:t,settings:e,onUpdate:o}){const i=b.exports.useRef(),n=b.exports.useRef(0),r=b.exports.useRef(0),a=b.exports.useRef(1),[s,l]=b.exports.useState(!1),[c,u]=b.exports.useState(!1),[d,h]=ll(),p=b.exports.useRef(null),y=b.exports.useRef(null);b.exports.useLayoutEffect(()=>{if(s){const{top:k,left:D,width:P,height:N}=p.current.getBoundingClientRect();y.current.style.left=D+P/2+"px",y.current.style.top=k+N/2+"px"}},[s]);const{keys:[m,x],joystick:v}=e,g=v==="invertY"?1:-1,{[m]:{step:S},[x]:{step:w}}=e,T=wt("sizes","joystickWidth"),_=wt("sizes","joystickHeight"),C=parseFloat(T)*.8/2,O=parseFloat(_)*.8/2,$=b.exports.useCallback(()=>{i.current||(u(!0),n.current&&h({x:n.current*C}),r.current&&h({y:r.current*-O}),i.current=window.setInterval(()=>{o(k=>{const D=S*n.current*a.current,P=g*w*r.current*a.current;return Array.isArray(k)?{[m]:k[0]+D,[x]:k[1]+P}:{[m]:k[m]+D,[x]:k[x]+P}})},16))},[C,O,o,h,S,w,m,x,g]),U=b.exports.useCallback(()=>{window.clearTimeout(i.current),i.current=void 0,u(!1)},[]);b.exports.useEffect(()=>{function k(D){a.current=Hs(D)}return f(k,"setStepMultiplier"),window.addEventListener("keydown",k),window.addEventListener("keyup",k),()=>{window.clearTimeout(i.current),window.removeEventListener("keydown",k),window.removeEventListener("keyup",k)}},[]);const M=Ir(({first:k,active:D,delta:[P,N],movement:[I,te]})=>{k&&l(!0);const ie=Pt(I,-C,C),L=Pt(te,-O,O);n.current=Math.abs(I)>Math.abs(ie)?Math.sign(I-ie):0,r.current=Math.abs(te)>Math.abs(L)?Math.sign(L-te):0;let K=t[m],E=t[x];D?(n.current||(K+=P*S*a.current,h({x:ie})),r.current||(E-=g*N*w*a.current,h({y:L})),n.current||r.current?$():U(),o({[m]:K,[x]:E})):(l(!1),n.current=0,r.current=0,h({x:0,y:0}),U())});return R(pv,{ref:p,...M(),children:s&&R(Qo,{children:ve(gv,{ref:y,isOutOfBounds:c,children:[R("div",{}),R("span",{ref:d})]})})})}f(vv,"Joystick");const mv=de("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function bv(){const{label:t,displayValue:e,onUpdate:o,settings:i}=Xe();return ve(ct,{input:!0,children:[R(gt,{children:t}),ve(mv,{withJoystick:!!i.joystick,children:[i.joystick&&R(vv,{value:e,settings:i,onUpdate:o}),R(ei,{value:e,settings:i,onUpdate:o})]})]})}f(bv,"Vector2dComponent");const yv=["joystick"],zl=pl(["x","y"]),xv=f(t=>{let{joystick:e=!0}=t,o=De(t,yv);const{value:i,settings:n}=zl.normalize(o);return{value:i,settings:pe(pe({},n),{},{joystick:e})}},"normalize$2");var wv=pe(pe({component:bv},zl),{},{normalize:xv});const Sv=f(t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |\xA0File].")}},"sanitize$1"),_v=f((t,e)=>typeof e=="object"&&"image"in e,"schema$1"),Tv=f(({image:t})=>({value:t}),"normalize$1");var kv=Object.freeze({__proto__:null,sanitize:Sv,schema:_v,normalize:Tv});const Ev=de("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Cv=de("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Ov=de("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Rv=de("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Dv=de("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Pv=de("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Av(){const{label:t,value:e,onUpdate:o,disabled:i}=Xe(),{popinRef:n,wrapperRef:r,shown:a,show:s,hide:l}=Ll(),c=b.exports.useCallback(y=>{y.length&&o(y[0])},[o]),u=b.exports.useCallback(y=>{y.stopPropagation(),o(void 0)},[o]),{getRootProps:d,getInputProps:h,isDragAccept:p}=Ul({maxFiles:1,accept:"image/*",onDrop:c,disabled:i});return ve(ct,{input:!0,children:[R(gt,{children:t}),ve(Ev,{children:[R(Ov,{ref:n,hasImage:!!e,onPointerDown:()=>!!e&&s(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),a&&!!e&&ve(Qo,{children:[R(al,{onPointerUp:l,style:{cursor:"pointer"}}),R(Rv,{ref:r,style:{backgroundImage:`url(${e})`}})]}),ve(Cv,{...d({isDragAccept:p}),children:[R("input",{...h()}),R(Dv,{children:p?"drop image":"click or drop"})]}),R(Pv,{onClick:u,disabled:!e})]})]})}f(Av,"ImageComponent");var Uv=pe({component:Av},kv);const ts=nt().number(),Mv=f((t,e)=>nt().array().length(2).every.number().test(t)&&nt().schema({min:ts,max:ts}).test(e),"schema"),Tn=f(t=>({min:t[0],max:t[1]}),"format"),Nl=f((t,{bounds:[e,o]},i)=>{const n=Array.isArray(t)?Tn(t):t,r={min:i[0],max:i[1]},{min:a,max:s}=pe(pe({},r),n);return[Pt(Number(a),e,Math.max(e,s)),Pt(Number(s),Math.min(o,a),o)]},"sanitize"),$v=f(({value:t,min:e,max:o})=>{const i={min:e,max:o},n=hl(Tn(t),{min:i,max:i}),r=[e,o],a=pe(pe({},n),{},{bounds:r});return{value:Nl(Tn(t),a,t),settings:a}},"normalize");var Fv=Object.freeze({__proto__:null,schema:Mv,format:Tn,sanitize:Nl,normalize:$v});const Iv=["value","bounds","onDrag"],Lv=["bounds"],Bv=de("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function jv(t){let{value:e,bounds:[o,i],onDrag:n}=t,r=De(t,Iv);const a=b.exports.useRef(null),s=b.exports.useRef(null),l=b.exports.useRef(null),c=b.exports.useRef(0),u=wt("sizes","scrubberWidth"),d=Ir(({event:y,first:m,xy:[x],movement:[v],memo:g={}})=>{if(m){const{width:w,left:T}=a.current.getBoundingClientRect();c.current=w-parseFloat(u);const _=(y==null?void 0:y.target)===s.current||(y==null?void 0:y.target)===l.current;g.pos=yn((x-T)/w,o,i);const C=Math.abs(g.pos-e.min)-Math.abs(g.pos-e.max);g.key=C<0||C===0&&g.pos<=e.min?"min":"max",_&&(g.pos=e[g.key])}const S=g.pos+yn(v/c.current,0,i-o);return n({[g.key]:xh(S,r[g.key])}),g}),h=`calc(${bn(e.min,o,i)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-bn(e.max,o,i)} * (100% - ${u} - 8px) + 4px)`;return ve(ul,{ref:a,...d(),children:[R(cl,{children:R(fl,{style:{left:h,right:p}})}),R(Do,{position:"left",ref:s,style:{left:h}}),R(Do,{position:"right",ref:l,style:{right:p}})]})}f(jv,"IntervalSlider");function zv(){const{label:t,displayValue:e,onUpdate:o,settings:i}=Xe(),n=De(i,Lv);return R(Bt,{children:ve(ct,{input:!0,children:[R(gt,{children:t}),ve(Bv,{children:[R(jv,{value:e,...i,onDrag:o}),R(ei,{value:e,settings:n,onUpdate:o,innerLabelTrim:0})]})]})})}f(zv,"IntervalComponent");var Nv=pe({component:zv},Fv);const Gv=f(()=>{const t=new Map;return{on:(e,o)=>{let i=t.get(e);i===void 0&&(i=new Set,t.set(e,i)),i.add(o)},off:(e,o)=>{const i=t.get(e);i!==void 0&&(i.delete(o),i.size===0&&t.delete(e))},emit:(e,...o)=>{const i=t.get(e);if(i!==void 0)for(const n of i)n(...o)}}},"createEventEmitter"),Wv=["type","value"],Vv=["onChange","transient","onEditStart","onEditEnd"],Hv=f(function(){const e=yc(fu(()=>({data:{}}))),o=Gv();this.storeId=Dd(),this.useStore=e;const i={},n=new Set;this.getVisiblePaths=()=>{const a=this.getData(),s=Object.keys(a),l=[];Object.entries(i).forEach(([u,d])=>{d.render&&s.some(h=>h.indexOf(u)===0)&&!d.render(this.get)&&l.push(u+".")});const c=[];return n.forEach(u=>{u in a&&a[u].__refCount>0&&l.every(d=>u.indexOf(d)===-1)&&(!a[u].render||a[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=a=>{a.forEach(s=>n.add(s))},this.orderPaths=a=>(this.setOrderedPaths(a),a),this.disposePaths=a=>{e.setState(s=>{const l=s.data;return a.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in ht&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=a=>i[a]||{},this.getData=()=>e.getState().data,this.addData=(a,s)=>{e.setState(l=>{const c=l.data;return Object.entries(a).forEach(([u,d])=>{let h=c[u];if(h){const{type:p,value:y}=d,m=De(d,Wv);p!==h.type?xt(Fe.INPUT_TYPE_OVERRIDE,p):((h.__refCount===0||s)&&Object.assign(h,m),h.__refCount++)}else c[u]=pe(pe({},d),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(a,s,l)=>{e.setState(c=>{const u=c.data;return ka(u[a],s,a,this,l),{data:u}})},this.setSettingsAtPath=(a,s)=>{e.setState(l=>{const c=l.data;return c[a].settings=pe(pe({},c[a].settings),s),{data:c}})},this.disableInputAtPath=(a,s)=>{e.setState(l=>{const c=l.data;return c[a].disabled=s,{data:c}})},this.set=(a,s)=>{e.setState(l=>{const c=l.data;return Object.entries(a).forEach(([u,d])=>{try{ka(c[u],d,void 0,void 0,s)}catch{}}),{data:c}})},this.getInput=a=>{try{return this.getData()[a]}catch{xt(Fe.PATH_DOESNT_EXIST,a)}},this.get=a=>{var s;return(s=this.getInput(a))===null||s===void 0?void 0:s.value},this.emitOnEditStart=a=>{o.emit(`onEditStart:${a}`,this.get(a),a,pe(pe({},this.getInput(a)),{},{get:this.get}))},this.emitOnEditEnd=a=>{o.emit(`onEditEnd:${a}`,this.get(a),a,pe(pe({},this.getInput(a)),{},{get:this.get}))},this.subscribeToEditStart=(a,s)=>{const l=`onEditStart:${a}`;return o.on(l,s),()=>o.off(l,s)},this.subscribeToEditEnd=(a,s)=>{const l=`onEditEnd:${a}`;return o.on(l,s),()=>o.off(l,s)};const r=f((a,s,l)=>{const c={};return Object.entries(a).forEach(([u,d])=>{if(u==="")return xt(Fe.EMPTY_KEY);let h=si(s,u);if(d.type===ht.FOLDER){const p=r(d.schema,h,l);Object.assign(c,p),h in i||(i[h]=d.settings)}else if(u in l)xt(Fe.DUPLICATE_KEYS,u,h,l[u].path);else{const p=Ld(d,u,h,c);if(p){const{type:y,options:m,input:x}=p,{onChange:v,transient:g,onEditStart:S,onEditEnd:w}=m,T=De(m,Vv);c[h]=pe(pe(pe({type:y},T),x),{},{fromPanel:!0}),l[u]={path:h,onChange:v,transient:g,onEditStart:S,onEditEnd:w}}else xt(Fe.UNKNOWN_INPUT,h,d)}}),c},"_getDataFromSchema");this.getDataFromSchema=a=>{const s={};return[r(a,"",s),s]}},"Store"),Gl=new Hv,Kv={collapsed:!1};function Mn(t,e){return{type:ht.FOLDER,schema:t,settings:pe(pe({},Kv),e)}}f(Mn,"folder");const rs=f(t=>"__levaInput"in t,"isInput"),Yv=f((t,e)=>{const o={},i=e?e.toLowerCase():null;return t.forEach(n=>{const[r,a]=Xg(n);(!i||r.toLowerCase().indexOf(i)>-1)&&Yg(o,a,{[r]:{__levaInput:!0,path:n}})}),o},"buildTree"),Xv=["type","label","path","valueKey","value","settings","setValue","disabled"];function qv(t){let{type:e,label:o,path:i,valueKey:n,value:r,settings:a,setValue:s,disabled:l}=t,c=De(t,Xv);const{displayValue:u,onChange:d,onUpdate:h}=sl({type:e,value:r,settings:a,setValue:s}),p=Lt[e].component;return p?R(Js.Provider,{value:pe({key:n,path:i,id:""+i,label:o,displayValue:u,value:r,onChange:d,onUpdate:h,settings:a,setValue:s,disabled:l},c),children:R(oh,{disabled:l,children:R(p,{})})}):(xt(Fe.NO_COMPONENT_FOR_TYPE,e,i),null)}f(qv,"ControlInput");const Jv=de("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Qv({onClick:t,settings:e,label:o}){const i=Fr();return R(ct,{children:R(Jv,{disabled:e.disabled,onClick:()=>t(i.get),children:o})})}f(Qv,"Button");const Zv=de("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),e0=de("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),t0=f(({label:t,opts:e})=>{let o=typeof t=="string"&&t.trim()===""?null:t,i=e;return typeof e.opts=="object"&&(i.label!==void 0&&(o=e.label),i=e.opts),{label:o,opts:i}},"getOpts");function r0(t){const{label:e,opts:o}=t0(t),i=Fr();return ve(ct,{input:!!e,children:[e&&R(gt,{children:e}),R(Zv,{children:Object.entries(o).map(([n,r])=>R(e0,{onClick:()=>r(i.get),children:n},n))})]})}f(r0,"ButtonGroup");const n0=de("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),Wl=100;function o0(t,e){t.push(e),t.length>Wl&&t.shift()}f(o0,"push");const i0=b.exports.forwardRef(function({initialValue:t},e){const o=wt("colors","highlight3"),i=wt("colors","elevation2"),n=wt("colors","highlight1"),[r,a]=b.exports.useMemo(()=>[Ze(n).alpha(.4).toRgbString(),Ze(n).alpha(.1).toRgbString()],[n]),s=b.exports.useRef([t]),l=b.exports.useRef(t),c=b.exports.useRef(t),u=b.exports.useRef(),d=b.exports.useCallback((y,m)=>{if(!y)return;const{width:x,height:v}=y,g=new Path2D,S=x/Wl,w=v*.05;for(let C=0;C<s.current.length;C++){const O=bn(s.current[C],l.current,c.current),$=S*C,U=v-O*(v-w*2)-w;g.lineTo($,U)}m.clearRect(0,0,x,v);const T=new Path2D(g);T.lineTo(S*(s.current.length+1),v),T.lineTo(0,v),T.lineTo(0,0);const _=m.createLinearGradient(0,0,0,v);_.addColorStop(0,r),_.addColorStop(1,a),m.fillStyle=_,m.fill(T),m.strokeStyle=i,m.lineJoin="round",m.lineWidth=14,m.stroke(g),m.strokeStyle=o,m.lineWidth=2,m.stroke(g)},[o,i,r,a]),[h,p]=hh(d);return b.exports.useImperativeHandle(e,()=>({frame:y=>{(l.current===void 0||y<l.current)&&(l.current=y),(c.current===void 0||y>c.current)&&(c.current=y),o0(s.current,y),u.current=requestAnimationFrame(()=>d(h.current,p.current))}}),[h,p,d]),b.exports.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),R(n0,{ref:h})}),ns=f(t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),"parse"),a0=b.exports.forwardRef(function({initialValue:t},e){const[o,i]=b.exports.useState(ns(t));return b.exports.useImperativeHandle(e,()=>({frame:n=>i(ns(n))}),[]),R("div",{children:o})});function os(t){return typeof t=="function"?t():t.current}f(os,"getValue");function s0({label:t,objectOrFn:e,settings:o}){const i=b.exports.useRef(),n=b.exports.useRef(os(e));return b.exports.useEffect(()=>{const r=window.setInterval(()=>{var a;document.hidden||(a=i.current)===null||a===void 0||a.frame(os(e))},o.interval);return()=>window.clearInterval(r)},[e,o.interval]),ve(ct,{input:!0,children:[R(gt,{align:"top",children:t}),o.graph?R(i0,{ref:i,initialValue:n.current}):R(a0,{ref:i,initialValue:n.current})]})}f(s0,"Monitor");const l0=["type","label","key"],c0={[ht.BUTTON]:Qv,[ht.BUTTON_GROUP]:r0,[ht.MONITOR]:s0},u0=ke.memo(({path:t})=>{const[e,{set:o,setSettings:i,disable:n,storeId:r,emitOnEditStart:a,emitOnEditEnd:s}]=gh(t);if(!e)return null;const{type:l,label:c,key:u}=e,d=De(e,l0);if(l in ht){const h=c0[l];return R(h,{label:c,path:t,...d})}return l in Lt?R(qv,{type:l,label:c,storeId:r,path:t,valueKey:u,setValue:o,setSettings:i,disable:n,emitOnEditStart:a,emitOnEditEnd:s,...d},r+t):(Sd(Fe.UNSUPPORTED_INPUT,l,t),null)});function f0({toggle:t,toggled:e,name:o}){return ve(th,{onClick:()=>t(),children:[R(Zo,{toggled:e}),R("div",{children:o})]})}f(f0,"FolderTitle");const d0=f(({name:t,path:e,tree:o})=>{const i=Fr(),n=si(e,t),{collapsed:r,color:a}=i.getFolderSettings(n),[s,l]=b.exports.useState(!r),c=b.exports.useRef(null),u=wt("colors","folderWidgetColor"),d=wt("colors","folderTextColor");return b.exports.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",a||u),c.current.style.setProperty("--leva-colors-folderTextColor",a||d)},[a,u,d]),ve(xn,{ref:c,children:[R(f0,{name:t,toggled:s,toggle:()=>l(h=>!h)}),R(Vl,{parent:n,tree:o,toggled:s})]})},"Folder"),Vl=ke.memo(({isRoot:t=!1,fill:e=!1,flat:o=!1,parent:i,tree:n,toggled:r})=>{const{wrapperRef:a,contentRef:s}=Qg(r),l=Fr(),c=f(([d,h])=>{var p;return(rs(h)?(p=l.getInput(h.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(si(i,d)).order)||0},"getOrder"),u=Object.entries(n).sort((d,h)=>c(d)-c(h));return R(Oo,{ref:a,isRoot:t,fill:e,flat:o,children:R(nl,{ref:s,isRoot:t,toggled:r,children:u.map(([d,h])=>rs(h)?R(u0,{valueKey:h.valueKey,path:h.path},h.path):R(d0,{name:d,path:i,tree:h},d))})})}),h0=de("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${il}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Hl=40,kn=de("i",{$flexCenter:"",width:Hl,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),p0=de("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),g0=de("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${kn}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),v0=de("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),m0=de("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Hl}}}}),b0=ke.forwardRef(({setFilter:t,toggle:e},o)=>{const[i,n]=b.exports.useState(""),r=b.exports.useMemo(()=>Vs(t,250),[t]),a=f(()=>{t(""),n("")},"clear"),s=f(l=>{const c=l.currentTarget.value;e(!0),n(c)},"_onChange");return b.exports.useEffect(()=>{r(i)},[i,r]),ve(Bt,{children:[R(v0,{ref:o,value:i,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:s}),R(kn,{onClick:()=>a(),style:{visibility:i?"visible":"hidden"},children:R("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor",children:R("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})});function y0({setFilter:t,onDrag:e,onDragStart:o,onDragEnd:i,toggle:n,toggled:r,title:a,drag:s,filterEnabled:l,from:c}){const[u,d]=b.exports.useState(!1),h=b.exports.useRef(null);b.exports.useEffect(()=>{var y,m;u?(y=h.current)===null||y===void 0||y.focus():(m=h.current)===null||m===void 0||m.blur()},[u]);const p=Ir(({offset:[y,m],first:x,last:v})=>{e({x:y,y:m}),x&&o({x:y,y:m}),v&&i({x:y,y:m})},{filterTaps:!0,from:({offset:[y,m]})=>[(c==null?void 0:c.x)||y,(c==null?void 0:c.y)||m]});return b.exports.useEffect(()=>{const y=f(m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&d(x=>!x)},"handleShortcut");return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[]),ve(Bt,{children:[ve(p0,{mode:s?"drag":void 0,children:[R(kn,{active:!r,onClick:()=>n(),children:R(Zo,{toggled:r,width:12,height:8})}),R(m0,{...s?p():{},drag:s,filterEnabled:l,children:a===void 0&&s?ve("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg",children:[R("circle",{cx:"2",cy:"2",r:"2"}),R("circle",{cx:"14",cy:"2",r:"2"}),R("circle",{cx:"26",cy:"2",r:"2"}),R("circle",{cx:"2",cy:"12",r:"2"}),R("circle",{cx:"14",cy:"12",r:"2"}),R("circle",{cx:"26",cy:"12",r:"2"})]}):a}),l&&R(kn,{active:u,onClick:()=>d(y=>!y),children:ve("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20",children:[R("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),R("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})]})})]}),R(g0,{toggled:u,children:R(b0,{ref:h,setFilter:t,toggle:n})})]})}f(y0,"TitleWithFilter");const x0=["store","hidden","theme","collapsed"];function w0(t){let{store:e,hidden:o=!1,theme:i,collapsed:n=!1}=t,r=De(t,x0);const a=Il(()=>Xd(i),[i]),[s,l]=b.exports.useState(!n),c=typeof n=="object"?!n.collapsed:s,u=b.exports.useMemo(()=>typeof n=="object"?d=>{typeof d=="function"?n.onChange(!d(!n.collapsed)):n.onChange(!d)}:l,[n]);return!e||o?null:R(qo.Provider,{value:a,children:R(S0,{store:e,...r,toggled:c,setToggle:u,rootClass:a.className})})}f(w0,"LevaRoot");const S0=ke.memo(({store:t,rootClass:e,fill:o=!1,flat:i=!1,neverHide:n=!1,oneLineLabels:r=!1,titleBar:a={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:s=!1,toggled:l,setToggle:c})=>{var u,d;const h=Zg(t),[p,y]=b.exports.useState(""),m=b.exports.useMemo(()=>Yv(h,p),[h,p]),[x,v]=ll(),g=n||h.length>0,S=typeof a=="object"&&a.title||void 0,w=typeof a=="object"&&(u=a.drag)!==null&&u!==void 0?u:!0,T=typeof a=="object"&&(d=a.filter)!==null&&d!==void 0?d:!0,_=typeof a=="object"&&a.position||void 0,C=typeof a=="object"&&a.onDrag||void 0,O=typeof a=="object"&&a.onDragStart||void 0,$=typeof a=="object"&&a.onDragEnd||void 0;return ke.useEffect(()=>{v({x:_==null?void 0:_.x,y:_==null?void 0:_.y})},[_,v]),Yd(),R(Zs.Provider,{value:{hideCopyButton:s},children:ve(h0,{ref:x,className:e,fill:o,flat:i,oneLineLabels:r,hideTitleBar:!a,style:{display:g?"block":"none"},children:[a&&R(y0,{onDrag:U=>{v(U),C==null||C(U)},onDragStart:U=>O==null?void 0:O(U),onDragEnd:U=>$==null?void 0:$(U),setFilter:y,toggle:U=>c(M=>U!=null?U:!M),toggled:l,title:S,drag:w,filterEnabled:T,from:_}),g&&R(Qs.Provider,{value:t,children:R(Vl,{isRoot:!0,fill:o,flat:i,tree:m,toggled:l})})]})})}),_0=["isRoot"];let En=!1,$t=null;function T0(t){let{isRoot:e=!1}=t,o=De(t,_0);return b.exports.useEffect(()=>(En=!0,!e&&$t&&($t.remove(),$t=null),()=>{e||(En=!1)}),[e]),R(w0,{store:Gl,...o})}f(T0,"Leva");function k0(t){b.exports.useEffect(()=>{t&&!En&&($t||($t=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild($t),jd(R(T0,{isRoot:!0}),$t))),En=!0)},[t])}f(k0,"useRenderRoot");function E0(t,e,o,i,n){let r,a,s,l,c;return typeof t=="string"?(a=t,r=e,Array.isArray(o)?c=o:o&&("store"in o?(l=o,c=i):(s=o,Array.isArray(i)?c=i:(l=i,c=n)))):(r=t,Array.isArray(e)?c=e:(l=e,c=o)),{schema:r,folderName:a,folderSettings:s,hookSettings:l,deps:c||[]}}f(E0,"parseArgs");function li(t,e,o,i,n){const{folderName:r,schema:a,folderSettings:s,hookSettings:l,deps:c}=E0(t,e,o,i,n),u=typeof a=="function",d=b.exports.useRef(!1),h=b.exports.useRef(!0),p=Il(()=>{d.current=!0;const M=typeof a=="function"?a():a;return r?{[r]:Mn(M,s)}:M},c),y=!(l!=null&&l.store);k0(y);const[m]=b.exports.useState(()=>(l==null?void 0:l.store)||Gl),[x,v]=b.exports.useMemo(()=>m.getDataFromSchema(p),[m,p]),[g,S,w,T,_]=b.exports.useMemo(()=>{const M=[],k=[],D={},P={},N={};return Object.values(v).forEach(({path:I,onChange:te,onEditStart:ie,onEditEnd:L,transient:K})=>{M.push(I),te?(D[I]=te,K||k.push(I)):k.push(I),ie&&(P[I]=ie),L&&(N[I]=L)}),[M,k,D,P,N]},[v]),C=b.exports.useMemo(()=>m.orderPaths(g),[g,m]),O=ev(m,S,x),$=b.exports.useCallback(M=>{const k=Object.entries(M).reduce((D,[P,N])=>Object.assign(D,{[v[P].path]:N}),{});m.set(k,!1)},[m,v]),U=b.exports.useCallback(M=>m.get(v[M].path),[m,v]);return b.exports.useEffect(()=>{const M=!h.current&&d.current;return m.addData(x,M),h.current=!1,d.current=!1,()=>m.disposePaths(C)},[m,C,x]),b.exports.useEffect(()=>{const M=[];return Object.entries(w).forEach(([k,D])=>{D(m.get(k),k,pe({initial:!0,get:m.get},m.getInput(k)));const P=m.useStore.subscribe(N=>{const I=N.data[k];return[I.disabled?void 0:I.value,I]},([N,I])=>D(N,k,pe({initial:!1,get:m.get},I)),{equalityFn:$r});M.push(P)}),()=>M.forEach(k=>k())},[m,w]),b.exports.useEffect(()=>{const M=[];return Object.entries(T).forEach(([k,D])=>M.push(m.subscribeToEditStart(k,D))),Object.entries(_).forEach(([k,D])=>M.push(m.subscribeToEditEnd(k,D))),()=>M.forEach(k=>k())},[T,_,m]),u?[O,$,U]:O}f(li,"useControls");Tt(pt.SELECT,Ah);Tt(pt.IMAGE,Uv);Tt(pt.NUMBER,Sh);Tt(pt.COLOR,fv);Tt(pt.STRING,zh);Tt(pt.BOOLEAN,Yh);Tt(pt.INTERVAL,Nv);Tt(pt.VECTOR3D,hv);Tt(pt.VECTOR2D,wv);const is={Roboto:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff","Noto Sans":"https://fonts.gstatic.com/s/notosans/v7/o-0IIpQlx3QUlC5A4PNr5TRG.woff",Comfortaa:"https://fonts.gstatic.com/s/comfortaa/v12/1Ptsg8LJRfWJmhDAuUs4TYFs.woff",Cookie:"https://fonts.gstatic.com/s/cookie/v8/syky-y18lb0tSbf9kgqU.woff",Philosopher:"https://fonts.gstatic.com/s/philosopher/v9/vEFV2_5QCwIS4_Dhez5jcWBuT0s.woff",Quicksand:"https://fonts.gstatic.com/s/quicksand/v7/6xKtdSZaM9iE8KbpRA_hK1QL.woff",Trirong:"https://fonts.gstatic.com/s/trirong/v3/7r3GqXNgp8wxdOdOn4so3g.woff",Trocchi:"https://fonts.gstatic.com/s/trocchi/v6/qWcqB6WkuIDxDZLcPrxeuw.woff","Advent Pro":"https://fonts.gstatic.com/s/adventpro/v7/V8mAoQfxVT4Dvddr_yOwhTqtLg.woff","Henny Penny":"https://fonts.gstatic.com/s/hennypenny/v5/wXKvE3UZookzsxz_kjGSfPQtvXQ.woff",Orbitron:"/fonts/Orbitron-Black.ttf",Sacramento:"https://fonts.gstatic.com/s/sacramento/v5/buEzpo6gcdjy0EiZMBUG4C0f-w.woff","Snowburst One":"https://fonts.gstatic.com/s/snowburstone/v5/MQpS-WezKdujBsXY3B7I-UT7SZieOA.woff",Syncopate:"https://fonts.gstatic.com/s/syncopate/v9/pe0sMIuPIYBCpEV5eFdCBfe5.woff",Wallpoet:"https://fonts.gstatic.com/s/wallpoet/v9/f0X10em2_8RnXVVdUObp58I.woff","Sirin Stencil":"https://fonts.gstatic.com/s/sirinstencil/v6/mem4YaWwznmLx-lzGfN7MdRyRc9MAQ.woff"};var dn=f(function(t){typeof t=="string"&&(t=[t]);for(var e=[].slice.call(arguments,1),o=[],i=0;i<t.length-1;i++)o.push(t[i],e[i]||"");return o.push(t[i]),o.join("")},"browser");const Rr={torus:{vertexShader:dn`
    varying vec2 vUv;
    varying vec3 vPos;

    void main() {
        vUv = uv;
        vPos = position;

        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    }
  `,fragmentShader:dn`
    varying vec2 vUv;
    varying vec3 vPos;

    uniform sampler2D uTexture;
    uniform float uTime;

    void main() {
      float time = uTime * 0.5;
      vec2 repeat = -vec2(12., 3.);
      // To repeat the uvs we need to multiply them by a scalar
      // and then get the fractional part of it so they from 0 to 1
      // To move them continuously we have to add time
      // to the x or y component, to change the direction
      vec2 uv = fract(vUv * repeat - vec2(time, 0.)); // The sign of time change direction of movement

      // Fake shadow
      float shadow = clamp(vPos.z / 5., 0., 1.);

      vec3 texture = texture2D(uTexture, uv).rgb;
      // texture *= vec3(uv.x, uv.y, 1.); // To help visualize the repeated uvs

      gl_FragColor = vec4(texture * shadow, 1.);
    }`},box:{vertexShader:dn`
    
      varying vec2 vUv;
      varying vec3 vPos;

      const float PI = 3.1415926535897932384626433832795;

      mat4 rotation3d(vec3 axis, float angle) {
        axis = normalize(axis);
        float s = sin(angle);
        float c = cos(angle);
        float oc = 1.0 - c;
      
        return mat4(
          oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,
          oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,
          oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,
          0.0,                                0.0,                                0.0,                                1.0
        );
      }

      vec3 rotate(vec3 v, vec3 axis, float angle) {
        return (rotation3d(axis, angle) * vec4(v, 1.0)).xyz;
      } 

      void main() {
          vUv = uv;
          vPos = position;
          vec3 axis = vec3(1.0, 0.0, 0.0);
          vec3 pos = rotate(position, axis, position.x * 0.1);

          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);
      }
    `.trim(),fragmentShader:dn`
      varying vec2 vUv;
      varying vec3 vPos;

      uniform sampler2D uTexture;
      uniform float uTime;

      void main() {
          vec2 offset = vec2(uTime * 0.1, 0.0);
          vec2 repeats = vec2(3.0, 3.0);
          vec2 uv = fract((vUv + offset) * repeats);
          vec3 texture = texture2D(uTexture, uv).rgb;

          gl_FragColor = vec4(texture, 1.);
      }
    `.trim()}};function C0({fontRef:t,text:e="Lorem ipsum"}){const{fontSize:o,fontWidth:i,fontHeight:n,fontDepth:r,font:a,color:s}=li({Font:Mn({fontSize:{min:1,max:100,value:61,step:1},fontWidth:{min:0,max:10,value:.29,step:.01},fontHeight:{min:0,max:10,value:1,step:.01},fontDepth:{min:0,max:10,value:1,step:.01},font:{options:Object.keys(is),value:"Orbitron"},color:"#ffffff"})});return R(qu,{ref:t,scale:[i,n,r],color:s,font:is[a],fontSize:o,children:e})}f(C0,"Font");const O0=f(({rt:t})=>{const e={vertexShader:Rr.torus.vertexShader,fragmentShader:Rr.torus.fragmentShader,uniforms:{uTime:{value:0},uTexture:{value:t.texture}}},o=b.exports.useRef(null);return Go(({clock:i})=>{!o.current||(o.current.uniforms.uTime.value=i.getElapsedTime())},1),ve("mesh",{children:[R("torusKnotBufferGeometry",{args:[9,3,768,3,4,3]}),R("shaderMaterial",{ref:o,args:[e]})]})},"TorusKnot"),R0=f(({rt:t})=>{const e={vertexShader:Rr.box.vertexShader,fragmentShader:Rr.box.fragmentShader,uniforms:{uTime:{value:0},uTexture:{value:t.texture}}};console.log(Rr.box.fragmentShader);const o=b.exports.useRef(null);return Go(({clock:i})=>{!o.current||(o.current.uniforms.uTime.value=i.getElapsedTime())},1),ve("mesh",{children:[R("boxBufferGeometry",{args:[100,10,10,64,64,64]}),R("shaderMaterial",{ref:o,args:[e]})]})},"Box"),D0=f(({variant:t,fontBackgroundColor:e="#fff000",text:o="Lorem ipsum"})=>{const{gl:i,scene:n,camera:r}=ss(),a=b.exports.useRef(),{cameraZ:s}=li({Camera:Mn({cameraZ:{min:1,max:100,value:70,step:1}})}),[l,c,u]=b.exports.useMemo(()=>{const d=new xc(window.innerWidth,window.innerHeight),h=new wc(45,1,.1,1e3),p=new Sc;return p.background=new Cn(e),[d,p,h]},[e]);return useEffect(()=>{c.add(a.current)},[c,a]),Go(()=>{u.position.z=s,i.setRenderTarget(l),i.render(c,u),i.setRenderTarget(null),i.render(n,r)},1),ve(Bt,{children:[t==="knot"?R(O0,{rt:l}):R(R0,{rt:l}),R(C0,{fontRef:a,text:o})]})},"Content"),$n=f(({variant:t="box",text:e="FAKE"})=>{const{text:o,fontBackgroundColor:i}=li({Scene:Mn({fontBackgroundColor:"#d8345f",text:e})});return R(D0,{variant:t,text:o,fontBackgroundColor:i})},"KineticType");$n.propTypes={tagName:Ce.exports.string,className:Ce.exports.string,variant:Ce.exports.oneOf(["box","knot"]),children:Ce.exports.node};const Kl=$n;$n.__docgenInfo={description:"",methods:[],displayName:"KineticType",props:{variant:{defaultValue:{value:"'box'",computed:!1},type:{name:"enum",value:[{value:"'box'",computed:!1},{value:"'knot'",computed:!1}]},required:!1,description:""},text:{defaultValue:{value:"'FAKE'",computed:!1},required:!1},tagName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""}}};$n.__docgenInfo={description:"",methods:[],displayName:"KineticType",props:{variant:{defaultValue:{value:"'box'",computed:!1},type:{name:"enum",value:[{value:"'box'",computed:!1},{value:"'knot'",computed:!1}]},required:!1,description:""},text:{defaultValue:{value:"'FAKE'",computed:!1},required:!1},tagName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"node"},required:!1,description:""}}};const N0={title:"KineticType",component:Kl,parameters:{storySource:{source:`/**
 * KineticType.jsx
 */
 import * as React from 'react';

 // Component(s)
 import KineticType from './KineticType';

 export default {
   title: 'KineticType',
   component: KineticType,
   // Sets the layout parameter component wide.
   parameters: {
     layout: 'centered',
   },
 };

 export const Default = () => <KineticType />;

 Default.storyName = 'default';
;Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"};Default.__docgenInfo={"description":"","methods":[],"displayName":"Default"}`,locationsMap:{default:{startLoc:{col:24,line:18},endLoc:{col:45,line:18},startBody:{col:24,line:18},endBody:{col:45,line:18}}}},layout:"centered"}},ci=f(()=>R(Kl,{}),"Default");ci.storyName="default";ci.__docgenInfo={description:"",methods:[],displayName:"Default"};ci.__docgenInfo={description:"",methods:[],displayName:"Default"};const G0=["Default"];export{ci as Default,G0 as __namedExportsOrder,N0 as default};
//# sourceMappingURL=KineticType.stories.a6640bc9.js.map
