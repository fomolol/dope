{"version":3,"file":"LoaderBar.stories.02d5bd63.js","sources":["../../src/components/LoaderBar/LoaderBar.jsx"],"sourcesContent":["/**\n * @file LoaderBar.js\n */\nimport { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { motion } from 'framer-motion'\nimport { useLayoutEffect } from '@fomolol/tacklebox'\n\nimport styles from './LoaderBar.module.css'\n\nconst LoaderBar = ({\n  tagName: Tag = 'div',\n  className = '',\n  variant = 'default',\n  children = '',\n  loadingPercentage = 0,\n  onLoadProgress = (percentage) => {},\n  onLoaderHideCallback = () => {},\n  infinite = false,\n  time = 25,\n}) => {\n  // const [reverseAnimation, setReverseAnimation] = React.useState(0);\n  const startingPercentage = loadingPercentage\n  const [percentage, setPercentage] = useState(startingPercentage)\n\n  useLayoutEffect(() => {\n    let timer\n    if (!timer) {\n      timer = setTimeout(() => {\n        const tP = percentage + 0.5\n        setPercentage(tP)\n        onLoadProgress(tP)\n      }, time)\n    }\n\n    if (infinite && percentage >= 100) {\n      setPercentage(0)\n      return\n    } else if (percentage >= 100) {\n      onLoaderHideCallback()\n      clearTimeout(timer)\n      return\n    }\n\n    return () => clearTimeout(timer)\n  }, [infinite, percentage])\n\n  // const hideLoader = () => {\n  //   setReverseAnimation(1);\n  // };\n\n  return (\n    <Tag\n      className={`${styles.loader_bar} ${\n        styles[`loader_bar__${variant}`]\n      } z-infinity ${className}`}\n    >\n      <div className=\"flex flex-col items-center loader-modal--container\">\n        <motion.div className=\"h-[8px] w-[200px] overflow-hidden bg-black\">\n          <div\n            className=\"h-full bg-gray-600 loading-status-bar\"\n            style={{\n              // this is tied to the of the orange bar so width should be a loading percent variable\n              width: `${infinite ? percentage : percentage}%`,\n            }}\n          ></div>\n        </motion.div>\n\n        {children}\n      </div>\n    </Tag>\n  )\n}\n\nLoaderBar.propTypes = {\n  tagName: PropTypes.string,\n  className: PropTypes.string,\n  variant: PropTypes.oneOf(['default']),\n  children: PropTypes.node,\n}\n\nexport default LoaderBar\n"],"names":["LoaderBar","__name","tagName","Tag","className","variant","children","loadingPercentage","onLoadProgress","percentage","onLoaderHideCallback","infinite","time","startingPercentage","setPercentage","useState","useLayoutEffect","timer","setTimeout","tP","clearTimeout","styles","loader_bar","_jsx","motion","width","propTypes","PropTypes","string","oneOf","node","LoaderBar$1"],"mappings":"8nBAUAA,EAAAC,EAAA,CAAA,CACAC,QAAAC,EAAA,MACAC,UAAAA,EAAA,GACAC,QAAAA,EAAA,UACAC,SAAAA,EAAA,GACAC,kBAAAA,EAAA,EACAC,eAAAA,EAAAC,EAAAA,GAAA,CAAA,EAAAA,kBACAC,qBAAAA,EAAAT,EAAA,IAAA,CAAA,EAAA,wBACAU,SAAAA,EAAA,GACAC,KAAAA,EAAA,EACA,IAAA,CAEA,MAAAC,EAAAN,EACA,CAAAE,EAAAK,CAAA,EAAAC,mBAAAF,CAAA,EAEAG,OAAAA,EAAA,IAAA,CACAC,IAAAA,EASAN,GARAM,IACAA,EAAAC,WAAA,IAAA,CACA,MAAAC,EAAAV,EAAA,GACAK,EAAAK,CAAA,EACAX,EAAAW,CAAA,GACAP,CAAA,GAGAD,GAAAF,GAAA,IAAA,CACAK,EAAA,CAAA,EACA,MAAA,SACAL,GAAA,IAAA,CACAC,IACAU,aAAAH,CAAA,EACA,MACA,CAEA,MAAA,IAAAG,aAAAH,CAAA,CAAA,EACA,CAAAN,EAAAF,CAAA,CAAA,IAOAN,EAAA,CACA,UAAA,GAAAkB,EAAAC,cACAD,EAAA,eAAAhB,mBACAD,IAAA,WAEA,MAAA,CAAA,UAAA,qDAAA,SACA,CAAAmB,EAAAC,EAAA,IAAA,CAAA,UAAA,6CAAA,WACA,MAAA,CACA,UAAA,wCACA,MAAA,CAEAC,MAAA,GAAAhB,IACA,CAAA,CAAA,CACA,CAAA,EAGAH,CAAA,CAAA,CAAA,CAAA,CAEA,CAEA,EA9DA,aAgEAN,EAAA0B,UAAA,CACAxB,QAAAyB,EAAAC,QAAAA,OACAxB,UAAAuB,EAAAC,QAAAA,OACAvB,QAAAsB,EAAAA,QAAAE,MAAA,CAAA,SAAA,CAAA,EACAvB,SAAAqB,EAAAG,QAAAA,IACA,EAEA,MAAAC,EAAA/B;;;;;;;;;;;;;;;;;;;;"}