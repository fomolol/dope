{"version":3,"file":"MenuImageHover.stories.40bc4228.js","sources":["../../src/components/MenuImageHover/MenuImageHover.jsx"],"sourcesContent":["/**\n * @file MenuImageHover.js\n */\nimport { useState, useRef, useEffect } from 'react'\nimport { animate, motion, useMotionValue, AnimatePresence } from 'framer-motion'\nimport PropTypes from 'prop-types'\nimport cn from 'clsx'\nimport { useHoverImage } from '@fomolol/tacklebox'\n\nimport s from './MenuImageHover.module.css'\n\nimport { easeInOutSine, easeInOutCirc } from '../../services/easing'\n\nconst HoverImageContainer = ({ children }) => {\n  return (\n    <motion.div\n      className=\"relative w-full h-full overflow-hidden\"\n      initial=\"open\"\n      animate=\"show\"\n      exit=\"hide\"\n      variants={{\n        open: {\n          translateX: '100%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n        hide: {\n          translateX: '-100%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n        show: {\n          translateX: '0%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n      }}\n    >\n      {children}\n    </motion.div>\n  )\n}\n\nconst HoverImage = ({ src }) => {\n  return (\n    <motion.div\n      className={`h-full w-full bg-cover bg-center`}\n      initial=\"open\"\n      animate=\"show\"\n      exit=\"hide\"\n      variants={{\n        open: {\n          translateX: '-100%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n        hide: {\n          translateX: '100%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n        show: {\n          translateX: '0%',\n          transition: {\n            duration: 0.5,\n            ease: easeInOutSine,\n          },\n        },\n      }}\n      style={{\n        backgroundImage: `url(${src})`,\n      }}\n    />\n  )\n}\n\nconst MenuImageHover = ({\n  tagName: Tag = 'div',\n  className = 'relative flex items-center justify-center transition duration-500 ease-in-out-expo',\n  variant = 'default',\n  children = '',\n  src = '/img/pizza.gif',\n  alt = 'lorem ipsum',\n}) => {\n  const ref = useRef()\n  const reveal = useRef()\n  const [active, setActive] = useState(false)\n\n  const opacity = useMotionValue(0)\n\n  // returns all of the motion values for the container\n  const { transform, filter } = useHoverImage(ref, reveal)\n\n  useEffect(() => {\n    if (active) {\n      animate(opacity, 1, {\n        duration: 1,\n        ease: easeInOutCirc,\n      })\n    } else {\n      animate(opacity, 0, {\n        duration: 1,\n        ease: easeInOutCirc,\n      })\n    }\n  }, [active])\n\n  return (\n    <Tag\n      className={cn(\n        s.menu_image_hover,\n        s[`menu_image_hover__${variant}`],\n        className,\n        active ? 'z-20' : 'z-1'\n      )}\n      onMouseOver={() => setActive(true)}\n      onMouseOut={() => setActive(false)}\n      ref={reveal}\n    >\n      <motion.div\n        className={`pointer-events-none absolute z-0 h-[calc(692px/1.5)] w-[calc(563px/1.5)] origin-center overflow-hidden`}\n        style={{\n          transform,\n          filter,\n          opacity,\n        }}\n      >\n        <AnimatePresence>\n          {active && (\n            <HoverImageContainer>\n              <HoverImage src={src} />\n            </HoverImageContainer>\n          )}\n        </AnimatePresence>\n      </motion.div>\n      <p ref={ref} className=\"relative z-1\">\n        {children}\n      </p>\n    </Tag>\n  )\n}\n\nMenuImageHover.propTypes = {\n  tagName: PropTypes.string,\n  className: PropTypes.string,\n  variant: PropTypes.oneOf(['default']),\n  children: PropTypes.node,\n}\n\nexport default MenuImageHover\n"],"names":["HoverImageContainer","__name","children","_jsx","motion","open","translateX","transition","duration","ease","easeInOutSine","hide","show","HoverImage","src","backgroundImage","MenuImageHover","tagName","Tag","className","variant","alt","ref","useRef","reveal","active","setActive","useState","opacity","useMotionValue","transform","filter","useHoverImage","useEffect","animate","easeInOutCirc","cn","s","menu_image_hover","AnimatePresence","propTypes","PropTypes","string","oneOf","node","MenuImageHover$1"],"mappings":"0yBAaAA,EAAAC,EAAA,CAAA,CAAAC,SAAAA,CAAA,IAEAC,EAAAC,EAAA,IAAA,CACA,UAAA,yCACA,QAAA,OACA,QAAA,OACA,KAAA,OACA,SAAA,CACAC,KAAA,CACAC,WAAA,OACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,EACAC,KAAA,CACAL,WAAA,QACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,EACAE,KAAA,CACAN,WAAA,KACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,CACA,EAAA,SAAAR,CAAA,CAGA,EAhCA,uBAoCAW,EAAAZ,EAAA,CAAA,CAAAa,IAAAA,CAAA,IAEAX,EAAAC,EAAA,IAAA,CACA,UAAA,mCACA,QAAA,OACA,QAAA,OACA,KAAA,OACA,SAAA,CACAC,KAAA,CACAC,WAAA,QACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,EACAC,KAAA,CACAL,WAAA,OACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,EACAE,KAAA,CACAN,WAAA,KACAC,WAAA,CACAC,SAAA,GACAC,KAAAC,CACA,CACA,CACA,EACA,MAAA,CACAK,gBAAA,OAAAD,IACA,CAAA,CACA,EAjCA,cAqCAE,EAAAf,EAAA,CAAA,CACAgB,QAAAC,EAAA,MACAC,UAAAA,EAAA,qFACAC,QAAAA,EAAA,UACAlB,SAAAA,EAAA,GACAY,IAAAA,EAAA,iBACAO,IAAAA,EAAA,aACA,IAAA,CACA,MAAAC,EAAAC,EAAAA,QAAAA,SACAC,EAAAD,EAAAA,QAAAA,SACA,CAAAE,EAAAC,CAAA,EAAAC,mBAAA,EAAA,EAEAC,EAAAC,EAAA,CAAA,EAGA,CAAAC,UAAAA,EAAAC,OAAAA,CAAAA,EAAAC,EAAAV,EAAAE,CAAA,EAEAS,OAAAA,EAAAA,QAAAA,UAAA,IAAA,CACAR,EACAS,EAAAN,EAAA,EAAA,CACApB,SAAA,EACAC,KAAA0B,CAAAA,CACA,EAEAD,EAAAN,EAAA,EAAA,CACApB,SAAA,EACAC,KAAA0B,CAAAA,CACA,CACA,EACA,CAAAV,CAAA,CAAA,IAGAP,EAAA,CACA,UAAAkB,EACAC,EAAAC,iBACAD,EAAA,qBAAAjB,KACAD,EACAM,EAAA,OAAA,KAAA,EAEA,YAAA,IAAAC,EAAA,EAAA,EACA,WAAA,IAAAA,EAAA,EAAA,EACA,IAAAF,EAAA,SAEA,CAAArB,EAAAC,EAAA,IAAA,CACA,UAAA,yGACA,MAAA,CACA0B,UAAAA,EACAC,OAAAA,EACAH,QAAAA,CACA,EAAA,WAEAW,EAAA,CAAA,SACAd,GACAtB,EAAAH,EAAA,CAAA,WACAa,EAAA,CAAA,IAAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAEA,CAAA,CACA,EAEAX,EAAA,IAAA,CAAA,IAAAmB,EAAA,UAAA,eAAA,SAAApB,CAAA,CAEA,CAAA,CAAA,CACA,CAEA,EAhEA,kBAkEAc,EAAAwB,UAAA,CACAvB,QAAAwB,EAAAC,QAAAA,OACAvB,UAAAsB,EAAAC,QAAAA,OACAtB,QAAAqB,EAAAA,QAAAE,MAAA,CAAA,SAAA,CAAA,EACAzC,SAAAuC,EAAAG,QAAAA,IACA,EAEA,MAAAC,EAAA7B;;;;;;;;;;;;;;;;;;;;"}