{"version":3,"file":"use-scroll.8d391309.js","sources":["../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/utils/transform.mjs","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/value/use-transform.mjs","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/clamp.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/is-number.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/is-easing-list.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/wrap.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/easing.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/mix.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/noop.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/progress.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/offset.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/interpolate.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/is-function.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/is-string.es.js","../../node_modules/.pnpm/@motionone+utils@10.14.0/node_modules/@motionone/utils/dist/velocity.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/utils/resolve-elements.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/resize/handle-element.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/resize/handle-window.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/resize/index.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/info.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/offsets/inset.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/offsets/presets.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/offsets/edge.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/offsets/offset.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/offsets/index.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/on-scroll-handler.es.js","../../node_modules/.pnpm/@motionone+dom@10.13.1/node_modules/@motionone/dom/dist/gestures/scroll/index.es.js","../../node_modules/.pnpm/framer-motion@7.6.15_biqbaboplfbrettd7655fr4n2y/node_modules/framer-motion/dist/es/value/use-scroll.mjs"],"sourcesContent":["import { interpolate } from 'popmotion';\n\nconst isCustomValueType = (v) => {\n    return typeof v === \"object\" && v.mix;\n};\nconst getMixer = (v) => (isCustomValueType(v) ? v.mix : undefined);\nfunction transform(...args) {\n    const useImmediate = !Array.isArray(args[0]);\n    const argOffset = useImmediate ? 0 : -1;\n    const inputValue = args[0 + argOffset];\n    const inputRange = args[1 + argOffset];\n    const outputRange = args[2 + argOffset];\n    const options = args[3 + argOffset];\n    const interpolator = interpolate(inputRange, outputRange, {\n        mixer: getMixer(outputRange[0]),\n        ...options,\n    });\n    return useImmediate ? interpolator(inputValue) : interpolator;\n}\n\nexport { transform };\n","import { transform } from '../utils/transform.mjs';\nimport { useCombineMotionValues } from './use-combine-values.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\n\nfunction useTransform(input, inputRangeOrTransformer, outputRange, options) {\n    const transformer = typeof inputRangeOrTransformer === \"function\"\n        ? inputRangeOrTransformer\n        : transform(inputRangeOrTransformer, outputRange, options);\n    return Array.isArray(input)\n        ? useListTransform(input, transformer)\n        : useListTransform([input], ([latest]) => transformer(latest));\n}\nfunction useListTransform(values, transformer) {\n    const latest = useConstant(() => []);\n    return useCombineMotionValues(values, () => {\n        latest.length = 0;\n        const numValues = values.length;\n        for (let i = 0; i < numValues; i++) {\n            latest[i] = values[i].get();\n        }\n        return transformer(latest);\n    });\n}\n\nexport { useTransform };\n","const clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nexport { clamp };\n","const isNumber = (value) => typeof value === \"number\";\n\nexport { isNumber };\n","import { isNumber } from './is-number.es.js';\n\nconst isEasingList = (easing) => Array.isArray(easing) && !isNumber(easing[0]);\n\nexport { isEasingList };\n","const wrap = (min, max, v) => {\n    const rangeSize = max - min;\n    return ((((v - min) % rangeSize) + rangeSize) % rangeSize) + min;\n};\n\nexport { wrap };\n","import { isEasingList } from './is-easing-list.es.js';\nimport { wrap } from './wrap.es.js';\n\nfunction getEasingForSegment(easing, i) {\n    return isEasingList(easing)\n        ? easing[wrap(0, easing.length, i)]\n        : easing;\n}\n\nexport { getEasingForSegment };\n","const mix = (min, max, progress) => -progress * min + progress * max + min;\n\nexport { mix };\n","const noop = () => { };\nconst noopReturn = (v) => v;\n\nexport { noop, noopReturn };\n","const progress = (min, max, value) => max - min === 0 ? 1 : (value - min) / (max - min);\n\nexport { progress };\n","import { mix } from './mix.es.js';\nimport { progress } from './progress.es.js';\n\nfunction fillOffset(offset, remaining) {\n    const min = offset[offset.length - 1];\n    for (let i = 1; i <= remaining; i++) {\n        const offsetProgress = progress(0, remaining, i);\n        offset.push(mix(min, 1, offsetProgress));\n    }\n}\nfunction defaultOffset(length) {\n    const offset = [0];\n    fillOffset(offset, length - 1);\n    return offset;\n}\n\nexport { defaultOffset, fillOffset };\n","import { mix } from './mix.es.js';\nimport { noopReturn } from './noop.es.js';\nimport { fillOffset, defaultOffset } from './offset.es.js';\nimport { progress } from './progress.es.js';\nimport { getEasingForSegment } from './easing.es.js';\nimport { clamp } from './clamp.es.js';\n\nfunction interpolate(output, input = defaultOffset(output.length), easing = noopReturn) {\n    const length = output.length;\n    /**\n     * If the input length is lower than the output we\n     * fill the input to match. This currently assumes the input\n     * is an animation progress value so is a good candidate for\n     * moving outside the function.\n     */\n    const remainder = length - input.length;\n    remainder > 0 && fillOffset(input, remainder);\n    return (t) => {\n        let i = 0;\n        for (; i < length - 2; i++) {\n            if (t < input[i + 1])\n                break;\n        }\n        let progressInRange = clamp(0, 1, progress(input[i], input[i + 1], t));\n        const segmentEasing = getEasingForSegment(easing, i);\n        progressInRange = segmentEasing(progressInRange);\n        return mix(output[i], output[i + 1], progressInRange);\n    };\n}\n\nexport { interpolate };\n","const isFunction = (value) => typeof value === \"function\";\n\nexport { isFunction };\n","const isString = (value) => typeof value === \"string\";\n\nexport { isString };\n","/*\n  Convert velocity into velocity per second\n\n  @param [number]: Unit per frame\n  @param [number]: Frame duration in ms\n*/\nfunction velocityPerSecond(velocity, frameDuration) {\n    return frameDuration ? velocity * (1000 / frameDuration) : 0;\n}\n\nexport { velocityPerSecond };\n","function resolveElements(elements, selectorCache) {\n    var _a;\n    if (typeof elements === \"string\") {\n        if (selectorCache) {\n            (_a = selectorCache[elements]) !== null && _a !== void 0 ? _a : (selectorCache[elements] = document.querySelectorAll(elements));\n            elements = selectorCache[elements];\n        }\n        else {\n            elements = document.querySelectorAll(elements);\n        }\n    }\n    else if (elements instanceof Element) {\n        elements = [elements];\n    }\n    /**\n     * Return an empty array\n     */\n    return Array.from(elements || []);\n}\n\nexport { resolveElements };\n","import { resolveElements } from '../../utils/resolve-elements.es.js';\n\nconst resizeHandlers = new WeakMap();\nlet observer;\nfunction getElementSize(target, borderBoxSize) {\n    if (borderBoxSize) {\n        const { inlineSize, blockSize } = borderBoxSize[0];\n        return { width: inlineSize, height: blockSize };\n    }\n    else if (target instanceof SVGElement && \"getBBox\" in target) {\n        return target.getBBox();\n    }\n    else {\n        return {\n            width: target.offsetWidth,\n            height: target.offsetHeight,\n        };\n    }\n}\nfunction notifyTarget({ target, contentRect, borderBoxSize, }) {\n    var _a;\n    (_a = resizeHandlers.get(target)) === null || _a === void 0 ? void 0 : _a.forEach((handler) => {\n        handler({\n            target,\n            contentSize: contentRect,\n            get size() {\n                return getElementSize(target, borderBoxSize);\n            },\n        });\n    });\n}\nfunction notifyAll(entries) {\n    entries.forEach(notifyTarget);\n}\nfunction createResizeObserver() {\n    if (typeof ResizeObserver === \"undefined\")\n        return;\n    observer = new ResizeObserver(notifyAll);\n}\nfunction resizeElement(target, handler) {\n    if (!observer)\n        createResizeObserver();\n    const elements = resolveElements(target);\n    elements.forEach((element) => {\n        let elementHandlers = resizeHandlers.get(element);\n        if (!elementHandlers) {\n            elementHandlers = new Set();\n            resizeHandlers.set(element, elementHandlers);\n        }\n        elementHandlers.add(handler);\n        observer === null || observer === void 0 ? void 0 : observer.observe(element);\n    });\n    return () => {\n        elements.forEach((element) => {\n            const elementHandlers = resizeHandlers.get(element);\n            elementHandlers === null || elementHandlers === void 0 ? void 0 : elementHandlers.delete(handler);\n            if (!(elementHandlers === null || elementHandlers === void 0 ? void 0 : elementHandlers.size)) {\n                observer === null || observer === void 0 ? void 0 : observer.unobserve(element);\n            }\n        });\n    };\n}\n\nexport { resizeElement };\n","const windowCallbacks = new Set();\nlet windowResizeHandler;\nfunction createWindowResizeHandler() {\n    windowResizeHandler = () => {\n        const size = {\n            width: window.innerWidth,\n            height: window.innerHeight,\n        };\n        const info = {\n            target: window,\n            size,\n            contentSize: size,\n        };\n        windowCallbacks.forEach((callback) => callback(info));\n    };\n    window.addEventListener(\"resize\", windowResizeHandler);\n}\nfunction resizeWindow(callback) {\n    windowCallbacks.add(callback);\n    if (!windowResizeHandler)\n        createWindowResizeHandler();\n    return () => {\n        windowCallbacks.delete(callback);\n        if (!windowCallbacks.size && windowResizeHandler) {\n            windowResizeHandler = undefined;\n        }\n    };\n}\n\nexport { resizeWindow };\n","import { resizeElement } from './handle-element.es.js';\nimport { resizeWindow } from './handle-window.es.js';\nimport { isFunction } from '@motionone/utils';\n\nfunction resize(a, b) {\n    return isFunction(a) ? resizeWindow(a) : resizeElement(a, b);\n}\n\nexport { resize };\n","import { progress, velocityPerSecond } from '@motionone/utils';\n\n/**\n * A time in milliseconds, beyond which we consider the scroll velocity to be 0.\n */\nconst maxElapsed = 50;\nconst createAxisInfo = () => ({\n    current: 0,\n    offset: [],\n    progress: 0,\n    scrollLength: 0,\n    targetOffset: 0,\n    targetLength: 0,\n    containerLength: 0,\n    velocity: 0,\n});\nconst createScrollInfo = () => ({\n    time: 0,\n    x: createAxisInfo(),\n    y: createAxisInfo(),\n});\nconst keys = {\n    x: {\n        length: \"Width\",\n        position: \"Left\",\n    },\n    y: {\n        length: \"Height\",\n        position: \"Top\",\n    },\n};\nfunction updateAxisInfo(element, axisName, info, time) {\n    const axis = info[axisName];\n    const { length, position } = keys[axisName];\n    const prev = axis.current;\n    const prevTime = info.time;\n    axis.current = element[\"scroll\" + position];\n    axis.scrollLength = element[\"scroll\" + length] - element[\"client\" + length];\n    axis.offset.length = 0;\n    axis.offset[0] = 0;\n    axis.offset[1] = axis.scrollLength;\n    axis.progress = progress(0, axis.scrollLength, axis.current);\n    const elapsed = time - prevTime;\n    axis.velocity =\n        elapsed > maxElapsed ? 0 : velocityPerSecond(axis.current - prev, elapsed);\n}\nfunction updateScrollInfo(element, info, time) {\n    updateAxisInfo(element, \"x\", info, time);\n    updateAxisInfo(element, \"y\", info, time);\n    info.time = time;\n}\n\nexport { createScrollInfo, updateScrollInfo };\n","function calcInset(element, container) {\n    let inset = { x: 0, y: 0 };\n    let current = element;\n    while (current && current !== container) {\n        if (current instanceof HTMLElement) {\n            inset.x += current.offsetLeft;\n            inset.y += current.offsetTop;\n            current = current.offsetParent;\n        }\n        else if (current instanceof SVGGraphicsElement && \"getBBox\" in current) {\n            const { top, left } = current.getBBox();\n            inset.x += left;\n            inset.y += top;\n            /**\n             * Assign the next parent element as the <svg /> tag.\n             */\n            while (current && current.tagName !== \"svg\") {\n                current = current.parentNode;\n            }\n        }\n    }\n    return inset;\n}\n\nexport { calcInset };\n","const ScrollOffset = {\n    Enter: [\n        [0, 1],\n        [1, 1],\n    ],\n    Exit: [\n        [0, 0],\n        [1, 0],\n    ],\n    Any: [\n        [1, 0],\n        [0, 1],\n    ],\n    All: [\n        [0, 0],\n        [1, 1],\n    ],\n};\n\nexport { ScrollOffset };\n","import { isString, isNumber } from '@motionone/utils';\n\nconst namedEdges = {\n    start: 0,\n    center: 0.5,\n    end: 1,\n};\nfunction resolveEdge(edge, length, inset = 0) {\n    let delta = 0;\n    /**\n     * If we have this edge defined as a preset, replace the definition\n     * with the numerical value.\n     */\n    if (namedEdges[edge] !== undefined) {\n        edge = namedEdges[edge];\n    }\n    /**\n     * Handle unit values\n     */\n    if (isString(edge)) {\n        const asNumber = parseFloat(edge);\n        if (edge.endsWith(\"px\")) {\n            delta = asNumber;\n        }\n        else if (edge.endsWith(\"%\")) {\n            edge = asNumber / 100;\n        }\n        else if (edge.endsWith(\"vw\")) {\n            delta = (asNumber / 100) * document.documentElement.clientWidth;\n        }\n        else if (edge.endsWith(\"vh\")) {\n            delta = (asNumber / 100) * document.documentElement.clientHeight;\n        }\n        else {\n            edge = asNumber;\n        }\n    }\n    /**\n     * If the edge is defined as a number, handle as a progress value.\n     */\n    if (isNumber(edge)) {\n        delta = length * edge;\n    }\n    return inset + delta;\n}\n\nexport { namedEdges, resolveEdge };\n","import { isNumber, isString } from '@motionone/utils';\nimport { resolveEdge, namedEdges } from './edge.es.js';\n\nconst defaultOffset = [0, 0];\nfunction resolveOffset(offset, containerLength, targetLength, targetInset) {\n    let offsetDefinition = Array.isArray(offset) ? offset : defaultOffset;\n    let targetPoint = 0;\n    let containerPoint = 0;\n    if (isNumber(offset)) {\n        /**\n         * If we're provided offset: [0, 0.5, 1] then each number x should become\n         * [x, x], so we default to the behaviour of mapping 0 => 0 of both target\n         * and container etc.\n         */\n        offsetDefinition = [offset, offset];\n    }\n    else if (isString(offset)) {\n        offset = offset.trim();\n        if (offset.includes(\" \")) {\n            offsetDefinition = offset.split(\" \");\n        }\n        else {\n            /**\n             * If we're provided a definition like \"100px\" then we want to apply\n             * that only to the top of the target point, leaving the container at 0.\n             * Whereas a named offset like \"end\" should be applied to both.\n             */\n            offsetDefinition = [offset, namedEdges[offset] ? offset : `0`];\n        }\n    }\n    targetPoint = resolveEdge(offsetDefinition[0], targetLength, targetInset);\n    containerPoint = resolveEdge(offsetDefinition[1], containerLength);\n    return targetPoint - containerPoint;\n}\n\nexport { resolveOffset };\n","import { interpolate, defaultOffset } from '@motionone/utils';\nimport { calcInset } from './inset.es.js';\nimport { ScrollOffset } from './presets.es.js';\nimport { resolveOffset } from './offset.es.js';\n\nconst point = { x: 0, y: 0 };\nfunction resolveOffsets(container, info, options) {\n    let { offset: offsetDefinition = ScrollOffset.All } = options;\n    const { target = container, axis = \"y\" } = options;\n    const lengthLabel = axis === \"y\" ? \"height\" : \"width\";\n    const inset = target !== container ? calcInset(target, container) : point;\n    /**\n     * Measure the target and container. If they're the same thing then we\n     * use the container's scrollWidth/Height as the target, from there\n     * all other calculations can remain the same.\n     */\n    const targetSize = target === container\n        ? { width: container.scrollWidth, height: container.scrollHeight }\n        : { width: target.clientWidth, height: target.clientHeight };\n    const containerSize = {\n        width: container.clientWidth,\n        height: container.clientHeight,\n    };\n    /**\n     * Reset the length of the resolved offset array rather than creating a new one.\n     * TODO: More reusable data structures for targetSize/containerSize would also be good.\n     */\n    info[axis].offset.length = 0;\n    /**\n     * Populate the offset array by resolving the user's offset definition into\n     * a list of pixel scroll offets.\n     */\n    let hasChanged = !info[axis].interpolate;\n    const numOffsets = offsetDefinition.length;\n    for (let i = 0; i < numOffsets; i++) {\n        const offset = resolveOffset(offsetDefinition[i], containerSize[lengthLabel], targetSize[lengthLabel], inset[axis]);\n        if (!hasChanged && offset !== info[axis].interpolatorOffsets[i]) {\n            hasChanged = true;\n        }\n        info[axis].offset[i] = offset;\n    }\n    /**\n     * If the pixel scroll offsets have changed, create a new interpolator function\n     * to map scroll value into a progress.\n     */\n    if (hasChanged) {\n        info[axis].interpolate = interpolate(defaultOffset(numOffsets), info[axis].offset);\n        info[axis].interpolatorOffsets = [...info[axis].offset];\n    }\n    info[axis].progress = info[axis].interpolate(info[axis].current);\n}\n\nexport { resolveOffsets };\n","import { isFunction, noopReturn } from '@motionone/utils';\nimport { updateScrollInfo } from './info.es.js';\nimport { resolveOffsets } from './offsets/index.es.js';\n\nfunction measure(container, target = container, info) {\n    /**\n     * Find inset of target within scrollable container\n     */\n    info.x.targetOffset = 0;\n    info.y.targetOffset = 0;\n    if (target !== container) {\n        let node = target;\n        while (node && node != container) {\n            info.x.targetOffset += node.offsetLeft;\n            info.y.targetOffset += node.offsetTop;\n            node = node.offsetParent;\n        }\n    }\n    info.x.targetLength =\n        target === container ? target.scrollWidth : target.clientWidth;\n    info.y.targetLength =\n        target === container ? target.scrollHeight : target.clientHeight;\n    info.x.containerLength = container.clientWidth;\n    info.y.containerLength = container.clientHeight;\n}\nfunction createOnScrollHandler(element, onScroll, info, options = {}) {\n    const axis = options.axis || \"y\";\n    return {\n        measure: () => measure(element, options.target, info),\n        update: (time) => {\n            updateScrollInfo(element, info, time);\n            if (options.offset || options.target) {\n                resolveOffsets(element, info, options);\n            }\n        },\n        notify: isFunction(onScroll)\n            ? () => onScroll(info)\n            : scrubAnimation(onScroll, info[axis]),\n    };\n}\nfunction scrubAnimation(controls, axisInfo) {\n    controls.pause();\n    controls.forEachNative((animation, { easing }) => {\n        var _a, _b;\n        if (animation.updateDuration) {\n            if (!easing)\n                animation.easing = noopReturn;\n            animation.updateDuration(1);\n        }\n        else {\n            const timingOptions = { duration: 1000 };\n            if (!easing)\n                timingOptions.easing = \"linear\";\n            (_b = (_a = animation.effect) === null || _a === void 0 ? void 0 : _a.updateTiming) === null || _b === void 0 ? void 0 : _b.call(_a, timingOptions);\n        }\n    });\n    return () => {\n        controls.currentTime = axisInfo.progress;\n    };\n}\n\nexport { createOnScrollHandler };\n","import { __rest } from 'tslib';\nimport { resize } from '../resize/index.es.js';\nimport { createScrollInfo } from './info.es.js';\nimport { createOnScrollHandler } from './on-scroll-handler.es.js';\n\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\nconst getEventTarget = (element) => element === document.documentElement ? window : element;\nfunction scroll(onScroll, _a = {}) {\n    var { container = document.documentElement } = _a, options = __rest(_a, [\"container\"]);\n    let containerHandlers = onScrollHandlers.get(container);\n    /**\n     * Get the onScroll handlers for this container.\n     * If one isn't found, create a new one.\n     */\n    if (!containerHandlers) {\n        containerHandlers = new Set();\n        onScrollHandlers.set(container, containerHandlers);\n    }\n    /**\n     * Create a new onScroll handler for the provided callback.\n     */\n    const info = createScrollInfo();\n    const containerHandler = createOnScrollHandler(container, onScroll, info, options);\n    containerHandlers.add(containerHandler);\n    /**\n     * Check if there's a scroll event listener for this container.\n     * If not, create one.\n     */\n    if (!scrollListeners.has(container)) {\n        const listener = () => {\n            const time = performance.now();\n            for (const handler of containerHandlers)\n                handler.measure();\n            for (const handler of containerHandlers)\n                handler.update(time);\n            for (const handler of containerHandlers)\n                handler.notify();\n        };\n        scrollListeners.set(container, listener);\n        const target = getEventTarget(container);\n        window.addEventListener(\"resize\", listener, { passive: true });\n        if (container !== document.documentElement) {\n            resizeListeners.set(container, resize(container, listener));\n        }\n        target.addEventListener(\"scroll\", listener, { passive: true });\n    }\n    const listener = scrollListeners.get(container);\n    const onLoadProcesss = requestAnimationFrame(listener);\n    return () => {\n        var _a;\n        if (typeof onScroll !== \"function\")\n            onScroll.stop();\n        cancelAnimationFrame(onLoadProcesss);\n        /**\n         * Check if we even have any handlers for this container.\n         */\n        const containerHandlers = onScrollHandlers.get(container);\n        if (!containerHandlers)\n            return;\n        containerHandlers.delete(containerHandler);\n        if (containerHandlers.size)\n            return;\n        /**\n         * If no more handlers, remove the scroll listener too.\n         */\n        const listener = scrollListeners.get(container);\n        scrollListeners.delete(container);\n        if (listener) {\n            getEventTarget(container).removeEventListener(\"scroll\", listener);\n            (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\n            window.removeEventListener(\"resize\", listener);\n        }\n    };\n}\n\nexport { scroll };\n","import { scroll } from '@motionone/dom';\nimport { motionValue } from './index.mjs';\nimport { useConstant } from '../utils/use-constant.mjs';\nimport { useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '../utils/use-isomorphic-effect.mjs';\n\nconst createScrollMotionValues = () => ({\n    scrollX: motionValue(0),\n    scrollY: motionValue(0),\n    scrollXProgress: motionValue(0),\n    scrollYProgress: motionValue(0),\n});\nfunction useScroll({ container, target, layoutEffect = true, ...options } = {}) {\n    const values = useConstant(createScrollMotionValues);\n    const useLifecycleEffect = layoutEffect\n        ? useIsomorphicLayoutEffect\n        : useEffect;\n    useLifecycleEffect(() => {\n        return scroll(({ x, y }) => {\n            values.scrollX.set(x.current);\n            values.scrollXProgress.set(x.progress);\n            values.scrollY.set(y.current);\n            values.scrollYProgress.set(y.progress);\n        }, {\n            ...options,\n            container: (container === null || container === void 0 ? void 0 : container.current) || undefined,\n            target: (target === null || target === void 0 ? void 0 : target.current) || undefined,\n        });\n    }, []);\n    return values;\n}\n\nexport { useScroll };\n"],"names":["isCustomValueType","__name","v","getMixer","transform","args","useImmediate","argOffset","inputValue","inputRange","outputRange","options","interpolator","interpolate","useTransform","input","inputRangeOrTransformer","transformer","useListTransform","latest","values","useConstant","useCombineMotionValues","numValues","i","clamp","min","max","isNumber","value","isEasingList","easing","wrap","rangeSize","getEasingForSegment","mix","progress","noopReturn","fillOffset","offset","remaining","offsetProgress","defaultOffset","length","output","remainder","t","progressInRange","isFunction","isString","velocityPerSecond","velocity","frameDuration","resolveElements","elements","selectorCache","_a","resizeHandlers","observer","getElementSize","target","borderBoxSize","inlineSize","blockSize","notifyTarget","contentRect","handler","notifyAll","entries","createResizeObserver","resizeElement","element","elementHandlers","windowCallbacks","windowResizeHandler","createWindowResizeHandler","size","info","callback","resizeWindow","resize","a","b","maxElapsed","createAxisInfo","createScrollInfo","keys","updateAxisInfo","axisName","time","axis","position","prev","prevTime","elapsed","updateScrollInfo","calcInset","container","inset","current","top","left","ScrollOffset","namedEdges","resolveEdge","edge","delta","asNumber","resolveOffset","containerLength","targetLength","targetInset","offsetDefinition","targetPoint","containerPoint","point","resolveOffsets","lengthLabel","targetSize","containerSize","hasChanged","numOffsets","measure","node","createOnScrollHandler","onScroll","scrubAnimation","controls","axisInfo","animation","_b","timingOptions","scrollListeners","resizeListeners","onScrollHandlers","getEventTarget","scroll","__rest","containerHandlers","containerHandler","listener","onLoadProcesss","createScrollMotionValues","motionValue","useScroll","layoutEffect","useIsomorphicLayoutEffect","useEffect","x","y"],"mappings":"+QAEA,MAAMA,EAAoBC,EAACC,GAChB,OAAOA,GAAM,UAAYA,EAAE,IADZ,qBAGpBC,EAAWF,EAACC,GAAOF,EAAkBE,CAAC,EAAIA,EAAE,IAAM,OAAvC,YACjB,SAASE,KAAaC,EAAM,CACxB,MAAMC,EAAe,CAAC,MAAM,QAAQD,EAAK,EAAE,EACrCE,EAAYD,EAAe,EAAI,GAC/BE,EAAaH,EAAK,EAAIE,GACtBE,EAAaJ,EAAK,EAAIE,GACtBG,EAAcL,EAAK,EAAIE,GACvBI,EAAUN,EAAK,EAAIE,GACnBK,EAAeC,EAAYJ,EAAYC,EAAa,CACtD,MAAOP,EAASO,EAAY,EAAE,EAC9B,GAAGC,CACX,CAAK,EACD,OAAOL,EAAeM,EAAaJ,CAAU,EAAII,CACrD,CAZSX,EAAAG,EAAA,aCFT,SAASU,GAAaC,EAAOC,EAAyBN,EAAaC,EAAS,CACxE,MAAMM,EAAc,OAAOD,GAA4B,WACjDA,EACAZ,EAAUY,EAAyBN,EAAaC,CAAO,EAC7D,OAAO,MAAM,QAAQI,CAAK,EACpBG,EAAiBH,EAAOE,CAAW,EACnCC,EAAiB,CAACH,CAAK,EAAG,CAAC,CAACI,CAAM,IAAMF,EAAYE,CAAM,CAAC,CACrE,CAPSlB,EAAAa,GAAA,gBAQT,SAASI,EAAiBE,EAAQH,EAAa,CAC3C,MAAME,EAASE,EAAY,IAAM,CAAA,CAAE,EACnC,OAAOC,EAAuBF,EAAQ,IAAM,CACxCD,EAAO,OAAS,EAChB,MAAMI,EAAYH,EAAO,OACzB,QAASI,EAAI,EAAGA,EAAID,EAAWC,IAC3BL,EAAOK,GAAKJ,EAAOI,GAAG,IAAG,EAE7B,OAAOP,EAAYE,CAAM,CACjC,CAAK,CACL,CAVSlB,EAAAiB,EAAA,oBCZT,MAAMO,EAAQxB,EAAA,CAACyB,EAAKC,EAAKzB,IAAM,KAAK,IAAI,KAAK,IAAIA,EAAGwB,CAAG,EAAGC,CAAG,EAA/C,SCARC,EAAW3B,EAAC4B,GAAU,OAAOA,GAAU,SAA5B,YCEXC,EAAe7B,EAAC8B,GAAW,MAAM,QAAQA,CAAM,GAAK,CAACH,EAASG,EAAO,EAAE,EAAxD,gBCFfC,EAAO/B,EAAA,CAACyB,EAAKC,EAAKzB,IAAM,CAC1B,MAAM+B,EAAYN,EAAMD,EACxB,QAAWxB,EAAIwB,GAAOO,EAAaA,GAAaA,EAAaP,CACjE,EAHa,QCGb,SAASQ,EAAoBH,EAAQP,EAAG,CACpC,OAAOM,EAAaC,CAAM,EACpBA,EAAOC,EAAK,EAAGD,EAAO,OAAQP,CAAC,GAC/BO,CACV,CAJS9B,EAAAiC,EAAA,uBCHT,MAAMC,EAAMlC,EAAA,CAACyB,EAAKC,EAAKS,IAAa,CAACA,EAAWV,EAAMU,EAAWT,EAAMD,EAA3D,OCCNW,EAAapC,EAACC,GAAMA,EAAP,cCDbkC,EAAWnC,EAAA,CAACyB,EAAKC,EAAKE,IAAUF,EAAMD,IAAQ,EAAI,GAAKG,EAAQH,IAAQC,EAAMD,GAAlE,YCGjB,SAASY,EAAWC,EAAQC,EAAW,CACnC,MAAMd,EAAMa,EAAOA,EAAO,OAAS,GACnC,QAASf,EAAI,EAAGA,GAAKgB,EAAWhB,IAAK,CACjC,MAAMiB,EAAiBL,EAAS,EAAGI,EAAWhB,CAAC,EAC/Ce,EAAO,KAAKJ,EAAIT,EAAK,EAAGe,CAAc,CAAC,CAC1C,CACL,CANSxC,EAAAqC,EAAA,cAOT,SAASI,EAAcC,EAAQ,CAC3B,MAAMJ,EAAS,CAAC,CAAC,EACjB,OAAAD,EAAWC,EAAQI,EAAS,CAAC,EACtBJ,CACX,CAJSG,EAAAA,EAAAA,mBCHT,SAAS7B,EAAY+B,EAAQ7B,EAAQ2B,EAAcE,EAAO,MAAM,EAAGb,EAASM,EAAY,CACpF,MAAMM,EAASC,EAAO,OAOhBC,EAAYF,EAAS5B,EAAM,OACjC,OAAA8B,EAAY,GAAKP,EAAWvB,EAAO8B,CAAS,EACpCC,GAAM,CACV,IAAItB,EAAI,EACR,KAAOA,EAAImB,EAAS,GACZ,EAAAG,EAAI/B,EAAMS,EAAI,IADCA,IACnB,CAGJ,IAAIuB,EAAkBtB,EAAM,EAAG,EAAGW,EAASrB,EAAMS,GAAIT,EAAMS,EAAI,GAAIsB,CAAC,CAAC,EAErE,OAAAC,EADsBb,EAAoBH,EAAQP,CAAC,EACnBuB,CAAe,EACxCZ,EAAIS,EAAOpB,GAAIoB,EAAOpB,EAAI,GAAIuB,CAAe,CAC5D,CACA,CArBS9C,EAAAY,EAAA,eCPT,MAAMmC,EAAa/C,EAAC4B,GAAU,OAAOA,GAAU,WAA5B,cCAboB,EAAWhD,EAAC4B,GAAU,OAAOA,GAAU,SAA5B,YCMjB,SAASqB,EAAkBC,EAAUC,EAAe,CAChD,OAAOA,EAAgBD,GAAY,IAAOC,GAAiB,CAC/D,CAFSnD,EAAAiD,EAAA,qBCNT,SAASG,EAAgBC,EAAUC,EAAe,CAC9C,IAAIC,EACJ,OAAI,OAAOF,GAAa,SAChBC,IACCC,EAAKD,EAAcD,MAAe,MAAQE,IAAO,SAAeD,EAAcD,GAAY,SAAS,iBAAiBA,CAAQ,GAC7HA,EAAWC,EAAcD,IAGzBA,EAAW,SAAS,iBAAiBA,CAAQ,EAG5CA,aAAoB,UACzBA,EAAW,CAACA,CAAQ,GAKjB,MAAM,KAAKA,GAAY,CAAE,CAAA,CACpC,CAlBSrD,EAAAoD,EAAA,mBCET,MAAMI,EAAiB,IAAI,QAC3B,IAAIC,EACJ,SAASC,GAAeC,EAAQC,EAAe,CAC3C,GAAIA,EAAe,CACf,KAAM,CAAE,WAAAC,EAAY,UAAAC,CAAW,EAAGF,EAAc,GAChD,MAAO,CAAE,MAAOC,EAAY,OAAQC,CAAS,CAChD,KACI,QAAIH,aAAkB,YAAc,YAAaA,EAC3CA,EAAO,UAGP,CACH,MAAOA,EAAO,YACd,OAAQA,EAAO,YAC3B,CAEA,CAdS3D,EAAA0D,GAAA,kBAeT,SAASK,GAAa,CAAE,OAAAJ,EAAQ,YAAAK,EAAa,cAAAJ,CAAa,EAAK,CAC3D,IAAIL,GACHA,EAAKC,EAAe,IAAIG,CAAM,KAAO,MAAQJ,IAAO,QAAkBA,EAAG,QAASU,GAAY,CAC3FA,EAAQ,CACJ,OAAAN,EACA,YAAaK,EACb,IAAI,MAAO,CACP,OAAON,GAAeC,EAAQC,CAAa,CAC9C,CACb,CAAS,CACT,CAAK,CACL,CAXS5D,EAAA+D,GAAA,gBAYT,SAASG,GAAUC,EAAS,CACxBA,EAAQ,QAAQJ,EAAY,CAChC,CAFS/D,EAAAkE,GAAA,aAGT,SAASE,IAAuB,CACxB,OAAO,eAAmB,MAE9BX,EAAW,IAAI,eAAeS,EAAS,EAC3C,CAJSlE,EAAAoE,GAAA,wBAKT,SAASC,GAAcV,EAAQM,EAAS,CAC/BR,GACDW,KACJ,MAAMf,EAAWD,EAAgBO,CAAM,EACvC,OAAAN,EAAS,QAASiB,GAAY,CAC1B,IAAIC,EAAkBf,EAAe,IAAIc,CAAO,EAC3CC,IACDA,EAAkB,IAAI,IACtBf,EAAe,IAAIc,EAASC,CAAe,GAE/CA,EAAgB,IAAIN,CAAO,EAC3BR,GAAa,MAAuCA,EAAS,QAAQa,CAAO,CACpF,CAAK,EACM,IAAM,CACTjB,EAAS,QAASiB,GAAY,CAC1B,MAAMC,EAAkBf,EAAe,IAAIc,CAAO,EAClDC,GAAoB,MAA8CA,EAAgB,OAAON,CAAO,EAC1FM,GAAoB,MAA8CA,EAAgB,MACpFd,GAAa,MAAuCA,EAAS,UAAUa,CAAO,CAE9F,CAAS,CACT,CACA,CAtBStE,EAAAqE,GAAA,iBCvCT,MAAMG,EAAkB,IAAI,IAC5B,IAAIC,EACJ,SAASC,IAA4B,CACjCD,EAAsBzE,EAAA,IAAM,CACxB,MAAM2E,EAAO,CACT,MAAO,OAAO,WACd,OAAQ,OAAO,WAC3B,EACcC,EAAO,CACT,OAAQ,OACR,KAAAD,EACA,YAAaA,CACzB,EACQH,EAAgB,QAASK,GAAaA,EAASD,CAAI,CAAC,CAC5D,EAX0B,uBAYtB,OAAO,iBAAiB,SAAUH,CAAmB,CACzD,CAdSzE,EAAA0E,GAAA,6BAeT,SAASI,GAAaD,EAAU,CAC5B,OAAAL,EAAgB,IAAIK,CAAQ,EACvBJ,GACDC,KACG,IAAM,CACTF,EAAgB,OAAOK,CAAQ,EAC3B,CAACL,EAAgB,MAAQC,IACzBA,EAAsB,OAElC,CACA,CAVSzE,EAAA8E,GAAA,gBCbT,SAASC,GAAOC,EAAGC,EAAG,CAClB,OAAOlC,EAAWiC,CAAC,EAAIF,GAAaE,CAAC,EAAIX,GAAcW,EAAGC,CAAC,CAC/D,CAFSjF,EAAA+E,GAAA,UCCT,MAAMG,GAAa,GACbC,EAAiBnF,EAAA,KAAO,CAC1B,QAAS,EACT,OAAQ,CAAE,EACV,SAAU,EACV,aAAc,EACd,aAAc,EACd,aAAc,EACd,gBAAiB,EACjB,SAAU,CACd,GATuB,kBAUjBoF,GAAmBpF,EAAA,KAAO,CAC5B,KAAM,EACN,EAAGmF,EAAgB,EACnB,EAAGA,EAAgB,CACvB,GAJyB,oBAKnBE,GAAO,CACT,EAAG,CACC,OAAQ,QACR,SAAU,MACb,EACD,EAAG,CACC,OAAQ,SACR,SAAU,KACb,CACL,EACA,SAASC,EAAehB,EAASiB,EAAUX,EAAMY,EAAM,CACnD,MAAMC,EAAOb,EAAKW,GACZ,CAAE,OAAA7C,EAAQ,SAAAgD,CAAU,EAAGL,GAAKE,GAC5BI,EAAOF,EAAK,QACZG,EAAWhB,EAAK,KACtBa,EAAK,QAAUnB,EAAQ,SAAWoB,GAClCD,EAAK,aAAenB,EAAQ,SAAW5B,GAAU4B,EAAQ,SAAW5B,GACpE+C,EAAK,OAAO,OAAS,EACrBA,EAAK,OAAO,GAAK,EACjBA,EAAK,OAAO,GAAKA,EAAK,aACtBA,EAAK,SAAWtD,EAAS,EAAGsD,EAAK,aAAcA,EAAK,OAAO,EAC3D,MAAMI,EAAUL,EAAOI,EACvBH,EAAK,SACDI,EAAUX,GAAa,EAAIjC,EAAkBwC,EAAK,QAAUE,EAAME,CAAO,CACjF,CAdS7F,EAAAsF,EAAA,kBAeT,SAASQ,GAAiBxB,EAASM,EAAMY,EAAM,CAC3CF,EAAehB,EAAS,IAAKM,EAAMY,CAAI,EACvCF,EAAehB,EAAS,IAAKM,EAAMY,CAAI,EACvCZ,EAAK,KAAOY,CAChB,CAJSxF,EAAA8F,GAAA,oBC9CT,SAASC,GAAUzB,EAAS0B,EAAW,CACnC,IAAIC,EAAQ,CAAE,EAAG,EAAG,EAAG,CAAC,EACpBC,EAAU5B,EACd,KAAO4B,GAAWA,IAAYF,GAC1B,GAAIE,aAAmB,YACnBD,EAAM,GAAKC,EAAQ,WACnBD,EAAM,GAAKC,EAAQ,UACnBA,EAAUA,EAAQ,qBAEbA,aAAmB,oBAAsB,YAAaA,EAAS,CACpE,KAAM,CAAE,IAAAC,EAAK,KAAAC,CAAM,EAAGF,EAAQ,QAAO,EAMrC,IALAD,EAAM,GAAKG,EACXH,EAAM,GAAKE,EAIJD,GAAWA,EAAQ,UAAY,OAClCA,EAAUA,EAAQ,UAEzB,CAEL,OAAOD,CACX,CAtBSjG,EAAA+F,GAAA,aCAT,MAAMM,GAAe,CACjB,MAAO,CACH,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CACR,EACD,KAAM,CACF,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CACR,EACD,IAAK,CACD,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CACR,EACD,IAAK,CACD,CAAC,EAAG,CAAC,EACL,CAAC,EAAG,CAAC,CACR,CACL,ECfMC,EAAa,CACf,MAAO,EACP,OAAQ,GACR,IAAK,CACT,EACA,SAASC,EAAYC,EAAM9D,EAAQuD,EAAQ,EAAG,CAC1C,IAAIQ,EAAQ,EAWZ,GANIH,EAAWE,KAAU,SACrBA,EAAOF,EAAWE,IAKlBxD,EAASwD,CAAI,EAAG,CAChB,MAAME,EAAW,WAAWF,CAAI,EAC5BA,EAAK,SAAS,IAAI,EAClBC,EAAQC,EAEHF,EAAK,SAAS,GAAG,EACtBA,EAAOE,EAAW,IAEbF,EAAK,SAAS,IAAI,EACvBC,EAASC,EAAW,IAAO,SAAS,gBAAgB,YAE/CF,EAAK,SAAS,IAAI,EACvBC,EAASC,EAAW,IAAO,SAAS,gBAAgB,aAGpDF,EAAOE,CAEd,CAID,OAAI/E,EAAS6E,CAAI,IACbC,EAAQ/D,EAAS8D,GAEdP,EAAQQ,CACnB,CArCSzG,EAAAuG,EAAA,eCJT,MAAM9D,GAAgB,CAAC,EAAG,CAAC,EAC3B,SAASkE,GAAcrE,EAAQsE,EAAiBC,EAAcC,EAAa,CACvE,IAAIC,EAAmB,MAAM,QAAQzE,CAAM,EAAIA,EAASG,GACpDuE,EAAc,EACdC,EAAiB,EACrB,OAAItF,EAASW,CAAM,EAMfyE,EAAmB,CAACzE,EAAQA,CAAM,EAE7BU,EAASV,CAAM,IACpBA,EAASA,EAAO,OACZA,EAAO,SAAS,GAAG,EACnByE,EAAmBzE,EAAO,MAAM,GAAG,EAQnCyE,EAAmB,CAACzE,EAAQgE,EAAWhE,GAAUA,EAAS,GAAG,GAGrE0E,EAAcT,EAAYQ,EAAiB,GAAIF,EAAcC,CAAW,EACxEG,EAAiBV,EAAYQ,EAAiB,GAAIH,CAAe,EAC1DI,EAAcC,CACzB,CA7BSjH,EAAA2G,GAAA,iBCCT,MAAMO,GAAQ,CAAE,EAAG,EAAG,EAAG,CAAC,EAC1B,SAASC,GAAenB,EAAWpB,EAAMlE,EAAS,CAC9C,GAAI,CAAE,OAAQqG,EAAmBV,GAAa,GAAG,EAAK3F,EACtD,KAAM,CAAE,OAAAiD,EAASqC,EAAW,KAAAP,EAAO,GAAG,EAAK/E,EACrC0G,EAAc3B,IAAS,IAAM,SAAW,QACxCQ,EAAQtC,IAAWqC,EAAYD,GAAUpC,EAAQqC,CAAS,EAAIkB,GAM9DG,EAAa1D,IAAWqC,EACxB,CAAE,MAAOA,EAAU,YAAa,OAAQA,EAAU,YAAc,EAChE,CAAE,MAAOrC,EAAO,YAAa,OAAQA,EAAO,cAC5C2D,EAAgB,CAClB,MAAOtB,EAAU,YACjB,OAAQA,EAAU,YAC1B,EAKIpB,EAAKa,GAAM,OAAO,OAAS,EAK3B,IAAI8B,EAAa,CAAC3C,EAAKa,GAAM,YAC7B,MAAM+B,EAAaT,EAAiB,OACpC,QAASxF,EAAI,EAAGA,EAAIiG,EAAYjG,IAAK,CACjC,MAAMe,EAASqE,GAAcI,EAAiBxF,GAAI+F,EAAcF,GAAcC,EAAWD,GAAcnB,EAAMR,EAAK,EAC9G,CAAC8B,GAAcjF,IAAWsC,EAAKa,GAAM,oBAAoBlE,KACzDgG,EAAa,IAEjB3C,EAAKa,GAAM,OAAOlE,GAAKe,CAC1B,CAKGiF,IACA3C,EAAKa,GAAM,YAAc7E,EAAY6B,EAAc+E,CAAU,EAAG5C,EAAKa,GAAM,MAAM,EACjFb,EAAKa,GAAM,oBAAsB,CAAC,GAAGb,EAAKa,GAAM,MAAM,GAE1Db,EAAKa,GAAM,SAAWb,EAAKa,GAAM,YAAYb,EAAKa,GAAM,OAAO,CACnE,CA5CSzF,EAAAmH,GAAA,kBCFT,SAASM,GAAQzB,EAAWrC,EAASqC,EAAWpB,EAAM,CAMlD,GAFAA,EAAK,EAAE,aAAe,EACtBA,EAAK,EAAE,aAAe,EAClBjB,IAAWqC,EAAW,CACtB,IAAI0B,EAAO/D,EACX,KAAO+D,GAAQA,GAAQ1B,GACnBpB,EAAK,EAAE,cAAgB8C,EAAK,WAC5B9C,EAAK,EAAE,cAAgB8C,EAAK,UAC5BA,EAAOA,EAAK,YAEnB,CACD9C,EAAK,EAAE,aACHjB,IAAWqC,EAAYrC,EAAO,YAAcA,EAAO,YACvDiB,EAAK,EAAE,aACHjB,IAAWqC,EAAYrC,EAAO,aAAeA,EAAO,aACxDiB,EAAK,EAAE,gBAAkBoB,EAAU,YACnCpB,EAAK,EAAE,gBAAkBoB,EAAU,YACvC,CApBShG,EAAAyH,GAAA,WAqBT,SAASE,GAAsBrD,EAASsD,EAAUhD,EAAMlE,EAAU,CAAA,EAAI,CAClE,MAAM+E,EAAO/E,EAAQ,MAAQ,IAC7B,MAAO,CACH,QAAS,IAAM+G,GAAQnD,EAAS5D,EAAQ,OAAQkE,CAAI,EACpD,OAASY,GAAS,CACdM,GAAiBxB,EAASM,EAAMY,CAAI,GAChC9E,EAAQ,QAAUA,EAAQ,SAC1ByG,GAAe7C,EAASM,EAAMlE,CAAO,CAE5C,EACD,OAAQqC,EAAW6E,CAAQ,EACrB,IAAMA,EAAShD,CAAI,EACnBiD,GAAeD,EAAUhD,EAAKa,EAAK,CACjD,CACA,CAdSzF,EAAA2H,GAAA,yBAeT,SAASE,GAAeC,EAAUC,EAAU,CACxC,OAAAD,EAAS,MAAK,EACdA,EAAS,cAAc,CAACE,EAAW,CAAE,OAAAlG,CAAM,IAAO,CAC9C,IAAIyB,EAAI0E,EACR,GAAID,EAAU,eACLlG,IACDkG,EAAU,OAAS5F,GACvB4F,EAAU,eAAe,CAAC,MAEzB,CACD,MAAME,EAAgB,CAAE,SAAU,KAC7BpG,IACDoG,EAAc,OAAS,WAC1BD,GAAM1E,EAAKyE,EAAU,UAAY,MAAQzE,IAAO,OAAS,OAASA,EAAG,gBAAkB,MAAQ0E,IAAO,QAAkBA,EAAG,KAAK1E,EAAI2E,CAAa,CACrJ,CACT,CAAK,EACM,IAAM,CACTJ,EAAS,YAAcC,EAAS,QACxC,CACA,CAnBS/H,EAAA6H,GAAA,kBCnCT,MAAMM,EAAkB,IAAI,QACtBC,EAAkB,IAAI,QACtBC,EAAmB,IAAI,QACvBC,EAAiBtI,EAACsE,GAAYA,IAAY,SAAS,gBAAkB,OAASA,EAA7D,kBACvB,SAASiE,GAAOX,EAAUrE,EAAK,GAAI,CAC/B,GAAI,CAAE,UAAAyC,EAAY,SAAS,iBAAoBzC,EAAI7C,EAAU8H,iBAAOjF,EAAI,CAAC,WAAW,CAAC,EACrF,IAAIkF,EAAoBJ,EAAiB,IAAIrC,CAAS,EAKjDyC,IACDA,EAAoB,IAAI,IACxBJ,EAAiB,IAAIrC,EAAWyC,CAAiB,GAKrD,MAAM7D,EAAOQ,KACPsD,EAAmBf,GAAsB3B,EAAW4B,EAAUhD,EAAMlE,CAAO,EAMjF,GALA+H,EAAkB,IAAIC,CAAgB,EAKlC,CAACP,EAAgB,IAAInC,CAAS,EAAG,CACjC,MAAM2C,EAAW3I,EAAA,IAAM,CACnB,MAAMwF,EAAO,YAAY,MACzB,UAAWvB,KAAWwE,EAClBxE,EAAQ,QAAO,EACnB,UAAWA,KAAWwE,EAClBxE,EAAQ,OAAOuB,CAAI,EACvB,UAAWvB,KAAWwE,EAClBxE,EAAQ,OAAM,CAC9B,EARyB,YASjBkE,EAAgB,IAAInC,EAAW2C,CAAQ,EACvC,MAAMhF,EAAS2E,EAAetC,CAAS,EACvC,OAAO,iBAAiB,SAAU2C,EAAU,CAAE,QAAS,EAAI,CAAE,EACzD3C,IAAc,SAAS,iBACvBoC,EAAgB,IAAIpC,EAAWjB,GAAOiB,EAAW2C,CAAQ,CAAC,EAE9DhF,EAAO,iBAAiB,SAAUgF,EAAU,CAAE,QAAS,EAAI,CAAE,CAChE,CACD,MAAMA,EAAWR,EAAgB,IAAInC,CAAS,EACxC4C,EAAiB,sBAAsBD,CAAQ,EACrD,MAAO,IAAM,CACT,IAAIpF,EACA,OAAOqE,GAAa,YACpBA,EAAS,KAAI,EACjB,qBAAqBgB,CAAc,EAInC,MAAMH,EAAoBJ,EAAiB,IAAIrC,CAAS,EAIxD,GAHI,CAACyC,IAELA,EAAkB,OAAOC,CAAgB,EACrCD,EAAkB,MAClB,OAIJ,MAAME,EAAWR,EAAgB,IAAInC,CAAS,EAC9CmC,EAAgB,OAAOnC,CAAS,EAC5B2C,IACAL,EAAetC,CAAS,EAAE,oBAAoB,SAAU2C,CAAQ,GAC/DpF,EAAK6E,EAAgB,IAAIpC,CAAS,KAAO,MAAQzC,IAAO,QAAkBA,EAAE,EAC7E,OAAO,oBAAoB,SAAUoF,CAAQ,EAEzD,CACA,CAlES3I,EAAAuI,GAAA,UCHT,MAAMM,GAA2B7I,EAAA,KAAO,CACpC,QAAS8I,EAAY,CAAC,EACtB,QAASA,EAAY,CAAC,EACtB,gBAAiBA,EAAY,CAAC,EAC9B,gBAAiBA,EAAY,CAAC,CAClC,GALiC,4BAMjC,SAASC,GAAU,CAAE,UAAA/C,EAAW,OAAArC,EAAQ,aAAAqF,EAAe,MAAStI,CAAS,EAAG,GAAI,CAC5E,MAAMS,EAASC,EAAYyH,EAAwB,EAInD,OAH2BG,EACrBC,EACAC,qBACa,IACRX,GAAO,CAAC,CAAE,EAAAY,EAAG,EAAAC,CAAC,IAAO,CACxBjI,EAAO,QAAQ,IAAIgI,EAAE,OAAO,EAC5BhI,EAAO,gBAAgB,IAAIgI,EAAE,QAAQ,EACrChI,EAAO,QAAQ,IAAIiI,EAAE,OAAO,EAC5BjI,EAAO,gBAAgB,IAAIiI,EAAE,QAAQ,CACjD,EAAW,CACC,GAAG1I,EACH,WAAYsF,GAAc,KAA+B,OAASA,EAAU,UAAY,OACxF,QAASrC,GAAW,KAA4B,OAASA,EAAO,UAAY,MACxF,CAAS,EACF,CAAE,CAAA,EACExC,CACX,CAlBSnB,EAAA+I,GAAA"}